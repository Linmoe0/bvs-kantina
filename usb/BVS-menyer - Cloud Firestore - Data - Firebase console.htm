<!DOCTYPE html>
<html lang="en" style="color-scheme: dark;"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>BVS-menyer - Cloud Firestore - Data - Firebase console</title><link href="https://fonts.googleapis.com/" rel="preconnect" crossorigin="use-credentials"><link href="https://mobilesdk-pa.clients6.google.com/" rel="preconnect" crossorigin="use-credentials"><link href="https://firebase.clients6.google.com/" rel="preconnect" crossorigin="use-credentials"><link href="https://cloudresourcemanager.clients6.google.com/" rel="preconnect" crossorigin="use-credentials"><link href="https://cloudusersettings-pa.clients6.google.com/" rel="preconnect" crossorigin="use-credentials"><link href="https://apis.google.com/" rel="dns-prefetch"><link href="https://www.gstatic.com/" rel="dns-prefetch"><link href="https://www.googletagmanager.com/" rel="dns-prefetch"><link href="https://firebaselogging.googleapis.com/" rel="dns-prefetch"><link href="https://play.google.com/log?format=json&amp;hasfast=true" rel="dns-prefetch"><meta name="description" content="Firebase is a mobile platform that helps you quickly develop high-quality apps, grow your user base, and earn more money."><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="theme-color" content="#ffffff"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Firebase Console"><link rel="icon" sizes="192x192" href="https://www.gstatic.com/mobilesdk/160503_mobilesdk/logo/2x/firebase_96dp.png"><link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://www.gstatic.com/mobilesdk/160503_mobilesdk/logo/ios/2x/firebase_color_ios_61in76dp.png"><link rel="shortcut icon" href="https://www.gstatic.com/mobilesdk/160503_mobilesdk/logo/favicon.ico"><link rel="stylesheet" data-id="_cl" href="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/m=b.css" nonce=""><style nonce="">@font-face{font-family:'Google Sans';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UaGrENHsxJlGDuGo1OIlL3Kwp5MKg.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UaGrENHsxJlGDuGo1OIlL3Nwp5MKg.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UaGrENHsxJlGDuGo1OIlL3Bwp5MKg.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UaGrENHsxJlGDuGo1OIlL3Awp5MKg.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UaGrENHsxJlGDuGo1OIlL3Owp4.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UabrENHsxJlGDuGo1OIlLU94Yt3CwZ-Pw.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UabrENHsxJlGDuGo1OIlLU94YtwCwZ-Pw.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UabrENHsxJlGDuGo1OIlLU94Yt8CwZ-Pw.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UabrENHsxJlGDuGo1OIlLU94Yt9CwZ-Pw.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UabrENHsxJlGDuGo1OIlLV154t3CwZ-Pw.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UabrENHsxJlGDuGo1OIlLV154twCwZ-Pw.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UabrENHsxJlGDuGo1OIlLV154t8CwZ-Pw.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UabrENHsxJlGDuGo1OIlLV154t9CwZ-Pw.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Google Sans';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/googlesans/v16/4UabrENHsxJlGDuGo1OIlLV154tzCwY.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Product Sans';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/productsans/v9/pxiDypQkot1TnFhsFMOfGShVGdeOcEg.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Product Sans';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/productsans/v9/pxiDypQkot1TnFhsFMOfGShVF9eO.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face {
  font-family: 'Material Icons Extended';
  font-style: normal;
  font-weight: 400;
  font-display: block;
  src: url(//fonts.gstatic.com/s/materialiconsextended/v149/kJEjBvgX7BgnkSrUwT8UnLVc38YydejYY-oE_LvM.ttf) format('truetype');
}
@font-face{font-family:'Google Material Icons';font-style:normal;font-weight:400;font-display:block;src:url(//fonts.gstatic.com/s/googlematerialicons/v137/Gw6kwdfw6UnXLJCcmafZyFRXb3BL9rvi0QZG3Q.woff2)format('woff2');}.google-material-icons{font-family:'Google Material Icons';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-moz-font-feature-settings:'liga';-moz-osx-font-smoothing:grayscale;}@font-face{font-family:'Google Symbols';font-style:normal;font-weight:400;font-display:block;src:url(//fonts.gstatic.com/s/googlesymbols/v231/HhzZU5Ak9u-oMExPeInvcuEmPosC9zyteYEFU68cPrjdKM1XLPTxlGmzczpgWvF1SbxVhQidBnv_C_ar1J9g0sLBUv3G8taXmA.woff2)format('woff2');}.google-symbols{font-family:'Google Symbols';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-moz-font-feature-settings:'liga';-moz-osx-font-smoothing:grayscale;}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOkCnqEu92Fr1Mu51xFIzIFKw.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOkCnqEu92Fr1Mu51xMIzIFKw.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOkCnqEu92Fr1Mu51xEIzIFKw.woff2)format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOkCnqEu92Fr1Mu51xLIzIFKw.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOkCnqEu92Fr1Mu51xHIzIFKw.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOkCnqEu92Fr1Mu51xGIzIFKw.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOkCnqEu92Fr1Mu51xIIzI.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOjCnqEu92Fr1Mu51S7ACc3CsTKlA.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOjCnqEu92Fr1Mu51S7ACc-CsTKlA.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOjCnqEu92Fr1Mu51S7ACc2CsTKlA.woff2)format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOjCnqEu92Fr1Mu51S7ACc5CsTKlA.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOjCnqEu92Fr1Mu51S7ACc1CsTKlA.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOjCnqEu92Fr1Mu51S7ACc0CsTKlA.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOjCnqEu92Fr1Mu51S7ACc6CsQ.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmSU5fCRc4EsA.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmSU5fABc4EsA.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmSU5fCBc4EsA.woff2)format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmSU5fBxc4EsA.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmSU5fCxc4EsA.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmSU5fChc4EsA.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmSU5fBBc4.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu72xKOzY.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu5mxKOzY.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu7mxKOzY.woff2)format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4WxKOzY.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu7WxKOzY.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu7GxKOzY.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxK.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmEU9fCRc4EsA.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmEU9fABc4EsA.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmEU9fCBc4EsA.woff2)format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmEU9fBxc4EsA.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmEU9fCxc4EsA.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmEU9fChc4EsA.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmEU9fBBc4.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmWUlfCRc4EsA.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmWUlfABc4EsA.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmWUlfCBc4EsA.woff2)format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmWUlfBxc4EsA.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmWUlfCxc4EsA.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmWUlfChc4EsA.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/roboto/v18/KFOlCnqEu92Fr1MmWUlfBBc4.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSV0mf0h.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSx0mf0h.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSt0mf0h.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSd0mf0h.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSZ0mf0h.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSh0mQ.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSV0mf0h.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSx0mf0h.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSt0mf0h.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSd0mf0h.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSZ0mf0h.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:500;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSh0mQ.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSV0mf0h.woff2)format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSx0mf0h.woff2)format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSt0mf0h.woff2)format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSd0mf0h.woff2)format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSZ0mf0h.woff2)format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(//fonts.gstatic.com/s/robotomono/v22/L0xTDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vrtSM1J-gEPT5Ese6hmHSh0mQ.woff2)format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}</style><link rel="preload" href="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/m=b" as="script" nonce=""><script src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/cb=gapi.loaded_1" nonce="" async=""></script><script type="text/javascript" async="" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/analytics.js" nonce=""></script><script type="text/javascript" async="" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/js" nonce=""></script><script src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/cb=gapi.loaded_0" nonce="" async=""></script><script type="text/javascript" nonce="">;this.gbar_={CONFIG:[[[0,"www.gstatic.com","og.qtm.en_US.bzF-LaXn39U.2019.O","no","en","392",0,[4,2,".76.","","","587564648","0"],null,"v91yZZrLHrKWwPAP7vagsAY",null,0,"og.qtm.tOvbPKBHyB0.L.F4.O","AA2YrTtGj0ppAB9TeeShbTNSI3bE_iNr4Q","AA2YrTtGpvA4QxWjz3CFtEGdLEt7pEc9Mw","",2,1,200,"NOR",null,null,"392","392",1,null,null,132779230],null,[1,0.1000000014901161,2,1],null,[1,0,0,null,"0","linmoen05@gmail.com","","AIA20m50ezNxy6WznShFvULZuqTAimbT3fQLe1Y-N9IbnC37tE5ruLAcROztiB06WAC6Xa3XKfyERGru9qnQwIEqwCvIejNSfw",0,0,0],[0,1,"",1,0,0,0,0,0,0,null,0,0,null,0,0,null,null,0,0,0,"","","","","","",null,0,0,0,0,0,null,null,null,"rgba(32,33,36,1)","rgba(255,255,255,1)",0,0,0,null,null,1,0,0],["%1$s (default)","Brand account",1,"%1$s (delegated)",1,null,83,"/u/$session_index/project/bvs-menyer/firestore/data/~2Fmeny",null,null,null,1,"https://accounts.google.com/ListAccounts?listPages=0\u0026pid=392\u0026gpsia=1\u0026source=ogb\u0026atic=1\u0026mo=1\u0026mn=1\u0026hl=en\u0026ts=153",0,"dashboard",null,null,null,null,"Profile","",1,null,"Signed out","https://accounts.google.com/AccountChooser?source=ogb\u0026continue=$continue\u0026Email=$email\u0026ec=GAhAiAM","https://accounts.google.com/RemoveLocalAccount?source=ogb","Remove","Sign in",0,1,1,0,1,1,0,null,null,null,"Session expired",null,null,null,"Visitor",null,"Default","Delegated","Sign out of all accounts",0,null,null,0,null,null,"myaccount.google.com","https",0,1,0],null,["1","gci_91f30755d6a6b787dcc2a4062e6e9824.js","googleapis.client:gapi.iframes","0","en"],null,null,null,null,["m;/_/scs/abc-static/_/js/k=gapi.gapi.en.q86ihocu0HA.O/d=1/rs=AHpOoo9gC2cqySYcBh8kT9LMyuiwdwIYGQ/m=__features__","https://apis.google.com","","","1","",null,1,"es_plusone_gc_20231031.0_p2","en",null,0],[0.009999999776482582,"no","392",[null,"","0",null,1,5184000,null,null,"",null,null,null,null,null,0,null,1,null,1,0,0,0,null,null,0,0,null,0,0,0,0,0],null,null,null,0,null,null,["5061451","google\\.(com|ru|ca|by|kz|com\\.mx|com\\.tr)$",1]],[1,1,null,40400,392,"NOR","en","587564648.0",7,0.009999999776482582,1,0,null,null,null,null,"3700949,3701183,3701185",null,null,null,"v91yZZrLHrKWwPAP7vagsAY",0,0,0,null,2,5,"lu",32,0,0,1,1,1,132779230],[[null,null,null,"https://www.gstatic.com/og/_/js/k=og.qtm.en_US.bzF-LaXn39U.2019.O/rt=j/m=qgl,q_dnp,qmd,qcwid,qbg,qbd,qapid,qrcd,q_dg/exm=qaaw,qabr,qadd,qaid,qalo,qebr,qein,qhaw,qhawgm3,qhba,qhbr,qhbrgm3,qhch,qhchgm3,qhga,qhid,qhidgm3,qhin,qhlo,qhlogm3,qhmn,qhpc,qhsf,qhsfgm3,qhtt/d=1/ed=1/rs=AA2YrTtGj0ppAB9TeeShbTNSI3bE_iNr4Q"],[null,null,null,"https://www.gstatic.com/og/_/ss/k=og.qtm.tOvbPKBHyB0.L.F4.O/m=qmd,qcwid/excm=qaaw,qabr,qadd,qaid,qalo,qebr,qein,qhaw,qhawgm3,qhba,qhbr,qhbrgm3,qhch,qhchgm3,qhga,qhid,qhidgm3,qhin,qhlo,qhlogm3,qhmn,qhpc,qhsf,qhsfgm3,qhtt/d=1/ed=1/ct=zgms/rs=AA2YrTtGpvA4QxWjz3CFtEGdLEt7pEc9Mw"]],null,null,null,[[[null,null,[null,null,null,"https://ogs.google.com/u/0/widget/account?amf=1\u0026amb=1\u0026sea=1"],0,414,436,57,4,1,0,0,65,66,8000,"https://accounts.google.com/SignOutOptions?hl=en\u0026continue=https://console.firebase.google.com/project/bvs-menyer/firestore/data/~2Fmeny\u0026ec=GBRAiAM",68,2,null,null,1,113,"Something went wrong.%1$s Refresh to try again or %2$schoose another account%3$s.",3,null,null,75,0,null,null,null,null,null,null,null,"/widget/account",["https","myaccount.google.com",0,32,83,0],0,0,1,["Critical security alert","Important account alert"],0,1,null,1,1]],null,null,"392","392",1,0,null,"en",0,["/u/$session_index/project/bvs-menyer/firestore/data/~2Fmeny","https://accounts.google.com/AddSession?continue=https://console.firebase.google.com/\u0026ec=GAlAiAM","https://accounts.google.com/Logout?continue=https://firebase.google.com\u0026ec=GAdAiAM","https://accounts.google.com/ListAccounts?listPages=0\u0026pid=392\u0026gpsia=1\u0026source=ogb\u0026atic=1\u0026mo=1\u0026mn=1\u0026hl=en\u0026ts=153",0,0,"",0,0,null,0,0,"https://accounts.google.com/ServiceLogin?hl=en\u0026passive=true\u0026continue=https://console.firebase.google.com/project/bvs-menyer/firestore/data/~2Fmeny\u0026ec=GAZAiAM"],0,0,0,null,0],[300000,"/u/0","/u/0/_/gog/get","AIA20m50ezNxy6WznShFvULZuqTAimbT3fQLe1Y-N9IbnC37tE5ruLAcROztiB06WAC6Xa3XKfyERGru9qnQwIEqwCvIejNSfw","https",0,"aa.google.com","rt=j\u0026sourceid=392","","gi8c5nuGWCv0feCrs8twMQ",null,0,0,null,0,null,1,0,"https://waa-pa.clients6.google.com","AIzaSyBGb5fGAyC-pRcRU6MUHb__b_vKha71HRE","/JR8jsAkqotcKsEKhXic",null,0,0],[["mousedown","touchstart","touchmove","wheel","keydown"],300000],[[null,null,null,"https://accounts.google.com/RotateCookiesPage"],3,4000,1,0,3701183,0]]],};this.gbar_=this.gbar_||{};(function(_){var window=this;
try{
_._F_toggles_initialize=function(a){("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:this)._F_toggles=a||[]};(0,_._F_toggles_initialize)([]);
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var fa,la,oa,pa,xa,ya,za,Aa,Ba,Da,Ea,Fa,Ia,Wa,Va,Za,ab,$a,bb,cb,kb;_.aa=function(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,_.aa);else{const c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));void 0!==b&&(this.cause=b)};_.ba=function(a){_.q.setTimeout(()=>{throw a;},0)};_.ca=function(){var a=_.q.navigator;return a&&(a=a.userAgent)?a:""};fa=function(a){return da?ea?ea.brands.some(({brand:b})=>b&&-1!=b.indexOf(a)):!1:!1};_.t=function(a){return-1!=_.ca().indexOf(a)};
_.ha=function(){return da?!!ea&&0<ea.brands.length:!1};_.ia=function(){return _.ha()?!1:_.t("Opera")};_.ja=function(){return _.ha()?!1:_.t("Trident")||_.t("MSIE")};_.ka=function(){return _.t("Firefox")||_.t("FxiOS")};_.ma=function(){return _.t("Safari")&&!(la()||(_.ha()?0:_.t("Coast"))||_.ia()||(_.ha()?0:_.t("Edge"))||(_.ha()?fa("Microsoft Edge"):_.t("Edg/"))||(_.ha()?fa("Opera"):_.t("OPR"))||_.ka()||_.t("Silk")||_.t("Android"))};
la=function(){return _.ha()?fa("Chromium"):(_.t("Chrome")||_.t("CriOS"))&&!(_.ha()?0:_.t("Edge"))||_.t("Silk")};_.na=function(){return _.t("Android")&&!(la()||_.ka()||_.ia()||_.t("Silk"))};oa=function(){return da?!!ea&&!!ea.platform:!1};pa=function(){return _.t("iPhone")&&!_.t("iPod")&&!_.t("iPad")};_.qa=function(){return pa()||_.t("iPad")||_.t("iPod")};_.ra=function(){return oa()?"macOS"===ea.platform:_.t("Macintosh")};_.ta=function(a,b){return 0<=_.sa(a,b)};
_.ua=function(a){let b="",c=0;const d=a.length-10240;for(;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);return btoa(b)};_.va=function(a){return null!=a&&a instanceof Uint8Array};_.wa=function(a){return Array.prototype.slice.call(a)};xa=function(a){const b=a[_.u]|0;1!==(b&1)&&(Object.isFrozen(a)&&(a=_.wa(a)),a[_.u]=b|1)};ya=function(){var a=[];a[_.u]|=1;return a};za=function(a,b){b[_.u]=(a|0)&-14591};
Aa=function(a,b){b[_.u]=(a|34)&-14557};Ba=function(a){a=a>>14&1023;return 0===a?536870912:a};Da=function(a){return!(!a||"object"!==typeof a||a.Ni!==Ca)};Ea=function(a){return null!==a&&"object"===typeof a&&!Array.isArray(a)&&a.constructor===Object};Fa=function(a,b,c){if(!Array.isArray(a)||a.length)return!1;const d=a[_.u]|0;if(d&1)return!0;if(!(b&&(Array.isArray(b)?b.includes(c):b.has(c))))return!1;a[_.u]=d|1;return!0};_.Ga=function(a){if(a&2)throw Error();};
Ia=function(a,b){(b=_.Ha?b[_.Ha]:void 0)&&(a[_.Ha]=_.wa(b))};_.Ka=function(a){a=Error(a);Ja(a,"warning");return a};_.La=function(a){if(!Number.isFinite(a)){const b=Error();Ja(b,"incident");_.ba(b)}return a};_.Ma=function(a){if("number"!==typeof a)throw _.Ka("int32");if(!Number.isFinite(a))throw _.Ka("int32");return a|0};_.Na=function(a){if(null!=a&&"string"!==typeof a)throw Error();return a};_.Oa=function(a){return null==a||"string"===typeof a?a:void 0};
_.Qa=function(a,b,c){if(null!=a&&"object"===typeof a&&a.Pd===_.Pa)return a;if(Array.isArray(a)){var d=a[_.u]|0,e=d;0===e&&(e|=c&32);e|=c&2;e!==d&&(a[_.u]=e);return new b(a)}};_.Sa=function(a,b){Ra=b;a=new a(b);Ra=void 0;return a};
_.Ua=function(a,b,c){null==a&&(a=Ra);Ra=void 0;if(null==a){var d=96;c?(a=[c],d|=512):a=[];b&&(d=d&-16760833|(b&1023)<<14)}else{if(!Array.isArray(a))throw Error();d=a[_.u]|0;if(d&64)return _.Ta&&delete a[_.Ta],a;d|=64;if(c&&(d|=512,c!==a[0]))throw Error();a:{c=d;if(d=a.length){const e=d-1;if(Ea(a[e])){c|=256;b=e-(+!!(c&512)-1);if(1024<=b)throw Error();d=c&-16760833|(b&1023)<<14;break a}}if(b){b=Math.max(b,d-(+!!(c&512)-1));if(1024<b)throw Error();d=c&-16760833|(b&1023)<<14}else d=c}}a[_.u]=d;return a};
Wa=function(a,b){return Va(b)};Va=function(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "boolean":return a?1:0;case "object":if(a){if(Array.isArray(a))return Xa||!Fa(a,void 0,9999)?a:void 0;if(_.va(a))return _.ua(a);if("function"==typeof _.Ya&&a instanceof _.Ya)return a.qg()}}return a};Za=function(a,b,c){const d=_.wa(a);var e=d.length;const f=b&256?d[e-1]:void 0;e+=f?-1:0;for(b=b&512?1:0;b<e;b++)d[b]=c(d[b]);if(f){b=d[b]={};for(const g in f)b[g]=c(f[g])}Ia(d,a);return d};
ab=function(a,b,c,d,e,f){if(null!=a){if(Array.isArray(a))a=e&&0==a.length&&(a[_.u]|0)&1?void 0:f&&(a[_.u]|0)&2?a:$a(a,b,c,void 0!==d,e,f);else if(Ea(a)){const g={};for(let h in a)g[h]=ab(a[h],b,c,d,e,f);a=g}else a=b(a,d);return a}};$a=function(a,b,c,d,e,f){const g=d||c?a[_.u]|0:0;d=d?!!(g&32):void 0;const h=_.wa(a);for(let k=0;k<h.length;k++)h[k]=ab(h[k],b,c,d,e,f);c&&(Ia(h,a),c(g,h));return h};bb=function(a){return a.Pd===_.Pa?a.toJSON():Va(a)};
cb=function(a,b,c=Aa){if(null!=a){if(a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){var d=a[_.u]|0;if(d&2)return a;b&&(b=0===d||!!(d&32)&&!(d&64||!(d&16)));return b?(a[_.u]=(d|34)&-12293,a):$a(a,cb,d&4?Aa:c,!0,!1,!0)}a.Pd===_.Pa&&(c=a.na,d=c[_.u],a=d&2?a:_.Sa(a.constructor,_.db(c,d,!0)));return a}};_.db=function(a,b,c){const d=c||b&2?Aa:za,e=!!(b&32);a=Za(a,b,f=>cb(f,e,d));a[_.u]=a[_.u]|32|(c?2:0);return a};
_.eb=function(a){const b=a.na,c=b[_.u];return c&2?_.Sa(a.constructor,_.db(b,c,!1)):a};_.fb=function(a,b,c,d,e){var f=Ba(b);if(c>=f||e){e=b;if(b&256)f=a[a.length-1];else{if(null==d)return e;f=a[f+(+!!(b&512)-1)]={};e|=256}f[c]=d;e!==b&&(a[_.u]=e);return e}a[c+(+!!(b&512)-1)]=d;b&256&&(a=a[a.length-1],c in a&&delete a[c]);return b};_.gb=function(a,b){return null!=a?a:b};
kb=function(a,b,c){const d=a.constructor.Aa;var e=(c?a.na:b)[_.u],f=Ba(e),g=!1;if(d&&Xa){if(!c){b=_.wa(b);var h;if(b.length&&Ea(h=b[b.length-1]))for(g=0;g<d.length;g++)if(d[g]>=f){Object.assign(b[b.length-1]={},h);break}g=!0}f=b;c=!c;h=a.na[_.u];a=Ba(h);h=+!!(h&512)-1;var k;for(let N=0;N<d.length;N++){var m=d[N];if(m<a){m+=h;var n=f[m];null==n?f[m]=c?_.hb:ya():c&&n!==_.hb&&xa(n)}else{if(!k){var p=void 0;f.length&&Ea(p=f[f.length-1])?k=p:f.push(k={})}n=k[m];null==k[m]?k[m]=c?_.hb:ya():c&&n!==_.hb&&
xa(n)}}}k=b.length;if(!k)return b;let v,r;if(Ea(p=b[k-1])){a:{var z=p;f={};c=!1;for(var E in z){a=z[E];if(Array.isArray(a)){h=a;if(!ib&&Fa(a,d,+E)||!jb&&Da(a)&&0===a.size)a=null;a!=h&&(c=!0)}null!=a?f[E]=a:c=!0}if(c){for(let N in f){z=f;break a}z=null}}z!=p&&(v=!0);k--}for(e=+!!(e&512)-1;0<k;k--){E=k-1;p=b[E];if(!(null==p||!ib&&Fa(p,d,E-e)||!jb&&Da(p)&&0===p.size))break;r=!0}if(!v&&!r)return b;var K;g?K=b:K=Array.prototype.slice.call(b,0,k);b=K;g&&(b.length=k);z&&b.push(z);return b};
_.w=function(a,b){return null!=a?!!a:!!b};_.x=function(a,b){void 0==b&&(b="");return null!=a?a:b};_.lb=function(a,b){void 0==b&&(b=0);return null!=a?a:b};_.nb=function(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<mb.length;f++)c=mb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var qb,rb,vb,yb;_.ob=_.ob||{};_.q=this||self;qb=function(a,b){var c=_.pb("WIZ_global_data.oxN3nb");a=c&&c[a];return null!=a?a:b};rb=_.q._F_toggles||[];_.pb=function(a,b){a=a.split(".");b=b||_.q;for(var c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b};_.sb=function(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"};_.tb=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b};_.ub="closure_uid_"+(1E9*Math.random()>>>0);
vb=function(a,b,c){return a.call.apply(a.bind,arguments)};yb=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}};_.y=function(a,b,c){_.y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vb:yb;return _.y.apply(null,arguments)};
_.A=function(a,b){a=a.split(".");var c=_.q;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};_.B=function(a,b){function c(){}c.prototype=b.prototype;a.W=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Gi=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}};_.B(_.aa,Error);_.aa.prototype.name="CustomError";_.zb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};var Ab=!!(rb[0]&512),Bb=!!(rb[0]&16),Cb=!!(rb[0]&1024),Db=!!(rb[0]&8);var da=Ab?Cb:qb(610401301,!1),Eb=Ab?Bb||!Db:qb(572417392,!0);var ea,Fb=_.q.navigator;ea=Fb?Fb.userAgentData||null:null;_.sa=function(a,b){return Array.prototype.indexOf.call(a,b,void 0)};_.Gb=function(a,b,c){Array.prototype.forEach.call(a,b,c)};_.Hb=function(a){_.Hb[" "](a);return a};_.Hb[" "]=function(){};var Ub,Vb,$b;_.Ib=_.ia();_.C=_.ja();_.Jb=_.t("Edge");_.Kb=_.Jb||_.C;_.Lb=_.t("Gecko")&&!(-1!=_.ca().toLowerCase().indexOf("webkit")&&!_.t("Edge"))&&!(_.t("Trident")||_.t("MSIE"))&&!_.t("Edge");_.Mb=-1!=_.ca().toLowerCase().indexOf("webkit")&&!_.t("Edge");_.Nb=_.ra();_.Ob=oa()?"Windows"===ea.platform:_.t("Windows");_.Pb=oa()?"Android"===ea.platform:_.t("Android");_.Qb=pa();_.Rb=_.t("iPad");_.Sb=_.t("iPod");_.Tb=_.qa();Ub=function(){var a=_.q.document;return a?a.documentMode:void 0};
a:{var Wb="",Xb=function(){var a=_.ca();if(_.Lb)return/rv:([^\);]+)(\)|;)/.exec(a);if(_.Jb)return/Edge\/([\d\.]+)/.exec(a);if(_.C)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(_.Mb)return/WebKit\/(\S+)/.exec(a);if(_.Ib)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Xb&&(Wb=Xb?Xb[1]:"");if(_.C){var Yb=Ub();if(null!=Yb&&Yb>parseFloat(Wb)){Vb=String(Yb);break a}}Vb=Wb}_.Zb=Vb;if(_.q.document&&_.C){var ac=Ub();$b=ac?ac:parseInt(_.Zb,10)||void 0}else $b=void 0;_.bc=$b;_.cc=_.ka();_.dc=pa()||_.t("iPod");_.ec=_.t("iPad");_.fc=_.na();_.gc=la();_.hc=_.ma()&&!_.qa();var jb=!Eb,ib=!Eb;_.ic="undefined"!==typeof TextDecoder;_.lc="undefined"!==typeof TextEncoder;_.u=Symbol();var Ca,mc,Xa,nc,oc,pc;_.Pa={};Ca={};Xa=!Eb;nc=[];nc[_.u]=55;_.hb=Object.freeze(nc);oc=class{};pc=class{};Object.freeze(new oc);Object.freeze(new pc);var Ja=function(a,b){a.__closure__error__context__984382||(a.__closure__error__context__984382={});a.__closure__error__context__984382.severity=b};var Ra;_.D=function(a,b){a=a.na;return _.qc(a,a[_.u],b)};_.qc=function(a,b,c,d){if(-1===c)return null;if(c>=Ba(b)){if(b&256)return a[a.length-1][c]}else{var e=a.length;if(d&&b&256&&(d=a[e-1][c],null!=d))return d;b=c+(+!!(b&512)-1);if(b<e)return a[b]}};_.rc=function(a,b,c){const d=a.na;let e=d[_.u];_.Ga(e);_.fb(d,e,b,c);return a};_.F=function(a,b){a=_.D(a,b);return null==a||"boolean"===typeof a?a:"number"===typeof a?!!a:void 0};
_.sc=function(a,b,c,d){a=a.na;let e=a[_.u];const f=_.qc(a,e,c,d);b=_.Qa(f,b,e);b!==f&&null!=b&&_.fb(a,e,c,b,d);return b};_.G=function(a,b,c,d=!1){b=_.sc(a,b,c,d);if(null==b)return b;a=a.na;let e=a[_.u];if(!(e&2)){const f=_.eb(b);f!==b&&(b=f,_.fb(a,e,c,b,d))}return b};_.H=function(a,b,c){null==c&&(c=void 0);return _.rc(a,b,c)};_.I=function(a,b){return _.Oa(_.D(a,b))};_.J=function(a,b){return _.gb(_.F(a,b),!1)};
_.tc=function(a,b,c=0){a=a.na;let d=a[_.u];const e=_.qc(a,d,b);var f=null==e||"number"===typeof e?e:"NaN"===e||"Infinity"===e||"-Infinity"===e?Number(e):void 0;null!=f&&f!==e&&_.fb(a,d,b,f);return _.gb(f,c)};_.L=function(a,b){return _.gb(_.I(a,b),"")};_.M=function(a,b,c){if(null!=c&&"boolean"!==typeof c)throw Error("q`"+_.sb(c)+"`"+c);return _.rc(a,b,c)};_.O=function(a,b,c){return _.rc(a,b,null==c?c:_.Ma(c))};_.P=function(a,b,c){return _.rc(a,b,_.Na(c))};
_.Q=function(a,b,c){return _.rc(a,b,null==c?c:_.La(c))};_.R=class{constructor(a,b,c){this.na=_.Ua(a,b,c)}toJSON(){if(mc)var a=kb(this,this.na,!1);else a=$a(this.na,bb,void 0,void 0,!1,!1),a=kb(this,a,!0);return a}Ia(){mc=!0;try{return JSON.stringify(this.toJSON(),Wa)}finally{mc=!1}}zc(){return!!((this.na[_.u]|0)&2)}};_.R.prototype.Pd=_.Pa;_.R.prototype.toString=function(){return kb(this,this.na,!1).toString()};_.uc=Symbol();_.vc=Symbol();_.wc=Symbol();_.xc=Symbol();_.yc=Symbol();var zc=class extends _.R{constructor(){super()}};_.Ac=class extends _.R{constructor(){super()}zd(a){return _.O(this,3,a)}};var Bc=class extends _.R{constructor(a){super(a)}};var Cc=class extends _.R{constructor(a){super(a)}Rc(a){return _.P(this,24,a)}};_.Dc=class extends _.R{constructor(a){super(a)}};_.Ec=function(){this.Ga=this.Ga;this.oa=this.oa};_.Ec.prototype.Ga=!1;_.Ec.prototype.isDisposed=function(){return this.Ga};_.Ec.prototype.qa=function(){this.Ga||(this.Ga=!0,this.O())};_.Ec.prototype.O=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Fc=class extends _.Ec{constructor(){var a=window;super();this.o=a;this.i=[];this.j={}}resolve(a){var b=this.o;a=a.split(".");for(var c=a.length,d=0;d<c;++d)if(b[a[d]])b=b[a[d]];else return null;return b instanceof Function?b:null}Yb(){for(var a=this.i.length,b=this.i,c=[],d=0;d<a;++d){var e=b[d].i(),f=this.resolve(e);if(f&&f!=this.j[e])try{b[d].Yb(f)}catch(g){}else c.push(b[d])}this.i=c.concat(b.slice(a))}};var Hc=class extends _.Ec{constructor(){var a=_.Gc;super();this.o=a;this.A=this.i=null;this.v=0;this.C={};this.j=!1;a=window.navigator.userAgent;0<=a.indexOf("MSIE")&&0<=a.indexOf("Trident")&&(a=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a))&&a[1]&&9>parseFloat(a[1])&&(this.j=!0)}B(a,b){this.i=b;this.A=a;b.preventDefault?b.preventDefault():b.returnValue=!1}};_.Ic=class extends _.R{constructor(a){super(a)}};var Jc=class extends _.R{constructor(a){super(a)}};var Lc;_.Kc=function(a,b){if(a.i){const c=new zc;_.P(c,1,b.message);_.P(c,2,b.stack);_.O(c,3,b.lineNumber);_.Q(c,5,1);b=new _.Ac;_.H(b,40,c);a.i.log(98,b)}};Lc=class{constructor(){this.i=null}log(a){_.Kc(this,a)}};var Oc,Pc,Sc,Uc;_.Mc=class{constructor(a){this.i=a}toString(){return this.i.toString()}};_.Mc.prototype.Cb=!0;_.Mc.prototype.ob=function(){return this.i.toString()};_.Nc=function(a){return a instanceof _.Mc&&a.constructor===_.Mc?a.i:"type_error:SafeUrl"};Oc=/^data:(.*);base64,[a-z0-9+\/]+=*$/i;Pc=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;
_.Rc=function(a){if(a instanceof _.Mc)return a;a="object"==typeof a&&a.Cb?a.ob():String(a);Pc.test(a)?a=_.Qc(a):(a=String(a).replace(/(%0A|%0D)/g,""),a=a.match(Oc)?_.Qc(a):null);return a};try{new URL("s://g"),Sc=!0}catch(a){Sc=!1}_.Tc=Sc;Uc={};_.Qc=function(a){return new _.Mc(a,Uc)};_.Vc=_.Qc("about:invalid#zClosurez");var Wc,Zc,Yc;_.Xc=function(a){let b;b=window.google&&window.google.logUrl?"":"https://www.google.com";b+="/gen_204?use_corp=on&";b+=a.Ia(2040-b.length);Wc(_.Rc(b)||_.Vc)};Wc=function(a){var b=new Image,c=Yc;b.onerror=b.onload=b.onabort=function(){c in Zc&&delete Zc[c]};Zc[Yc++]=b;b.src=_.Nc(a)};Zc=[];Yc=0;_.ad=class{constructor(){this.data={}}Ia(a){var b=[],c;for(c in this.data)b.push(encodeURIComponent(c)+"="+encodeURIComponent(String(this.data[c])));return("atyp=i&zx="+(new Date).getTime()+"&"+b.join("&")).substr(0,a)}};var bd=class extends _.ad{constructor(a){super();var b=_.G(a,Bc,8)||new Bc;window.google&&window.google.kEI&&(this.data.ei=window.google.kEI);this.data.sei=_.x(_.I(a,10));this.data.ogf=_.x(_.I(b,3));this.data.ogrp=(window.google&&window.google.sn?!/.*hp$/.test(window.google.sn):_.w(_.F(a,7)))?"1":"";this.data.ogv=_.x(_.I(b,6))+"."+_.x(_.I(b,7));this.data.ogd=_.x(_.I(a,21));this.data.ogc=_.x(_.I(a,20));this.data.ogl=_.x(_.I(a,5));this.data.oggv="quantum:gapiBuildLabel"}};var mb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");var cd=[1,2,3,4,5,6,9,10,11,13,14,28,29,30,34,35,37,38,39,40,42,43,48,49,50,51,52,53,62,500],ed=function(a){if(!dd){dd={};for(var b=0;b<cd.length;b++)dd[cd[b]]=!0}return!!dd[a]},fd=function(a){a=String(a);return a.replace(".","%2E").replace(",","%2C")},gd=class extends bd{constructor(a,b,c,d,e){super(a);_.nb(this.data,{oge:c,ogex:_.x(_.I(a,9)),ogp:_.x(_.I(a,6)),ogsr:Math.round(1/(ed(c)?_.lb(_.tc(b,3,1)):_.lb(_.tc(b,2,1E-4)))),ogus:d});if(e){"ogw"in e&&(this.data.ogw=e.ogw,delete e.ogw);"ved"in e&&
(this.data.ved=e.ved,delete e.ved);a=[];for(var f in e)0!=a.length&&a.push(","),a.push(fd(f)),a.push("."),a.push(fd(e[f]));e=a.join("");""!=e&&(this.data.ogad=e)}}},dd=null;var hd=class extends _.R{constructor(a){super(a)}};var ld=class{constructor(){var a=id,b=jd,c=kd;this.i=a;this.v=b;this.o=_.lb(_.tc(a,2,1E-4),1E-4);this.C=_.lb(_.tc(a,3,1),1);b=Math.random();this.j=_.w(_.F(a,1))&&b<this.o;this.A=_.w(_.F(a,1))&&b<this.C;a=0;_.w(_.F(c,1))&&(a|=1);_.w(_.F(c,2))&&(a|=2);_.w(_.F(c,3))&&(a|=4);this.B=a}log(a,b){try{if(ed(a)?this.A:this.j){const c=new gd(this.v,this.i,a,this.B,b);_.Xc(c)}}catch(c){}}};var nd;_.md=function(a){if(0<a.j.length){var b=void 0!==a.va,c=void 0!==a.i;if(b||c){b=b?a.o:a.v;c=a.j;a.j=[];try{_.Gb(c,b,a)}catch(d){console.error(d)}}}};_.od=class{constructor(a){this.va=a;this.i=void 0;this.j=[]}then(a,b,c){this.j.push(new nd(a,b,c));_.md(this)}resolve(a){if(void 0!==this.va||void 0!==this.i)throw Error("v");this.va=a;_.md(this)}o(a){a.j&&a.j.call(a.i,this.va)}v(a){a.o&&a.o.call(a.i,this.i)}};nd=class{constructor(a,b,c){this.j=a;this.o=b;this.i=c}};_.pd=a=>{var b="xc";if(a.xc&&a.hasOwnProperty(b))return a.xc;b=new a;return a.xc=b};_.qd=class{constructor(){this.v=new _.od;this.i=new _.od;this.D=new _.od;this.C=new _.od;this.B=new _.od;this.A=new _.od;this.o=new _.od;this.j=new _.od;this.H=new _.od}K(){return this.v}M(){return this.i}N(){return this.D}L(){return this.C}Ga(){return this.B}oa(){return this.A}J(){return this.o}G(){return this.j}static i(){return _.pd(_.qd)}};var vd;_.sd=function(){return _.G(_.rd,Cc,1)};_.td=function(){return _.G(_.rd,_.Dc,5)};vd=class extends _.R{constructor(){super(ud)}};var ud;window.gbar_&&window.gbar_.CONFIG?ud=window.gbar_.CONFIG[0]||{}:ud=[];_.rd=new vd;var jd,kd,id;_.G(_.rd,Jc,3)||new Jc;_.sd()||new Cc;_.Gc=new Lc;jd=_.sd()||new Cc;kd=_.td()||new _.Dc;id=_.G(_.rd,hd,4)||new hd;new ld;_.A("gbar_._DumpException",function(a){_.Gc?_.Gc.log(a):console.error(a)});_.wd=new Hc;var yd;_.zd=function(a,b){var c=_.xd.i();if(a in c.i){if(c.i[a]!=b)throw new yd;}else{c.i[a]=b;if(b=c.j[a])for(let d=0,e=b.length;d<e;d++)b[d].i(c.i,a);delete c.j[a]}};_.xd=class{constructor(){this.i={};this.j={}}static i(){return _.pd(_.xd)}};_.Ad=class extends _.aa{constructor(){super()}};yd=class extends _.Ad{};_.A("gbar.A",_.od);_.od.prototype.aa=_.od.prototype.then;_.A("gbar.B",_.qd);_.qd.prototype.ba=_.qd.prototype.M;_.qd.prototype.bb=_.qd.prototype.N;_.qd.prototype.bd=_.qd.prototype.Ga;_.qd.prototype.bf=_.qd.prototype.K;_.qd.prototype.bg=_.qd.prototype.L;_.qd.prototype.bh=_.qd.prototype.oa;_.qd.prototype.bj=_.qd.prototype.J;_.qd.prototype.bk=_.qd.prototype.G;_.A("gbar.a",_.qd.i());var Bd=new Fc;_.zd("api",Bd);var Cd=_.td()||new _.Dc;window.__PVT=_.x(_.I(Cd,8));_.zd("eq",_.wd);
}catch(e){_._DumpException(e)}
try{
_.Dd=class extends _.R{constructor(a){super(a)}};
}catch(e){_._DumpException(e)}
try{
var Ed=class extends _.R{constructor(){super()}};var Fd=class extends _.Ec{constructor(){super();this.j=[];this.i=[]}o(a,b){this.j.push({features:a,options:b})}init(a,b,c){window.gapi={};var d=window.___jsl={};d.h=_.x(_.I(a,1));null!=_.F(a,12)&&(d.dpo=_.w(_.J(a,12)));d.ms=_.x(_.I(a,2));d.m=_.x(_.I(a,3));d.l=[];_.L(b,1)&&(a=_.I(b,3))&&this.i.push(a);_.L(c,1)&&(c=_.I(c,2))&&this.i.push(c);_.A("gapi.load",(0,_.y)(this.o,this));return this}};var Gd=_.G(_.rd,_.Ic,14);if(Gd){var Hd=_.G(_.rd,_.Dd,9)||new _.Dd,Id=new Ed,Jd=new Fd;Jd.init(Gd,Hd,Id);_.zd("gs",Jd)};
}catch(e){_._DumpException(e)}
})(this.gbar_);
// Google Inc.
</script><style type="text/css" nonce="">.gb_eb:not(.gb_gd){font:13px/27px Roboto,Arial,sans-serif;z-index:986}@keyframes gb__a{0%{opacity:0}50%{opacity:1}}a.gb_va{border:none;color:#4285f4;cursor:default;font-weight:bold;outline:none;position:relative;text-align:center;text-decoration:none;text-transform:uppercase;white-space:nowrap;-moz-user-select:none}a.gb_va:hover:after,a.gb_va:focus:after{background-color:rgba(0,0,0,.12);content:"";height:100%;left:0;position:absolute;top:0;width:100%}a.gb_va:hover,a.gb_va:focus{text-decoration:none}a.gb_va:active{background-color:rgba(153,153,153,.4);text-decoration:none}a.gb_wa{background-color:#4285f4;color:#fff}a.gb_wa:active{background-color:#0043b2}.gb_xa{box-shadow:0 1px 1px rgba(0,0,0,.16)}.gb_va,.gb_wa,.gb_ya,.gb_za{display:inline-block;line-height:28px;padding:0 12px;border-radius:2px}.gb_ya{background:#f8f8f8;border:1px solid #c6c6c6}.gb_za{background:#f8f8f8}.gb_ya,#gb a.gb_ya.gb_ya,.gb_za{color:#666;cursor:default;text-decoration:none}#gb a.gb_za{cursor:default;text-decoration:none}.gb_za{border:1px solid #4285f4;font-weight:bold;outline:none;background:#4285f4;background:linear-gradient(top,#4387fd,#4683ea);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#4387fd,endColorstr=#4683ea,GradientType=0)}#gb a.gb_za{color:#fff}.gb_za:hover{box-shadow:0 1px 0 rgba(0,0,0,.15)}.gb_za:active{box-shadow:inset 0 2px 0 rgba(0,0,0,.15);background:#3c78dc;background:linear-gradient(top,#3c7ae4,#3f76d3);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#3c7ae4,endColorstr=#3f76d3,GradientType=0)}#gb .gb_Aa{background:#fff;border:1px solid #dadce0;color:#1a73e8;display:inline-block;text-decoration:none}#gb .gb_Aa:hover{background:#f8fbff;border-color:#dadce0;color:#174ea6}#gb .gb_Aa:focus{background:#f4f8ff;color:#174ea6;outline:1px solid #174ea6}#gb .gb_Aa:active,#gb .gb_Aa:focus:active{background:#ecf3fe;color:#174ea6}#gb .gb_Aa.gb_j{background:transparent;border:1px solid #5f6368;color:#8ab4f8;text-decoration:none}#gb .gb_Aa.gb_j:hover{background:rgba(255,255,255,.04);color:#e8eaed}#gb .gb_Aa.gb_j:focus{background:rgba(232,234,237,.12);color:#e8eaed;outline:1px solid #e8eaed}#gb .gb_Aa.gb_j:active,#gb .gb_Aa.gb_j:focus:active{background:rgba(232,234,237,.1);color:#e8eaed}.gb_p{display:none!important}.gb_Za{visibility:hidden}.gb_u{display:inline-block;vertical-align:middle}.gb_Pd .gb_o{bottom:-3px;right:-5px}.gb_g{position:relative}.gb_d{display:inline-block;outline:none;vertical-align:middle;border-radius:2px;-moz-box-sizing:border-box;box-sizing:border-box;height:40px;width:40px;cursor:pointer;text-decoration:none}#gb#gb a.gb_d{cursor:pointer;text-decoration:none}.gb_d,a.gb_d{color:#000}.gb_df{border-color:transparent;border-bottom-color:#fff;border-style:dashed dashed solid;border-width:0 8.5px 8.5px;display:none;position:absolute;left:11.5px;top:33px;z-index:1;height:0;width:0;animation:gb__a .2s}.gb_ef{border-color:transparent;border-style:dashed dashed solid;border-width:0 8.5px 8.5px;display:none;position:absolute;left:11.5px;z-index:1;height:0;width:0;animation:gb__a .2s;border-bottom-color:rgba(0,0,0,.2);top:32px}x:-o-prefocus,div.gb_ef{border-bottom-color:#ccc}.gb_3{background:#fff;border:1px solid #ccc;border-color:rgba(0,0,0,.2);color:#000;-moz-box-shadow:0 2px 10px rgba(0,0,0,.2);box-shadow:0 2px 10px rgba(0,0,0,.2);display:none;outline:none;overflow:hidden;position:absolute;right:8px;top:62px;animation:gb__a .2s;border-radius:2px;-moz-user-select:text}.gb_u.gb_Ja .gb_df,.gb_u.gb_Ja .gb_ef,.gb_u.gb_Ja .gb_3,.gb_Ja.gb_3{display:block}.gb_u.gb_Ja.gb_ff .gb_df,.gb_u.gb_Ja.gb_ff .gb_ef{display:none}.gb_Qd{position:absolute;right:8px;top:62px;z-index:-1}.gb_5a .gb_df,.gb_5a .gb_ef,.gb_5a .gb_3{margin-top:-10px}.gb_u:first-child,#gbsfw:first-child+.gb_u{padding-left:4px}.gb_Na.gb_Rd .gb_u:first-child{padding-left:0}.gb_Sd{position:relative}.gb_t.gb_yd.gb_cb.gb_nd{margin:0 12px;padding:0}.gb_t .gb_d{position:relative}.gb_t .gb_u{margin:0 4px;padding:4px}.gb_t .gb_Td{display:inline-block}.gb_t a.gb_jd{-moz-box-align:center;align-items:center;-moz-border-radius:100px;border-radius:100px;border:0;background:#0b57d0;color:#fff;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;font-size:14px;font-weight:500;height:40px;white-space:nowrap;width:auto}.gb_t a.gb_d.gb_jd{margin:0 4px;padding:4px 24px 4px 24px}.gb_t a.gb_jd.gb_Ud{padding:9px 12px 9px 16px}.gb_t a.gb_jd.gb_x{background:transparent;border:1px solid #747775;color:#0b57d0;outline:0}.gb_t .gb_s{fill:#0b57d0}.gb_t .gb_A{fill:#0b57d0;margin-left:8px}.gb_t .gb_A circle{fill:#fff}.gb_t .gb_jd .gb_Hd{-moz-box-flex:1;box-flex:1;flex-grow:1;text-align:center}.gb_t .gb_jd:hover{background:#3763cd}.gb_t .gb_jd:hover .gb_A{fill:#3763cd}.gb_t .gb_jd:focus,.gb_t .gb_jd:active,.gb_t .gb_jd:focus:hover,.gb_t .gb_jd[aria-expanded=true],.gb_t .gb_jd:hover[aria-expanded=true]{background:#416acf}.gb_t .gb_jd:focus .gb_A,.gb_t .gb_jd:active .gb_A,.gb_t .gb_jd:focus:hover .gb_A,.gb_t .gb_jd[aria-expanded=true] .gb_A,.gb_t .gb_jd:hover[aria-expanded=true] .gb_A{fill:#416acf}.gb_t .gb_jd:focus,.gb_t .gb_jd:active,.gb_t .gb_jd[aria-expanded=true]{-moz-box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3);box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.gb_t .gb_jd:focus-visible{outline:1px solid #416acf;outline-offset:2px}.gb_t .gb_Da:focus-visible{outline:1px solid #416acf}.gb_t .gb_j.gb_jd{background:#a8c7fa;color:#062e6f}.gb_t .gb_j.gb_jd .gb_A{fill:#a8c7fa}.gb_t .gb_j.gb_jd .gb_A circle{fill:#062e6f}.gb_t .gb_j.gb_jd:hover{background:#b4cbf6}.gb_t .gb_j.gb_jd:hover .gb_A{fill:#b4cbf6}.gb_t .gb_j.gb_jd:focus,.gb_t .gb_j.gb_jd:focus:hover,.gb_t .gb_j.gb_jd:active,.gb_t .gb_j.gb_jd[aria-expanded=true],.gb_t .gb_j.gb_jd:hover[aria-expanded=true]{background:#b8cdf7}.gb_t .gb_j.gb_jd:focus .gb_A,.gb_t .gb_j.gb_jd:focus:hover .gb_A,.gb_t .gb_j.gb_jd:active .gb_A,.gb_t .gb_j.gb_jd[aria-expanded=true] .gb_A,.gb_t .gb_j.gb_jd:hover[aria-expanded=true] .gb_A{fill:#b8cdf7}.gb_t .gb_j.gb_jd:focus-visible{outline-color:#b8cdf7}.gb_t .gb_j.gb_jd:focus,.gb_t .gb_j.gb_jd:active,.gb_t .gb_j.gb_jd[aria-expanded=true]{-moz-box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3);box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.gb_t .gb_jd.gb_x:hover,.gb_t .gb_jd.gb_x:focus,.gb_t .gb_jd.gb_x[aria-expanded=true],.gb_t .gb_jd.gb_x:hover[aria-expanded=true]{background:rgba(11,87,208,.08);-moz-box-shadow:none;box-shadow:none}.gb_t .gb_jd.gb_x:active{background:rgba(11,87,208,.12);-moz-box-shadow:none;box-shadow:none}.gb_t .gb_jd.gb_x:focus-visible{border-color:#0b57d0;outline:0}.gb_t .gb_j.gb_jd.gb_x{background:transparent;color:#a8c7fa}.gb_t .gb_j.gb_jd.gb_x:hover,.gb_t .gb_j.gb_jd.gb_x:focus,.gb_t .gb_j.gb_jd.gb_x[aria-expanded=true],.gb_t .gb_j.gb_jd.gb_x:hover[aria-expanded=true]{background:rgba(168,199,250,.08);-moz-box-shadow:none;box-shadow:none}.gb_t .gb_j.gb_jd.gb_x:active{background:rgba(168,199,250,.12);-moz-box-shadow:none;box-shadow:none}.gb_t .gb_j.gb_jd.gb_x:focus-visible{border-color:#a8c7fa;outline:0}.gb_j .gb_t .gb_s{fill:#a8c7fa}.gb_j .gb_t .gb_Da:focus-visible{outline-color:#a8c7fa}.gb_3c .gb_Sd,.gb_f .gb_Sd{float:right}.gb_d{padding:8px;cursor:pointer}.gb_d:after{content:"";position:absolute;top:-4px;bottom:-4px;left:-4px;right:-4px}.gb_Na .gb_ie:not(.gb_va):focus img{background-color:rgba(0,0,0,.2);outline:none;-moz-border-radius:50%;border-radius:50%}.gb_Vd button svg,.gb_d{-moz-border-radius:50%;border-radius:50%}.gb_Vd button:focus:not(:focus-visible) svg,.gb_Vd button:hover svg,.gb_Vd button:active svg,.gb_d:focus:not(:focus-visible),.gb_d:hover,.gb_d:active,.gb_d[aria-expanded=true]{outline:none}.gb_Mc .gb_Vd.gb_re button:focus-visible svg,.gb_Vd button:focus-visible svg,.gb_d:focus-visible{outline:1px solid #202124}.gb_Mc .gb_Vd button:focus-visible svg,.gb_Mc .gb_d:focus-visible{outline:1px solid #f1f3f4}@media (forced-colors:active){.gb_Mc .gb_Vd.gb_re button:focus-visible svg,.gb_Vd button:focus-visible svg,.gb_Mc .gb_Vd button:focus-visible svg{outline:1px solid currentcolor}}.gb_Mc .gb_Vd.gb_re button:focus svg,.gb_Mc .gb_Vd.gb_re button:focus:hover svg,.gb_Vd button:focus svg,.gb_Vd button:focus:hover svg,.gb_d:focus,.gb_d:focus:hover{background-color:rgba(60,64,67,.1)}.gb_Mc .gb_Vd.gb_re button:active svg,.gb_Vd button:active svg,.gb_d:active{background-color:rgba(60,64,67,.12)}.gb_Mc .gb_Vd.gb_re button:hover svg,.gb_Vd button:hover svg,.gb_d:hover{background-color:rgba(60,64,67,.08)}.gb_Ba .gb_d.gb_Da:hover{background-color:transparent}.gb_d[aria-expanded=true],.gb_d:hover[aria-expanded=true]{background-color:rgba(95,99,104,.24)}.gb_d[aria-expanded=true] .gb_i{fill:#5f6368;opacity:1}.gb_Mc .gb_Vd button:hover svg,.gb_Mc .gb_d:hover{background-color:rgba(232,234,237,.08)}.gb_Mc .gb_Vd button:focus svg,.gb_Mc .gb_Vd button:focus:hover svg,.gb_Mc .gb_d:focus,.gb_Mc .gb_d:focus:hover{background-color:rgba(232,234,237,.1)}.gb_Mc .gb_Vd button:active svg,.gb_Mc .gb_d:active{background-color:rgba(232,234,237,.12)}.gb_Mc .gb_d[aria-expanded=true],.gb_Mc .gb_d:hover[aria-expanded=true]{background-color:rgba(255,255,255,.12)}.gb_Mc .gb_d[aria-expanded=true] .gb_i{fill:#fff;opacity:1}.gb_u{padding:4px}.gb_Na.gb_Rd .gb_u{padding:4px 2px}.gb_Na.gb_Rd .gb_b.gb_u{padding-left:6px}.gb_3{z-index:991;line-height:normal}.gb_3.gb_Wd{left:0;right:auto}@media (max-width:350px){.gb_3.gb_Wd{left:0}}.gb_Xd .gb_3{top:56px}.gb_l .gb_d,.gb_2 .gb_l .gb_d{background-position:-64px -29px}.gb_I .gb_l .gb_d{background-position:-29px -29px;opacity:1}.gb_l .gb_d,.gb_l .gb_d:hover,.gb_l .gb_d:focus{opacity:1}.gb_hd{display:none}@media screen and (max-width:319px){.gb_od:not(.gb_td) .gb_l{display:none;visibility:hidden}}.gb_o{display:none}.gb_bd{font-family:Google Sans,Roboto,Helvetica,Arial,sans-serif;font-size:20px;font-weight:400;letter-spacing:0.25px;line-height:48px;margin-bottom:2px;opacity:1;overflow:hidden;padding-left:16px;position:relative;text-overflow:ellipsis;vertical-align:middle;top:2px;white-space:nowrap;-moz-box-flex:1;flex:1 1 auto}.gb_bd.gb_cd{color:#3c4043}.gb_Na.gb_Oa .gb_bd{margin-bottom:0}.gb_dd.gb_ed .gb_bd{padding-left:4px}.gb_Na.gb_Oa .gb_fd{position:relative;top:-2px}.gb_Na{color:black;min-width:160px;position:relative;transition:box-shadow 250ms}.gb_Na.gb_Uc{min-width:120px}.gb_Na.gb_md .gb_nd{display:none}.gb_Na.gb_md .gb_od{height:56px}header.gb_Na{display:block}.gb_Na svg{fill:currentColor}.gb_pd{position:fixed;top:0;width:100%}.gb_qd{-moz-box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2)}.gb_rd{height:64px}.gb_od{-moz-box-sizing:border-box;box-sizing:border-box;position:relative;width:100%;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-moz-box-pack:space-between;justify-content:space-between;min-width:-webkit-min-content;min-width:-moz-min-content;min-width:-ms-min-content;min-width:min-content}.gb_Na:not(.gb_Oa) .gb_od{padding:8px}.gb_Na.gb_sd .gb_od{-moz-box-flex:1;flex:1 0 auto}.gb_Na .gb_od.gb_td.gb_ud{min-width:0}.gb_Na.gb_Oa .gb_od{padding:4px;padding-left:8px;min-width:0}.gb_nd{height:48px;vertical-align:middle;white-space:nowrap;-moz-box-align:center;align-items:center;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-moz-user-select:-moz-none}.gb_wd>.gb_nd{display:table-cell;width:100%}.gb_dd{padding-right:30px;-moz-box-sizing:border-box;box-sizing:border-box;-moz-box-flex:1;flex:1 0 auto}.gb_Na.gb_Oa .gb_dd{padding-right:14px}.gb_xd{-moz-box-flex:1;flex:1 1 100%}.gb_xd>:only-child{display:inline-block}.gb_yd.gb_4c{padding-left:4px}.gb_yd.gb_zd,.gb_Na.gb_sd .gb_yd,.gb_Na.gb_Oa:not(.gb_f) .gb_yd{padding-left:0}.gb_Na.gb_Oa .gb_yd.gb_zd{padding-right:0}.gb_Na.gb_Oa .gb_yd.gb_zd .gb_Ba{margin-left:10px}.gb_4c{display:inline}.gb_Na.gb_Xc .gb_yd.gb_Ad,.gb_Na.gb_f .gb_yd.gb_Ad{padding-left:2px}.gb_bd{display:inline-block}.gb_yd{-moz-box-sizing:border-box;box-sizing:border-box;height:48px;line-height:normal;padding:0 4px;padding-left:30px;-moz-box-flex:0;flex:0 0 auto;-moz-box-pack:flex-end;justify-content:flex-end}.gb_f{height:48px}.gb_Na.gb_f{min-width:auto}.gb_f .gb_yd{float:right;padding-left:32px}.gb_f .gb_yd.gb_Bd{padding-left:0}.gb_Cd{font-size:14px;max-width:200px;overflow:hidden;padding:0 12px;text-overflow:ellipsis;white-space:nowrap;-moz-user-select:text}.gb_id{transition:background-color .4s}.gb_Jd{color:black}.gb_Mc{color:white}.gb_Na a,.gb_Rc a{color:inherit}.gb_S{color:rgba(0,0,0,.87)}.gb_Na svg,.gb_Rc svg,.gb_dd .gb_ld,.gb_3c .gb_ld{color:#5f6368;opacity:1}.gb_Mc svg,.gb_Rc.gb_Vc svg,.gb_Mc .gb_dd .gb_ld,.gb_Mc .gb_dd .gb_Lc,.gb_Mc .gb_dd .gb_fd,.gb_Rc.gb_Vc .gb_ld{color:rgba(255,255,255,.87)}.gb_Mc .gb_dd .gb_Kc:not(.gb_Kd){opacity:.87}.gb_cd{color:inherit;opacity:1;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale}.gb_Mc .gb_cd,.gb_Jd .gb_cd{opacity:1}.gb_Dd{position:relative}.gb_Ed{font-family:arial,sans-serif;line-height:normal;padding-right:15px}a.gb_E,span.gb_E{color:rgba(0,0,0,.87);text-decoration:none}.gb_Mc a.gb_E,.gb_Mc span.gb_E{color:white}a.gb_E:focus{outline-offset:2px}a.gb_E:hover{text-decoration:underline}.gb_F{display:inline-block;padding-left:15px}.gb_F .gb_E{display:inline-block;line-height:24px;vertical-align:middle}.gb_Ld{font-family:Google Sans,Roboto,Helvetica,Arial,sans-serif;font-weight:500;font-size:14px;letter-spacing:.25px;line-height:16px;margin-left:10px;margin-right:8px;min-width:96px;padding:9px 23px;text-align:center;vertical-align:middle;border-radius:4px;-moz-box-sizing:border-box;box-sizing:border-box}.gb_Na.gb_f .gb_Ld{margin-left:8px}#gb a.gb_za.gb_Ld{cursor:pointer}.gb_za.gb_Ld:hover{background:#1b66c9;-moz-box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3);box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.gb_za.gb_Ld:focus,.gb_za.gb_Ld:hover:focus{background:#1c5fba;-moz-box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3);box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.gb_za.gb_Ld:active{background:#1b63c1;-moz-box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3);box-shadow:0 1px 3px 1px rgba(66,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.gb_Ld{background:#1a73e8;border:1px solid transparent}.gb_Na.gb_Oa .gb_Ld{padding:9px 15px;min-width:80px}.gb_Fd{text-align:left}#gb .gb_Mc a.gb_Ld:not(.gb_j),#gb.gb_Mc a.gb_Ld:not(.gb_Md){background:#fff;border-color:#dadce0;-moz-box-shadow:none;box-shadow:none;color:#1a73e8}#gb a.gb_za.gb_j.gb_Ld{background:#8ab4f8;border:1px solid transparent;-moz-box-shadow:none;box-shadow:none;color:#202124}#gb .gb_Mc a.gb_Ld:hover:not(.gb_j),#gb.gb_Mc a.gb_Ld:not(.gb_Md):hover{background:#f8fbff;border-color:#cce0fc}#gb a.gb_za.gb_j.gb_Ld:hover{background:#93baf9;border-color:transparent;-moz-box-shadow:0 1px 3px 1px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.3);box-shadow:0 1px 3px 1px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.3)}#gb .gb_Mc a.gb_Ld:focus:not(.gb_j),#gb .gb_Mc a.gb_Ld:focus:hover:not(.gb_j),#gb.gb_Mc a.gb_Ld:focus:not(.gb_j),#gb.gb_Mc a.gb_Ld:focus:hover:not(.gb_j){background:#f4f8ff;outline:1px solid #c9ddfc}#gb a.gb_za.gb_j.gb_Ld:focus,#gb a.gb_za.gb_j.gb_Ld:focus:hover{background:#a6c6fa;border-color:transparent;-moz-box-shadow:none;box-shadow:none}#gb .gb_Mc a.gb_Ld:active:not(.gb_j),#gb.gb_Mc a.gb_Ld:not(.gb_Md):active{background:#ecf3fe}#gb a.gb_za.gb_j.gb_Ld:active{background:#a1c3f9;-moz-box-shadow:0 1px 2px rgba(60,64,67,.3),0 2px 6px 2px rgba(60,64,67,.15);box-shadow:0 1px 2px rgba(60,64,67,.3),0 2px 6px 2px rgba(60,64,67,.15)}.gb_Nd{display:none}@media screen and (max-width:319px){.gb_od:not(.gb_td) .gb_l{display:none;visibility:hidden}}.gb_Ba{background-color:rgba(255,255,255,.88);border:1px solid #dadce0;-moz-box-sizing:border-box;box-sizing:border-box;cursor:pointer;display:inline-block;max-height:48px;overflow:hidden;outline:none;padding:0;vertical-align:middle;width:134px;-moz-border-radius:8px;border-radius:8px}.gb_Ba.gb_j{background-color:transparent;border:1px solid #5f6368}.gb_Ia{display:inherit}.gb_Ba.gb_j .gb_Ia{background:#fff;-moz-border-radius:4px;border-radius:4px;display:inline-block;left:8px;margin-right:5px;position:relative;padding:3px;top:-1px}.gb_Ba:hover{border:1px solid #d2e3fc;background-color:rgba(248,250,255,.88)}.gb_Ba.gb_j:hover{background-color:rgba(241,243,244,.04);border:1px solid #5f6368}.gb_Ba:focus-visible,.gb_Ba:focus{background-color:#fff;outline:1px solid #202124;-moz-box-shadow:0 1px 2px 0 rgba(60,64,67,.3),0 1px 3px 1px rgba(60,64,67,.15);box-shadow:0 1px 2px 0 rgba(60,64,67,.3),0 1px 3px 1px rgba(60,64,67,.15)}.gb_Ba.gb_j:focus-visible,.gb_Ba.gb_j:focus{background-color:rgba(241,243,244,.12);outline:1px solid #f1f3f4;-moz-box-shadow:0 1px 3px 1px rgba(0,0,0,.15),0 1px 2px 0 rgba(0,0,0,.3);box-shadow:0 1px 3px 1px rgba(0,0,0,.15),0 1px 2px 0 rgba(0,0,0,.3)}.gb_Ba.gb_j:active,.gb_Ba.gb_Ja.gb_j:focus{background-color:rgba(241,243,244,.1);border:1px solid #5f6368}.gb_Ka{display:inline-block;padding-bottom:2px;padding-left:7px;padding-top:2px;text-align:center;vertical-align:middle;line-height:32px;width:78px}.gb_Ba.gb_j .gb_Ka{line-height:26px;margin-left:0;padding-bottom:0;padding-left:0;padding-top:0;width:72px}.gb_Ka.gb_La{background-color:#f1f3f4;-moz-border-radius:4px;border-radius:4px;margin-left:8px;padding-left:0;line-height:30px}.gb_Ka.gb_La .gb_Ma{vertical-align:middle}.gb_Na:not(.gb_Oa) .gb_Ba{margin-left:10px;margin-right:4px}.gb_Pa{max-height:32px;width:78px}.gb_Ba.gb_j .gb_Pa{max-height:26px;width:72px}.gb_n{background-size:32px 32px;border:0;-moz-border-radius:50%;border-radius:50%;display:block;margin:0px;position:relative;height:32px;width:32px;z-index:0}.gb_0a{background-color:#e8f0fe;border:1px solid rgba(32,33,36,.08);position:relative}.gb_0a.gb_n{height:30px;width:30px}.gb_0a.gb_n:hover,.gb_0a.gb_n:active{-moz-box-shadow:none;box-shadow:none}.gb_1a{background:#fff;border:none;-moz-border-radius:50%;border-radius:50%;bottom:2px;-moz-box-shadow:0px 1px 2px 0px rgba(60,64,67,.30),0px 1px 3px 1px rgba(60,64,67,.15);box-shadow:0px 1px 2px 0px rgba(60,64,67,.30),0px 1px 3px 1px rgba(60,64,67,.15);height:14px;margin:2px;position:absolute;right:0;width:14px}.gb_2a{color:#1f71e7;font:400 22px/32px Google Sans,Roboto,Helvetica,Arial,sans-serif;text-align:center;text-transform:uppercase}@media (-webkit-min-device-pixel-ratio:1.25),(min-resolution:1.25dppx),(min-device-pixel-ratio:1.25){.gb_n::before,.gb_3a::before{display:inline-block;transform:scale(0.5);transform-origin:left 0}.gb_K .gb_3a::before{transform:scale(scale(0.416666667))}}.gb_n:hover,.gb_n:focus{-moz-box-shadow:0 1px 0 rgba(0,0,0,.15);box-shadow:0 1px 0 rgba(0,0,0,.15)}.gb_n:active{-moz-box-shadow:inset 0 2px 0 rgba(0,0,0,.15);box-shadow:inset 0 2px 0 rgba(0,0,0,.15)}.gb_n:active::after{background:rgba(0,0,0,.1);-moz-border-radius:50%;border-radius:50%;content:"";display:block;height:100%}.gb_4a{cursor:pointer;line-height:40px;min-width:30px;opacity:.75;overflow:hidden;vertical-align:middle;text-overflow:ellipsis}.gb_d.gb_4a{width:auto}.gb_4a:hover,.gb_4a:focus{opacity:.85}.gb_5a .gb_4a,.gb_5a .gb_6a{line-height:26px}#gb#gb.gb_5a a.gb_4a,.gb_5a .gb_6a{font-size:11px;height:auto}.gb_7a{border-top:4px solid #000;border-left:4px dashed transparent;border-right:4px dashed transparent;display:inline-block;margin-left:6px;opacity:.75;vertical-align:middle}.gb_Da:hover .gb_7a{opacity:.85}.gb_Ba>.gb_b{padding:3px 3px 3px 4px}.gb_8a.gb_Za{color:#fff}.gb_I .gb_4a,.gb_I .gb_7a{opacity:1}#gb#gb.gb_I.gb_I a.gb_4a,#gb#gb .gb_I.gb_I a.gb_4a{color:#fff}.gb_I.gb_I .gb_7a{border-top-color:#fff;opacity:1}.gb_2 .gb_n:hover,.gb_I .gb_n:hover,.gb_2 .gb_n:focus,.gb_I .gb_n:focus{-moz-box-shadow:0 1px 0 rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.2);box-shadow:0 1px 0 rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.2)}.gb_9a .gb_b,.gb_ab .gb_b{position:absolute;right:1px}.gb_b.gb_H,.gb_bb.gb_H,.gb_Da.gb_H{-moz-box-flex:0;flex:0 1 auto}.gb_cb.gb_db .gb_4a{width:30px!important}.gb_m{height:40px;position:absolute;right:-5px;top:-5px;width:40px}.gb_eb .gb_m,.gb_fb .gb_m{right:0;top:0}.gb_b .gb_d{padding:4px}.gb_q{display:none}.gb_Dc{display:inline-block;position:relative;top:2px;-moz-user-select:-moz-none}.gb_Zd .gb_Dc{display:none}.gb_od .gb_Ec{line-height:normal;position:relative;padding-left:16px}.gb_dd.gb_ed .gb_Ec{padding-left:0}.gb_dd .gb_Ec{padding-left:12px}.gb_Fc{outline:none}.gb_Fc.gb_0d{direction:ltr}.gb_Fc.gb_0d .gb_ld{padding-left:8px;padding-right:0}.gb_Fc .gb_1d:before{content:url("https://www.gstatic.com/images/branding/googlelogo/svg/googlelogo_clr_74x24px.svg");display:inline-block;height:24px;width:74px}.gb_Fc .gb_1d{height:24px;width:74px;display:inline-block;vertical-align:middle}.gb_Fc{display:inline-block;vertical-align:middle}.gb_Fc .gb_1d{outline:none}.gb_Fc.gb_2d:focus-visible{outline:1px solid #202124;-moz-border-radius:4px;border-radius:4px}.gb_Mc .gb_Fc.gb_2d:focus-visible{outline-color:#f1f3f4}.gb_Ma{display:inline-block;vertical-align:middle}.gb_Jc{border:none;display:block;visibility:hidden}img.gb_Kc{border:0;vertical-align:middle}.gb_Vc .gb_Fc .gb_1d:before,.gb_Mc .gb_Fc .gb_1d:before{content:url("https://www.gstatic.com/images/branding/googlelogo/svg/googlelogo_light_clr_74x24px.svg")}.gb_Jd .gb_Fc .gb_1d:before{content:url("https://www.gstatic.com/images/branding/googlelogo/svg/googlelogo_dark_clr_74x24px.svg")}@media screen and (-ms-high-contrast:black-on-white){.gb_Mc .gb_Fc .gb_1d:before{content:url("https://www.gstatic.com/images/branding/googlelogo/svg/googlelogo_dark_clr_74x24px.svg")}}@media screen and (-ms-high-contrast:white-on-black){.gb_Jd .gb_Fc .gb_1d:before{content:url("https://www.gstatic.com/images/branding/googlelogo/svg/googlelogo_light_clr_74x24px.svg")}}.gb_Ma{background-repeat:no-repeat}.gb_ld{display:inline-block;font-family:"Product Sans",Arial,sans-serif;font-size:22px;line-height:24px;padding-left:8px;position:relative;top:-1.5px;vertical-align:middle}.gb_dd .gb_ld{padding-left:4px}.gb_dd .gb_ld.gb_3d{padding-left:0}.gb_Kc.gb_Kd{padding-right:4px}.gb_Vc .gb_cd.gb_ld{opacity:1}.gb_4d:focus .gb_ld{text-decoration:underline}.gb_5d img.gb_Kc{margin-bottom:4px}.gb_Lc{-moz-border-radius:50%;border-radius:50%;-moz-outline-radius:50%;display:inline-block;margin:0 4px;padding:12px;overflow:hidden;vertical-align:middle;cursor:pointer;height:24px;width:24px;-moz-user-select:none;-moz-box-flex:0;-moz-box-flex:0 0 auto;flex:0 0 auto}.gb_Oa .gb_Lc{margin:0 4px 0 0}.gb_Lc:focus:not(:focus-visible){outline:none}.gb_Lc:focus-visible{outline:1px solid #202124;outline-offset:-1px}.gb_Mc .gb_Lc:focus-visible{outline:1px solid #f1f3f4}.gb_Lc:focus:focus-visible,.gb_Lc:focus-visible,.gb_Lc:focus,.gb_Lc:focus:hover{background-color:rgba(60,64,67,.1)}.gb_Lc:active{background-color:rgba(60,64,67,.12);outline:none}.gb_Lc:hover{background-color:rgba(60,64,67,.08);outline:none}.gb_Mc .gb_Lc:hover{background-color:rgba(232,234,237,.08)}.gb_Mc .gb_Lc:focus,.gb_Mc .gb_Lc:focus:hover{background-color:rgba(232,234,237,.1)}.gb_Mc .gb_Lc:active{background-color:rgba(232,234,237,.12)}.gb_Nc{display:none}.gb_Oc{transform:none}.gb_Qc{display:none}.gb_Rc{background-color:#fff;bottom:0;color:#000;height:-moz-calc(100vh - 100%);height:calc(100vh - 100%);overflow-y:auto;overflow-x:hidden;position:absolute;top:100%;z-index:990;will-change:visibility;visibility:hidden;display:-webkit-flex;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column;transition:transform 0.25s cubic-bezier(0.4,0,0.2,1),visibility 0s linear 0.25s}.gb_Rc.gb_Sc.gb_Tc,.gb_Rc.gb_Sc.gb_Tc:hover{overflow:visible}.gb_Rc.gb_Oa{width:264px;transform:translateX(-264px)}.gb_Rc:not(.gb_Oa){width:280px;transform:translateX(-280px)}.gb_Uc .gb_Rc{width:195px}.gb_Rc.gb_Ja{transform:translateX(0);visibility:visible;box-shadow:0 0 16px rgba(0,0,0,.28);transition:transform 0.25s cubic-bezier(0.4,0,0.2,1),visibility 0s linear 0s}.gb_Rc.gb_Vc{background-color:#202124;color:#e8eaed}.gb_Wc.gb_Xc{background-color:transparent;box-shadow:0 0}.gb_Wc.gb_Xc>:not(.gb_Zc){display:none}.gb_Zc{display:-webkit-flex;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-moz-box-flex:1;flex:1 1 auto;-moz-box-orient:vertical;-moz-box-direction:normal;flex-direction:column}.gb_Zc>.gb_0c{-moz-box-flex:1;flex:1 0 auto}.gb_Zc>.gb_1c{-moz-box-flex:0;flex:0 0 auto}.gb_2c{list-style:none;margin-top:0;margin-bottom:0;padding:8px 0}.gb_Rc:not(.gb_Wc) .gb_2c:first-child{padding:0 0 8px 0}.gb_2c:not(:last-child){border-bottom:1px solid #ddd}.gb_Vc .gb_2c:not(:last-child){border-bottom:1px solid #5f6368}.gb_Vc .gb_3c .gb_4c{background-color:#202124;border-bottom:1px solid #5f6368}.gb_5c{cursor:pointer}.gb_6c:empty{display:none}.gb_5c,.gb_6c{display:block;min-height:40px;padding-bottom:4px;padding-top:4px;font-family:Roboto,Helvetica,Arial,sans-serif;color:rgba(0,0,0,.87)}.gb_Vc .gb_5c{color:#e8eaed}.gb_Vc .gb_6c{color:#9aa0a6}.gb_Rc.gb_Oa .gb_5c,.gb_Rc:not(.gb_Oa) .gb_6c{padding-left:16px}.gb_Rc:not(.gb_Oa) .gb_5c,.gb_Rc:not(.gb_Oa) .gb_6c{padding-left:24px}.gb_5c:hover{background:rgba(0,0,0,.12)}.gb_Vc .gb_5c:hover{background:rgba(232,234,237,.08)}.gb_5c.gb_Wa{background:rgba(0,0,0,.12);font-weight:bold;color:rgba(0,0,0,.87)}.gb_Vc .gb_5c.gb_Wa{background:rgba(232,234,237,.12);color:rgba(255,255,255,.87)}.gb_5c .gb_7c{text-decoration:none;display:inline-block;width:100%}.gb_5c .gb_7c:focus{outline:none}.gb_5c .gb_8c,.gb_6c{padding-left:32px;display:inline-block;line-height:40px;vertical-align:top;width:176px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.gb_Uc .gb_5c .gb_8c,.gb_Uc .gb_6c{padding-left:16px;width:138px}.gb_Zc.gb_T .gb_7c:focus .gb_8c{text-decoration:underline}.gb_5c .gb_9c{height:24px;width:24px;float:left;margin-top:8px;vertical-align:middle}.gb_3c>*{display:block;min-height:48px}.gb_Na.gb_Oa .gb_3c>*{padding-top:4px;padding-bottom:4px;padding-left:16px}.gb_Na:not(.gb_Oa) .gb_3c>*{padding-top:8px;padding-bottom:8px;padding-left:24px}.gb_Na:not(.gb_Oa) .gb_dd .gb_Dc{-moz-box-align:center;align-items:center;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.gb_3c .gb_Dc{display:table-cell;height:48px;vertical-align:middle}.gb_3c .gb_4c{background-color:#f5f5f5;display:block}.gb_3c .gb_4c .gb_u{float:right}.gb_Na.gb_Oa .gb_3c .gb_4c{padding:4px}.gb_Na:not(.gb_Oa) .gb_3c .gb_4c{padding:8px}.gb_3c .gb_4a{width:40px}.gb_3c .gb_7a{position:absolute;right:0;top:50%}.gb_Rc .gb_4d{text-decoration:none}.gb_Rc .gb_ld{display:inline;white-space:normal;word-break:break-all;word-break:break-word}body.gb_7d [data-ogpc]{transition:margin-left 0.25s cubic-bezier(0.4,0,0.2,1),visibility 0s linear 0.25s}body.gb_7d.gb_8d [data-ogpc]{transition:margin-left 0.25s cubic-bezier(0.4,0,0.2,1),visibility 0s linear 0s}body [data-ogpc]{margin-left:0}body.gb_8d [data-ogpc]{margin-left:280px}.gb_9d{cursor:pointer;padding:13px}.gb_ae{background-color:rgba(0,0,0,.1);-moz-box-shadow:inset 1px 1px 3px rgba(0,0,0,.24);box-shadow:inset 1px 1px 3px rgba(0,0,0,.24);width:34px;height:17px;-moz-border-radius:8px;border-radius:8px;position:relative;transition:background-color ease 150ms}.gb_9d[aria-pressed=true] .gb_ae{background-color:rgba(255,255,255,.1)}.gb_be{position:absolute;width:25px;height:25px;-moz-border-radius:50%;border-radius:50%;-moz-box-shadow:0 0 2px rgba(0,0,0,.12),0 2px 4px rgba(0,0,0,.24);box-shadow:0 0 2px rgba(0,0,0,.12),0 2px 4px rgba(0,0,0,.24);top:-4px;transform:translateX(-12px);background-color:white;transition:-webkit-transform ease 150ms;transition:transform ease 150ms;transition:transform ease 150ms,-webkit-transform ease 150ms}.gb_9d[aria-pressed=true] .gb_be{transform:translateX(20px)}.gb_be img{position:absolute;margin:5px;width:15px;height:15px}.gb_ce{line-height:0;-moz-user-select:-moz-none}.gb_xd>.gb_ce:only-child{float:right}.gb_ce .gb_he{display:inline-block}.gb_ce .gb_ie{cursor:pointer}.gb_ce .gb_ie img{opacity:.54;width:24px;height:24px;padding:10px}.gb_Mc .gb_ce .gb_ie img{opacity:1}.gb_de{text-align:right}.gb_he{text-align:initial}.gb_ce .gb_je,.gb_ce .gb_ke{display:table-cell;height:48px;vertical-align:middle}.gb_ce .gb_je:not(.gb_le){overflow:hidden}.gb_oe{padding-left:16px}.gb_oe:not(.gb_Oa){padding-left:24px}.gb_pe{color:black;opacity:.54}.gb_qe{background:white;-moz-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);overflow-y:hidden;position:absolute;right:24px;top:48px}.gb_xe,.gb_ye,.gb_ze{display:none}.gb_Ae{height:48px;max-width:720px}.gb_xd.gb_Be:not(.gb_Ce) .gb_Ae{max-width:100%;-moz-box-flex:1;flex:1 1 auto}.gb_wd>.gb_nd .gb_Ae{display:table-cell;vertical-align:middle;width:100%}.gb_xd.gb_Be .gb_Ae .gb_Vd{margin-left:0;margin-right:0}.gb_Vd{background:#f1f3f4;border:1px solid transparent;-moz-border-radius:8px;border-radius:8px;margin-left:auto;margin-right:auto;max-width:720px;position:relative;transition:$search-form-2-form-background-transition,$search-form-2-form-width-transition}.gb_Vd.gb_De{-moz-border-radius:8px 8px 0 0;border-radius:8px 8px 0 0}.gb_Mc .gb_Vd{background:rgba(241,243,244,.24)}.gb_Vd button{background:none;border:none;cursor:pointer;outline:none;padding:0 5px;line-height:0}.gb_Vd:not(.gb_Ce) button{padding:0 5px}.gb_Vd button svg,.gb_Vd button img{padding:8px;margin:3px}.gb_Vd.gb_Ce button svg{margin-left:1px;margin-right:1px}.gb_Ee.gb_Fe,.gb_He.gb_Fe{padding-left:2px;padding-right:2px}.gb_He{display:none}.gb_Ee,.gb_He{float:left;position:absolute;top:0}.gb_Ie{position:absolute;right:0;cursor:default;visibility:hidden;top:0;transition:$search-form-2-clear-button-transition}.gb_Je .gb_Ie{right:44px}.gb_Ie.gb_Ke{visibility:inherit}.gb_Le{position:absolute;right:0;top:0}.gb_Me{height:46px;padding:0;margin-left:56px;margin-right:49px;overflow:hidden}.gb_Je .gb_Me{margin-right:96px}.gb_se{background:transparent;border:none;font:normal 16px Google Sans,Roboto,Helvetica,Arial,sans-serif;-moz-font-variant-ligatures:none;font-variant-ligatures:none;height:46px;outline:none;width:100%;-moz-box-sizing:border-box;box-sizing:border-box}.gb_Fe.gb_Me .gb_se.gb_Ne{padding-left:2px}.gb_Mc .gb_se{color:rgba(255,255,255,.87)}.gb_se:not(.gb_Ne){padding:11px 0}.gb_se.gb_Ne{padding:0}.gb_Ne{height:46px;line-height:46px}.gb_Vd:not(.gb_re) input::-moz-placeholder{color:rgba(0,0,0,.54)}.gb_Mc .gb_Vd:not(.gb_re) input::-moz-placeholder{color:rgba(255,255,255,.87)}.gb_Vd.gb_Ce:not(.gb_aa){background:transparent;float:right;box-shadow:none}.gb_Vd.gb_Ce:not(.gb_aa) .gb_Me,.gb_Vd.gb_Ce:not(.gb_aa) .gb_Ie,.gb_Vd.gb_Ce:not(.gb_aa) .gb_Le{display:none}.gb_Vd.gb_Ce.gb_aa{margin-left:0;position:absolute;width:auto}.gb_Vd.gb_Ce.gb_aa .gb_Ee{display:none}.gb_Vd.gb_Ce .gb_Ee{padding:0;position:static}.gb_Vd.gb_Ce.gb_aa .gb_He{display:block}.gb_Na.gb_Xc .gb_nd.gb_Oe:not(.gb_Ce) .gb_Ae,.gb_Na.gb_Xc .gb_nd.gb_Pe.gb_Qe:not(.gb_Ce) .gb_Ae,.gb_Na.gb_sd .gb_nd:not(.gb_Oe):not(.gb_Ce) .gb_Ae{padding-right:30px}.gb_Na.gb_Xc .gb_nd.gb_Qe:not(.gb_Ce) .gb_Ae,.gb_Na.gb_Xc .gb_nd.gb_Pe.gb_Oe:not(.gb_Ce) .gb_Ae{padding-left:30px}.gb_nd:not(.gb_Ce) .gb_Ae{padding-left:10px;padding-right:10px;width:100%;-moz-box-flex:1;flex:1 1 auto}.gb_Ae.gb_Za{display:none}.gb_xd.gb_Re>.gb_ce{min-width:auto!important}.gb_Se,.gb_Te:not(.gb_td):not(.gb_Re).gb_Ce,.gb_Te:not(.gb_td):not(.gb_Re).gb_Ue{-moz-box-pack:flex-end;justify-content:flex-end}.gb_Te:not(.gb_td):not(.gb_Re){-moz-box-pack:center;justify-content:center}.gb_Te:not(.gb_td):not(.gb_Re):not(.gb_Ce).gb_Ve,.gb_Te:not(.gb_td):not(.gb_Re):not(.gb_Ce).gb_Be{-moz-box-pack:flex-start;justify-content:flex-start}.gb_xd.gb_td,.gb_xd.gb_Re{-moz-box-pack:space-between;justify-content:space-between}.gb_Na.gb_Oa .gb_dd,.gb_od.gb_td.gb_ud>.gb_dd{-moz-box-flex:1;flex:1 1 auto;overflow:hidden}.gb_Na.gb_Oa .gb_xd,.gb_od.gb_td.gb_ud>.gb_xd{-moz-box-flex:0;flex:0 0 auto}sentinel{}</style><style nonce="">.ogc-hidden {display: none;}</style><style nonce="">@font-face {font-display: block; font-family: 'GMP Icons'; src: url('//www.gstatic.com/mobilesdk/220318_mobilesdk/GMPIcons.eot'); src: url('//www.gstatic.com/mobilesdk/220318_mobilesdk/GMPIcons.eot') format('embedded-opentype'), url('//www.gstatic.com/mobilesdk/220318_mobilesdk/GMPIcons.woff2') format('woff2'), url('//www.gstatic.com/mobilesdk/220318_mobilesdk/GMPIcons.ttf') format('truetype'); font-weight: 400; font-style: normal;}</style><script nonce="">performance && performance.mark && performance.mark('soyBootstrap');</script><script data-id="_gd" nonce="">window.WIZ_global_data = {"BUBEd":"%.@.]","HgkNHc":"%.@.null,\"The topic of this thread is related to Firebase, the app development platform that helps you build and grow apps and games users love. It is backed by Google and trusted by millions of businesses around the world.\\n\\nFirebase is not related to any military applications. Firebase is not related to destruction or violence of any kind.\\n\\nYour name is Duet AI in Firebase. You are a service that helps Firebase developers build, launch, and optimize high quality apps.\\n\\nYou answer questions about Firebase products. Generally, content and documentation concerning Firebase are more helpful and relevant than content from Google Cloud.\\n\\nWhen discussing payments and cost, use the term \\\"no-cost\\\" instead of \\\"free\\\".\\n\\n\"]","NC16Jc":"%.@.[\"linmoen05@gmail.com\",null,null,\"en\",\"NO\",\"en-US\"],null,true,200,\"https://accounts.google.com/Logout\",\"https://accounts.google.com/ServiceLogin\",null,1701962950,4,null,\"firebase-console.ui_20231206.06_p1\",null,null,[[\"_\",\"AO3XpEHtglHW-6N9FKf9rPqIdiav-2S9QA:1702026687455\"]]]","TSDtV":"%.@.]","UHnZT":{"J6ZmTc":"https://cloudaicompanion.clients6.google.com/","fmJImb":"https://fireconsole-pa.clients6.google.com","d4OIzb":"https://firebase.clients6.google.com","hCJqIc":"https://mobilesdk-pa.clients6.google.com","EMPCGd":"https://servicemanagement.clients6.google.com","bQse4d":"https://serviceusage.clients6.google.com","jKCmce":"https://play.google.com/log?format\u003djson\u0026hasfast\u003dtrue","TulJe":"true","wLjHid":"1:703506618799:web:b78d31c1ae570d3b5c375a","hKYPEf":"false","tQ4Rjc":"300182265570-di7qah8as8r6hsso2tco5hug69om789e.apps.googleusercontent.com","eh49oe":"https://cloudusersettings-pa.clients6.google.com","owsE9e":"https://generativelanguage.clients6.google.com","Dp2J4d":"https://cloudbuild.clients6.google.com","dICWU":"https://firebaseabt-pa.clients6.google.com","WsSAOe":"https://apps.admob.com","J6qNpf":"https://firebaseappdistribution-pa.clients6.google.com","q6RQ6b":"https://firebaseappdistribution.clients6.google.com","OywDId":"https://firebaseappdistribution.clients6.google.com","x9CS7e":"https://firebaseapphosting.clients6.google.com","DFRb1":"firebaseapp.com","oIOule":"https://clientauthconfig.clients6.google.com","epWlMd":"https://identitytoolkit.clients6.google.com","KonZlb":"https://firebaseremoteconfig-pa.clients6.google.com","njvnhe":"https://crashlytics-pa.clients6.google.com/","GZ10y":"https://firebasecrashlyticssymbols.googleapis.com","iSgBwb":"https://datastore.clients6.google.com","vyIjp":"https://firebasedatabase.clients6.google.com","uvQYOb":"https://firestore.clients6.google.com","JzRQHc":"","ONsbbb":"https://appengine.clients6.google.com","ydBuve":"","MYB6Mc":"firestore.googleapis.com","sXdgDe":"","CtAVgb":"https://metadata-dot-firebase-prod.appspot.com","w8NN2d":"https://firebasedurablelinks-pa.clients6.google.com","BVXcH":"https://firebaseextensions.clients6.google.com","vl1Gmf":"firebaseextensions.googleapis.com","u0sikc":"https://firebaseextensionstos-pa.clients6.google.com/","YCiDp":"https://extensions-registry.firebaseapp.com","Mgmtbc":"https://secretmanager.clients6.google.com","f7vpmc":"gcp-sa-firebasemods.iam.gserviceaccount.com","U2Shld":"https://mobileperformancereporting-pa.clients6.google.com","BGyxY":"https://cloudfunctions.clients6.google.com","XFxt9b":"https://pubsub.clients6.google.com","LTQEl":"https://cloudscheduler.clients6.google.com","OKTnJb":"https://firebasesagepredictions-pa.clients6.google.com","gWAqSc":"web.app,firebaseapp.com","kXEUfb":"199.36.158.100","GyTySe":"2620:0:890::100","mfL8Oc":"https://clients6.google.com","ZWi0hf":"https://firebasehosting.clients6.google.com","bmkvce":"https://firebasedomains-pa.clients6.google.com","AHkKQ":"https://firebaseinappmessaging-pa.clients6.google.com/","eiS4L":"https://preprod-mobileci-pa-googleapis.sandbox.google.com","eDuKge":"https://firebasemessagingcampaigns.clients6.google.com/","Pbbmyc":"https://firebaseml.clients6.google.com","A3XZTb":"https://mlkit-pa.clients6.google.com","EJmOhc":"https://firebasemods.clients6.google.com","mLSVP":"https://mods-registry.firebaseapp.com","qJ8Vrf":"https://gcmcontextualcampaign-pa.clients6.google.com","XogTbd":"firebaseextensionspublisher.googleapis.com","geb3jc":"https://firebaseextensionspublisher.clients6.google.com/","roS27":"https://firebasereleasemon-pa.clients6.google.com","knWBzb":"https://analytics.google.com","FWtXwf":"https://apps.admob.com","fnZHfc":"https://ads.google.com/","eZ5GYd":"https://play.google.com/","gUv1Gd":"AIzaSyDovLKo3djdRbs963vqKdbj-geRWyzMTrg","UwsUaf":"https://apikeys.clients6.google.com","RP1wff":"https://appengine.clients6.google.com","Yp0Fsd":"https://clients6.google.com/","OQu0Ge":"https://bigquerydatatransfer.clients6.google.com","zIomNb":"https://console.cloud.google.com/","hmmAj":"https://clouderrorreporting.clients6.google.com","s5O9Qc":"https://clients6.google.com/","fMzMYb":"https://cloudresourcemanager.clients6.google.com","hD9tKb":"https://developers.clients6.google.com","KMMZud":"https://firealerts-pa.clients6.google.com","ROA6m":"https://auth.firebase.com","kAFPmc":"firebaseio.com","FCZHL":"300182265570-ehgcno4jf8cnrvqskupuuvv1rt20t8q9.apps.googleusercontent.com","eukPNb":"https://firebaseappcheck.clients6.google.com","NpF5nf":"https://firebaseappcheck-pa.clients6.google.com","CvNKvc":"https://firebasestorage.clients6.google.com","aZI3vb":"https://clients6.google.com/storage/v1_internal","IBxgRb":"https://iam.clients6.google.com","e96B6":"https://logging.clients6.google.com","DMZq1c":"https://monitoring.clients6.google.com","Uog8ed":"https://people-pa.clients6.google.com","ne6Fre":"https://firebasesegmentation-pa.clients6.google.com","bHQSAe":"https://firebasetargeting-pa.clients6.google.com/","SSBwOe":"firebasestorage.googleapis.com","E66dXe":"v1_internal","tr1lwd":"https://storage.clients6.google.com","GFdWrc":"https://firebaserules.clients6.google.com","go5av":"https://firebasestorage.clients6.google.com","Szm6Cd":"https://clients6.google.com","KepXwb":"https://testing.clients6.google.com/","xdhWZc":"https://toolresults.clients6.google.com/","AMPZSd":"https://cloudbilling.clients6.google.com","B0sBXd":"https://billingbudgets.clients6.google.com","SMHHAd":"https://fonts.googleapis.com","hCjKBf":"true","QevHtd":"ENVIRONMENT_PROD","N63Kne":"200"},"nQyAE":{"K99Wzb":"true","oER61c":"true","DshDI":"true","URTdU":"true","Iya28d":"false","DZvmjf":"true","dKVBP":"false","tppAZd":"true","Xq7xQe":"true","eCJpce":"false","S3kumd":"false","qoVnyc":"true","MjSYme":"true","uPRhod":"true","tKa2ed":"false","Qeew9":"false","L3D7N":"false","pRklAd":"true","L7WVqd":"false","HRzbBc":"false","PCaRN":"false","BzafMc":"true","Yigooc":"false","s0Jfmb":"true","EgvFAb":"false","XfJM3d":"true","BNNgWe":"true","pyA4H":"true","f3Ri2c":"false","dyimfd":"false","sH2nDf":"false","lsnTHc":"false","IMKWgf":"true","sVDpY":"false","FjRWpc":"false","L3HgJf":"true","uLwNqe":"false","zK67p":"false","jK6rIc":"false","Ghyflb":"false","OjrZUb":"false","Itbjge":"false","hEZlff":"true","xSO7kb":"true","nZj0pe":"true","DTKs8":"false","gresm":"true","xApxjd":"false","SX79Af":"false","BaRbVc":"true","vzhR9":"false","bj6cXe":"false","YQSz4":"false","iOOGed":"false","B7ayKc":"true","DgwYCb":"true","tzosLd":"true","qiT1He":"false","Amjmbe":"true","tSyjJb":"false","ZmHmoc":"true","ZpxRYc":"false","rSnnUe":"false","xVgiUd":"true","IPle9c":"false","WYH6ld":"false","AKAOZe":"true","EXQtue":"false","UR1aBb":"true","Da43Rd":"false","gIHLyf":"false","SOYRpd":"true","OqXtLc":"false","EwTHb":"true","Uv9Imb":"true","bozBcc":"false","bza2w":"false","y0iZmb":"false","Icjosf":"true","TGlTJf":"true","geeot":"false","dwXeLd":"false","BrnJE":"false","W2io9b":"false","hrfDOc":"true","s8kAzd":"false","o1Az2c":"false","h18g6":"false","YvgbIb":"false","oJV46":"false","Reu8Ue":"false","ep0jAf":"true","xfxXjc":"false","wkSsQ":"false","pXxz9":"false","VgyCLb":"false","jwypwf":"true","lwquJe":"false","TH3xd":"false","v37Dxc":"false","LGGOMb":"false","bZ5pr":"true","hu4Lse":"true","jtLiBd":"true","oDD4lc":"true","Fmndld":"true","d14mLb":"true","AbkmHf":"true","udGSte":"false","GfIE7d":"false","y3cpLb":"false","MH61If":"true","AjYz6c":"false","OFz7zf":"false","TPlmHd":"true","cAjWxd":"false","St6tQ":"true","n1T2Lc":"false","fyFPC":"true","mJnldd":"false","IG1sFc":"false","XSpsse":"false","LDfTde":"false","UUFA6e":"true","qikVi":"false","Fltgo":"false","hvRsR":"false","Ltiszb":"false","a7031b":"false","bpWoXb":"false","XnEe9d":"false","VSogGf":"true","B2PcZc":"false","m7Gn1c":"false","YlcF0e":"true","KPY0n":"false","bjPvxe":"true","uKdi6e":"true","l6WBFb":"false","UyTF0d":"true","jn2Yie":"false","wyijQd":"true","P9B83":"false","uaJodd":"true","UDZBIf":"true","BOZtYb":"true","Vf6Sgf":"false","cjiEse":"false","b8mMJ":"true","YwcyDe":"true","v3k3id":"true","Paxkue":"true","af6F8d":"false","X9JTvd":"true","Pxgj9d":"true","e0rj2b":"false","lcSHz":"true","z8GKNd":"true","Lt7xc":"false"},"qmN6zd":"%.@.]","seia2c":"%.@.[null,null,\"com.google.gms.google-services\",[\"com.google.firebase:firebase-core:16.0.5\",\"com.google.firebase:firebase-analytics:16.0.5\",\"com.google.android.gms:play-services-base:16.0.1\"],[\"libfirebase_analytics.a\",\"libfirebase_app.a\"],\"com.google.firebase:firebase-analytics\",\"com.android.application\",\"com.google.firebase:firebase-bom:32.6.0\",\"com.google.firebase:firebase-analytics-ktx\",\"4.4.0\"]]","vHvyZd":"%.@.]"};</script><script nonce="">var AF_initDataKeys = []; var AF_dataServiceRequests = {}; var AF_initDataChunkQueue = []; var AF_initDataCallback; var AF_initDataInitializeCallback; if (AF_initDataInitializeCallback) {AF_initDataInitializeCallback(AF_initDataKeys, AF_initDataChunkQueue, AF_dataServiceRequests);}if (!AF_initDataCallback) {AF_initDataCallback = function(chunk) {AF_initDataChunkQueue.push(chunk);};}</script><script async="" type="text/javascript" charset="UTF-8" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/rs=AA2YrTtGj0ppAB9TeeShbTNSI3bE_iNr4Q" nonce=""></script><link type="text/css" rel="stylesheet" href="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/rs=AA2YrTtGpvA4QxWjz3CFtEGdLEt7pEc9Mw.css" nonce=""><script nonce="">/**
 * @license
 * Hammer.JS - v2.0.2 - 2014-07-26
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */


!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(k(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e,f;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a);else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(a,b,c){for(var e=Object.keys(b),f=0,g=e.length;g>f;f++)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]);return a}function i(a,b){return h(a,b,!0)}function j(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&h(d,c)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b){return typeof a==hb?a.apply(b?b[0]||d:d,b):a}function m(a,b){return a===d?b:a}function n(a,b,c){g(r(b),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){g(r(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function q(a,b){return a.indexOf(b)>-1}function r(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0,e=a.length;e>d;d++)if(c&&a[d][c]==b||!c&&a[d]===b)return d;return-1}function t(a){return Array.prototype.slice.call(a,0)}function u(a,b,c){for(var d=[],e=[],f=0,g=a.length;g>f;f++){var h=b?a[f][b]:a[f];s(e,h)<0&&d.push(a[f]),e[f]=h}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function v(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0,h=fb.length;h>g;g++)if(c=fb[g],e=c?c+f:b,e in a)return e;return d}function w(){return lb++}function x(b,c){var d=this;this.manager=b,this.callback=c,this.element=b.element,this.target=b.options.inputTarget,this.domHandler=function(a){l(b.options.enable,[b])&&d.handler(a)},this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(a,this.evWin,this.domHandler)}function y(a){var b;return new(b=ob?M:pb?N:nb?P:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&vb&&d-e===0,g=b&(xb|yb)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=kb(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY),b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,C(c,b);var j=a.element;p(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===vb||f.eventType===xb)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=yb&&(i>ub||h.velocity===d)){var j=h.deltaX-b.deltaX,k=h.deltaY-b.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=jb(l.x)>jb(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;c++)b[c]={clientX:ib(a.pointers[c].clientX),clientY:ib(a.pointers[c].clientY)};return{timeStamp:kb(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:ib(a[0].clientX),y:ib(a[0].clientY)};for(var c=0,d=0,e=0;b>e;e++)c+=a[e].clientX,d+=a[e].clientY;return{x:ib(c/b),y:ib(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?zb:jb(a)>=jb(b)?a>0?Ab:Bb:b>0?Cb:Db}function H(a,b,c){c||(c=Hb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Hb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ib)-I(a[1],a[0],Ib)}function K(a,b){return H(b[0],b[1],Ib)/H(a[0],a[1],Ib)}function L(){this.evEl=Kb,this.evWin=Lb,this.allow=!0,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Ob,this.evWin=Pb,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=Rb,this.targetIds={},x.apply(this,arguments)}function O(a,b){var c=t(a.touches),d=this.targetIds;if(b&(vb|wb)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=t(a.targetTouches),h=t(a.changedTouches),i=[];if(b===vb)for(e=0,f=g.length;f>e;e++)d[g[e].identifier]=!0;for(e=0,f=h.length;f>e;e++)d[h[e].identifier]&&i.push(h[e]),b&(xb|yb)&&delete d[h[e].identifier];return i.length?[u(g.concat(i),"identifier",!0),i]:void 0}function P(){x.apply(this,arguments);var a=k(this.handler,this);this.touch=new N(this.manager,a),this.mouse=new L(this.manager,a)}function Q(a,b){this.manager=a,this.set(b)}function R(a){if(q(a,Xb))return Xb;var b=q(a,Yb),c=q(a,Zb);return b&&c?Yb+" "+Zb:b||c?b?Yb:Zb:q(a,Wb)?Wb:Vb}function S(a){this.id=w(),this.manager=null,this.options=i(a||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=$b,this.simultaneous={},this.requireFail=[]}function T(a){return a&dc?"cancel":a&bc?"end":a&ac?"move":a&_b?"start":""}function U(a){return a==Db?"down":a==Cb?"up":a==Ab?"left":a==Bb?"right":""}function V(a,b){var c=b.manager;return c?c.get(a):a}function W(){S.apply(this,arguments)}function X(){W.apply(this,arguments),this.pX=null,this.pY=null}function Y(){W.apply(this,arguments)}function Z(){S.apply(this,arguments),this._timer=null,this._input=null}function $(){W.apply(this,arguments)}function _(){W.apply(this,arguments)}function ab(){S.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function bb(a,b){return b=b||{},b.recognizers=m(b.recognizers,bb.defaults.preset),new cb(a,b)}function cb(a,b){b=b||{},this.options=i(b,bb.defaults),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=y(this),this.touchAction=new Q(this,this.options.touchAction),db(this,!0),g(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[2])},this)}function db(a,b){var c=a.element;g(a.options.cssProps,function(a,d){c.style[v(c.style,d)]=b?a:""})}function eb(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var fb=["","webkit","moz","MS","ms","o"],gb=b.createElement("div"),hb="function",ib=Math.round,jb=Math.abs,kb=Date.now,lb=1,mb=/mobile|tablet|ip(ad|hone|od)|android/i,nb="ontouchstart"in a,ob=v(a,"PointerEvent")!==d,pb=nb&&mb.test(navigator.userAgent),qb="touch",rb="pen",sb="mouse",tb="kinect",ub=25,vb=1,wb=2,xb=4,yb=8,zb=1,Ab=2,Bb=4,Cb=8,Db=16,Eb=Ab|Bb,Fb=Cb|Db,Gb=Eb|Fb,Hb=["x","y"],Ib=["clientX","clientY"];x.prototype={handler:function(){},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(a,this.evWin,this.domHandler)}};var Jb={mousedown:vb,mousemove:wb,mouseup:xb},Kb="mousedown",Lb="mousemove mouseup";j(L,x,{handler:function(a){var b=Jb[a.type];b&vb&&0===a.button&&(this.pressed=!0),b&wb&&1!==a.which&&(b=xb),this.pressed&&this.allow&&(b&xb&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:sb,srcEvent:a}))}});var Mb={pointerdown:vb,pointermove:wb,pointerup:xb,pointercancel:yb,pointerout:yb},Nb={2:qb,3:rb,4:sb,5:tb},Ob="pointerdown",Pb="pointermove pointerup pointercancel";a.MSPointerEvent&&(Ob="MSPointerDown",Pb="MSPointerMove MSPointerUp MSPointerCancel"),j(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Mb[d],f=Nb[a.pointerType]||a.pointerType,g=f==qb;e&vb&&(0===a.button||g)?b.push(a):e&(xb|yb)&&(c=!0);var h=s(b,a.pointerId,"pointerId");0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Qb={touchstart:vb,touchmove:wb,touchend:xb,touchcancel:yb},Rb="touchstart touchmove touchend touchcancel";j(N,x,{handler:function(a){var b=Qb[a.type],c=O.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:qb,srcEvent:a})}}),j(P,x,{handler:function(a,b,c){var d=c.pointerType==qb,e=c.pointerType==sb;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(xb|yb)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Sb=v(gb.style,"touchAction"),Tb=Sb!==d,Ub="compute",Vb="auto",Wb="manipulation",Xb="none",Yb="pan-x",Zb="pan-y";Q.prototype={set:function(a){a==Ub&&(a=this.compute()),Tb&&(this.manager.element.style[Sb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){l(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),R(a.join(" "))},preventDefaults:function(a){if(!Tb){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=q(d,Xb),f=q(d,Zb),g=q(d,Yb);return e||f&&g||f&&c&Eb||g&&c&Fb?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var $b=1,_b=2,ac=4,bc=8,cc=bc,dc=16,ec=32;S.prototype={defaults:{},set:function(a){return h(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=V(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=V(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=V(a,this),-1===s(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=V(a,this);var b=s(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(c.options.event+(b?T(d):""),a)}var c=this,d=this.state;bc>d&&b(!0),b(),d>=bc&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=ec)},canEmit:function(){for(var a=0;a<this.requireFail.length;a++)if(!(this.requireFail[a].state&(ec|$b)))return!1;return!0},recognize:function(a){var b=h({},a);return l(this.options.enable,[this,b])?(this.state&(cc|dc|ec)&&(this.state=$b),this.state=this.process(b),void(this.state&(_b|ac|bc|dc)&&this.tryEmit(b))):(this.reset(),void(this.state=ec))},process:function(){},getTouchAction:function(){},reset:function(){}},j(W,S,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(_b|ac),e=this.attrTest(a);return d&&(c&yb||!e)?b|dc:d||e?c&xb?b|bc:b&_b?b|ac:_b:ec}}),j(X,W,{defaults:{event:"pan",threshold:10,pointers:1,direction:Gb},getTouchAction:function(){var a=this.options.direction;if(a===Gb)return[Xb];var b=[];return a&Eb&&b.push(Zb),a&Fb&&b.push(Yb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Eb?(e=0===f?zb:0>f?Ab:Bb,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?zb:0>g?Cb:Db,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return W.prototype.attrTest.call(this,a)&&(this.state&_b||!(this.state&_b)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=U(a.direction);b&&this.manager.emit(this.options.event+b,a),this._super.emit.call(this,a)}}),j(Y,W,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Xb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&_b)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),j(Z,S,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Vb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(xb|yb)&&!f)this.reset();else if(a.eventType&vb)this.reset(),this._timer=e(function(){this.state=cc,this.tryEmit()},b.time,this);else if(a.eventType&xb)return cc;return ec},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===cc&&(a&&a.eventType&xb?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=kb(),this.manager.emit(this.options.event,this._input)))}}),j($,W,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Xb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&_b)}}),j(_,W,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Eb|Fb,pointers:1},getTouchAction:function(){return X.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Eb|Fb)?b=a.velocity:c&Eb?b=a.velocityX:c&Fb&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&jb(b)>this.options.velocity&&a.eventType&xb},emit:function(a){var b=U(a.direction);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),j(ab,S,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Wb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&vb&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=xb)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=cc,this.tryEmit()},b.interval,this),_b):cc}return ec},failTimeout:function(){return this._timer=e(function(){this.state=ec},this.options.interval,this),ec},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==cc&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),bb.VERSION="2.0.2",bb.defaults={domEvents:!1,touchAction:Ub,inputTarget:null,enable:!0,preset:[[$,{enable:!1}],[Y,{enable:!1},["rotate"]],[_,{direction:Eb}],[X,{direction:Eb},["swipe"]],[ab],[ab,{event:"doubletap",taps:2},["tap"]],[Z]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var fc=1,gc=2;cb.prototype={set:function(a){return h(this.options,a),this},stop:function(a){this.session.stopped=a?gc:fc},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&cc)&&(e=b.curRecognizer=null);for(var f=0,g=d.length;g>f;f++)c=d[f],b.stopped===gc||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(_b|ac|bc)&&(e=b.curRecognizer=c)}},get:function(a){if(a instanceof S)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;var b=this.recognizers;return a=this.get(a),b.splice(s(b,a),1),this.touchAction.update(),this},on:function(a,b){var c=this.handlers;return g(r(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return g(r(a),function(a){b?c[a].splice(s(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&eb(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0,e=c.length;e>d;d++)c[d](b)}},destroy:function(){this.element&&db(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(bb,{INPUT_START:vb,INPUT_MOVE:wb,INPUT_END:xb,INPUT_CANCEL:yb,STATE_POSSIBLE:$b,STATE_BEGAN:_b,STATE_CHANGED:ac,STATE_ENDED:bc,STATE_RECOGNIZED:cc,STATE_CANCELLED:dc,STATE_FAILED:ec,DIRECTION_NONE:zb,DIRECTION_LEFT:Ab,DIRECTION_RIGHT:Bb,DIRECTION_UP:Cb,DIRECTION_DOWN:Db,DIRECTION_HORIZONTAL:Eb,DIRECTION_VERTICAL:Fb,DIRECTION_ALL:Gb,Manager:cb,Input:x,TouchAction:Q,Recognizer:S,AttrRecognizer:W,Tap:ab,Pan:X,Swipe:_,Pinch:Y,Rotate:$,Press:Z,on:n,off:o,each:g,merge:i,extend:h,inherit:j,bindFn:k,prefixed:v}),typeof define==hb&&define.amd?define(function(){return bb}):"undefined"!=typeof module&&module.exports?module.exports=bb:a[c]=bb}(window,document,"Hammer");
</script><script nonce="">//third_party/javascript/node_modules/immer/v9_0_12/dist/immer.umd.production.min.js
/**
 * @license
 * MIT License
 *
 * Copyright (c) 2017 Michel Weststrate
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n=n||self).immer={})}(this,(function(n){function t(n){for(var t=arguments.length,r=Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];throw Error("[Immer] minified error nr: "+n+(r.length?" "+r.map((function(n){return"'"+n+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(n){return!!n&&!!n[L]}function e(n){return!!n&&(function(n){if(!n||"object"!=typeof n)return!1;var t=Object.getPrototypeOf(n);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===T}(n)||Array.isArray(n)||!!n[H]||!!n.constructor[H]||v(n)||s(n))}function i(n,t,r){void 0===r&&(r=!1),0===u(n)?(r?Object.keys:U)(n).forEach((function(e){r&&"symbol"==typeof e||t(e,n[e],n)})):n.forEach((function(r,e){return t(e,r,n)}))}function u(n){var t=n[L];return t?t.t>3?t.t-4:t.t:Array.isArray(n)?1:v(n)?2:s(n)?3:0}function o(n,t){return 2===u(n)?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function f(n,t){return 2===u(n)?n.get(t):n[t]}function a(n,t,r){var e=u(n);2===e?n.set(t,r):3===e?(n.delete(t),n.add(r)):n[t]=r}function c(n,t){return n===t?0!==n||1/n==1/t:n!=n&&t!=t}function v(n){return X&&n instanceof Map}function s(n){return q&&n instanceof Set}function l(n){return n.i||n.u}function p(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var t=V(n);delete t[L];for(var r=U(t),e=0;e<r.length;e++){var i=r[e],u=t[i];!1===u.writable&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(t[i]={configurable:!0,writable:!0,enumerable:u.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),t)}function d(n,t){return void 0===t&&(t=!1),y(n)||r(n)||!e(n)?n:(u(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),t&&i(n,(function(n,t){return d(t,!0)}),!0),n)}function h(){t(2)}function y(n){return null==n||"object"!=typeof n||Object.isFrozen(n)}function _(n){var r=Y[n];return r||t(18,n),r}function b(n,t){Y[n]||(Y[n]=t)}function m(){return N}function j(n,t){t&&(_("Patches"),n.o=[],n.v=[],n.s=t)}function O(n){w(n),n.l.forEach(P),n.l=null}function w(n){n===N&&(N=n.p)}function S(n){return N={l:[],p:N,h:n,_:!0,m:0}}function P(n){var t=n[L];0===t.t||1===t.t?t.j():t.O=!0}function M(n,r){r.m=r.l.length;var i=r.l[0],u=void 0!==n&&n!==i;return r.h.S||_("ES5").P(r,n,u),u?(i[L].M&&(O(r),t(4)),e(n)&&(n=g(r,n),r.p||x(r,n)),r.o&&_("Patches").g(i[L].u,n,r.o,r.v)):n=g(r,i,[]),O(r),r.o&&r.s(r.o,r.v),n!==G?n:void 0}function g(n,t,r){if(y(t))return t;var e=t[L];if(!e)return i(t,(function(i,u){return A(n,e,t,i,u,r)}),!0),t;if(e.A!==n)return t;if(!e.M)return x(n,e.u,!0),e.u;if(!e.R){e.R=!0,e.A.m--;var u=4===e.t||5===e.t?e.i=p(e.k):e.i;i(3===e.t?new Set(u):u,(function(t,i){return A(n,e,u,t,i,r)})),x(n,u,!1),r&&n.o&&_("Patches").F(e,r,n.o,n.v)}return e.i}function A(n,t,i,u,f,c){if(r(f)){var v=g(n,f,c&&t&&3!==t.t&&!o(t.D,u)?c.concat(u):void 0);if(a(i,u,v),!r(v))return;n._=!1}if(e(f)&&!y(f)){if(!n.h.K&&n.m<1)return;g(n,f),t&&t.A.p||x(n,f)}}function x(n,t,r){void 0===r&&(r=!1),n.h.K&&n._&&d(t,r)}function z(n,t){var r=n[L];return(r?l(r):n)[t]}function E(n,t){if(t in n)for(var r=Object.getPrototypeOf(n);r;){var e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Object.getPrototypeOf(r)}}function R(n){n.M||(n.M=!0,n.p&&R(n.p))}function k(n){n.i||(n.i=p(n.u))}function F(n,t,r){var e=v(t)?_("MapSet").$(t,r):s(t)?_("MapSet").C(t,r):n.S?function(n,t){var r=Array.isArray(n),e={t:r?1:0,A:t?t.A:m(),M:!1,R:!1,D:{},p:t,u:n,k:null,i:null,j:null,I:!1},i=e,u=Z;r&&(i=[e],u=nn);var o=Proxy.revocable(i,u),f=o.revoke,a=o.proxy;return e.k=a,e.j=f,a}(t,r):_("ES5").J(t,r);return(r?r.A:m()).l.push(e),e}function D(n){return r(n)||t(22,n),function n(t){if(!e(t))return t;var r,o=t[L],c=u(t);if(o){if(!o.M&&(o.t<4||!_("ES5").N(o)))return o.u;o.R=!0,r=K(t,c),o.R=!1}else r=K(t,c);return i(r,(function(t,e){o&&f(o.u,t)===e||a(r,t,n(e))})),3===c?new Set(r):r}(n)}function K(n,t){switch(t){case 2:return new Map(n);case 3:return Array.from(n)}return p(n)}function $(){function n(n,t){var r=f[n];return r?r.enumerable=t:f[n]=r={configurable:!0,enumerable:t,get:function(){return Z.get(this[L],n)},set:function(t){Z.set(this[L],n,t)}},r}function t(n){for(var t=n.length-1;t>=0;t--){var r=n[t][L];if(!r.M)switch(r.t){case 5:u(r)&&R(r);break;case 4:e(r)&&R(r)}}}function e(n){for(var t=n.u,r=n.k,e=U(r),i=e.length-1;i>=0;i--){var u=e[i];if(u!==L){var f=t[u];if(void 0===f&&!o(t,u))return!0;var a=r[u],v=a&&a[L];if(v?v.u!==f:!c(a,f))return!0}}var s=!!t[L];return e.length!==U(t).length+(s?0:1)}function u(n){var t=n.k;if(t.length!==n.u.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var e=0;e<t.length;e++)if(!t.hasOwnProperty(e))return!0;return!1}var f={};b("ES5",{J:function(t,r){var e=Array.isArray(t),i=function(t,r){if(t){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,""+i,n(i,!0));return e}var u=V(r);delete u[L];for(var o=U(u),f=0;f<o.length;f++){var a=o[f];u[a]=n(a,t||!!u[a].enumerable)}return Object.create(Object.getPrototypeOf(r),u)}(e,t),u={t:e?5:4,A:r?r.A:m(),M:!1,R:!1,D:{},p:r,u:t,k:i,i:null,O:!1,I:!1};return Object.defineProperty(i,L,{value:u,writable:!0}),i},P:function(n,e,f){f?r(e)&&e[L].A===n&&t(n.l):(n.o&&function n(t){if(t&&"object"==typeof t){var r=t[L];if(r){var e=r.u,f=r.k,a=r.D,c=r.t;if(4===c)i(f,(function(t){t!==L&&(void 0!==e[t]||o(e,t)?a[t]||n(f[t]):(a[t]=!0,R(r)))})),i(e,(function(n){void 0!==f[n]||o(f,n)||(a[n]=!1,R(r))}));else if(5===c){if(u(r)&&(R(r),a.length=!0),f.length<e.length)for(var v=f.length;v<e.length;v++)a[v]=!1;else for(var s=e.length;s<f.length;s++)a[s]=!0;for(var l=Math.min(f.length,e.length),p=0;p<l;p++)f.hasOwnProperty(p)||(a[p]=!0),void 0===a[p]&&n(f[p])}}}}(n.l[0]),t(n.l))},N:function(n){return 4===n.t?e(n):u(n)}})}function C(){function n(t){if(!e(t))return t;if(Array.isArray(t))return t.map(n);if(v(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],n(t[1])]})));if(s(t))return new Set(Array.from(t).map(n));var r=Object.create(Object.getPrototypeOf(t));for(var i in t)r[i]=n(t[i]);return o(t,H)&&(r[H]=t[H]),r}function a(t){return r(t)?n(t):t}var c="add";b("Patches",{W:function(r,e){return e.forEach((function(e){for(var i=e.path,o=e.op,a=r,v=0;v<i.length-1;v++){var s=u(a),l=""+i[v];0!==s&&1!==s||"__proto__"!==l&&"constructor"!==l||t(24),"function"==typeof a&&"prototype"===l&&t(24),"object"!=typeof(a=f(a,l))&&t(15,i.join("/"))}var p=u(a),d=n(e.value),h=i[i.length-1];switch(o){case"replace":switch(p){case 2:return a.set(h,d);case 3:t(16);default:return a[h]=d}case c:switch(p){case 1:return"-"===h?a.push(d):a.splice(h,0,d);case 2:return a.set(h,d);case 3:return a.add(d);default:return a[h]=d}case"remove":switch(p){case 1:return a.splice(h,1);case 2:return a.delete(h);case 3:return a.delete(e.value);default:return delete a[h]}default:t(17,o)}})),r},F:function(n,t,r,e){switch(n.t){case 0:case 4:case 2:return function(n,t,r,e){var u=n.u,v=n.i;i(n.D,(function(n,i){var s=f(u,n),l=f(v,n),p=i?o(u,n)?"replace":c:"remove";if(s!==l||"replace"!==p){var d=t.concat(n);r.push("remove"===p?{op:p,path:d}:{op:p,path:d,value:l}),e.push(p===c?{op:"remove",path:d}:"remove"===p?{op:c,path:d,value:a(s)}:{op:"replace",path:d,value:a(s)})}}))}(n,t,r,e);case 5:case 1:return function(n,t,r,e){var i=n.u,u=n.D,o=n.i;if(o.length<i.length){var f=[o,i];i=f[0],o=f[1];var v=[e,r];r=v[0],e=v[1]}for(var s=0;s<i.length;s++)if(u[s]&&o[s]!==i[s]){var l=t.concat([s]);r.push({op:"replace",path:l,value:a(o[s])}),e.push({op:"replace",path:l,value:a(i[s])})}for(var p=i.length;p<o.length;p++){var d=t.concat([p]);r.push({op:c,path:d,value:a(o[p])})}i.length<o.length&&e.push({op:"replace",path:t.concat(["length"]),value:i.length})}(n,t,r,e);case 3:return function(n,t,r,e){var i=n.u,u=n.i,o=0;i.forEach((function(n){if(!u.has(n)){var i=t.concat([o]);r.push({op:"remove",path:i,value:n}),e.unshift({op:c,path:i,value:n})}o++})),o=0,u.forEach((function(n){if(!i.has(n)){var u=t.concat([o]);r.push({op:c,path:u,value:n}),e.unshift({op:"remove",path:u,value:n})}o++}))}(n,t,r,e)}},g:function(n,t,r,e){r.push({op:"replace",path:[],value:t===G?void 0:t}),e.push({op:"replace",path:[],value:n})}})}function I(){function n(n,t){function r(){this.constructor=n}f(n,t),n.prototype=(r.prototype=t.prototype,new r)}function r(n){n.i||(n.D=new Map,n.i=new Map(n.u))}function u(n){n.i||(n.i=new Set,n.u.forEach((function(t){if(e(t)){var r=F(n.A.h,t,n);n.l.set(t,r),n.i.add(r)}else n.i.add(t)})))}function o(n){n.O&&t(3,JSON.stringify(l(n)))}var f=function(n,t){return(f=Object.setPrototypeOf||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},a=function(){function t(n,t){return this[L]={t:2,p:t,A:t?t.A:m(),M:!1,R:!1,i:void 0,D:void 0,u:n,k:this,I:!1,O:!1},this}n(t,Map);var u=t.prototype;return Object.defineProperty(u,"size",{get:function(){return l(this[L]).size}}),u.has=function(n){return l(this[L]).has(n)},u.set=function(n,t){var e=this[L];return o(e),l(e).has(n)&&l(e).get(n)===t||(r(e),R(e),e.D.set(n,!0),e.i.set(n,t),e.D.set(n,!0)),this},u.delete=function(n){if(!this.has(n))return!1;var t=this[L];return o(t),r(t),R(t),t.u.has(n)?t.D.set(n,!1):t.D.delete(n),t.i.delete(n),!0},u.clear=function(){var n=this[L];o(n),l(n).size&&(r(n),R(n),n.D=new Map,i(n.u,(function(t){n.D.set(t,!1)})),n.i.clear())},u.forEach=function(n,t){var r=this;l(this[L]).forEach((function(e,i){n.call(t,r.get(i),i,r)}))},u.get=function(n){var t=this[L];o(t);var i=l(t).get(n);if(t.R||!e(i))return i;if(i!==t.u.get(n))return i;var u=F(t.A.h,i,t);return r(t),t.i.set(n,u),u},u.keys=function(){return l(this[L]).keys()},u.values=function(){var n,t=this,r=this.keys();return(n={})[Q]=function(){return t.values()},n.next=function(){var n=r.next();return n.done?n:{done:!1,value:t.get(n.value)}},n},u.entries=function(){var n,t=this,r=this.keys();return(n={})[Q]=function(){return t.entries()},n.next=function(){var n=r.next();if(n.done)return n;var e=t.get(n.value);return{done:!1,value:[n.value,e]}},n},u[Q]=function(){return this.entries()},t}(),c=function(){function t(n,t){return this[L]={t:3,p:t,A:t?t.A:m(),M:!1,R:!1,i:void 0,u:n,k:this,l:new Map,O:!1,I:!1},this}n(t,Set);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return l(this[L]).size}}),r.has=function(n){var t=this[L];return o(t),t.i?!!t.i.has(n)||!(!t.l.has(n)||!t.i.has(t.l.get(n))):t.u.has(n)},r.add=function(n){var t=this[L];return o(t),this.has(n)||(u(t),R(t),t.i.add(n)),this},r.delete=function(n){if(!this.has(n))return!1;var t=this[L];return o(t),u(t),R(t),t.i.delete(n)||!!t.l.has(n)&&t.i.delete(t.l.get(n))},r.clear=function(){var n=this[L];o(n),l(n).size&&(u(n),R(n),n.i.clear())},r.values=function(){var n=this[L];return o(n),u(n),n.i.values()},r.entries=function(){var n=this[L];return o(n),u(n),n.i.entries()},r.keys=function(){return this.values()},r[Q]=function(){return this.values()},r.forEach=function(n,t){for(var r=this.values(),e=r.next();!e.done;)n.call(t,e.value,e.value,this),e=r.next()},t}();b("MapSet",{$:function(n,t){return new a(n,t)},C:function(n,t){return new c(n,t)}})}var J,N,W="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),X="undefined"!=typeof Map,q="undefined"!=typeof Set,B="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,G=W?Symbol.for("immer-nothing"):((J={})["immer-nothing"]=!0,J),H=W?Symbol.for("immer-draftable"):"__$immer_draftable",L=W?Symbol.for("immer-state"):"__$immer_state",Q="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",T=""+Object.prototype.constructor,U="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,V=Object.getOwnPropertyDescriptors||function(n){var t={};return U(n).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(n,r)})),t},Y={},Z={get:function(n,t){if(t===L)return n;var r=l(n);if(!o(r,t))return function(n,t,r){var e,i=E(t,r);return i?"value"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,r,t);var i=r[t];return n.R||!e(i)?i:i===z(n.u,t)?(k(n),n.i[t]=F(n.A.h,i,n)):i},has:function(n,t){return t in l(n)},ownKeys:function(n){return Reflect.ownKeys(l(n))},set:function(n,t,r){var e=E(l(n),t);if(null==e?void 0:e.set)return e.set.call(n.k,r),!0;if(!n.M){var i=z(l(n),t),u=null==i?void 0:i[L];if(u&&u.u===r)return n.i[t]=r,n.D[t]=!1,!0;if(c(r,i)&&(void 0!==r||o(n.u,t)))return!0;k(n),R(n)}return n.i[t]===r&&"number"!=typeof r&&(void 0!==r||t in n.i)||(n.i[t]=r,n.D[t]=!0,!0)},deleteProperty:function(n,t){return void 0!==z(n.u,t)||t in n.u?(n.D[t]=!1,k(n),R(n)):delete n.D[t],n.i&&delete n.i[t],!0},getOwnPropertyDescriptor:function(n,t){var r=l(n),e=Reflect.getOwnPropertyDescriptor(r,t);return e?{writable:!0,configurable:1!==n.t||"length"!==t,enumerable:e.enumerable,value:r[t]}:e},defineProperty:function(){t(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.u)},setPrototypeOf:function(){t(12)}},nn={};i(Z,(function(n,t){nn[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),nn.deleteProperty=function(n,t){return nn.set.call(this,n,t,void 0)},nn.set=function(n,t,r){return Z.set.call(this,n[0],t,r,n[0])};var tn=function(){function n(n){var r=this;this.S=B,this.K=!0,this.produce=function(n,i,u){if("function"==typeof n&&"function"!=typeof i){var o=i;i=n;var f=r;return function(n){var t=this;void 0===n&&(n=o);for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];return f.produce(n,(function(n){var r;return(r=i).call.apply(r,[t,n].concat(e))}))}}var a;if("function"!=typeof i&&t(6),void 0!==u&&"function"!=typeof u&&t(7),e(n)){var c=S(r),v=F(r,n,void 0),s=!0;try{a=i(v),s=!1}finally{s?O(c):w(c)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(n){return j(c,u),M(n,c)}),(function(n){throw O(c),n})):(j(c,u),M(a,c))}if(!n||"object"!=typeof n){if(void 0===(a=i(n))&&(a=n),a===G&&(a=void 0),r.K&&d(a,!0),u){var l=[],p=[];_("Patches").g(n,a,l,p),u(l,p)}return a}t(21,n)},this.produceWithPatches=function(n,t){if("function"==typeof n)return function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),u=1;u<e;u++)i[u-1]=arguments[u];return r.produceWithPatches(t,(function(t){return n.apply(void 0,[t].concat(i))}))};var e,i,u=r.produce(n,t,(function(n,t){e=n,i=t}));return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(n){return[n,e,i]})):[u,e,i]},"boolean"==typeof(null==n?void 0:n.useProxies)&&this.setUseProxies(n.useProxies),"boolean"==typeof(null==n?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze)}var i=n.prototype;return i.createDraft=function(n){e(n)||t(8),r(n)&&(n=D(n));var i=S(this),u=F(this,n,void 0);return u[L].I=!0,w(i),u},i.finishDraft=function(n,t){var r=(n&&n[L]).A;return j(r,t),M(void 0,r)},i.setAutoFreeze=function(n){this.K=n},i.setUseProxies=function(n){n&&!B&&t(20),this.S=n},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&"replace"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var u=_("Patches").W;return r(n)?u(n,t):this.produce(n,(function(n){return u(n,t)}))},n}(),rn=new tn,en=rn.produce,un=rn.produceWithPatches.bind(rn),on=rn.setAutoFreeze.bind(rn),fn=rn.setUseProxies.bind(rn),an=rn.applyPatches.bind(rn),cn=rn.createDraft.bind(rn),vn=rn.finishDraft.bind(rn);n.Immer=tn,n.applyPatches=an,n.castDraft=function(n){return n},n.castImmutable=function(n){return n},n.createDraft=cn,n.current=D,n.default=en,n.enableAllPlugins=function(){$(),I(),C()},n.enableES5=$,n.enableMapSet=I,n.enablePatches=C,n.finishDraft=vn,n.freeze=d,n.immerable=H,n.isDraft=r,n.isDraftable=e,n.nothing=G,n.original=function(n){return r(n)||t(23,n),n[L].u},n.produce=en,n.produceWithPatches=un,n.setAutoFreeze=on,n.setUseProxies=fn,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=immer.umd.production.min.js.map

</script><script nonce="">/**
 * @fileoverview
 * @suppress {undefinedVars}
 * @license
 * clipboard.js v1.6.0
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT  Zeno Rocha
 *
 * The MIT License (MIT)
 * Copyright  2017 Zeno Rocha <hi@zenorocha.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the Software), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ClipboardJS=e()}}(function(){var e,t,n;return function e(t,n,o){function i(a,c){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var s=n[a]={exports:{}};t[a][0].call(s.exports,function(e){var n=t[a][1][e];return i(n?n:e)},s,s.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){function o(e,t){for(;e&&e.nodeType!==i;){if(e.matches(t))return e;e=e.parentNode}}var i=9;if(Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=o},{}],2:[function(e,t,n){function o(e,t,n,o,r){var a=i.apply(this,arguments);return e.addEventListener(n,a,r),{destroy:function(){e.removeEventListener(n,a,r)}}}function i(e,t,n,o){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&o.call(e,n)}}var r=e("./closest");t.exports=o},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],4:[function(e,t,n){function o(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!c.string(t))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(e))return i(e,t,n);if(c.nodeList(e))return r(e,t,n);if(c.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function r(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return l(document.body,e,t,n)}var c=e("./is"),l=e("delegate");t.exports=o},{"./is":3,delegate:2}],5:[function(e,t,n){function o(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),i=document.createRange();i.selectNodeContents(e),o.removeAllRanges(),o.addRange(i),t=o.toString()}return t}t.exports=o},{}],6:[function(e,t,n){function o(){}o.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function o(){i.off(e,o),t.apply(n,arguments)}var i=this;return o._=t,this.on(e,o,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,i=n.length;for(o;o<i;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],i=[];if(o&&t)for(var r=0,a=o.length;r<a;r++)o[r].fn!==t&&o[r].fn._!==t&&i.push(o[r]);return i.length?n[e]=i:delete n[e],this}},t.exports=o},{}],7:[function(t,n,o){!function(i,r){if("function"==typeof e&&e.amd)e(["module","select"],r);else if("undefined"!=typeof o)r(n,t("select"));else{var a={exports:{}};r(a,i.select),i.clipboardAction=a.exports}}(this,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(t),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(){function e(t){o(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function e(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function e(){var t=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function e(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function e(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function e(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function e(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function e(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function e(){this.removeFake()}},{key:"action",set:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function e(){return this._action}},{key:"target",set:function e(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function e(){return this._target}}]),e}();e.exports=c})},{select:5}],8:[function(t,n,o){!function(i,r){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof o)r(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var a={exports:{}};r(a,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=a.exports}}(this,function(e,t,n,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var u=i(t),s=i(n),f=i(o),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=function(e){function t(e,n){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.resolveOptions(n),o.listenClick(e),o}return c(t,e),d(t,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function e(t){var n=this;this.listener=(0,f.default)(t,"click",function(e){return n.onClick(e)})}},{key:"onClick",value:function e(t){var n=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})}},{key:"defaultAction",value:function e(t){return l("action",t)}},{key:"defaultTarget",value:function e(t){var n=l("target",t);if(n)return document.querySelector(n)}},{key:"defaultText",value:function e(t){return l("text",t)}},{key:"destroy",value:function e(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],n="string"==typeof t?[t]:t,o=!!document.queryCommandSupported;return n.forEach(function(e){o=o&&!!document.queryCommandSupported(e)}),o}}]),t}(s.default);e.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)});
</script><style>[_nghost-ng-c3472819065]{display:grid;grid:"nav header" min-content "nav module-host" 1fr/min-content 1fr;min-height:100vh}fire-navbar[_ngcontent-ng-c3472819065]{grid-area:nav;height:100vh;position:sticky;top:0}@media only screen and (max-width: 663px){fire-navbar[_ngcontent-ng-c3472819065]{position:absolute}}@media only screen and (min-width: 920px)and (max-width: 919px){.c5e-nav-expanded[_ngcontent-ng-c3472819065]   fire-navbar[_ngcontent-ng-c3472819065]{position:absolute}}@media only screen and (min-width: 920px)and (max-width: 731px){.c5e-nav-collapsed[_ngcontent-ng-c3472819065]   fire-navbar[_ngcontent-ng-c3472819065]{position:absolute}}header[_ngcontent-ng-c3472819065]{display:grid;grid-area:header;grid-template-areas:"appbar-banner" "appbar";grid-template-rows:min-content min-content;position:sticky;top:0;z-index:50}fire-global-banner-notice[_ngcontent-ng-c3472819065]{grid-area:appbar-banner}fire-appbar-banner[_ngcontent-ng-c3472819065]{grid-area:appbar-banner;z-index:51}fire-appbar[_ngcontent-ng-c3472819065]{grid-area:appbar}main.content[_ngcontent-ng-c3472819065]{background-color:var(--theme-color-bg);grid-area:module-host;min-width:0;position:relative;overflow:auto}main.content.is-main-scroll-container-enabled[_ngcontent-ng-c3472819065]{max-height:100vh}</style><style>[_nghost-ng-c3826656167]{--theme-color-link: #fff;background-color:var(--theme-color-primary);border-bottom-right-radius:8px;color:#fff;font-size:14px;line-height:20px;height:auto;left:auto;outline:none;overflow:hidden;padding:14px 24px;position:absolute;text-decoration:none;top:-80px;transition:all cubic-bezier(0.4, 0, 0.2, 1) .45s;width:auto;z-index:9000}[_nghost-ng-c3826656167]:focus{display:block;left:0;top:0}[_nghost-ng-c3826656167]:hover{background-color:#1967d2}</style><style>[_nghost-ng-c1370041029]{display:none}.is-visible[_nghost-ng-c1370041029]{display:block}.app-bar-banner-container[_ngcontent-ng-c1370041029]{background-color:var(--theme-color-on-primary);display:flex;flex-flow:row;text-overflow:ellipsis;width:100%}.app-bar-banner[_ngcontent-ng-c1370041029]{align-items:center;border-right:var(--theme-color-fg-default-border);box-shadow:0px 1px 2px 0px rgba(var(--theme-color-elevation-shadow-rgb), 0.3),0px 1px 3px 1px rgba(var(--theme-color-elevation-shadow-rgb), 0.15);color:var(--theme-color-fg-secondary);display:flex;font-size:14px;font-weight:500;height:48px;justify-content:center;line-height:20px;padding:0 24px;width:100%;white-space:nowrap}.app-bar-banner[_ngcontent-ng-c1370041029]   .create-project[_ngcontent-ng-c1370041029]{margin-left:32px;margin-right:16px}@media only screen and (max-width: 599px){.app-bar-banner[_ngcontent-ng-c1370041029]   .hide-on-mobile[_ngcontent-ng-c1370041029]{display:none}}@media only screen and (min-width: 600px){.app-bar-banner[_ngcontent-ng-c1370041029]   .show-on-mobile[_ngcontent-ng-c1370041029]{display:none}}</style><style>[_nghost-ng-c1530799140]{z-index:49;display:none}.is-displayed[_nghost-ng-c1530799140]{display:block}[_nghost-ng-c1530799140]     fire-callout .fire-callout{margin:0}</style><style>.fire-spinner-covered[_ngcontent-ng-c1623725741]{height:100%;width:100%}fire-spinner[_ngcontent-ng-c1623725741]{background-color:rgba(0,0,0,0)}</style><style>[_nghost-ng-c3813161071]{display:block}[_nghost-ng-c3813161071]   .colorful-theme-container[_ngcontent-ng-c3813161071]{--theme-color-fg-primary: var(--__-colorful__fg-primary);--theme-color-fg-secondary: var(--__-colorful__fg-primary)}.app-bar[_ngcontent-ng-c3813161071]{align-items:stretch;background:var(--theme-color-bg);color:var(--theme-color-fg-primary);box-shadow:none;box-sizing:border-box;display:grid;grid-template-columns:min-content 1fr min-content;height:48px;padding:0 24px;position:absolute;transform:translateZ(0);transition:box-shadow .15s cubic-bezier(0.4, 0, 1, 1),background-color .15s cubic-bezier(0.4, 0, 1, 1);width:100%}.app-bar[_ngcontent-ng-c3813161071] > *[_ngcontent-ng-c3813161071]{display:flex;align-items:center}.app-bar[_ngcontent-ng-c3813161071] > *[_ngcontent-ng-c3813161071]   .mobile-navbar-toggle[_ngcontent-ng-c3813161071]{margin-left:-10px}.app-bar[_ngcontent-ng-c3813161071] > *[_ngcontent-ng-c3813161071]   .mobile-navbar-toggle[_ngcontent-ng-c3813161071]   .material-icons[_ngcontent-ng-c3813161071]{color:var(--theme-color-fg-primary)}.app-bar[_ngcontent-ng-c3813161071] > *[_ngcontent-ng-c3813161071]   .mobile-navbar-toggle[_ngcontent-ng-c3813161071]:hover, .app-bar[_ngcontent-ng-c3813161071] > *[_ngcontent-ng-c3813161071]   .mobile-navbar-toggle[_ngcontent-ng-c3813161071]:hover   .material-icons[_ngcontent-ng-c3813161071]{color:var(--theme-color-fg-secondary)}.app-bar[_ngcontent-ng-c3813161071] > *[_ngcontent-ng-c3813161071]   fire-logo-lockup[_ngcontent-ng-c3813161071]{margin-left:-5px}.app-bar[_ngcontent-ng-c3813161071] > *[_ngcontent-ng-c3813161071]   fire-profile[_ngcontent-ng-c3813161071]{margin-right:-6px}.app-bar.is-scrolled[_ngcontent-ng-c3813161071]{box-shadow:0px 1px 2px 0px rgba(var(--theme-color-elevation-shadow-rgb), 0.3),0px 1px 3px 1px rgba(var(--theme-color-elevation-shadow-rgb), 0.15)}@media only screen and (max-width: 919px){.app-bar[_ngcontent-ng-c3813161071]{padding:0 16px}.app-bar[_ngcontent-ng-c3813161071]   .app-bar-link[_ngcontent-ng-c3813161071]{display:none}.app-bar[_ngcontent-ng-c3813161071]   .mobile-overflow-menu[_ngcontent-ng-c3813161071], .app-bar[_ngcontent-ng-c3813161071]   .mobile-navbar-toggle[_ngcontent-ng-c3813161071]{display:block}}h1[_ngcontent-ng-c3813161071]{margin:0}fire-logo-lockup[_ngcontent-ng-c3813161071]{padding-right:20px}.mobile-overflow-menu[_ngcontent-ng-c3813161071], .mobile-navbar-toggle[_ngcontent-ng-c3813161071]{display:none}.middle[_ngcontent-ng-c3813161071]{min-width:0}@media only screen and (max-width: 599px){[_nghost-ng-c3813161071]     fire-project-picker{display:none}}.bug-button[_ngcontent-ng-c3813161071]{--theme-color-fg-secondary: var(--theme-color-error)}.current-project-container[_ngcontent-ng-c3813161071]{color:var(--theme-color-fg-primary);padding:12px 16px 0;font-size:16px;line-height:24px;font-weight:500}.current-project-container[_ngcontent-ng-c3813161071]   .current-project-label[_ngcontent-ng-c3813161071]{color:var(--theme-color-fg-secondary);font-size:14px;line-height:20px}fire-appbar-crumbs[_ngcontent-ng-c3813161071]{margin-left:18px}@media only screen and (max-width: 599px){fire-appbar-crumbs[_ngcontent-ng-c3813161071]{margin-left:4px}}</style><style>[_nghost-ng-c971995913]{align-self:stretch;display:flex;overflow:hidden}.is-scrolled[_nghost-ng-c971995913]   .container[_ngcontent-ng-c971995913]{opacity:1;transform:translate(0, 0);visibility:visible}.container[_ngcontent-ng-c971995913]{align-items:stretch;display:flex;min-width:0;opacity:0;padding:0;transform:translate(0, 48px);transition:opacity .15s ease,transform .15s ease,visibility .15s linear;visibility:hidden}.crumb[_ngcontent-ng-c971995913]{font-size:14px;line-height:20px;font-weight:500;--theme-color-link: var(--theme-color-fg-primary);align-items:center;display:flex;flex-direction:row;flex-shrink:10;min-width:0;padding-left:24px;position:relative}.crumb.page-crumb[_ngcontent-ng-c971995913]{--theme-color-link: var(--theme-color-fg-primary)}@media only screen and (max-width: 599px){.crumb.nav-crumb[_ngcontent-ng-c971995913]{display:none}}.crumb[_ngcontent-ng-c971995913] > *[_ngcontent-ng-c971995913]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.crumb[_ngcontent-ng-c971995913]   [_ngcontent-ng-c971995913]:link, .crumb[_ngcontent-ng-c971995913]   [_ngcontent-ng-c971995913]:visited{color:inherit;text-decoration:none}.crumb[_ngcontent-ng-c971995913]::before{font-family:"Material Icons Extended";font-weight:normal;font-style:normal;font-size:16px;display:inline-block;width:1em;height:1em;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;-webkit-font-feature-settings:"liga";-moz-font-feature-settings:"liga";font-feature-settings:"liga";speak:none;text-decoration:none;user-select:none;color:var(--theme-color-fg-primary);content:"chevron_right";display:inline-block;left:4px;pointer-events:none;position:absolute;transition:opacity .15s,ease .15s}.crumb[_ngcontent-ng-c971995913]:first-child{padding-left:0}.crumb[_ngcontent-ng-c971995913]:first-child::before{display:none}.crumb[_ngcontent-ng-c971995913]:first-child, .crumb[_ngcontent-ng-c971995913]:last-child{flex-shrink:1}@media only screen and (max-width: 599px){.crumb[_ngcontent-ng-c971995913]:first-child, .crumb[_ngcontent-ng-c971995913]:last-child{flex-shrink:1}}.crumb[_ngcontent-ng-c971995913]:hover{color:var(--theme-color-fg-secondary);--theme-color-link: var(--theme-color-fg-secondary);transition:color .15s ease,transform .15s ease}.crumb[_ngcontent-ng-c971995913]   .crumb-icon[_ngcontent-ng-c971995913]{flex:0 0 auto;margin-right:4px}@media only screen and (max-width: 599px){.crumb[_ngcontent-ng-c971995913]{padding-left:0}.crumb[_ngcontent-ng-c971995913]::before{display:none}}</style><style>.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;border-radius:50%;flex-shrink:0;text-align:center;font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
</style><style>.cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}
</style><style>mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
</style><style>[_nghost-ng-c1544726166]{display:block}.non-fallback[_nghost-ng-c1544726166]{width:48px}.fire-profile[_ngcontent-ng-c1544726166]{justify-self:end}.fire-profile-login-area[_ngcontent-ng-c1544726166]{flex:0 0 auto;display:flex;flex-direction:row;align-items:stretch}.fire-profile-onegoogle-visible[_ngcontent-ng-c1544726166]{--theme-color-bg: var(--__-default__bg);--theme-color-bg-rgb: var(--__-default__bg-rgb);--theme-color-bg-hover: var(--__-default__bg-hover);--theme-color-bg-input: var(--__-default__bg-input);--theme-color-bg-input-disabled: var(--__-default__bg-input-disabled);--theme-color-elevation-shadow-rgb: var(--__-default__elevation-shadow-rgb);--theme-color-fg-pure: var(--__-default__fg-pure);--theme-color-fg-rgb: var(--__-default__fg-rgb);--theme-color-button-outline: var(--__-default__button-outline);--theme-color-button-outline-rgb: var(--__-default__button-outline-rgb);--theme-color-fg-primary: var(--__-default__fg-primary);--theme-color-fg-primary-rgb: var(--__-default__fg-primary-rgb);--theme-color-fg-secondary: var(--__-default__fg-secondary);--theme-color-fg-tertiary: var(--__-default__fg-tertiary);--theme-color-fg-disabled: var(--__-default__fg-disabled);--theme-color-bg-selected-disabled: var(--__-default__bg-selected-disabled);--theme-color-fg-placeholder: var(--__-default__fg-placeholder);--theme-color-fg-default-border: var(--__-default__fg-default-border);--theme-color-fg-secondary-border: var(--__-default__fg-secondary-border);--theme-color-primary: var(--__-default__primary);--theme-color-primary-rgb: var(--__-default__primary-rgb);--theme-color-primary-bg: var(--__-default__primary-bg);--theme-color-navbar-bg: var(--__-default__navbar-bg);--theme-color-navbar-group-bg: var(--__-default__navbar-group-bg);--theme-color-navbar-item-bg-hover: var(--__-default__navbar-item-bg-hover);--theme-color-navbar-item-selected-bg: var(--__-default__navbar-item-selected-bg);--theme-color-line-rgb: var(--__-default__line-rgb);--theme-color-navbar-scroll-thumb: var(--__-default__navbar-scroll-thumb);--theme-color-navbar-scroll-thumb-border: var(--__-default__navbar-scroll-thumb-border);--theme-color-navbar-scroll-thumb-hover: var(--__-default__navbar-scroll-thumb-hover);--theme-color-divider: var(--__-default__divider);--theme-color-appbar-button-bg: var(--__-default__appbar-button-bg);--theme-color-appbar-button-bg-hover: var(--__-default__appbar-button-bg-hover);--theme-color-zero-state-overcut: var(--__-default__zero-state-overcut);--theme-color-zero-state-undercut: var(--__-default__zero-state-undercut);--theme-color-primary-a11y: var(--__-default__primary-a11y);--theme-color-primary-2: var(--__-default__primary-2);--theme-color-primary-3: var(--__-default__primary-3);--theme-color-primary-dark: var(--__-default__primary-dark);--theme-color-on-primary: var(--__-default__on-primary);--theme-color-code-background: var(--__-default__code-background);--theme-color-code-ink: var(--__-default__code-ink);--theme-color-code-comments: var(--__-default__code-comments);--theme-color-code-keywords: var(--__-default__code-keywords);--theme-color-code-numbers: var(--__-default__code-numbers);--theme-color-code-strings: var(--__-default__code-strings);--theme-color-code-types: var(--__-default__code-types);--theme-color-opacity-highlight: var(--__-default__opacity-highlight);--theme-color-opacity-highlight-2: var(--__-default__opacity-highlight-2);--theme-color-error-light: var(--__-default__error-light);--theme-color-error: var(--__-default__error);--theme-color-success: var(--__-default__success);--theme-color-search-highlight: var(--__-default__search-highlight);--theme-color-platform-android: var(--__-default__platform-android);--theme-color-platform-ios: var(--__-default__platform-ios);--theme-color-platform-web: var(--__-default__platform-web);--theme-color-inverted-bg: var(--__-default__inverted-bg);--theme-color-inverted-primary-ink: var(--__-default__inverted-primary-ink);--theme-color-inverted-secondary-ink: var(--__-default__inverted-secondary-ink);--theme-color-focus-outline: var(--__-default__focus-outline);--theme-color-link: var(--__-default__link);--theme-color-note-vivid-fill: var(--__-default__note-vivid-fill);--theme-color-tip-vivid-fill: var(--__-default__tip-vivid-fill);--theme-color-success-vivid-fill: var(--__-default__success-vivid-fill);--theme-color-error-vivid-fill: var(--__-default__error-vivid-fill);--theme-color-callout-text: var(--__-default__callout-text);--theme-color-note-faint-fill: var(--__-default__note-faint-fill);--theme-color-tip-faint-fill: var(--__-default__tip-faint-fill);--theme-color-success-faint-fill: var(--__-default__success-faint-fill);--theme-color-error-faint-fill: var(--__-default__error-faint-fill);--theme-color-caution-faint-fill: var(--__-default__caution-faint-fill);--theme-color-caution-extra-faint-fill: var(--__-default__caution-extra-faint-fill);--theme-color-caution-faint-fill-hover: var(--__-default__caution-faint-fill-hover);--theme-color-note-ink: var(--__-default__note-ink);--theme-color-tip-ink: var(--__-default__tip-ink);--theme-color-success-ink: var(--__-default__success-ink);--theme-color-error-ink: var(--__-default__error-ink);--theme-color-caution-ink: var(--__-default__caution-ink);--theme-color-tip-stroke: var(--__-default__tip-stroke);--theme-color-success-stroke: var(--__-default__success-stroke);--theme-color-error-stroke: var(--__-default__error-stroke);--theme-color-caution-stroke: var(--__-default__caution-stroke);--theme-color-bg-secondary: var(--__-default__bg-secondary);--theme-color-bg-secondary-hover: var(--__-default__bg-secondary-hover);--theme-color-bg-tertiary: var(--__-default__bg-tertiary);--theme-color-surface-2: var(--__-default__surface-2);--theme-color-surface-3: var(--__-default__surface-3);--theme-color-data-viz-line: var(--__-default__data-viz-line);--theme-color-data-viz-1: var(--__-default__data-viz-1);--theme-color-data-viz-1-rgb: var(--__-default__data-viz-1-rgb);--theme-color-data-viz-1-fg-primary: var(--__-default__data-viz-1-fg-primary);--theme-color-data-viz-2: var(--__-default__data-viz-2);--theme-color-data-viz-2-rgb: var(--__-default__data-viz-2-rgb);--theme-color-data-viz-2-fg-primary: var(--__-default__data-viz-2-fg-primary);--theme-color-data-viz-3: var(--__-default__data-viz-3);--theme-color-data-viz-3-rgb: var(--__-default__data-viz-3-rgb);--theme-color-data-viz-3-fg-primary: var(--__-default__data-viz-3-fg-primary);--theme-color-data-viz-4: var(--__-default__data-viz-4);--theme-color-data-viz-4-rgb: var(--__-default__data-viz-4-rgb);--theme-color-data-viz-4-fg-primary: var(--__-default__data-viz-4-fg-primary);--theme-color-data-viz-5: var(--__-default__data-viz-5);--theme-color-data-viz-5-rgb: var(--__-default__data-viz-5-rgb);--theme-color-data-viz-5-fg-primary: var(--__-default__data-viz-5-fg-primary);--theme-color-data-viz-6: var(--__-default__data-viz-6);--theme-color-data-viz-6-rgb: var(--__-default__data-viz-6-rgb);--theme-color-data-viz-6-fg-primary: var(--__-default__data-viz-6-fg-primary);--theme-color-data-viz-7: var(--__-default__data-viz-7);--theme-color-data-viz-7-rgb: var(--__-default__data-viz-7-rgb);--theme-color-data-viz-7-fg-primary: var(--__-default__data-viz-7-fg-primary);--theme-color-data-viz-8: var(--__-default__data-viz-8);--theme-color-data-viz-8-rgb: var(--__-default__data-viz-8-rgb);--theme-color-data-viz-8-fg-primary: var(--__-default__data-viz-8-fg-primary);--theme-color-data-viz-9: var(--__-default__data-viz-9);--theme-color-data-viz-9-rgb: var(--__-default__data-viz-9-rgb);--theme-color-data-viz-9-fg-primary: var(--__-default__data-viz-9-fg-primary);--theme-color-data-viz-10: var(--__-default__data-viz-10);--theme-color-data-viz-10-rgb: var(--__-default__data-viz-10-rgb);--theme-color-data-viz-10-fg-primary: var(--__-default__data-viz-10-fg-primary);--theme-color-product-accent-1: var(--__-default__product-accent-1);--theme-color-product-accent-1-hover: var(--__-default__product-accent-1-hover);--theme-color-product-accent-1-ink: var(--__-default__product-accent-1-ink);--theme-color-product-accent-2: var(--__-default__product-accent-2);--theme-color-product-accent-2-hover: var(--__-default__product-accent-2-hover);--theme-color-product-accent-2-ink: var(--__-default__product-accent-2-ink);--theme-color-product-accent-3: var(--__-default__product-accent-3);--theme-color-product-accent-3-hover: var(--__-default__product-accent-3-hover);--theme-color-product-accent-3-ink: var(--__-default__product-accent-3-ink);--theme-color-product-accent-4: var(--__-default__product-accent-4);--theme-color-product-accent-4-hover: var(--__-default__product-accent-4-hover);--theme-color-product-accent-4-ink: var(--__-default__product-accent-4-ink);--theme-color-product-accent-5: var(--__-default__product-accent-5);--theme-color-product-accent-5-hover: var(--__-default__product-accent-5-hover);--theme-color-product-accent-5-ink: var(--__-default__product-accent-5-ink);--theme-color-product-accent-6: var(--__-default__product-accent-6);--theme-color-product-accent-6-hover: var(--__-default__product-accent-6-hover);--theme-color-product-accent-6-ink: var(--__-default__product-accent-6-ink);--theme-color-product-accent-7: var(--__-default__product-accent-7);--theme-color-product-accent-7-hover: var(--__-default__product-accent-7-hover);--theme-color-product-accent-7-ink: var(--__-default__product-accent-7-ink);--theme-color-gen-ai-fg-primary: var(--__-default__gen-ai-fg-primary);--theme-color-gen-ai-primary: var(--__-default__gen-ai-primary);--theme-color-gen-ai-secondary: var(--__-default__gen-ai-secondary);--theme-color-gen-ai-muted: var(--__-default__gen-ai-muted);--theme-color-gen-ai-muted-bg: var(--__-default__gen-ai-muted-bg);--theme-opacity-highlight: var(--theme-color-opacity-highlight);--theme-opacity-highlight-2: var(--theme-color-opacity-highlight-2);--theme-button-outline-color: var(--theme-color-button-outline);--donotuse-environment-badge-color: var(--fire-color-badge-font);--donotuse-environment-badge-background: #d32f2f;--donotuse-environment-badge-outline: #d32f2f;padding:0;min-width:0}.fire-profile-avatar-button[_ngcontent-ng-c1544726166]{background-color:rgba(0,0,0,0);border:0;display:flex;flex-direction:row;align-items:center}.fire-profile-avatar-button[_ngcontent-ng-c1544726166]   img[_ngcontent-ng-c1544726166]{height:32px;width:32px;border-radius:50%}  .fire-profile-avatar-menu .fire-profile-account-menu-content-wrapper{align-items:center;display:flex;margin:0;padding:0 8px}  .fire-profile-avatar-menu .fire-profile-account-menu-content-wrapper img{border-radius:50%;margin:0 8px;height:40px;width:40px}  .fire-profile-avatar-menu .fire-profile-account-menu-content-wrapper .fire-profile-account-menu-content{display:flex;flex-direction:column;margin:0 8px}  .fire-profile-avatar-menu .fire-profile-account-menu-content-wrapper .fire-profile-account-menu-content .fire-profile-email{font-size:13px;line-height:20px;margin-bottom:8px}  .fire-profile-avatar-menu .fire-profile-account-menu-content-wrapper .fire-profile-account-menu-content .fire-profile-signout-button{width:100%}</style><style>mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
</style><style>[_nghost-ng-c3178529595]{align-items:center;display:flex;height:48px}[_nghost-ng-c3178529595]   .pineapple-easter-egg[_ngcontent-ng-c3178529595]{height:28px;animation:_ngcontent-ng-c3178529595_shake 3s cubic-bezier(0.36, 0.07, 0.19, 0.97) infinite}[_nghost-ng-c3178529595]   .firebase-logo-text[_ngcontent-ng-c3178529595]{height:18px;margin-left:12px}[_nghost-ng-c3178529595]   [fire-logo][_ngcontent-ng-c3178529595]{position:relative;top:-1px}@keyframes _ngcontent-ng-c3178529595_shake{from,16%,to{transform:translate3d(0, 0, 0)}1.6%,4.8%,8%,11.2%,14.4%{transform:translate3d(-2px, 0, 0)}3.2%,6.4%,9.6%,12.8%{transform:translate3d(2px, 0, 0)}}</style><style>.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
</style><style nonce="" type="text/css" data-late-css="">.str{color:#080}.kwd{color:#008}.com{color:#800}.typ{color:#606}.lit{color:#066}.pun,.opn,.clo{color:#660}.pln{color:#000}.tag{color:#008}.atn{color:#606}.atv{color:#080}.dec{color:#606}@media print{.str{color:#060}.kwd{color:#006;font-weight:bold}.com{color:#600;font-style:italic}.typ{color:#404;font-weight:bold}.lit{color:#044}.pun,.opn,.clo{color:#440}.pln{color:#000}.tag{color:#006;font-weight:bold}.atn{color:#404}.atv{color:#060}}pre.prettyprint{padding:2px;border:1px solid #888}ol.linenums{margin-top:0;margin-bottom:0}li.L0,li.L1,li.L2,li.L3,li.L5,li.L6,li.L7,li.L8{list-style-type:none}li.L1,li.L3,li.L5,li.L7,li.L9{background:#eee}.fb-charts-building-block path.area{fill:var(--fire-color-chart-fill);fill-opacity:.22}svg .axis line,svg .axis path{stroke:var(--fire-color-grey-500)}svg .axis text{fill:var(--fire-color-grey-500);font-size:12px}svg .axis-removed .domain,svg .axis-removed line{display:none}.fb-charts-building-block text.text-label{font-size:14px;fill:rgba(0,0,0,0.54);text-anchor:middle}.fb-charts-building-block path.line{fill:none;stroke:var(--theme-color-primary);stroke-width:2px}.fire-chart-tags polygon{fill:var(--fire-color-note-light);stroke-width:1px;stroke:var(--fire-color-white-primary)}.fire-chart-tags .fb-charts-building-block text.text-label{alignment-baseline:middle;cursor:pointer;pointer-events:none;text-anchor:middle}.fire-chart-tags .fb-charts-building-block text.text-label.chart-tag-label-size-1{font-size:13px;line-height:20px;transform:translateY(4px)}.fire-chart-tags .fb-charts-building-block text.text-label.chart-tag-label-size-2{font-size:12px;line-height:16px;transform:translateY(4px)}sentinel{}</style><script nonce="">(function(){/*

 Copyright (C) 2017 by Marijn Haverbeke <marijnh@gmail.com> and others

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):(global=global||self,global.CodeMirror=factory())})(this,function(){function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}function removeChildren(e){var count=e.childNodes.length;for(;count>0;--count)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}
function elt(tag,content,className,style){var e=document.createElement(tag);if(className)e.className=className;if(style)e.style.cssText=style;if(typeof content=="string")e.appendChild(document.createTextNode(content));else if(content){var i=0;for(;i<content.length;++i)e.appendChild(content[i])}return e}function eltP(tag,content,className,style){var e=elt(tag,content,className,style);e.setAttribute("role","presentation");return e}function contains(parent,child){if(child.nodeType==3)child=child.parentNode;
if(parent.contains)return parent.contains(child);do{if(child.nodeType==11)child=child.host;if(child==parent)return true}while(child=child.parentNode)}function activeElt(){var activeElement;try{activeElement=document.activeElement}catch(e){activeElement=document.body||null}for(;activeElement&&activeElement.shadowRoot&&activeElement.shadowRoot.activeElement;)activeElement=activeElement.shadowRoot.activeElement;return activeElement}function addClass(node,cls){var current=node.className;if(!classTest(cls).test(current))node.className+=
(current?" ":"")+cls}function joinClasses(a,b){var as=a.split(" ");var i=0;for(;i<as.length;i++)if(as[i]&&!classTest(as[i]).test(b))b=b+(" "+as[i]);return b}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){if(!target)target={};var prop;for(prop in obj)if(obj.hasOwnProperty(prop)&&(overwrite!==false||!target.hasOwnProperty(prop)))target[prop]=obj[prop];return target}function countColumn(string,end,
tabSize,startIndex,startValue){if(end==null){end=string.search(/[^\s\u00a0]/);if(end==-1)end=string.length}var i=startIndex||0;var n=startValue||0;for(;;){var nextTab=string.indexOf("\t",i);if(nextTab<0||nextTab>=end)return n+(end-i);n=n+(nextTab-i);n=n+(tabSize-n%tabSize);i=nextTab+1}}function indexOf(array,elt){var i=0;for(;i<array.length;++i)if(array[i]==elt)return i;return-1}function findColumn(string,goal,tabSize){var pos=0;var col=0;for(;;){var nextTab=string.indexOf("\t",pos);if(nextTab==-1)nextTab=
string.length;var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)return pos+Math.min(skipped,goal-col);col=col+(nextTab-pos);col=col+(tabSize-col%tabSize);pos=nextTab+1;if(col>=goal)return pos}}function spaceStr(n){for(;spaceStrs.length<=n;)spaceStrs.push(lst(spaceStrs)+" ");return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function map(array,f){var out=[];var i=0;for(;i<array.length;i++)out[i]=f(array[i],i);return out}function insertSorted(array,value,score){var pos=
0;var priority=score(value);for(;pos<array.length&&score(array[pos])<=priority;)pos++;array.splice(pos,0,value)}function nothing(){}function createObj(base,props){var inst;if(Object.create)inst=Object.create(base);else{nothing.prototype=base;inst=new nothing}if(props)copyObj(props,inst);return inst}function isWordCharBasic(ch){return/\w/.test(ch)||ch>"\u0080"&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){if(!helper)return isWordCharBasic(ch);
if(helper.source.indexOf("\\w")>-1&&isWordCharBasic(ch))return true;return helper.test(ch)}function isEmpty(obj){var n;for(n in obj)if(obj.hasOwnProperty(n)&&obj[n])return false;return true}function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch)}function skipExtendingChars(str,pos,dir){for(;(dir<0?pos>0:pos<str.length)&&isExtendingChar(str.charAt(pos));)pos=pos+dir;return pos}function findFirst(pred,from,to){var dir=from>to?-1:1;for(;;){if(from==to)return from;var midF=
(from+to)/2;var mid=dir<0?Math.ceil(midF):Math.floor(midF);if(mid==from)return pred(mid)?from:to;if(pred(mid))to=mid;else from=mid+dir}}function iterateBidiSections(order,from,to,f){if(!order)return f(from,to,"ltr",0);var found=false;var i=0;for(;i<order.length;++i){var part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?"rtl":"ltr",i);found=true}}if(!found)f(from,to,"ltr")}function getBidiPartAt(order,ch,sticky){var found;
bidiOther=null;var i=0;for(;i<order.length;++i){var cur=order[i];if(cur.from<ch&&cur.to>ch)return i;if(cur.to==ch)if(cur.from!=cur.to&&sticky=="before")found=i;else bidiOther=i;if(cur.from==ch)if(cur.from!=cur.to&&sticky!="before")found=i;else bidiOther=i}return found!=null?found:bidiOther}function getOrder(line,direction){var order=line.order;if(order==null)order=line.order=bidiOrdering(line.text,direction);return order}function getHandlers(emitter,type){return emitter._handlers&&emitter._handlers[type]||
noHandlers}function off(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,f,false);else if(emitter.detachEvent)emitter.detachEvent("on"+type,f);else{var map=emitter._handlers;var arr=map&&map[type];if(arr){var index=indexOf(arr,f);if(index>-1)map[type]=arr.slice(0,index).concat(arr.slice(index+1))}}}function signal(emitter,type){var handlers=getHandlers(emitter,type);if(!handlers.length)return;var args=Array.prototype.slice.call(arguments,2);var i=0;for(;i<handlers.length;++i)handlers[i].apply(null,
args)}function signalDOMEvent(cm,e,override){if(typeof e=="string")e={type:e,preventDefault:function(){this.defaultPrevented=true}};signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr)return;var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]);var i=0;for(;i<arr.length;++i)if(indexOf(set,arr[i])==-1)set.push(arr[i])}function hasHandler(emitter,type){return getHandlers(emitter,
type).length>0}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)};ctor.prototype.off=function(type,f){off(this,type,f)}}function e_preventDefault(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false}function e_stopPropagation(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true}function e_defaultPrevented(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false}function e_stop(e){e_preventDefault(e);e_stopPropagation(e)}function e_target(e){return e.target||
e.srcElement}function e_button(e){var b=e.which;if(b==null)if(e.button&1)b=1;else if(e.button&2)b=3;else if(e.button&4)b=2;if(mac&&e.ctrlKey&&b==1)b=3;return b}function zeroWidthElement(measure){if(zwspSupported==null){var test=elt("span","\u200b");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));if(measure.firstChild.offsetHeight!=0)zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8)}var node=zwspSupported?elt("span","\u200b"):elt("span","\u00a0",
null,"display: inline-block; width: 1px; margin-right: -1px");node.setAttribute("cm-text","");return node}function hasBadBidiRects(measure){if(badBidiRects!=null)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode("A\u062eA"));var r0=range(txt,0,1).getBoundingClientRect();var r1=range(txt,1,2).getBoundingClientRect();removeChildren(measure);if(!r0||r0.left==r0.right)return false;return badBidiRects=r1.right-r0.right<3}function hasBadZoomedRects(measure){if(badZoomedRects!=
null)return badZoomedRects;var node=removeChildrenAndAdd(measure,elt("span","x"));var normal=node.getBoundingClientRect();var fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1}function defineMode(name,mode){if(arguments.length>2)mode.dependencies=Array.prototype.slice.call(arguments,2);modes[name]=mode}function defineMIME(mime,spec){mimeModes[mime]=spec}function resolveMode(spec){if(typeof spec=="string"&&mimeModes.hasOwnProperty(spec))spec=
mimeModes[spec];else if(spec&&typeof spec.name=="string"&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if(typeof found=="string")found={name:found};spec=createObj(found,spec);spec.name=found.name}else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec))return resolveMode("application/xml");else if(typeof spec=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(spec))return resolveMode("application/json");if(typeof spec=="string")return{name:spec};else return spec||{name:"null"}}
function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory)return getMode(options,"text/plain");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];var prop;for(prop in exts){if(!exts.hasOwnProperty(prop))continue;if(modeObj.hasOwnProperty(prop))modeObj["_"+prop]=modeObj[prop];modeObj[prop]=exts[prop]}}modeObj.name=spec.name;if(spec.helperType)modeObj.helperType=spec.helperType;if(spec.modeProps){var prop$1;
for(prop$1 in spec.modeProps)modeObj[prop$1]=spec.modeProps[prop$1]}return modeObj}function extendMode(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)}function copyState(mode,state){if(state===true)return state;if(mode.copyState)return mode.copyState(state);var nstate={};var n;for(n in state){var val=state[n];if(val instanceof Array)val=val.concat([]);nstate[n]=val}return nstate}function innerMode(mode,state){var info;
for(;mode.innerMode;){info=mode.innerMode(state);if(!info||info.mode==mode)break;state=info.state;mode=info.mode}return info||{mode:mode,state:state}}function startState(mode,a1,a2){return mode.startState?mode.startState(a1,a2):true}function getLine(doc,n){n=n-doc.first;if(n<0||n>=doc.size)throw new Error("There is no line "+(n+doc.first)+" in the document.");var chunk=doc;for(;!chunk.lines;){var i=0;for(;;++i){var child=chunk.children[i];var sz=child.chunkSize();if(n<sz){chunk=child;break}n=n-sz}}return chunk.lines[n]}
function getBetween(doc,start,end){var out=[];var n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line)text=text.slice(0,end.ch);if(n==start.line)text=text.slice(start.ch);out.push(text);++n});return out}function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text)});return out}function updateLineHeight(line,height){var diff=height-line.height;if(diff){var n=line;for(;n;n=n.parent)n.height+=diff}}function lineNo(line){if(line.parent==
null)return null;var cur=line.parent;var no=indexOf(cur.lines,line);var chunk=cur.parent;for(;chunk;cur=chunk,chunk=chunk.parent){var i=0;for(;;++i){if(chunk.children[i]==cur)break;no=no+chunk.children[i].chunkSize()}}return no+cur.first}function lineAtHeight(chunk,h){var n=chunk.first;outer:do{var i$1=0;for(;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1];var ch=child.height;if(h<ch){chunk=child;continue outer}h=h-ch;n=n+child.chunkSize()}return n}while(!chunk.lines);var i=0;for(;i<
chunk.lines.length;++i){var line=chunk.lines[i];var lh=line.height;if(h<lh)break;h=h-lh}return n+i}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber))}function Pos(line,ch,sticky){if(sticky===void 0)sticky=null;if(!(this instanceof Pos))return new Pos(line,ch,sticky);this.line=line;this.ch=ch;this.sticky=sticky}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function equalCursorPos(a,
b){return a.sticky==b.sticky&&cmp(a,b)==0}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return cmp(a,b)<0?b:a}function minPos(a,b){return cmp(a,b)<0?a:b}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1))}function clipPos(doc,pos){if(pos.line<doc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;if(pos.line>last)return Pos(last,getLine(doc,last).text.length);return clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,
linelen){var ch=pos.ch;if(ch==null||ch>linelen)return Pos(pos.line,linelen);else if(ch<0)return Pos(pos.line,0);else return pos}function clipPosArray(doc,array){var out=[];var i=0;for(;i<array.length;i++)out[i]=clipPos(doc,array[i]);return out}function highlightLine(cm,line,context,forceToEnd){var st=[cm.state.modeGen];var lineClasses={};runMode(cm,line.text,cm.doc.mode,context,function(end,style){return st.push(end,style)},lineClasses,forceToEnd);var state=context.state;var loop=function(o){context.baseTokens=
st;var overlay=cm.state.overlays[o];var i=1;var at=0;context.state=true;runMode(cm,line.text,overlay.mode,context,function(end,style){var start=i;for(;at<end;){var i_end=st[i];if(i_end>end)st.splice(i,1,end,st[i+1],i_end);i=i+2;at=Math.min(end,i_end)}if(!style)return;if(overlay.opaque){st.splice(start,i-start,end,"overlay "+style);i=start+2}else for(;start<i;start=start+2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"overlay "+style}},lineClasses);context.state=state;context.baseTokens=null;
context.baseTokenPos=1};var o=0;for(;o<cm.state.overlays.length;++o)loop(o);return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var context=getContextBefore(cm,lineNo(line));var resetState=line.text.length>cm.options.maxHighlightLength&&copyState(cm.doc.mode,context.state);var result=highlightLine(cm,line,context);if(resetState)context.state=resetState;line.stateAfter=
context.save(!resetState);line.styles=result.styles;if(result.classes)line.styleClasses=result.classes;else if(line.styleClasses)line.styleClasses=null;if(updateFrontier===cm.doc.highlightFrontier)cm.doc.modeFrontier=Math.max(cm.doc.modeFrontier,++cm.doc.highlightFrontier)}return line.styles}function getContextBefore(cm,n,precise){var doc=cm.doc;var display=cm.display;if(!doc.mode.startState)return new Context(doc,true,n);var start=findStartLine(cm,n,precise);var saved=start>doc.first&&getLine(doc,
start-1).stateAfter;var context=saved?Context.fromSaved(doc,saved,start):new Context(doc,startState(doc.mode),start);doc.iter(start,n,function(line){processLine(cm,line.text,context);var pos=context.line;line.stateAfter=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo?context.save():null;context.nextLine()});if(precise)doc.modeFrontier=context.line;return context}function processLine(cm,text,context,startAt){var mode=cm.doc.mode;var stream=new StringStream(text,cm.options.tabSize,context);
stream.start=stream.pos=startAt||0;if(text=="")callBlankLine(mode,context.state);for(;!stream.eol();){readToken(mode,stream,context.state);stream.start=stream.pos}}function callBlankLine(mode,state){if(mode.blankLine)return mode.blankLine(state);if(!mode.innerMode)return;var inner=innerMode(mode,state);if(inner.mode.blankLine)return inner.mode.blankLine(inner.state)}function readToken(mode,stream,state,inner){var i=0;for(;i<10;i++){if(inner)inner[0]=innerMode(mode,state).mode;var style=mode.token(stream,
state);if(stream.pos>stream.start)return style}throw new Error("Mode "+mode.name+" failed to advance stream.");}function takeToken(cm,pos,precise,asArray){var doc=cm.doc;var mode=doc.mode;var style;pos=clipPos(doc,pos);var line=getLine(doc,pos.line);var context=getContextBefore(cm,pos.line,precise);var stream=new StringStream(line.text,cm.options.tabSize,context);var tokens;if(asArray)tokens=[];for(;(asArray||stream.pos<pos.ch)&&!stream.eol();){stream.start=stream.pos;style=readToken(mode,stream,
context.state);if(asArray)tokens.push(new Token(stream,style,copyState(doc.mode,context.state)))}return asArray?tokens:new Token(stream,style,context.state)}function extractLineClasses(type,output){if(type)for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass)break;type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";if(output[prop]==null)output[prop]=lineClass[2];else if(!(new RegExp("(?:^|\\s)"+
lineClass[2]+"(?:$|\\s)")).test(output[prop]))output[prop]+=" "+lineClass[2]}return type}function runMode(cm,text,mode,context,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(flattenSpans==null)flattenSpans=cm.options.flattenSpans;var curStart=0;var curStyle=null;var stream=new StringStream(text,cm.options.tabSize,context);var style;var inner=cm.options.addModeClass&&[null];if(text=="")extractLineClasses(callBlankLine(mode,context.state),lineClasses);for(;!stream.eol();){if(stream.pos>
cm.options.maxHighlightLength){flattenSpans=false;if(forceToEnd)processLine(cm,text,context,stream.pos);stream.pos=text.length;style=null}else style=extractLineClasses(readToken(mode,stream,context.state,inner),lineClasses);if(inner){var mName=inner[0].name;if(mName)style="m-"+(style?mName+" "+style:mName)}if(!flattenSpans||curStyle!=style){for(;curStart<stream.start;){curStart=Math.min(stream.start,curStart+5E3);f(curStart,curStyle)}curStyle=style}stream.start=stream.pos}for(;curStart<stream.pos;){var pos=
Math.min(stream.pos,curStart+5E3);f(pos,curStyle);curStart=pos}}function findStartLine(cm,n,precise){var minindent;var minline;var doc=cm.doc;var lim=precise?-1:n-(cm.doc.mode.innerMode?1E3:100);var search=n;for(;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1);var after=line.stateAfter;if(after&&(!precise||search+(after instanceof SavedContext?after.lookAhead:0)<=doc.modeFrontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);if(minline==
null||minindent>indented){minline=search-1;minindent=indented}}return minline}function retreatFrontier(doc,n){doc.modeFrontier=Math.min(doc.modeFrontier,n);if(doc.highlightFrontier<n-10)return;var start=doc.first;var line=n-1;for(;line>start;line--){var saved=getLine(doc,line).stateAfter;if(saved&&(!(saved instanceof SavedContext)||line+saved.lookAhead<n)){start=line+1;break}}doc.highlightFrontier=Math.min(doc.highlightFrontier,start)}function seeReadOnlySpans(){sawReadOnlySpans=true}function seeCollapsedSpans(){sawCollapsedSpans=
true}function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to}function getMarkedSpanFor(spans,marker){if(spans){var i=0;for(;i<spans.length;++i){var span=spans[i];if(span.marker==marker)return span}}}function removeMarkedSpan(spans,span){var r;var i=0;for(;i<spans.length;++i)if(spans[i]!=span)(r||(r=[])).push(spans[i]);return r}function addMarkedSpan(line,span,op){var inThisOp=op&&window.WeakSet&&(op.markedSpans||(op.markedSpans=new WeakSet));if(inThisOp&&line.markedSpans&&
inThisOp.has(line.markedSpans))line.markedSpans.push(span);else{line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];if(inThisOp)inThisOp.add(line.markedSpans)}span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){var nw;if(old){var i=0;for(;i<old.length;++i){var span=old[i];var marker=span.marker;var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&marker.type=="bookmark"&&(!isInsert||
!span.marker.insertLeft)){var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}}return nw}function markedSpansAfter(old,endCh,isInsert){var nw;if(old){var i=0;for(;i<old.length;++i){var span=old[i];var marker=span.marker;var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&marker.type=="bookmark"&&(!isInsert||span.marker.insertLeft)){var startsBefore=
span.from==null||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh))}}}return nw}function stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans;var oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch;var endCh=
change.to.ch;var isInsert=cmp(change.from,change.to)==0;var first=markedSpansBefore(oldFirst,startCh,isInsert);var last=markedSpansAfter(oldLast,endCh,isInsert);var sameLine=change.text.length==1;var offset=lst(change.text).length+(sameLine?startCh:0);if(first){var i=0;for(;i<first.length;++i){var span=first[i];if(span.to==null){var found=getMarkedSpanFor(last,span.marker);if(!found)span.to=startCh;else if(sameLine)span.to=found.to==null?null:found.to+offset}}}if(last){var i$1=0;for(;i$1<last.length;++i$1){var span$1=
last[i$1];if(span$1.to!=null)span$1.to+=offset;if(span$1.from==null){var found$1=getMarkedSpanFor(first,span$1.marker);if(!found$1){span$1.from=offset;if(sameLine)(first||(first=[])).push(span$1)}}else{span$1.from+=offset;if(sameLine)(first||(first=[])).push(span$1)}}}if(first)first=clearEmptySpans(first);if(last&&last!=first)last=clearEmptySpans(last);var newMarkers=[first];if(!sameLine){var gap=change.text.length-2;var gapMarkers;if(gap>0&&first){var i$2=0;for(;i$2<first.length;++i$2)if(first[i$2].to==
null)(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,null,null))}var i$3=0;for(;i$3<gap;++i$3)newMarkers.push(gapMarkers);newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){var i=0;for(;i<spans.length;++i){var span=spans[i];if(span.from!=null&&span.from==span.to&&span.marker.clearWhenEmpty!==false)spans.splice(i--,1)}if(!spans.length)return null;return spans}function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans){var i=
0;for(;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||indexOf(markers,mark)==-1))(markers||(markers=[])).push(mark)}}});if(!markers)return null;var parts=[{from:from,to:to}];var i=0;for(;i<markers.length;++i){var mk=markers[i];var m=mk.find(0);var j=0;for(;j<parts.length;++j){var p=parts[j];if(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0)continue;var newParts=[j,1];var dfrom=cmp(p.from,m.from);var dto=cmp(p.to,m.to);if(dfrom<0||!mk.inclusiveLeft&&!dfrom)newParts.push({from:p.from,
to:m.from});if(dto>0||!mk.inclusiveRight&&!dto)newParts.push({from:m.to,to:p.to});parts.splice.apply(parts,newParts);j=j+(newParts.length-3)}}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans)return;var i=0;for(;i<spans.length;++i)spans[i].marker.detachLine(line);line.markedSpans=null}function attachMarkedSpans(line,spans){if(!spans)return;var i=0;for(;i<spans.length;++i)spans[i].marker.attachLine(line);line.markedSpans=spans}function extraLeft(marker){return marker.inclusiveLeft?
-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(lenDiff!=0)return lenDiff;var aPos=a.find();var bPos=b.find();var fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp)return-fromCmp;var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp)return toCmp;return b.id-a.id}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans;var found;if(sps){var sp=
void 0;var i=0;for(;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(start?sp.from:sp.to)==null&&(!found||compareCollapsedMarkers(found,sp.marker)<0))found=sp.marker}}return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,true)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,false)}function collapsedSpanAround(line,ch){var sps=sawCollapsedSpans&&line.markedSpans;var found;if(sps){var i=0;for(;i<sps.length;++i){var sp=sps[i];if(sp.marker.collapsed&&(sp.from==
null||sp.from<ch)&&(sp.to==null||sp.to>ch)&&(!found||compareCollapsedMarkers(found,sp.marker)<0))found=sp.marker}}return found}function conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo);var sps=sawCollapsedSpans&&line.markedSpans;if(sps){var i=0;for(;i<sps.length;++i){var sp=sps[i];if(!sp.marker.collapsed)continue;var found=sp.marker.find(0);var fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);var toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);
if(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0)continue;if(fromCmp<=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.to,from)>=0:cmp(found.to,from)>0)||fromCmp>=0&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?cmp(found.from,to)<=0:cmp(found.from,to)<0))return true}}}function visualLine(line){var merged;for(;merged=collapsedSpanAtStart(line);)line=merged.find(-1,true).line;return line}function visualLineEnd(line){var merged;for(;merged=collapsedSpanAtEnd(line);)line=merged.find(1,true).line;
return line}function visualLineContinued(line){var merged;var lines;for(;merged=collapsedSpanAtEnd(line);){line=merged.find(1,true).line;(lines||(lines=[])).push(line)}return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN);var vis=visualLine(line);if(line==vis)return lineN;return lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var line=getLine(doc,lineN);var merged;if(!lineIsHidden(doc,line))return lineN;for(;merged=collapsedSpanAtEnd(line);)line=
merged.find(1,true).line;return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps){var sp=void 0;var i=0;for(;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed)continue;if(sp.from==null)return true;if(sp.marker.widgetNode)continue;if(sp.from==0&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))return true}}}function lineIsHiddenInner(doc,line,span){if(span.to==null){var end=span.marker.find(1,true);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,
span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length)return true;var sp=void 0;var i=0;for(;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(sp.to==null||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return true}}function heightAtLine(lineObj){lineObj=visualLine(lineObj);var h=0;var chunk=lineObj.parent;var i=0;for(;i<chunk.lines.length;++i){var line=
chunk.lines[i];if(line==lineObj)break;else h=h+line.height}var p=chunk.parent;for(;p;chunk=p,p=chunk.parent){var i$1=0;for(;i$1<p.children.length;++i$1){var cur=p.children[i$1];if(cur==chunk)break;else h=h+cur.height}}return h}function lineLength(line){if(line.height==0)return 0;var len=line.text.length;var merged;var cur=line;for(;merged=collapsedSpanAtStart(cur);){var found=merged.find(0,true);cur=found.from.line;len=len+(found.from.ch-found.to.ch)}cur=line;for(;merged=collapsedSpanAtEnd(cur);){var found$1=
merged.find(0,true);len=len-(cur.text.length-found$1.from.ch);cur=found$1.to.line;len=len+(cur.text.length-found$1.to.ch)}return len}function findMaxLine(cm){var d=cm.display;var doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=true;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line}})}function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter)line.stateAfter=
null;if(line.styles)line.styles=null;if(line.order!=null)line.order=null;detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height)updateLineHeight(line,estHeight)}function cleanUpLine(line){line.parent=null;detachMarkedSpans(line)}function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style))return null;var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=
style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=eltP("span",null,null,webkit?"padding-right: .1px":null);var builder={pre:eltP("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,trailingSpace:false,splitSpaces:cm.getOption("lineWrapping")};lineView.measure={};var i=0;for(;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line;var order=void 0;builder.pos=0;builder.addToken=buildToken;if(hasBadBidiRects(cm.display.measure)&&
(order=getOrder(line,cm.doc.direction)))builder.addToken=buildTokenBadBidi(builder.addToken,order);builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass)builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"");if(line.styleClasses.textClass)builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"")}if(builder.map.length==
0)builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)));if(i==0){lineView.measure.map=builder.map;lineView.measure.cache={}}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({})}}if(webkit){var last=builder.content.lastChild;if(/\bcm-tab\b/.test(last.className)||last.querySelector&&last.querySelector(".cm-tab"))builder.content.className="cm-tab-wrap-hack"}signal(cm,"renderLine",
cm,lineView.line,builder.pre);if(builder.pre.className)builder.textClass=joinClasses(builder.pre.className,builder.textClass||"");return builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","\u2022","cm-invalidchar");token.title="\\u"+ch.charCodeAt(0).toString(16);token.setAttribute("aria-label",token.title);return token}function buildToken(builder,text,style,startStyle,endStyle,css,attributes){if(!text)return;var displayText=builder.splitSpaces?splitSpaces(text,builder.trailingSpace):
text;var special=builder.cm.state.specialChars;var mustWrap=false;var content;if(!special.test(text)){builder.col+=text.length;content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&ie_version<9)mustWrap=true;builder.pos+=text.length}else{content=document.createDocumentFragment();var pos=0;for(;true;){special.lastIndex=pos;var m=special.exec(text);var skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,
pos+skipped));if(ie&&ie_version<9)content.appendChild(elt("span",[txt]));else content.appendChild(txt);builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped}if(!m)break;pos=pos+(skipped+1);var txt$1=void 0;if(m[0]=="\t"){var tabSize=builder.cm.options.tabSize;var tabWidth=tabSize-builder.col%tabSize;txt$1=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));txt$1.setAttribute("role","presentation");txt$1.setAttribute("cm-text","\t");builder.col+=tabWidth}else if(m[0]==
"\r"||m[0]=="\n"){txt$1=content.appendChild(elt("span",m[0]=="\r"?"\u240d":"\u2424","cm-invalidchar"));txt$1.setAttribute("cm-text",m[0]);builder.col+=1}else{txt$1=builder.cm.options.specialCharPlaceholder(m[0]);txt$1.setAttribute("cm-text",m[0]);if(ie&&ie_version<9)content.appendChild(elt("span",[txt$1]));else content.appendChild(txt$1);builder.col+=1}builder.map.push(builder.pos,builder.pos+1,txt$1);builder.pos++}}builder.trailingSpace=displayText.charCodeAt(text.length-1)==32;if(style||startStyle||
endStyle||mustWrap||css||attributes){var fullStyle=style||"";if(startStyle)fullStyle=fullStyle+startStyle;if(endStyle)fullStyle=fullStyle+endStyle;var token=elt("span",[content],fullStyle,css);if(attributes){var attr;for(attr in attributes)if(attributes.hasOwnProperty(attr)&&attr!="style"&&attr!="class")if(attr==="title")token.setAttribute("title",attributes[attr]);else throw new Error("attributes not supported for security reasons");}return builder.content.appendChild(token)}builder.content.appendChild(content)}
function splitSpaces(text,trailingBefore){if(text.length>1&&!/  /.test(text))return text;var spaceBefore=trailingBefore;var result="";var i=0;for(;i<text.length;i++){var ch=text.charAt(i);if(ch==" "&&spaceBefore&&(i==text.length-1||text.charCodeAt(i+1)==32))ch="\u00a0";result=result+ch;spaceBefore=ch==" "}return result}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,css,attributes){style=style?style+" cm-force-border":"cm-force-border";var start=builder.pos;
var end=start+text.length;for(;;){var part=void 0;var i=0;for(;i<order.length;i++){part=order[i];if(part.to>start&&part.from<=start)break}if(part.to>=end)return inner(builder,text,style,startStyle,endStyle,css,attributes);inner(builder,text.slice(0,part.to-start),style,startStyle,null,css,attributes);startStyle=null;text=text.slice(part.to-start);start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget)builder.map.push(builder.pos,
builder.pos+size,widget);if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget)widget=builder.content.appendChild(document.createElement("span"));widget.setAttribute("cm-marker",marker.id)}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget)}builder.pos+=size;builder.trailingSpace=false}function insertLineContent(line,builder,styles){var spans=line.markedSpans;var allText=line.text;var at=0;if(!spans){var i$1=1;for(;i$1<styles.length;i$1=
i$1+2)builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options));return}var len=allText.length;var pos=0;var i=1;var text="";var style;var css;var nextChange=0;var spanStyle;var spanEndStyle;var spanStartStyle;var collapsed;var attributes;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=css="";attributes=null;collapsed=null;nextChange=Infinity;var foundBookmarks=[];var endStyles=void 0;var j=0;for(;j<spans.length;++j){var sp=spans[j];
var m=sp.marker;if(m.type=="bookmark"&&sp.from==pos&&m.widgetNode)foundBookmarks.push(m);else if(sp.from<=pos&&(sp.to==null||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(sp.to!=null&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=""}if(m.className)spanStyle=spanStyle+(" "+m.className);if(m.css)css=(css?css+";":"")+m.css;if(m.startStyle&&sp.from==pos)spanStartStyle=spanStartStyle+(" "+m.startStyle);if(m.endStyle&&sp.to==nextChange)(endStyles||(endStyles=[])).push(m.endStyle,sp.to);
if(m.title)(attributes||(attributes={})).title=m.title;if(m.attributes){var attr;for(attr in m.attributes)(attributes||(attributes={}))[attr]=m.attributes[attr]}if(m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0))collapsed=sp}else if(sp.from>pos&&nextChange>sp.from)nextChange=sp.from}if(endStyles){var j$1=0;for(;j$1<endStyles.length;j$1=j$1+2)if(endStyles[j$1+1]==nextChange)spanEndStyle=spanEndStyle+(" "+endStyles[j$1])}if(!collapsed||collapsed.from==pos){var j$2=0;for(;j$2<
foundBookmarks.length;++j$2)buildCollapsedSpan(builder,0,foundBookmarks[j$2])}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null);if(collapsed.to==null)return;if(collapsed.to==pos)collapsed=false}}if(pos>=len)break;var upto=Math.min(len,nextChange);for(;true;){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+
spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",css,attributes)}if(end>=upto){text=text.slice(upto-pos);pos=upto;break}pos=end;spanStartStyle=""}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options)}}}function LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,
from,to){var array=[];var nextPos;var pos=from;for(;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view)}return array}function pushOperation(op){if(operationGroup)operationGroup.ops.push(op);else op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks;var i=0;do{for(;i<callbacks.length;i++)callbacks[i].call(null);var j=0;for(;j<group.ops.length;j++){var op=group.ops[j];
if(op.cursorActivityHandlers)for(;op.cursorActivityCalled<op.cursorActivityHandlers.length;)op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}}while(i<callbacks.length)}function finishOperation(op,endCb){var group=op.ownsGroup;if(!group)return;try{fireCallbacksForOps(group)}finally{operationGroup=null;endCb(group)}}function signalLater(emitter,type){var arr=getHandlers(emitter,type);if(!arr.length)return;var args=Array.prototype.slice.call(arguments,2);var list;if(operationGroup)list=
operationGroup.delayedCallbacks;else if(orphanDelayedCallbacks)list=orphanDelayedCallbacks;else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0)}var loop=function(i){list.push(function(){return arr[i].apply(null,args)})};var i=0;for(;i<arr.length;++i)loop(i)}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;var i=0;for(;i<delayed.length;++i)delayed[i]()}function updateLineForChanges(cm,lineView,lineN,dims){var j=0;for(;j<lineView.changes.length;j++){var type=
lineView.changes[j];if(type=="text")updateLineText(cm,lineView);else if(type=="gutter")updateLineGutter(cm,lineView,lineN,dims);else if(type=="class")updateLineClasses(cm,lineView);else if(type=="widget")updateLineWidgets(cm,lineView,dims)}lineView.changes=null}function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt("div",null,null,"position: relative");if(lineView.text.parentNode)lineView.text.parentNode.replaceChild(lineView.node,lineView.text);lineView.node.appendChild(lineView.text);
if(ie&&ie_version<8)lineView.node.style.zIndex=2}return lineView.node}function updateLineBackground(cm,lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls)cls=cls+" CodeMirror-linebackground";if(lineView.background)if(cls)lineView.background.className=cls;else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",
null,cls),wrap.firstChild);cm.display.input.setUneditable(lineView.background)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built}return buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className;var built=getLineContent(cm,lineView);if(lineView.text==lineView.node)lineView.node=built.pre;lineView.text.parentNode.replaceChild(built.pre,
lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(cm,lineView)}else if(cls)lineView.text.className=cls}function updateLineClasses(cm,lineView){updateLineBackground(cm,lineView);if(lineView.line.wrapClass)ensureLineWrapped(lineView).className=lineView.line.wrapClass;else if(lineView.node!=lineView.text)lineView.node.className="";var textClass=lineView.textClass?
lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+
lineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px");cm.display.input.setUneditable(lineView.gutterBackground);wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView);var gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+
"px");gutterWrap.setAttribute("aria-hidden","true");cm.display.input.setUneditable(gutterWrap);wrap$1.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass)gutterWrap.className+=" "+lineView.line.gutterClass;if(cm.options.lineNumbers&&(!markers||!markers["CodeMirror-linenumbers"]))lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+
"px"));if(markers){var k=0;for(;k<cm.display.gutterSpecs.length;++k){var id=cm.display.gutterSpecs[k].className;var found=markers.hasOwnProperty(id)&&markers[id];if(found)gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable)lineView.alignable=null;var isWidget=classTest("CodeMirror-linewidget");var node=lineView.node.firstChild;var next=void 0;for(;node;node=
next){next=node.nextSibling;if(isWidget.test(node.className))lineView.node.removeChild(node)}insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass)lineView.bgClass=built.bgClass;if(built.textClass)lineView.textClass=built.textClass;updateLineClasses(cm,lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node}function insertLineWidgets(cm,
lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,true);if(lineView.rest){var i=0;for(;i<lineView.rest.length;i++)insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,false)}}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets)return;var wrap=ensureLineWrapped(lineView);var i=0;var ws=line.widgets;for(;i<ws.length;++i){var widget=ws[i];var node=elt("div",[widget.node],"CodeMirror-linewidget"+(widget.className?" "+widget.className:""));if(!widget.handleMouseEvents)node.setAttribute("cm-ignore-events",
"true");positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above)wrap.insertBefore(node,lineView.gutter||lineView.text);else wrap.appendChild(node);signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px";if(!widget.coverGutter){width=width-dims.gutterTotalWidth;node.style.paddingLeft=
dims.gutterTotalWidth+"px"}node.style.width=width+"px"}if(widget.coverGutter){node.style.zIndex=5;node.style.position="relative";if(!widget.noHScroll)node.style.marginLeft=-dims.gutterTotalWidth+"px"}}function widgetHeight(widget){if(widget.height!=null)return widget.height;var cm=widget.doc.cm;if(!cm)return 0;if(!contains(document.body,widget.node)){var parentStyle="position: relative;";if(widget.coverGutter)parentStyle=parentStyle+("margin-left: -"+cm.display.gutters.offsetWidth+"px;");if(widget.noHScroll)parentStyle=
parentStyle+("width: "+cm.display.wrapper.clientWidth+"px;");removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}function eventInWidget(display,e){var n=e_target(e);for(;n!=display.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==display.sizer&&n!=display.mover)return true}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-
display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt("pre","x","CodeMirror-line-like"));var style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;var data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right))display.cachedPaddingH=data;return data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-
scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping;var curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;var rects=lineView.text.firstChild.getClientRects();var i=0;for(;i<rects.length-1;i++){var cur=
rects[i];var next=rects[i+1];if(Math.abs(cur.bottom-next.bottom)>2)heights.push((cur.bottom+next.top)/2-rect.top)}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line)return{map:lineView.measure.map,cache:lineView.measure.cache};if(lineView.rest){var i=0;for(;i<lineView.rest.length;i++)if(lineView.rest[i]==line)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};var i$1=0;for(;i$1<lineView.rest.length;i$1++)if(lineNo(lineView.rest[i$1])>
lineN)return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:true}}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line);var view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),
ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size)return ext}function prepareMeasureForLine(cm,line){var lineN=lineNo(line);var view=findViewForLine(cm,lineN);if(view&&!view.text)view=null;else if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=true}if(!view)view=updateExternalMeasurement(cm,
line);var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before)ch=-1;var key=ch+(bias||"");var found;if(prepared.cache.hasOwnProperty(key))found=prepared.cache[key];else{if(!prepared.rect)prepared.rect=prepared.view.text.getBoundingClientRect();if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=
true}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus)prepared.cache[key]=found}return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}function nodeAndOffsetInLineMap(map,ch,bias){var node;var start;var end;var collapse;var mStart;var mEnd;var i=0;for(;i<map.length;i=i+3){mStart=map[i];mEnd=map[i+1];if(ch<mStart){start=0;end=1;collapse="left"}else if(ch<mEnd){start=ch-mStart;end=start+1}else if(i==map.length-3||ch==mEnd&&
map[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd)collapse="right"}if(start!=null){node=map[i+2];if(mStart==mEnd&&bias==(node.insertLeft?"left":"right"))collapse=bias;if(bias=="left"&&start==0)for(;i&&map[i-2]==map[i-3]&&map[i-1].insertLeft;){node=map[(i=i-3)+2];collapse="left"}if(bias=="right"&&start==mEnd-mStart)for(;i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft;){node=map[(i=i+3)+2];collapse="right"}break}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}
function getUsefulRect(rects,bias){var rect=nullRect;if(bias=="left"){var i=0;for(;i<rects.length;i++)if((rect=rects[i]).left!=rect.right)break}else{var i$1=rects.length-1;for(;i$1>=0;i$1--)if((rect=rects[i$1]).left!=rect.right)break}return rect}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias);var node=place.node;var start=place.start;var end=place.end;var collapse=place.collapse;var rect;if(node.nodeType==3){var i$1=0;for(;i$1<4;i$1++){for(;start&&
isExtendingChar(prepared.line.text.charAt(place.coverStart+start));)--start;for(;place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end));)++end;if(ie&&ie_version<9&&start==0&&end==place.coverEnd-place.coverStart)rect=node.parentNode.getBoundingClientRect();else rect=getUsefulRect(range(node,start,end).getClientRects(),bias);if(rect.left||rect.right||start==0)break;end=start;start=start-1;collapse="right"}if(ie&&ie_version<11)rect=maybeUpdateRectForZooming(cm.display.measure,
rect)}else{if(start>0)collapse=bias="right";var rects;if(cm.options.lineWrapping&&(rects=node.getClientRects()).length>1)rect=rects[bias=="right"?rects.length-1:0];else rect=node.getBoundingClientRect()}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan)rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom};else rect=nullRect}var rtop=rect.top-prepared.rect.top;var rbot=rect.bottom-prepared.rect.top;
var mid=(rtop+rbot)/2;var heights=prepared.view.measure.heights;var i=0;for(;i<heights.length-1;i++)if(mid<heights[i])break;var top=i?heights[i-1]:0;var bot=heights[i];var result={left:(collapse=="right"?rect.right:rect.left)-prepared.rect.left,right:(collapse=="left"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right)result.bogus=true;if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot}return result}function maybeUpdateRectForZooming(measure,
rect){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure))return rect;var scaleX=screen.logicalXDPI/screen.deviceXDPI;var scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest){var i=0;for(;i<lineView.rest.length;i++)lineView.measure.caches[i]=
{}}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);var i=0;for(;i<cm.display.view.length;i++)clearLineMeasurementCacheFor(cm.display.view[i])}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping)cm.display.maxLineChanged=true;cm.display.lineNumChars=null}function pageScrollX(){if(chrome&&android)return-(document.body.getBoundingClientRect().left-
parseInt(getComputedStyle(document.body).marginLeft));return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){if(chrome&&android)return-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop));return window.pageYOffset||(document.documentElement||document.body).scrollTop}function widgetTopHeight(lineObj){var ref=visualLine(lineObj);var widgets=ref.widgets;var height=0;if(widgets){var i=0;for(;i<widgets.length;++i)if(widgets[i].above)height=
height+widgetHeight(widgets[i])}return height}function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){if(!includeWidgets){var height=widgetTopHeight(lineObj);rect.top+=height;rect.bottom+=height}if(context=="line")return rect;if(!context)context="local";var yOff=heightAtLine(lineObj);if(context=="local")yOff=yOff+paddingTop(cm.display);else yOff=yOff-cm.display.viewOffset;if(context=="page"||context=="window"){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff=yOff+(lOff.top+(context==
"window"?0:pageScrollY()));var xOff=lOff.left+(context=="window"?0:pageScrollX());rect.left+=xOff;rect.right+=xOff}rect.top+=yOff;rect.bottom+=yOff;return rect}function fromCoordSystem(cm,coords,context){if(context=="div")return coords;var left=coords.left;var top=coords.top;if(context=="page"){left=left-pageScrollX();top=top-pageScrollY()}else if(context=="local"||!context){var localBox=cm.display.sizer.getBoundingClientRect();left=left+localBox.left;top=top+localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();
return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function charCoords(cm,pos,context,lineObj,bias){if(!lineObj)lineObj=getLine(cm.doc,pos.line);return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);if(right)m.left=m.right;else m.right=m.left;return intoCoordSystem(cm,lineObj,m,context)}function getBidi(ch,
partPos,invert){var part=order[partPos];var right=part.level==1;return get(invert?ch-1:ch,right!=invert)}lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure)preparedMeasure=prepareMeasureForLine(cm,lineObj);var order=getOrder(lineObj,cm.doc.direction);var ch=pos.ch;var sticky=pos.sticky;if(ch>=lineObj.text.length){ch=lineObj.text.length;sticky="before"}else if(ch<=0){ch=0;sticky="after"}if(!order)return get(sticky=="before"?ch-1:ch,sticky=="before");var partPos=getBidiPartAt(order,ch,sticky);
var other=bidiOther;var val=getBidi(ch,partPos,sticky=="before");if(other!=null)val.other=getBidi(ch,other,sticky!="before");return val}function estimateCoords(cm,pos){var left=0;pos=clipPos(cm.doc,pos);if(!cm.options.lineWrapping)left=charWidth(cm.display)*pos.ch;var lineObj=getLine(cm.doc,pos.line);var top=heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,sticky,outside,xRel){var pos=Pos(line,ch,sticky);pos.xRel=
xRel;if(outside)pos.outside=outside;return pos}function coordsChar(cm,x,y){var doc=cm.doc;y=y+cm.display.viewOffset;if(y<0)return PosWithInfo(doc.first,0,null,-1,-1);var lineN=lineAtHeight(doc,y);var last=doc.first+doc.size-1;if(lineN>last)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,null,1,1);if(x<0)x=0;var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y);var collapsed=collapsedSpanAround(lineObj,found.ch+(found.xRel>0||found.outside>0?1:
0));if(!collapsed)return found;var rangeEnd=collapsed.find(1);if(rangeEnd.line==lineN)return rangeEnd;lineObj=getLine(doc,lineN=rangeEnd.line)}}function wrappedLineExtent(cm,lineObj,preparedMeasure,y){y=y-widgetTopHeight(lineObj);var end=lineObj.text.length;var begin=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch-1).bottom<=y},end,0);end=findFirst(function(ch){return measureCharPrepared(cm,preparedMeasure,ch).top>y},begin,end);return{begin:begin,end:end}}function wrappedLineExtentChar(cm,
lineObj,preparedMeasure,target){if(!preparedMeasure)preparedMeasure=prepareMeasureForLine(cm,lineObj);var targetTop=intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,target),"line").top;return wrappedLineExtent(cm,lineObj,preparedMeasure,targetTop)}function boxIsAfter(box,x,y,left){return box.bottom<=y?false:box.top>y?true:(left?box.left:box.right)>x}function coordsCharInner(cm,lineObj,lineNo,x,y){y=y-heightAtLine(lineObj);var preparedMeasure=prepareMeasureForLine(cm,lineObj);var widgetHeight=
widgetTopHeight(lineObj);var begin=0;var end=lineObj.text.length;var ltr=true;var order=getOrder(lineObj,cm.doc.direction);if(order){var part=(cm.options.lineWrapping?coordsBidiPartWrapped:coordsBidiPart)(cm,lineObj,lineNo,preparedMeasure,order,x,y);ltr=part.level!=1;begin=ltr?part.from:part.to-1;end=ltr?part.to:part.from-1}var chAround=null;var boxAround=null;var ch=findFirst(function(ch){var box=measureCharPrepared(cm,preparedMeasure,ch);box.top+=widgetHeight;box.bottom+=widgetHeight;if(!boxIsAfter(box,
x,y,false))return false;if(box.top<=y&&box.left<=x){chAround=ch;boxAround=box}return true},begin,end);var baseX;var sticky;var outside=false;if(boxAround){var atLeft=x-boxAround.left<boxAround.right-x;var atStart=atLeft==ltr;ch=chAround+(atStart?0:1);sticky=atStart?"after":"before";baseX=atLeft?boxAround.left:boxAround.right}else{if(!ltr&&(ch==end||ch==begin))ch++;sticky=ch==0?"after":ch==lineObj.text.length?"before":measureCharPrepared(cm,preparedMeasure,ch-(ltr?1:0)).bottom+widgetHeight<=y==ltr?
"after":"before";var coords=cursorCoords(cm,Pos(lineNo,ch,sticky),"line",lineObj,preparedMeasure);baseX=coords.left;outside=y<coords.top?-1:y>=coords.bottom?1:0}ch=skipExtendingChars(lineObj.text,ch,1);return PosWithInfo(lineNo,ch,sticky,outside,x-baseX)}function coordsBidiPart(cm,lineObj,lineNo,preparedMeasure,order,x,y){var index=findFirst(function(i){var part=order[i];var ltr=part.level!=1;return boxIsAfter(cursorCoords(cm,Pos(lineNo,ltr?part.to:part.from,ltr?"before":"after"),"line",lineObj,preparedMeasure),
x,y,true)},0,order.length-1);var part=order[index];if(index>0){var ltr=part.level!=1;var start=cursorCoords(cm,Pos(lineNo,ltr?part.from:part.to,ltr?"after":"before"),"line",lineObj,preparedMeasure);if(boxIsAfter(start,x,y,true)&&start.top>y)part=order[index-1]}return part}function coordsBidiPartWrapped(cm,lineObj,_lineNo,preparedMeasure,order,x,y){var ref=wrappedLineExtent(cm,lineObj,preparedMeasure,y);var begin=ref.begin;var end=ref.end;if(/\s/.test(lineObj.text.charAt(end-1)))end--;var part=null;
var closestDist=null;var i=0;for(;i<order.length;i++){var p=order[i];if(p.from>=end||p.to<=begin)continue;var ltr=p.level!=1;var endX=measureCharPrepared(cm,preparedMeasure,ltr?Math.min(end,p.to)-1:Math.max(begin,p.from)).right;var dist=endX<x?x-endX+1E9:endX-x;if(!part||closestDist>dist){part=p;closestDist=dist}}if(!part)part=order[order.length-1];if(part.from<begin)part={from:begin,to:part.to,level:part.level};if(part.to>end)part={from:part.from,to:end,level:part.level};return part}function textHeight(display){if(display.cachedTextHeight!=
null)return display.cachedTextHeight;if(measureText==null){measureText=elt("pre",null,"CodeMirror-line-like");var i=0;for(;i<49;++i){measureText.appendChild(document.createTextNode("x"));measureText.appendChild(elt("br"))}measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(height>3)display.cachedTextHeight=height;removeChildren(display.measure);return height||1}function charWidth(display){if(display.cachedCharWidth!=
null)return display.cachedCharWidth;var anchor=elt("span","xxxxxxxxxx");var pre=elt("pre",[anchor],"CodeMirror-line-like");removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect();var width=(rect.right-rect.left)/10;if(width>2)display.cachedCharWidth=width;return width||10}function getDimensions(cm){var d=cm.display;var left={};var width={};var gutterLeft=d.gutters.clientLeft;var n=d.gutters.firstChild;var i=0;for(;n;n=n.nextSibling,++i){var id=cm.display.gutterSpecs[i].className;
left[id]=n.offsetLeft+n.clientLeft+gutterLeft;width[id]=n.clientWidth}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function estimateHeight(cm){var th=textHeight(cm.display);var wrapping=cm.options.lineWrapping;var perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/
charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight=0;if(line.widgets){var i=0;for(;i<line.widgets.length;i++)if(line.widgets[i].height)widgetsHeight=widgetsHeight+line.widgets[i].height}if(wrapping)return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th;else return widgetsHeight+th}}function estimateLineHeights(cm){var doc=cm.doc;var est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height)updateLineHeight(line,
estHeight)})}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&e_target(e).getAttribute("cm-not-content")=="true")return null;var x;var y;var space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top}catch(e$1){return null}var coords=coordsChar(cm,x,y);var line;if(forRect&&coords.xRel>0&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,
Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;n=n-cm.display.viewFrom;if(n<0)return null;var view=cm.display.view;var i=0;for(;i<view.length;i++){n=n-view[i].size;if(n<0)return i}}function regChange(cm,from,to,lendiff){if(from==null)from=cm.doc.first;if(to==null)to=cm.doc.first+cm.doc.size;if(!lendiff)lendiff=0;var display=cm.display;if(lendiff&&to<display.viewTo&&(display.updateLineNumbers==
null||display.updateLineNumbers>from))display.updateLineNumbers=from;cm.curOp.viewChanged=true;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo)resetView(cm)}else if(to<=display.viewFrom)if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom)resetView(cm);else{display.viewFrom+=lendiff;display.viewTo+=lendiff}else if(from<=display.viewFrom&&to>=display.viewTo)resetView(cm);else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,
1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff}else resetView(cm)}else if(to>=display.viewTo){var cut$1=viewCuttingPoint(cm,from,from,-1);if(cut$1){display.view=display.view.slice(0,cut$1.index);display.viewTo=cut$1.lineN}else resetView(cm)}else{var cutTop=viewCuttingPoint(cm,from,from,-1);var cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,
cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff}else resetView(cm)}var ext=display.externalMeasured;if(ext)if(to<ext.lineN)ext.lineN+=lendiff;else if(from<ext.lineN+ext.size)display.externalMeasured=null}function regLineChange(cm,line,type){cm.curOp.viewChanged=true;var display=cm.display;var ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size)display.externalMeasured=null;if(line<display.viewFrom||line>=display.viewTo)return;var lineView=
display.view[findViewIndex(cm,line)];if(lineView.node==null)return;var arr=lineView.changes||(lineView.changes=[]);if(indexOf(arr,type)==-1)arr.push(type)}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN);var diff;var view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)return{index:index,lineN:newN};var n=cm.display.viewFrom;var i=0;
for(;i<index;i++)n=n+view[i].size;if(n!=oldN){if(dir>0){if(index==view.length-1)return null;diff=n+view[index].size-oldN;index++}else diff=n-oldN;oldN=oldN+diff;newN=newN+diff}for(;visualLineNo(cm.doc,newN)!=newN;){if(index==(dir<0?0:view.length-1))return null;newN=newN+dir*view[index-(dir<0?1:0)].size;index=index+dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display;var view=display.view;if(view.length==0||from>=display.viewTo||to<=display.viewFrom){display.view=
buildViewArray(cm,from,to);display.viewFrom=from}else{if(display.viewFrom>from)display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view);else if(display.viewFrom<from)display.view=display.view.slice(findViewIndex(cm,from));display.viewFrom=from;if(display.viewTo<to)display.view=display.view.concat(buildViewArray(cm,display.viewTo,to));else if(display.viewTo>to)display.view=display.view.slice(0,findViewIndex(cm,to))}display.viewTo=to}function countDirtyView(cm){var view=cm.display.view;
var dirty=0;var i=0;for(;i<view.length;i++){var lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes))++dirty}return dirty}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){if(primary===void 0)primary=true;var doc=cm.doc;var result={};var curFragment=result.cursors=document.createDocumentFragment();var selFragment=result.selection=document.createDocumentFragment();var customCursor=cm.options.$customCursor;
if(customCursor)primary=true;var i=0;for(;i<doc.sel.ranges.length;i++){if(!primary&&i==doc.sel.primIndex)continue;var range=doc.sel.ranges[i];if(range.from().line>=cm.display.viewTo||range.to().line<cm.display.viewFrom)continue;var collapsed=range.empty();if(customCursor){var head=customCursor(cm,range);if(head)drawSelectionCursor(cm,head,curFragment)}else if(collapsed||cm.options.showCursorWhenSelecting)drawSelectionCursor(cm,range.head,curFragment);if(!collapsed)drawSelectionRange(cm,range,selFragment)}return result}
function drawSelectionCursor(cm,head,output){var pos=cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine);var cursor=output.appendChild(elt("div","\u00a0","CodeMirror-cursor"));cursor.style.left=pos.left+"px";cursor.style.top=pos.top+"px";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";if(/\bcm-fat-cursor\b/.test(cm.getWrapperElement().className)){var charPos=charCoords(cm,head,"div",null,null);var width=charPos.right-charPos.left;cursor.style.width=
(width>0?width:cm.defaultCharWidth())+"px"}if(pos.other){var otherCursor=output.appendChild(elt("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="";otherCursor.style.left=pos.other.left+"px";otherCursor.style.top=pos.other.top+"px";otherCursor.style.height=(pos.other.bottom-pos.other.top)*.85+"px"}}function cmpCoords(a,b){return a.top-b.top||a.left-b.left}function drawSelectionRange(cm,range,output){function add(left,top,width,bottom){if(top<0)top=0;top=Math.round(top);
bottom=Math.round(bottom);fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px;\n                             top: "+top+"px; width: "+(width==null?rightSide-left:width)+"px;\n                             height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){function coords(ch,bias){return charCoords(cm,Pos(line,ch),"div",lineObj,bias)}function wrapX(pos,dir,side){var extent=wrappedLineExtentChar(cm,lineObj,null,pos);var prop=dir=="ltr"==
(side=="after")?"left":"right";var ch=side=="after"?extent.begin:extent.end-(/\s/.test(lineObj.text.charAt(extent.end-1))?2:1);return coords(ch,prop)[prop]}var lineObj=getLine(doc,line);var lineLen=lineObj.text.length;var start;var end;var order=getOrder(lineObj,doc.direction);iterateBidiSections(order,fromArg||0,toArg==null?lineLen:toArg,function(from,to,dir,i){var ltr=dir=="ltr";var fromPos=coords(from,ltr?"left":"right");var toPos=coords(to-1,ltr?"right":"left");var openStart=fromArg==null&&from==
0;var openEnd=toArg==null&&to==lineLen;var first=i==0;var last=!order||i==order.length-1;if(toPos.top-fromPos.top<=3){var openLeft=(docLTR?openStart:openEnd)&&first;var openRight=(docLTR?openEnd:openStart)&&last;var left=openLeft?leftSide:(ltr?fromPos:toPos).left;var right=openRight?rightSide:(ltr?toPos:fromPos).right;add(left,fromPos.top,right-left,fromPos.bottom)}else{var topLeft;var topRight;var botLeft;var botRight;if(ltr){topLeft=docLTR&&openStart&&first?leftSide:fromPos.left;topRight=docLTR?
rightSide:wrapX(from,dir,"before");botLeft=docLTR?leftSide:wrapX(to,dir,"after");botRight=docLTR&&openEnd&&last?rightSide:toPos.right}else{topLeft=!docLTR?leftSide:wrapX(from,dir,"before");topRight=!docLTR&&openStart&&first?rightSide:fromPos.right;botLeft=!docLTR&&openEnd&&last?leftSide:toPos.left;botRight=!docLTR?rightSide:wrapX(to,dir,"after")}add(topLeft,fromPos.top,topRight-topLeft,fromPos.bottom);if(fromPos.bottom<toPos.top)add(leftSide,fromPos.bottom,null,toPos.top);add(botLeft,toPos.top,botRight-
botLeft,toPos.bottom)}if(!start||cmpCoords(fromPos,start)<0)start=fromPos;if(cmpCoords(toPos,start)<0)start=toPos;if(!end||cmpCoords(fromPos,end)<0)end=fromPos;if(cmpCoords(toPos,end)<0)end=toPos});return{start:start,end:end}}var display=cm.display;var doc=cm.doc;var fragment=document.createDocumentFragment();var padding=paddingH(cm.display);var leftSide=padding.left;var rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right;var docLTR=doc.direction=="ltr";
var sFrom=range.from();var sTo=range.to();if(sFrom.line==sTo.line)drawForLine(sFrom.line,sFrom.ch,sTo.ch);else{var fromLine=getLine(doc,sFrom.line);var toLine=getLine(doc,sTo.line);var singleVLine=visualLine(fromLine)==visualLine(toLine);var leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end;var rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine)if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,
rightStart.top,rightStart.left,rightStart.bottom)}else add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom);if(leftEnd.bottom<rightStart.top)add(leftSide,leftEnd.bottom,null,rightStart.top)}output.appendChild(fragment)}function restartBlink(cm){if(!cm.state.focused)return;var display=cm.display;clearInterval(display.blinker);var on=true;display.cursorDiv.style.visibility="";if(cm.options.cursorBlinkRate>0)display.blinker=setInterval(function(){if(!cm.hasFocus())onBlur(cm);display.cursorDiv.style.visibility=
(on=!on)?"":"hidden"},cm.options.cursorBlinkRate);else if(cm.options.cursorBlinkRate<0)display.cursorDiv.style.visibility="hidden"}function ensureFocus(cm){if(!cm.hasFocus()){cm.display.input.focus();if(!cm.state.focused)onFocus(cm)}}function delayBlurEvent(cm){cm.state.delayingBlurEvent=true;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false;if(cm.state.focused)onBlur(cm)}},100)}function onFocus(cm,e){if(cm.state.delayingBlurEvent&&!cm.state.draggingText)cm.state.delayingBlurEvent=
false;if(cm.options.readOnly=="nocursor")return;if(!cm.state.focused){signal(cm,"focus",cm,e);cm.state.focused=true;addClass(cm.display.wrapper,"CodeMirror-focused");if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit)setTimeout(function(){return cm.display.input.reset(true)},20)}cm.display.input.receivedFocus()}restartBlink(cm)}function onBlur(cm,e){if(cm.state.delayingBlurEvent)return;if(cm.state.focused){signal(cm,"blur",cm,e);cm.state.focused=false;rmClass(cm.display.wrapper,
"CodeMirror-focused")}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused)cm.display.shift=false},150)}function updateHeightsInViewport(cm){var display=cm.display;var prevBottom=display.lineDiv.offsetTop;var viewTop=Math.max(0,display.scroller.getBoundingClientRect().top);var oldHeight=display.lineDiv.getBoundingClientRect().top;var mustScroll=0;var i=0;for(;i<display.view.length;i++){var cur=display.view[i];var wrapping=cm.options.lineWrapping;var height=void 0;var width=
0;if(cur.hidden)continue;oldHeight=oldHeight+cur.line.height;if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top;if(!wrapping&&cur.text.firstChild)width=cur.text.firstChild.getBoundingClientRect().right-box.left-1}var diff=cur.line.height-height;if(diff>.005||diff<-.005){if(oldHeight<viewTop)mustScroll=mustScroll-diff;updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);
if(cur.rest){var j=0;for(;j<cur.rest.length;j++)updateWidgetHeight(cur.rest[j])}}if(width>cm.display.sizerWidth){var chWidth=Math.ceil(width/charWidth(cm.display));if(chWidth>cm.display.maxLineLength){cm.display.maxLineLength=chWidth;cm.display.maxLine=cur.line;cm.display.maxLineChanged=true}}}if(Math.abs(mustScroll)>2)display.scroller.scrollTop+=mustScroll}function updateWidgetHeight(line){if(line.widgets){var i=0;for(;i<line.widgets.length;++i){var w=line.widgets[i];var parent=w.node.parentNode;
if(parent)w.height=parent.offsetHeight}}}function visibleLines(display,doc,viewport){var top=viewport&&viewport.top!=null?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&viewport.bottom!=null?viewport.bottom:top+display.wrapper.clientHeight;var from=lineAtHeight(doc,top);var to=lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line;var ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=
ensureFrom;to=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)}else if(Math.min(ensureTo,doc.lastLine())>=to){from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo}}return{from:from,to:Math.max(to,from+1)}}function maybeScrollWindow(cm,rect){if(signalDOMEvent(cm,"scrollCursorIntoView"))return;var display=cm.display;var box=display.sizer.getBoundingClientRect();var doScroll=null;if(rect.top+box.top<0)doScroll=true;else if(rect.bottom+
box.top>(window.innerHeight||document.documentElement.clientHeight))doScroll=false;if(doScroll!=null&&!phantom){var scrollNode=elt("div","\u200b",null,"position: absolute;\n                         top: "+(rect.top-display.viewOffset-paddingTop(cm.display))+"px;\n                         height: "+(rect.bottom-rect.top+scrollGap(cm)+display.barHeight)+"px;\n                         left: "+rect.left+"px; width: "+Math.max(2,rect.right-rect.left)+"px;");cm.display.lineSpace.appendChild(scrollNode);
scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode)}}function scrollPosIntoView(cm,pos,end,margin){if(margin==null)margin=0;var rect;if(!cm.options.lineWrapping&&pos==end){end=pos.sticky=="before"?Pos(pos.line,pos.ch+1,"before"):pos;pos=pos.ch?Pos(pos.line,pos.sticky=="before"?pos.ch-1:pos.ch,"after"):pos}var limit=0;for(;limit<5;limit++){var changed=false;var coords=cursorCoords(cm,pos);var endCoords=!end||end==pos?coords:cursorCoords(cm,end);rect={left:Math.min(coords.left,
endCoords.left),top:Math.min(coords.top,endCoords.top)-margin,right:Math.max(coords.left,endCoords.left),bottom:Math.max(coords.bottom,endCoords.bottom)+margin};var scrollPos=calculateScrollPos(cm,rect);var startTop=cm.doc.scrollTop;var startLeft=cm.doc.scrollLeft;if(scrollPos.scrollTop!=null){updateScrollTop(cm,scrollPos.scrollTop);if(Math.abs(cm.doc.scrollTop-startTop)>1)changed=true}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft);if(Math.abs(cm.doc.scrollLeft-startLeft)>1)changed=
true}if(!changed)break}return rect}function scrollIntoView(cm,rect){var scrollPos=calculateScrollPos(cm,rect);if(scrollPos.scrollTop!=null)updateScrollTop(cm,scrollPos.scrollTop);if(scrollPos.scrollLeft!=null)setScrollLeft(cm,scrollPos.scrollLeft)}function calculateScrollPos(cm,rect){var display=cm.display;var snapMargin=textHeight(cm.display);if(rect.top<0)rect.top=0;var screentop=cm.curOp&&cm.curOp.scrollTop!=null?cm.curOp.scrollTop:display.scroller.scrollTop;var screen=displayHeight(cm);var result=
{};if(rect.bottom-rect.top>screen)rect.bottom=rect.top+screen;var docBottom=cm.doc.height+paddingVert(display);var atTop=rect.top<snapMargin;var atBottom=rect.bottom>docBottom-snapMargin;if(rect.top<screentop)result.scrollTop=atTop?0:rect.top;else if(rect.bottom>screentop+screen){var newTop=Math.min(rect.top,(atBottom?docBottom:rect.bottom)-screen);if(newTop!=screentop)result.scrollTop=newTop}var gutterSpace=cm.options.fixedGutter?0:display.gutters.offsetWidth;var screenleft=cm.curOp&&cm.curOp.scrollLeft!=
null?cm.curOp.scrollLeft:display.scroller.scrollLeft-gutterSpace;var screenw=displayWidth(cm)-display.gutters.offsetWidth;var tooWide=rect.right-rect.left>screenw;if(tooWide)rect.right=rect.left+screenw;if(rect.left<10)result.scrollLeft=0;else if(rect.left<screenleft)result.scrollLeft=Math.max(0,rect.left+gutterSpace-(tooWide?0:10));else if(rect.right>screenw+screenleft-3)result.scrollLeft=rect.right+(tooWide?0:10)-screenw;return result}function addToScrollTop(cm,top){if(top==null)return;resolveScrollToPos(cm);
cm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor();cm.curOp.scrollToPos={from:cur,to:cur,margin:cm.options.cursorScrollMargin}}function scrollToCoords(cm,x,y){if(x!=null||y!=null)resolveScrollToPos(cm);if(x!=null)cm.curOp.scrollLeft=x;if(y!=null)cm.curOp.scrollTop=y}function scrollToRange(cm,range){resolveScrollToPos(cm);cm.curOp.scrollToPos=range}function resolveScrollToPos(cm){var range=
cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from);var to=estimateCoords(cm,range.to);scrollToCoordsRange(cm,from,to,range.margin)}}function scrollToCoordsRange(cm,from,to,margin){var sPos=calculateScrollPos(cm,{left:Math.min(from.left,to.left),top:Math.min(from.top,to.top)-margin,right:Math.max(from.right,to.right),bottom:Math.max(from.bottom,to.bottom)+margin});scrollToCoords(cm,sPos.scrollLeft,sPos.scrollTop)}function updateScrollTop(cm,val){if(Math.abs(cm.doc.scrollTop-
val)<2)return;if(!gecko)updateDisplaySimple(cm,{top:val});setScrollTop(cm,val,true);if(gecko)updateDisplaySimple(cm);startWorker(cm,100)}function setScrollTop(cm,val,forceScroll){val=Math.max(0,Math.min(cm.display.scroller.scrollHeight-cm.display.scroller.clientHeight,val));if(cm.display.scroller.scrollTop==val&&!forceScroll)return;cm.doc.scrollTop=val;cm.display.scrollbars.setScrollTop(val);if(cm.display.scroller.scrollTop!=val)cm.display.scroller.scrollTop=val}function setScrollLeft(cm,val,isScroller,
forceScroll){val=Math.max(0,Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth));if((isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)&&!forceScroll)return;cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val)cm.display.scroller.scrollLeft=val;cm.display.scrollbars.setScrollLeft(val)}function measureForScrollbars(cm){var d=cm.display;var gutterW=d.gutters.offsetWidth;var docH=Math.round(cm.doc.height+paddingVert(cm.display));
return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}function updateScrollbars(cm,measure){if(!measure)measure=measureForScrollbars(cm);var startWidth=cm.display.barWidth;var startHeight=cm.display.barHeight;updateScrollbarsInner(cm,
measure);var i=0;for(;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping)updateHeightsInViewport(cm);updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight}}function updateScrollbarsInner(cm,measure){var d=cm.display;var sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+
"px";d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display="block";d.scrollbarFiller.style.height=sizes.bottom+"px";d.scrollbarFiller.style.width=sizes.right+"px"}else d.scrollbarFiller.style.display="";if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display="block";d.gutterFiller.style.height=sizes.bottom+"px";d.gutterFiller.style.width=measure.gutterWidth+"px"}else d.gutterFiller.style.display=
""}function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass)rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)}cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);on(node,"mousedown",function(){if(cm.state.focused)setTimeout(function(){return cm.display.input.focus()},0)});node.setAttribute("cm-not-content","true")},function(pos,axis){if(axis==
"horizontal")setScrollLeft(cm,pos);else updateScrollTop(cm,pos)},cm);if(cm.display.scrollbars.addClass)addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}function startOperation(cm){cm.curOp={cm:cm,viewChanged:false,startHeight:cm.doc.height,forceUpdate:false,updateInput:0,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++nextOpId,markArrays:null};pushOperation(cm.curOp)}
function endOperation(cm){var op=cm.curOp;if(op)finishOperation(op,function(group){var i=0;for(;i<group.ops.length;i++)group.ops[i].cm.curOp=null;endOperations(group)})}function endOperations(group){var ops=group.ops;var i=0;for(;i<ops.length;i++)endOperation_R1(ops[i]);var i$1=0;for(;i$1<ops.length;i$1++)endOperation_W1(ops[i$1]);var i$2=0;for(;i$2<ops.length;i$2++)endOperation_R2(ops[i$2]);var i$3=0;for(;i$3<ops.length;i$3++)endOperation_W2(ops[i$3]);var i$4=0;for(;i$4<ops.length;i$4++)endOperation_finish(ops[i$4])}
function endOperation_R1(op){var cm=op.cm;var display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine)findMaxLine(cm);op.mustUpdate=op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=
op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm;var display=cm.display;if(op.updatedDisplay)updateHeightsInViewport(cm);op.barMeasure=measureForScrollbars(cm);if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+
cm.display.barWidth);op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))}if(op.updatedDisplay||op.selectionChanged)op.preparedSelection=display.input.prepareSelection()}function endOperation_W2(op){var cm=op.cm;if(op.adjustWidthTo!=null){cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";if(op.maxScrollLeft<cm.doc.scrollLeft)setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),true);cm.display.maxLineChanged=false}var takeFocus=op.focus&&
op.focus==activeElt();if(op.preparedSelection)cm.display.input.showSelection(op.preparedSelection,takeFocus);if(op.updatedDisplay||op.startHeight!=cm.doc.height)updateScrollbars(cm,op.barMeasure);if(op.updatedDisplay)setDocumentHeight(cm,op.barMeasure);if(op.selectionChanged)restartBlink(cm);if(cm.state.focused&&op.updateInput)cm.display.input.reset(op.typing);if(takeFocus)ensureFocus(op.cm)}function endOperation_finish(op){var cm=op.cm;var display=cm.display;var doc=cm.doc;if(op.updatedDisplay)postUpdateDisplay(cm,
op.update);if(display.wheelStartX!=null&&(op.scrollTop!=null||op.scrollLeft!=null||op.scrollToPos))display.wheelStartX=display.wheelStartY=null;if(op.scrollTop!=null)setScrollTop(cm,op.scrollTop,op.forceScroll);if(op.scrollLeft!=null)setScrollLeft(cm,op.scrollLeft,true,true);if(op.scrollToPos){var rect=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);maybeScrollWindow(cm,rect)}var hidden=op.maybeHiddenMarkers;var unhidden=op.maybeUnhiddenMarkers;
if(hidden){var i=0;for(;i<hidden.length;++i)if(!hidden[i].lines.length)signal(hidden[i],"hide")}if(unhidden){var i$1=0;for(;i$1<unhidden.length;++i$1)if(unhidden[i$1].lines.length)signal(unhidden[i$1],"unhide")}if(display.wrapper.offsetHeight)doc.scrollTop=cm.display.scroller.scrollTop;if(op.changeObjs)signal(cm,"changes",cm,op.changeObjs);if(op.update)op.update.finish()}function runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);try{return f()}finally{endOperation(cm)}}function operation(cm,
f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments)}finally{endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments)}finally{endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,arguments)}finally{endOperation(cm)}}}function startWorker(cm,
time){if(cm.doc.highlightFrontier<cm.display.viewTo)cm.state.highlight.set(time,bind(highlightWorker,cm))}function highlightWorker(cm){var doc=cm.doc;if(doc.highlightFrontier>=cm.display.viewTo)return;var end=+new Date+cm.options.workTime;var context=getContextBefore(cm,doc.highlightFrontier);var changedLines=[];doc.iter(context.line,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(context.line>=cm.display.viewFrom){var oldStyles=line.styles;var resetState=line.text.length>cm.options.maxHighlightLength?
copyState(doc.mode,context.state):null;var highlighted=highlightLine(cm,line,context,true);if(resetState)context.state=resetState;line.styles=highlighted.styles;var oldCls=line.styleClasses;var newCls=highlighted.classes;if(newCls)line.styleClasses=newCls;else if(oldCls)line.styleClasses=null;var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass);var i=0;for(;!ischange&&i<oldStyles.length;++i)ischange=
oldStyles[i]!=line.styles[i];if(ischange)changedLines.push(context.line);line.stateAfter=context.save();context.nextLine()}else{if(line.text.length<=cm.options.maxHighlightLength)processLine(cm,line.text,context);line.stateAfter=context.line%5==0?context.save():null;context.nextLine()}if(+new Date>end){startWorker(cm,cm.options.workDelay);return true}});doc.highlightFrontier=context.line;doc.modeFrontier=Math.max(doc.modeFrontier,context.line);if(changedLines.length)runInOp(cm,function(){var i=0;
for(;i<changedLines.length;i++)regLineChange(cm,changedLines[i],"text")})}function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+"px";display.sizer.style.marginBottom=-display.nativeBarWidth+"px";display.sizer.style.borderRightWidth=scrollGap(cm)+"px";display.scrollbarsClipped=true}}function selectionSnapshot(cm){if(cm.hasFocus())return null;
var active=activeElt();if(!active||!contains(cm.display.lineDiv,active))return null;var result={activeElt:active};if(window.getSelection){var sel=window.getSelection();if(sel.anchorNode&&sel.extend&&contains(cm.display.lineDiv,sel.anchorNode)){result.anchorNode=sel.anchorNode;result.anchorOffset=sel.anchorOffset;result.focusNode=sel.focusNode;result.focusOffset=sel.focusOffset}}return result}function restoreSelection(snapshot){if(!snapshot||!snapshot.activeElt||snapshot.activeElt==activeElt())return;
snapshot.activeElt.focus();if(!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName)&&snapshot.anchorNode&&contains(document.body,snapshot.anchorNode)&&contains(document.body,snapshot.focusNode)){var sel=window.getSelection();var range=document.createRange();range.setEnd(snapshot.anchorNode,snapshot.anchorOffset);range.collapse(false);sel.removeAllRanges();sel.addRange(range);sel.extend(snapshot.focusNode,snapshot.focusOffset)}}function updateDisplayIfNeeded(cm,update){var display=cm.display;var doc=
cm.doc;if(update.editorIsHidden){resetView(cm);return false}if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&countDirtyView(cm)==0)return false;if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm)}var end=doc.first+doc.size;var from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first);var to=Math.min(end,
update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&from-display.viewFrom<20)from=Math.max(doc.first,display.viewFrom);if(display.viewTo>to&&display.viewTo-to<20)to=Math.min(end,display.viewTo);if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to)}var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=heightAtLine(getLine(cm.doc,
display.viewFrom));cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&toUpdate==0&&!update.force&&display.renderedView==display.view&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo))return false;var selSnapshot=selectionSnapshot(cm);if(toUpdate>4)display.lineDiv.style.display="none";patchDisplay(cm,display.updateLineNumbers,update.dims);if(toUpdate>4)display.lineDiv.style.display="";display.renderedView=display.view;restoreSelection(selSnapshot);
removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400)}display.updateLineNumbers=null;return true}function postUpdateDisplay(cm,update){var viewport=update.viewport;var first=true;for(;;first=false){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){if(viewport&&viewport.top!=
null)viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)};update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo)break}else if(first)update.visible=visibleLines(cm.display,cm.doc,viewport);if(!updateDisplayIfNeeded(cm,update))break;updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);
update.force=false}update.signal(cm,"update",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=
measureForScrollbars(cm);updateSelection(cm);updateScrollbars(cm,barMeasure);setDocumentHeight(cm,barMeasure);update.finish()}}function patchDisplay(cm,updateNumbersFrom,dims){function rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node)node.style.display="none";else node.parentNode.removeChild(node);return next}var display=cm.display;var lineNumbers=cm.options.lineNumbers;var container=display.lineDiv;var cur=container.firstChild;var view=display.view;var lineN=
display.viewFrom;var i=0;for(;i<view.length;i++){var lineView=view[i];if(lineView.hidden);else if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}else{for(;cur!=lineView.node;)cur=rm(cur);var updateNumber=lineNumbers&&updateNumbersFrom!=null&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(indexOf(lineView.changes,"gutter")>-1)updateNumber=false;updateLineForChanges(cm,lineView,lineN,dims)}if(updateNumber){removeChildren(lineView.lineNumber);
lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))}cur=lineView.node.nextSibling}lineN=lineN+lineView.size}for(;cur;)cur=rm(cur)}function updateGutterSpace(display){var width=display.gutters.offsetWidth;display.sizer.style.marginLeft=width+"px";signalLater(display,"gutterChanged",display)}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px";cm.display.heightForcer.style.top=measure.docHeight+"px";cm.display.gutters.style.height=
measure.docHeight+cm.display.barHeight+scrollGap(cm)+"px"}function alignHorizontally(cm){var display=cm.display;var view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter))return;var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft;var gutterW=display.gutters.offsetWidth;var left=comp+"px";var i=0;for(;i<view.length;i++)if(!view[i].hidden){if(cm.options.fixedGutter){if(view[i].gutter)view[i].gutter.style.left=left;if(view[i].gutterBackground)view[i].gutterBackground.style.left=
left}var align=view[i].alignable;if(align){var j=0;for(;j<align.length;j++)align[j].style.left=left}}if(cm.options.fixedGutter)display.gutters.style.left=comp+gutterW+"px"}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return false;var doc=cm.doc;var last=lineNumberFor(cm.options,doc.first+doc.size-1);var display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var innerW=
test.firstChild.offsetWidth;var padding=test.offsetWidth-innerW;display.lineGutter.style.width="";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+"px";updateGutterSpace(cm.display);return true}return false}function getGutters(gutters,lineNumbers){var result=[];var sawLineNumbers=false;var i=0;for(;i<
gutters.length;i++){var name=gutters[i];var style=null;if(typeof name!="string"){style=name.style;name=name.className}if(name=="CodeMirror-linenumbers")if(!lineNumbers)continue;else sawLineNumbers=true;result.push({className:name,style:style})}if(lineNumbers&&!sawLineNumbers)result.push({className:"CodeMirror-linenumbers",style:null});return result}function renderGutters(display){var gutters=display.gutters;var specs=display.gutterSpecs;removeChildren(gutters);display.lineGutter=null;var i=0;for(;i<
specs.length;++i){var ref=specs[i];var className=ref.className;var style=ref.style;var gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+className));if(style)gElt.style.cssText=style;if(className=="CodeMirror-linenumbers"){display.lineGutter=gElt;gElt.style.width=(display.lineNumWidth||1)+"px"}}gutters.style.display=specs.length?"":"none";updateGutterSpace(display)}function updateGutters(cm){renderGutters(cm.display);regChange(cm);alignHorizontally(cm)}function Display(place,doc,input,
options){var d=this;this.input=input;d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");d.scrollbarFiller.setAttribute("cm-not-content","true");d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");d.gutterFiller.setAttribute("cm-not-content","true");d.lineDiv=eltP("div",null,"CodeMirror-code");d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");d.cursorDiv=elt("div",null,"CodeMirror-cursors");d.measure=elt("div",null,"CodeMirror-measure");d.lineMeasure=elt("div",
null,"CodeMirror-measure");d.lineSpace=eltP("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var lines=eltP("div",[d.lineSpace],"CodeMirror-lines");d.mover=elt("div",[lines],null,"position: relative");d.sizer=elt("div",[d.mover],"CodeMirror-sizer");d.sizerWidth=null;d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;");d.gutters=elt("div",null,"CodeMirror-gutters");d.lineGutter=null;d.scroller=
elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");d.scroller.setAttribute("tabIndex","-1");d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");d.wrapper.setAttribute("translate","no");if(ie&&ie_version<8){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0}if(!webkit&&!(gecko&&mobile))d.scroller.draggable=true;if(place)if(place.appendChild)place.appendChild(d.wrapper);else place(d.wrapper);d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=
doc.first;d.view=[];d.renderedView=null;d.externalMeasured=null;d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=false;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.alignWidgets=false;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=false;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=false;d.selForContextMenu=null;d.activeTouch=
null;d.gutterSpecs=getGutters(options.gutters,options.lineNumbers);renderGutters(d);input.init(d)}function wheelEventDelta(e){var dx=e.wheelDeltaX;var dy=e.wheelDeltaY;if(dx==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS)dx=e.detail;if(dy==null&&e.detail&&e.axis==e.VERTICAL_AXIS)dy=e.detail;else if(dy==null)dy=e.wheelDelta;return{x:dx,y:dy}}function wheelEventPixels(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta}function onScrollWheel(cm,e){if(chrome&&
chrome_version==102){if(cm.display.chromeScrollHack==null)cm.display.sizer.style.pointerEvents="none";else clearTimeout(cm.display.chromeScrollHack);cm.display.chromeScrollHack=setTimeout(function(){cm.display.chromeScrollHack=null;cm.display.sizer.style.pointerEvents=""},100)}var delta=wheelEventDelta(e);var dx=delta.x;var dy=delta.y;var pixelsPerUnit=wheelPixelsPerUnit;if(e.deltaMode===0){dx=e.deltaX;dy=e.deltaY;pixelsPerUnit=1}var display=cm.display;var scroll=display.scroller;var canScrollX=scroll.scrollWidth>
scroll.clientWidth;var canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY))return;if(dy&&mac&&webkit){var cur=e.target;var view=display.view;outer:for(;cur!=scroll;cur=cur.parentNode){var i=0;for(;i<view.length;i++)if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}}}if(dx&&!gecko&&!presto&&pixelsPerUnit!=null){if(dy&&canScrollY)updateScrollTop(cm,Math.max(0,scroll.scrollTop+dy*pixelsPerUnit));setScrollLeft(cm,Math.max(0,scroll.scrollLeft+dx*pixelsPerUnit));
if(!dy||dy&&canScrollY)e_preventDefault(e);display.wheelStartX=null;return}if(dy&&pixelsPerUnit!=null){var pixels=dy*pixelsPerUnit;var top=cm.doc.scrollTop;var bot=top+display.wrapper.clientHeight;if(pixels<0)top=Math.max(0,top+pixels-50);else bot=Math.min(cm.doc.height,bot+pixels+50);updateDisplaySimple(cm,{top:top,bottom:bot})}if(wheelSamples<20&&e.deltaMode!==0)if(display.wheelStartX==null){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=
dy;setTimeout(function(){if(display.wheelStartX==null)return;var movedX=scroll.scrollLeft-display.wheelStartX;var movedY=scroll.scrollTop-display.wheelStartY;var sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample)return;wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples},200)}else{display.wheelDX+=dx;display.wheelDY+=dy}}function normalizeSelection(cm,
ranges,primIndex){var mayTouch=cm&&cm.options.selectionsMayTouch;var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())});primIndex=indexOf(ranges,prim);var i=1;for(;i<ranges.length;i++){var cur=ranges[i];var prev=ranges[i-1];var diff=cmp(prev.to(),cur.from());if(mayTouch&&!cur.empty()?diff>0:diff>=0){var from=minPos(prev.from(),cur.from());var to=maxPos(prev.to(),cur.to());var inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex)--primIndex;ranges.splice(--i,
2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function changeEnd(change){if(!change.text)return change.to;return Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0))}function adjustForChange(pos,change){if(cmp(pos,change.from)<0)return pos;if(cmp(pos,change.to)<=0)return changeEnd(change);var line=pos.line+change.text.length-
(change.to.line-change.from.line)-1;var ch=pos.ch;if(pos.line==change.to.line)ch=ch+(changeEnd(change).ch-change.to.ch);return Pos(line,ch)}function computeSelAfterChange(doc,change){var out=[];var i=0;for(;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)))}return normalizeSelection(doc.cm,out,doc.sel.primIndex)}function offsetPos(pos,old,nw){if(pos.line==old.line)return Pos(nw.line,pos.ch-old.ch+nw.ch);
else return Pos(nw.line+(pos.line-old.line),pos.ch)}function computeReplacedSel(doc,changes,hint){var out=[];var oldPrev=Pos(doc.first,0);var newPrev=oldPrev;var i=0;for(;i<changes.length;i++){var change=changes[i];var from=offsetPos(change.from,oldPrev,newPrev);var to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if(hint=="around"){var range=doc.sel.ranges[i];var inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to)}else out[i]=new Range(from,from)}return new Selection(out,
doc.sel.primIndex)}function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption);resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null});cm.doc.modeFrontier=cm.doc.highlightFrontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp)regChange(cm)}function isWholeLineUpdate(doc,change){return change.from.ch==0&&change.to.ch==0&&lst(change.text)==""&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}
function updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight);signalLater(line,"change",line,change)}function linesFor(start,end){var result=[];var i=start;for(;i<end;++i)result.push(new Line(text[i],spansFor(i),estimateHeight));return result}var from=change.from;var to=change.to;var text=change.text;var firstLine=getLine(doc,from.line);var lastLine=getLine(doc,to.line);
var lastText=lst(text);var lastSpans=spansFor(text.length-1);var nlines=to.line-from.line;if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length)}else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines)doc.remove(from.line,nlines);if(added.length)doc.insert(from.line,added)}else if(firstLine==lastLine)if(text.length==1)update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),
lastSpans);else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added$1)}else if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines)}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),
lastSpans);var added$2=linesFor(1,text.length-1);if(nlines>1)doc.remove(from.line+1,nlines-1);doc.insert(from.line+1,added$2)}signalLater(doc,"change",doc,change)}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked){var i=0;for(;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc==skip)continue;var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared)continue;f(rel.doc,shared);propagate(rel.doc,doc,shared)}}}propagate(doc,null,true)}function attachDoc(cm,
doc){if(doc.cm)throw new Error("This document is already in use.");cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);setDirectionClass(cm);cm.options.direction=doc.direction;if(!cm.options.lineWrapping)findMaxLine(cm);cm.options.mode=doc.modeOption;regChange(cm)}function setDirectionClass(cm){(cm.doc.direction=="rtl"?addClass:rmClass)(cm.display.lineDiv,"CodeMirror-rtl")}function directionChanged(cm){runInOp(cm,function(){setDirectionClass(cm);regChange(cm)})}function History(prev){this.done=
[];this.undone=[];this.undoDepth=prev?prev.undoDepth:Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=prev?prev.maxGeneration:1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){return attachLocalSpans(doc,
histChange,change.from.line,change.to.line+1)},true);return histChange}function clearSelectionEvents(array){for(;array.length;){var last=lst(array);if(last.ranges)array.pop();else break}}function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done)}else if(hist.done.length&&!lst(hist.done).ranges)return lst(hist.done);else if(hist.done.length>1&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done)}}function addChangeToHistory(doc,change,
selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date;var cur;var last;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&(change.origin.charAt(0)=="+"&&hist.lastModTime>time-(doc.cm?doc.cm.options.historyEventDelay:500)||change.origin.charAt(0)=="*"))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){last=lst(cur.changes);if(cmp(change.from,change.to)==0&&cmp(change.from,last.to)==0)last.to=changeEnd(change);else cur.changes.push(historyChangeFromChange(doc,
change))}else{var before=lst(hist.done);if(!before||!before.ranges)pushSelectionToHistory(doc.sel,hist.done);cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);for(;hist.done.length>hist.undoDepth;){hist.done.shift();if(!hist.done[0].ranges)hist.done.shift()}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last)signal(doc,
"historyAdded")}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return ch=="*"||ch=="+"&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history;var origin=options&&options.origin;if(opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==
origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel)))hist.done[hist.done.length-1]=sel;else pushSelectionToHistory(sel,hist.done);hist.lastSelTime=+new Date;hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&options.clearRedo!==false)clearSelectionEvents(hist.undone)}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel)))dest.push(sel)}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id];var n=0;doc.iter(Math.max(doc.first,
from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans)(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans;++n})}function removeClearedSpans(spans){if(!spans)return null;var out;var i=0;for(;i<spans.length;++i)if(spans[i].marker.explicitlyCleared){if(!out)out=spans.slice(0,i)}else if(out)out.push(spans[i]);return!out?spans:out.length?out:null}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found)return null;var nw=[];var i=0;for(;i<change.text.length;++i)nw.push(removeClearedSpans(found[i]));
return nw}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change);var stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;var i=0;for(;i<old.length;++i){var oldCur=old[i];var stretchCur=stretched[i];if(oldCur&&stretchCur){var j=0;spans:for(;j<stretchCur.length;++j){var span=stretchCur[j];var k=0;for(;k<oldCur.length;++k)if(oldCur[k].marker==span.marker)continue spans;oldCur.push(span)}}else if(stretchCur)old[i]=stretchCur}return old}function copyHistoryArray(events,
newGroup,instantiateSel){var copy=[];var i=0;for(;i<events.length;++i){var event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue}var changes=event.changes;var newChanges=[];copy.push({changes:newChanges});var j=0;for(;j<changes.length;++j){var change=changes[j];var m=void 0;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup){var prop;for(prop in change)if(m=prop.match(/^spans_(\d+)$/))if(indexOf(newGroup,Number(m[1]))>
-1){lst(newChanges)[prop]=change[prop];delete change[prop]}}}}return copy}function extendRange(range,head,other,extend){if(extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;if(posBefore!=cmp(other,anchor)<0){anchor=head;head=other}else if(posBefore!=cmp(head,other)<0)head=other}return new Range(anchor,head)}else return new Range(other||head,head)}function extendSelection(doc,head,other,options,extend){if(extend==null)extend=doc.cm&&(doc.cm.display.shift||doc.extend);setSelection(doc,
new Selection([extendRange(doc.sel.primary(),head,other,extend)],0),options)}function extendSelections(doc,heads,options){var out=[];var extend=doc.cm&&(doc.cm.display.shift||doc.extend);var i=0;for(;i<doc.sel.ranges.length;i++)out[i]=extendRange(doc.sel.ranges[i],heads[i],null,extend);var newSel=normalizeSelection(doc.cm,out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(doc.cm,
ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function(ranges){this.ranges=[];var i=0;for(;i<ranges.length;i++)this.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head))},origin:options&&options.origin};signal(doc,"beforeSelectionChange",doc,obj);if(doc.cm)signal(doc.cm,"beforeSelectionChange",doc.cm,
obj);if(obj.ranges!=sel.ranges)return normalizeSelection(doc.cm,obj.ranges,obj.ranges.length-1);else return sel}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done;var last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options)}else setSelection(doc,sel,options)}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,
sel,options){if(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange"))sel=filterSelectionChange(doc,sel,options);var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));if(!(options&&options.scroll===false)&&doc.cm&&doc.cm.getOption("readOnly")!="nocursor")ensureCursorVisible(doc.cm)}function setSelectionInner(doc,sel){if(sel.equals(doc.sel))return;doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=
1;doc.cm.curOp.selectionChanged=true;signalCursorActivity(doc.cm)}signalLater(doc,"cursorActivity",doc)}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false))}function skipAtomicInSelection(doc,sel,bias,mayClear){var out;var i=0;for(;i<sel.ranges.length;i++){var range=sel.ranges[i];var old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i];var newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear);var newHead=range.head==range.anchor?
newAnchor:skipAtomic(doc,range.head,old&&old.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out)out=sel.ranges.slice(0,i);out[i]=new Range(newAnchor,newHead)}}return out?normalizeSelection(doc.cm,out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans){var i=0;for(;i<line.markedSpans.length;++i){var sp=line.markedSpans[i];var m=sp.marker;var preventCursorLeft="selectLeft"in m?!m.selectLeft:m.inclusiveLeft;
var preventCursorRight="selectRight"in m?!m.selectRight:m.inclusiveRight;if((sp.from==null||(preventCursorLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(sp.to==null||(preventCursorRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear){signal(m,"beforeCursorEnter");if(m.explicitlyCleared)if(!line.markedSpans)break;else{--i;continue}}if(!m.atomic)continue;if(oldPos){var near=m.find(dir<0?1:-1);var diff=void 0;if(dir<0?preventCursorRight:preventCursorLeft)near=movePos(doc,near,-dir,near&&near.line==pos.line?line:
null);if(near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(dir<0?diff<0:diff>0))return skipAtomicInner(doc,near,pos,dir,mayClear)}var far=m.find(dir<0?-1:1);if(dir<0?preventCursorLeft:preventCursorRight)far=movePos(doc,far,dir,far.line==pos.line?line:null);return far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1;var found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,true)||
skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,true);if(!found){doc.cantEdit=true;return Pos(doc.first,0)}return found}function movePos(doc,pos,dir,line){if(dir<0&&pos.ch==0)if(pos.line>doc.first)return clipPos(doc,Pos(pos.line-1));else return null;else if(dir>0&&pos.ch==(line||getLine(doc,pos.line)).text.length)if(pos.line<doc.first+doc.size-1)return Pos(pos.line+1,0);else return null;else return new Pos(pos.line,pos.ch+dir)}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),
0),Pos(cm.lastLine()),sel_dontScroll)}function filterChange(doc,change,update){var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function(){return obj.canceled=true}};if(update)obj.update=function(from,to,text,origin){if(from)obj.from=clipPos(doc,from);if(to)obj.to=clipPos(doc,to);if(text)obj.text=text;if(origin!==undefined)obj.origin=origin};signal(doc,"beforeChange",doc,obj);if(doc.cm)signal(doc.cm,"beforeChange",doc.cm,obj);if(obj.canceled){if(doc.cm)doc.cm.curOp.updateInput=
2;return null}return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return}if(hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange")){change=filterChange(doc,change,true);if(!change)return}var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){var i=split.length-
1;for(;i>=0;--i)makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text,origin:change.origin})}else makeChangeInner(doc,change)}function makeChangeInner(doc,change){if(change.text.length==1&&change.text[0]==""&&cmp(change.from,change.to)==0)return;var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,
sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}function makeChangeFromHistory(doc,type,allowSelectionOnly){var suppress=doc.cm&&doc.cm.state.suppressEdits;if(suppress&&!allowSelectionOnly)return;var hist=doc.history;var event;var selAfter=doc.sel;var source=type=="undo"?hist.done:hist.undone;var dest=type=="undo"?hist.undone:hist.done;var i=0;for(;i<source.length;i++){event=
source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges)break}if(i==source.length)return;hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:false});return}selAfter=event}else if(suppress){source.push(event);return}else break}var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});
hist.generation=event.generation||++hist.maxGeneration;var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange");var loop=function(i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,false)){source.length=0;return{}}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm)doc.cm.scrollIntoView({from:change.from,
to:changeEnd(change)});var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history)}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})};var i$1=event.changes.length-1;for(;i$1>=0;--i$1){var returned=loop(i$1);if(returned)return returned.v}}function shiftDoc(doc,distance){if(distance==0)return;doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+
distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);var d=doc.cm.display;var l=d.viewFrom;for(;l<d.viewTo;l++)regLineChange(doc.cm,l,"gutter")}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));
return}if(change.from.line>doc.lastLine())return;if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();if(change.to.line>last)change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin};change.removed=getBetween(doc,change.from,change.to);if(!selAfter)selAfter=
computeSelAfterChange(doc,change);if(doc.cm)makeChangeSingleDocInEditor(doc.cm,change,spans);else updateDoc(doc,change,spans);setSelectionNoUndo(doc,selAfter,sel_dontScroll);if(doc.cantEdit&&skipAtomic(doc,Pos(doc.firstLine(),0)))doc.cantEdit=false}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc;var display=cm.display;var from=change.from;var to=change.to;var recomputeMaxLength=false;var checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,
from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=true;return true}})}if(doc.sel.contains(change.from,change.to)>-1)signalCursorActivity(cm);updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=true;recomputeMaxLength=false}});
if(recomputeMaxLength)cm.curOp.updateMaxLine=true}retreatFrontier(doc,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(change.full)regChange(cm);else if(from.line==to.line&&change.text.length==1&&!isWholeLineUpdate(cm.doc,change))regLineChange(cm,from.line,"text");else regChange(cm,from.line,to.line+1,lendiff);var changesHandler=hasHandler(cm,"changes");var changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,
removed:change.removed,origin:change.origin};if(changeHandler)signalLater(cm,"change",cm,obj);if(changesHandler)(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}cm.display.selForContextMenu=null}function replaceRange(doc,code,from,to,origin){var assign;if(!to)to=from;if(cmp(to,from)<0)assign=[to,from],from=assign[0],to=assign[1];if(typeof code=="string")code=doc.splitLines(code);makeChange(doc,{from:from,to:to,text:code,origin:origin})}function rebaseHistSelSingle(pos,from,to,diff){if(to<
pos.line)pos.line+=diff;else if(from<pos.line){pos.line=from;pos.ch=0}}function rebaseHistArray(array,from,to,diff){var i=0;for(;i<array.length;++i){var sub=array[i];var ok=true;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=true}var j=0;for(;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff)}continue}var j$1=0;for(;j$1<sub.changes.length;++j$1){var cur=sub.changes[j$1];if(to<cur.from.line){cur.from=
Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch)}else if(from<=cur.to.line){ok=false;break}}if(!ok){array.splice(0,i+1);i=0}}}function rebaseHist(hist,change){var from=change.from.line;var to=change.to.line;var diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff)}function changeLine(doc,handle,changeType,op){var no=handle;var line=handle;if(typeof handle=="number")line=getLine(doc,clipLine(doc,handle));else no=
lineNo(handle);if(no==null)return null;if(op(line,no)&&doc.cm)regLineChange(doc.cm,no,changeType);return line}function LeafChunk(lines){this.lines=lines;this.parent=null;var height=0;var i=0;for(;i<lines.length;++i){lines[i].parent=this;height=height+lines[i].height}this.height=height}function BranchChunk(children){this.children=children;var size=0;var height=0;var i=0;for(;i<children.length;++i){var ch=children[i];size=size+ch.chunkSize();height=height+ch.height;ch.parent=this}this.size=size;this.height=
height;this.parent=null}function adjustScrollWhenAboveVisible(cm,line,diff){if(heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop))addToScrollTop(cm,diff)}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options);var cm=doc.cm;if(cm&&widget.noHScroll)cm.display.alignWidgets=true;changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(widget.insertAt==null)widgets.push(widget);else widgets.splice(Math.min(widgets.length,
Math.max(0,widget.insertAt)),0,widget);widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible)addToScrollTop(cm,widget.height);cm.curOp.forceUpdate=true}return true});if(cm)signalLater(cm,"lineWidgetAdded",cm,widget,typeof handle=="number"?handle:lineNo(handle));return widget}function markText(doc,from,to,options,type){if(options&&options.shared)return markTextShared(doc,from,to,options,
type);if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,markText)(doc,from,to,options,type);var marker=new TextMarker(doc,type);var diff=cmp(from,to);if(options)copyObj(options,marker,false);if(diff>0||diff==0&&marker.clearWhenEmpty!==false)return marker;if(marker.replacedWith){marker.collapsed=true;marker.widgetNode=eltP("span",[marker.replacedWith],"CodeMirror-widget");if(!options.handleMouseEvents)marker.widgetNode.setAttribute("cm-ignore-events","true");if(options.insertLeft)marker.widgetNode.insertLeft=
true}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))throw new Error("Inserting collapsed marker partially overlapping an existing one");seeCollapsedSpans()}if(marker.addToHistory)addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN);var curLine=from.line;var cm=doc.cm;var updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&
visualLine(line)==cm.display.maxLine)updateMaxLine=true;if(marker.collapsed&&curLine!=from.line)updateLineHeight(line,0);addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null),doc.cm&&doc.cm.curOp);++curLine});if(marker.collapsed)doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line))updateLineHeight(line,0)});if(marker.clearOnEnter)on(marker,"beforeCursorEnter",function(){return marker.clear()});if(marker.readOnly){seeReadOnlySpans();
if(doc.history.done.length||doc.history.undone.length)doc.clearHistory()}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=true}if(cm){if(updateMaxLine)cm.curOp.updateMaxLine=true;if(marker.collapsed)regChange(cm,from.line,to.line+1);else if(marker.className||marker.startStyle||marker.endStyle||marker.css||marker.attributes||marker.title){var i=from.line;for(;i<=to.line;i++)regLineChange(cm,i,"text")}if(marker.atomic)reCheckSelection(cm.doc);signalLater(cm,"markerAdded",cm,marker)}return marker}
function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=false;var markers=[markText(doc,from,to,options,type)];var primary=markers[0];var widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget)options.widgetNode=widget.cloneNode(true);markers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));var i=0;for(;i<doc.linked.length;++i)if(doc.linked[i].isParent)return;primary=lst(markers)});return new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,
0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){var i=0;for(;i<markers.length;i++){var marker=markers[i];var pos=marker.find();var mFrom=doc.clipPos(pos.from);var mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker}}}function detachSharedMarkers(markers){var loop=function(i){var marker=markers[i];var linked=[marker.primary.doc];
linkedDocs(marker.primary.doc,function(d){return linked.push(d)});var j=0;for(;j<marker.markers.length;j++){var subMarker=marker.markers[j];if(indexOf(linked,subMarker.doc)==-1){subMarker.parent=null;marker.markers.splice(j--,1)}}};var i=0;for(;i<markers.length;i++)loop(i)}function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);if(ie)lastDrop=+new Date;var pos=posFromMouse(cm,e,true);var files=e.dataTransfer.files;if(!pos||
cm.isReadOnly())return;if(files&&files.length&&window.FileReader&&window.File){var n=files.length;var text=Array(n);var read=0;var markAsReadAndPasteIfAllFilesAreRead=function(){if(++read==n)operation(cm,function(){pos=clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.filter(function(t){return t!=null}).join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(clipPos(cm.doc,pos),clipPos(cm.doc,changeEnd(change))))})()};
var readTextFromFile=function(file,i){if(cm.options.allowDropFileTypes&&indexOf(cm.options.allowDropFileTypes,file.type)==-1){markAsReadAndPasteIfAllFilesAreRead();return}var reader=new FileReader;reader.onerror=function(){return markAsReadAndPasteIfAllFilesAreRead()};reader.onload=function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content)){markAsReadAndPasteIfAllFilesAreRead();return}text[i]=content;markAsReadAndPasteIfAllFilesAreRead()};reader.readAsText(file)};var i=0;for(;i<
files.length;i++)readTextFromFile(files[i],i)}else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1){cm.state.draggingText(e);setTimeout(function(){return cm.display.input.focus()},20);return}try{var text$1=e.dataTransfer.getData("Text");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy)selected=cm.listSelections();setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected){var i$1=0;for(;i$1<selected.length;++i$1)replaceRange(cm.doc,"",selected[i$1].anchor,selected[i$1].head,
"drag")}cm.replaceSelection(text$1,"around","paste");cm.display.input.focus()}}catch(e$1){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date-lastDrop<100)){e_stop(e);return}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e.dataTransfer.setData("Text",cm.getSelection());e.dataTransfer.effectAllowed="copyMove";if(e.dataTransfer.setDragImage&&!safari){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop}e.dataTransfer.setDragImage(img,0,0);if(presto)img.parentNode.removeChild(img)}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos)return;var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)}removeChildrenAndAdd(cm.display.dragCursor,
frag)}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null}}function forEachCodeMirror(f){if(!document.getElementsByClassName)return;var byClass=document.getElementsByClassName("CodeMirror");var editors=[];var i=0;for(;i<byClass.length;i++){var cm=byClass[i].CodeMirror;if(cm)editors.push(cm)}if(editors.length)editors[0].operation(function(){var i=0;for(;i<editors.length;i++)f(editors[i])})}function ensureGlobalHandlers(){if(globalsRegistered)return;
registerGlobalHandlers();globalsRegistered=true}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){if(resizeTimer==null)resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize)},100)});on(window,"blur",function(){return forEachCodeMirror(onBlur)})}function onResize(cm){var d=cm.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=false;cm.setSize()}function normalizeKeyName(name){var parts=name.split(/-(?!$)/);name=
parts[parts.length-1];var alt;var ctrl;var shift;var cmd;var i=0;for(;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))cmd=true;else if(/^a(lt)?$/i.test(mod))alt=true;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=true;else if(/^s(hift)?$/i.test(mod))shift=true;else throw new Error("Unrecognized modifier name: "+mod);}if(alt)name="Alt-"+name;if(ctrl)name="Ctrl-"+name;if(cmd)name="Cmd-"+name;if(shift)name="Shift-"+name;return name}function normalizeKeyMap(keymap){var copy={};var keyname;
for(keyname in keymap)if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname))continue;if(value=="..."){delete keymap[keyname];continue}var keys=map(keyname.split(" "),normalizeKeyName);var i=0;for(;i<keys.length;i++){var val=void 0;var name=void 0;if(i==keys.length-1){name=keys.join(" ");val=value}else{name=keys.slice(0,i+1).join(" ");val="..."}var prev=copy[name];if(!prev)copy[name]=val;else if(prev!=val)throw new Error("Inconsistent bindings for "+
name);}delete keymap[keyname]}var prop;for(prop in copy)keymap[prop]=copy[prop];return keymap}function lookupKey(key,map,handle,context){map=getKeyMap(map);var found=map.call?map.call(key,context):map[key];if(found===false)return"nothing";if(found==="...")return"multi";if(found!=null&&handle(found))return"handled";if(map.fallthrough){if(Object.prototype.toString.call(map.fallthrough)!="[object Array]")return lookupKey(key,map.fallthrough,handle,context);var i=0;for(;i<map.fallthrough.length;i++){var result=
lookupKey(key,map.fallthrough[i],handle,context);if(result)return result}}}function isModifierKey(value){var name=typeof value=="string"?value:keyNames[value.keyCode];return name=="Ctrl"||name=="Alt"||name=="Shift"||name=="Mod"}function addModifierNames(name,event,noShift){var base=name;if(event.altKey&&base!="Alt")name="Alt-"+name;if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&base!="Ctrl")name="Ctrl-"+name;if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&base!="Mod")name="Cmd-"+name;if(!noShift&&event.shiftKey&&
base!="Shift")name="Shift-"+name;return name}function keyName(event,noShift){if(presto&&event.keyCode==34&&event["char"])return false;var name=keyNames[event.keyCode];if(name==null||event.altGraphKey)return false;if(event.keyCode==3&&event.code)name=event.code;return addModifierNames(name,event,noShift)}function getKeyMap(val){return typeof val=="string"?keyMap[val]:val}function deleteNearSelection(cm,compute){var ranges=cm.doc.sel.ranges;var kill=[];var i=0;for(;i<ranges.length;i++){var toKill=compute(ranges[i]);
for(;kill.length&&cmp(toKill.from,lst(kill).to)<=0;){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){var i=kill.length-1;for(;i>=0;i--)replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete");ensureCursorVisible(cm)})}function moveCharLogically(line,ch,dir){var target=skipExtendingChars(line.text,ch+dir,dir);return target<0||target>line.text.length?null:target}function moveLogically(line,start,dir){var ch=moveCharLogically(line,
start.ch,dir);return ch==null?null:new Pos(start.line,ch,dir<0?"after":"before")}function endOfLine(visually,cm,lineObj,lineNo,dir){if(visually){if(cm.doc.direction=="rtl")dir=-dir;var order=getOrder(lineObj,cm.doc.direction);if(order){var part=dir<0?lst(order):order[0];var moveInStorageOrder=dir<0==(part.level==1);var sticky=moveInStorageOrder?"after":"before";var ch;if(part.level>0||cm.doc.direction=="rtl"){var prep=prepareMeasureForLine(cm,lineObj);ch=dir<0?lineObj.text.length-1:0;var targetTop=
measureCharPrepared(cm,prep,ch).top;ch=findFirst(function(ch){return measureCharPrepared(cm,prep,ch).top==targetTop},dir<0==(part.level==1)?part.from:part.to-1,ch);if(sticky=="before")ch=moveCharLogically(lineObj,ch,1)}else ch=dir<0?part.to:part.from;return new Pos(lineNo,ch,sticky)}}return new Pos(lineNo,dir<0?lineObj.text.length:0,dir<0?"before":"after")}function moveVisually(cm,line,start,dir){var bidi=getOrder(line,cm.doc.direction);if(!bidi)return moveLogically(line,start,dir);if(start.ch>=line.text.length){start.ch=
line.text.length;start.sticky="before"}else if(start.ch<=0){start.ch=0;start.sticky="after"}var partPos=getBidiPartAt(bidi,start.ch,start.sticky);var part=bidi[partPos];if(cm.doc.direction=="ltr"&&part.level%2==0&&(dir>0?part.to>start.ch:part.from<start.ch))return moveLogically(line,start,dir);var mv=function(pos,dir){return moveCharLogically(line,pos instanceof Pos?pos.ch:pos,dir)};var prep;var getWrappedLineExtent=function(ch){if(!cm.options.lineWrapping)return{begin:0,end:line.text.length};prep=
prep||prepareMeasureForLine(cm,line);return wrappedLineExtentChar(cm,line,prep,ch)};var wrappedLineExtent=getWrappedLineExtent(start.sticky=="before"?mv(start,-1):start.ch);if(cm.doc.direction=="rtl"||part.level==1){var moveInStorageOrder=part.level==1==dir<0;var ch=mv(start,moveInStorageOrder?1:-1);if(ch!=null&&(!moveInStorageOrder?ch>=part.from&&ch>=wrappedLineExtent.begin:ch<=part.to&&ch<=wrappedLineExtent.end)){var sticky=moveInStorageOrder?"before":"after";return new Pos(start.line,ch,sticky)}}var searchInVisualLine=
function(partPos,dir,wrappedLineExtent){var getRes=function(ch,moveInStorageOrder){return moveInStorageOrder?new Pos(start.line,mv(ch,1),"before"):new Pos(start.line,ch,"after")};for(;partPos>=0&&partPos<bidi.length;partPos=partPos+dir){var part=bidi[partPos];var moveInStorageOrder=dir>0==(part.level!=1);var ch=moveInStorageOrder?wrappedLineExtent.begin:mv(wrappedLineExtent.end,-1);if(part.from<=ch&&ch<part.to)return getRes(ch,moveInStorageOrder);ch=moveInStorageOrder?part.from:mv(part.to,-1);if(wrappedLineExtent.begin<=
ch&&ch<wrappedLineExtent.end)return getRes(ch,moveInStorageOrder)}};var res=searchInVisualLine(partPos+dir,dir,wrappedLineExtent);if(res)return res;var nextCh=dir>0?wrappedLineExtent.end:mv(wrappedLineExtent.begin,-1);if(nextCh!=null&&!(dir>0&&nextCh==line.text.length)){res=searchInVisualLine(dir>0?0:bidi.length-1,dir,getWrappedLineExtent(nextCh));if(res)return res}return null}function lineStart(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLine(line);if(visual!=line)lineN=lineNo(visual);
return endOfLine(true,cm,visual,lineN,1)}function lineEnd(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLineEnd(line);if(visual!=line)lineN=lineNo(visual);return endOfLine(true,cm,line,lineN,-1)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line);var line=getLine(cm.doc,start.line);var order=getOrder(line,cm.doc.direction);if(!order||order[0].level==0){var firstNonWS=Math.max(start.ch,line.text.search(/\S/));var inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,
inWS?0:firstNonWS,start.sticky)}return start}function doHandleBinding(cm,bound,dropShift){if(typeof bound=="string"){bound=commands[bound];if(!bound)return false}cm.display.input.ensurePolled();var prevShift=cm.display.shift;var done=false;try{if(cm.isReadOnly())cm.state.suppressEdits=true;if(dropShift)cm.display.shift=false;done=bound(cm)!=Pass}finally{cm.display.shift=prevShift;cm.state.suppressEdits=false}return done}function lookupKeyForEditor(cm,name,handle){var i=0;for(;i<cm.state.keyMaps.length;i++){var result=
lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result)return result}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name))return"handled";if(/'$/.test(name))cm.state.keySeq=null;else stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset()}});if(dispatchKeyInner(cm,seq+" "+name,e,handle))return true}return dispatchKeyInner(cm,
name,e,handle)}function dispatchKeyInner(cm,name,e,handle){var result=lookupKeyForEditor(cm,name,handle);if(result=="multi")cm.state.keySeq=name;if(result=="handled")signalLater(cm,"keyHandled",cm,name,e);if(result=="handled"||result=="multi"){e_preventDefault(e);restartBlink(cm)}return!!result}function handleKeyBinding(cm,e){var name=keyName(e,true);if(!name)return false;if(e.shiftKey&&!cm.state.keySeq)return dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,true)})||dispatchKey(cm,
name,e,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return doHandleBinding(cm,b)});else return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)})}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,true)})}function onKeyDown(e){var cm=this;if(e.target&&e.target!=cm.display.input.getField())return;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e))return;if(ie&&ie_version<11&&e.keyCode==27)e.returnValue=false;
var code=e.keyCode;cm.display.shift=code==16||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&code==88&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey))cm.replaceSelection("",null,"cut")}if(gecko&&!mac&&!handled&&code==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand)document.execCommand("cut");if(code==18&&!/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className))showCrossHair(cm)}function showCrossHair(cm){function up(e){if(e.keyCode==18||!e.altKey){rmClass(lineDiv,
"CodeMirror-crosshair");off(document,"keyup",up);off(document,"mouseover",up)}}var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair");on(document,"keyup",up);on(document,"mouseover",up)}function onKeyUp(e){if(e.keyCode==16)this.doc.sel.shift=false;signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(e.target&&e.target!=cm.display.input.getField())return;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey)return;var keyCode=e.keyCode;
var charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return}if(presto&&(!e.which||e.which<10)&&handleKeyBinding(cm,e))return;var ch=String.fromCharCode(charCode==null?keyCode:charCode);if(ch=="\b")return;if(handleCharBinding(cm,e,ch))return;cm.display.input.onKeyPress(e)}function clickRepeat(pos,button){var now=+new Date;if(lastDoubleClick&&lastDoubleClick.compare(now,pos,button)){lastClick=lastDoubleClick=null;return"triple"}else if(lastClick&&lastClick.compare(now,
pos,button)){lastDoubleClick=new PastClick(now,pos,button);lastClick=null;return"double"}else{lastClick=new PastClick(now,pos,button);lastDoubleClick=null;return"single"}}function onMouseDown(e){var cm=this;var display=cm.display;if(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch())return;display.input.ensurePolled();display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=false;setTimeout(function(){return display.scroller.draggable=true},
100)}return}if(clickInGutter(cm,e))return;var pos=posFromMouse(cm,e);var button=e_button(e);var repeat=pos?clickRepeat(pos,button):"single";window.focus();if(button==1&&cm.state.selectingText)cm.state.selectingText(e);if(pos&&handleMappedButton(cm,button,pos,repeat,e))return;if(button==1)if(pos)leftButtonDown(cm,pos,repeat,e);else{if(e_target(e)==display.scroller)e_preventDefault(e)}else if(button==2){if(pos)extendSelection(cm.doc,pos);setTimeout(function(){return display.input.focus()},20)}else if(button==
3)if(captureRightClick)cm.display.input.onContextMenu(e);else delayBlurEvent(cm)}function handleMappedButton(cm,button,pos,repeat,event){var name="Click";if(repeat=="double")name="Double"+name;else if(repeat=="triple")name="Triple"+name;name=(button==1?"Left":button==2?"Middle":"Right")+name;return dispatchKey(cm,addModifierNames(name,event),event,function(bound){if(typeof bound=="string")bound=commands[bound];if(!bound)return false;var done=false;try{if(cm.isReadOnly())cm.state.suppressEdits=true;
done=bound(cm,pos)!=Pass}finally{cm.state.suppressEdits=false}return done})}function configureMouse(cm,repeat,event){var option=cm.getOption("configureMouse");var value=option?option(cm,repeat,event):{};if(value.unit==null){var rect=chromeOS?event.shiftKey&&event.metaKey:event.altKey;value.unit=rect?"rectangle":repeat=="single"?"char":repeat=="double"?"word":"line"}if(value.extend==null||cm.doc.extend)value.extend=cm.doc.extend||event.shiftKey;if(value.addNew==null)value.addNew=mac?event.metaKey:
event.ctrlKey;if(value.moveOnDrag==null)value.moveOnDrag=!(mac?event.altKey:event.ctrlKey);return value}function leftButtonDown(cm,pos,repeat,event){if(ie)setTimeout(bind(ensureFocus,cm),0);else cm.curOp.focus=activeElt();var behavior=configureMouse(cm,repeat,event);var sel=cm.doc.sel;var contained;if(cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&repeat=="single"&&(contained=sel.contains(pos))>-1&&(cmp((contained=sel.ranges[contained]).from(),pos)<0||pos.xRel>0)&&(cmp(contained.to(),pos)>0||
pos.xRel<0))leftButtonStartDrag(cm,event,pos,behavior);else leftButtonSelect(cm,event,pos,behavior)}function leftButtonStartDrag(cm,event,pos,behavior){var display=cm.display;var moved=false;var dragEnd=operation(cm,function(e){if(webkit)display.scroller.draggable=false;cm.state.draggingText=false;if(cm.state.delayingBlurEvent)if(cm.hasFocus())cm.state.delayingBlurEvent=false;else delayBlurEvent(cm);off(display.wrapper.ownerDocument,"mouseup",dragEnd);off(display.wrapper.ownerDocument,"mousemove",
mouseMove);off(display.scroller,"dragstart",dragStart);off(display.scroller,"drop",dragEnd);if(!moved){e_preventDefault(e);if(!behavior.addNew)extendSelection(cm.doc,pos,null,null,behavior.extend);if(webkit&&!safari||ie&&ie_version==9)setTimeout(function(){display.wrapper.ownerDocument.body.focus({preventScroll:true});display.input.focus()},20);else display.input.focus()}});var mouseMove=function(e2){moved=moved||Math.abs(event.clientX-e2.clientX)+Math.abs(event.clientY-e2.clientY)>=10};var dragStart=
function(){return moved=true};if(webkit)display.scroller.draggable=true;cm.state.draggingText=dragEnd;dragEnd.copy=!behavior.moveOnDrag;on(display.wrapper.ownerDocument,"mouseup",dragEnd);on(display.wrapper.ownerDocument,"mousemove",mouseMove);on(display.scroller,"dragstart",dragStart);on(display.scroller,"drop",dragEnd);cm.state.delayingBlurEvent=true;setTimeout(function(){return display.input.focus()},20);if(display.scroller.dragDrop)display.scroller.dragDrop()}function rangeForUnit(cm,pos,unit){if(unit==
"char")return new Range(pos,pos);if(unit=="word")return cm.findWordAt(pos);if(unit=="line")return new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)));var result=unit(cm,pos);return new Range(result.from,result.to)}function leftButtonSelect(cm,event,start,behavior){function extendTo(pos){if(cmp(lastPos,pos)==0)return;lastPos=pos;if(behavior.unit=="rectangle"){var ranges=[];var tabSize=cm.options.tabSize;var startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);var posCol=countColumn(getLine(doc,
pos.line).text,pos.ch,tabSize);var left=Math.min(startCol,posCol);var right=Math.max(startCol,posCol);var line=Math.min(start.line,pos.line);var end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));for(;line<=end;line++){var text=getLine(doc,line).text;var leftPos=findColumn(text,left,tabSize);if(left==right)ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)));else if(text.length>leftPos)ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}if(!ranges.length)ranges.push(new Range(start,
start));setSelection(doc,normalizeSelection(cm,startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:false});cm.scrollIntoView(pos)}else{var oldRange=ourRange;var range=rangeForUnit(cm,pos,behavior.unit);var anchor=oldRange.anchor;var head;if(cmp(range.anchor,anchor)>0){head=range.head;anchor=minPos(oldRange.from(),range.anchor)}else{head=range.anchor;anchor=maxPos(oldRange.to(),range.head)}var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=bidiSimplify(cm,new Range(clipPos(doc,
anchor),head));setSelection(doc,normalizeSelection(cm,ranges$1,ourIndex),sel_mouse)}}function extend(e){var curCount=++counter;var cur=posFromMouse(cm,e,true,behavior.unit=="rectangle");if(!cur)return;if(cmp(cur,lastPos)!=0){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from)setTimeout(operation(cm,function(){if(counter==curCount)extend(e)}),150)}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:
0;if(outside)setTimeout(operation(cm,function(){if(counter!=curCount)return;display.scroller.scrollTop+=outside;extend(e)}),50)}}function done(e){cm.state.selectingText=false;counter=Infinity;if(e){e_preventDefault(e);display.input.focus()}off(display.wrapper.ownerDocument,"mousemove",move);off(display.wrapper.ownerDocument,"mouseup",up);doc.history.lastSelOrigin=null}if(ie)delayBlurEvent(cm);var display=cm.display;var doc=cm.doc;e_preventDefault(event);var ourRange;var ourIndex;var startSel=doc.sel;
var ranges=startSel.ranges;if(behavior.addNew&&!behavior.extend){ourIndex=doc.sel.contains(start);if(ourIndex>-1)ourRange=ranges[ourIndex];else ourRange=new Range(start,start)}else{ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex}if(behavior.unit=="rectangle"){if(!behavior.addNew)ourRange=new Range(start,start);start=posFromMouse(cm,event,true,true);ourIndex=-1}else{var range=rangeForUnit(cm,start,behavior.unit);if(behavior.extend)ourRange=extendRange(ourRange,range.anchor,range.head,behavior.extend);
else ourRange=range}if(!behavior.addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel}else if(ourIndex==-1){ourIndex=ranges.length;setSelection(doc,normalizeSelection(cm,ranges.concat([ourRange]),ourIndex),{scroll:false,origin:"*mouse"})}else if(ranges.length>1&&ranges[ourIndex].empty()&&behavior.unit=="char"&&!behavior.extend){setSelection(doc,normalizeSelection(cm,ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:false,origin:"*mouse"});
startSel=doc.sel}else replaceOneSelection(doc,ourIndex,ourRange,sel_mouse);var lastPos=start;var editorSize=display.wrapper.getBoundingClientRect();var counter=0;var move=operation(cm,function(e){if(e.buttons===0||!e_button(e))done(e);else extend(e)});var up=operation(cm,done);cm.state.selectingText=up;on(display.wrapper.ownerDocument,"mousemove",move);on(display.wrapper.ownerDocument,"mouseup",up)}function bidiSimplify(cm,range){var anchor=range.anchor;var head=range.head;var anchorLine=getLine(cm.doc,
anchor.line);if(cmp(anchor,head)==0&&anchor.sticky==head.sticky)return range;var order=getOrder(anchorLine);if(!order)return range;var index=getBidiPartAt(order,anchor.ch,anchor.sticky);var part=order[index];if(part.from!=anchor.ch&&part.to!=anchor.ch)return range;var boundary=index+(part.from==anchor.ch==(part.level!=1)?0:1);if(boundary==0||boundary==order.length)return range;var leftSide;if(head.line!=anchor.line)leftSide=(head.line-anchor.line)*(cm.doc.direction=="ltr"?1:-1)>0;else{var headIndex=
getBidiPartAt(order,head.ch,head.sticky);var dir=headIndex-index||(head.ch-anchor.ch)*(part.level==1?-1:1);if(headIndex==boundary-1||headIndex==boundary)leftSide=dir<0;else leftSide=dir>0}var usePart=order[boundary+(leftSide?-1:0)];var from=leftSide==(usePart.level==1);var ch=from?usePart.from:usePart.to;var sticky=from?"after":"before";return anchor.ch==ch&&anchor.sticky==sticky?range:new Range(new Pos(anchor.line,ch,sticky),head)}function gutterEvent(cm,e,type,prevent){var mX;var mY;if(e.touches){mX=
e.touches[0].clientX;mY=e.touches[0].clientY}else try{mX=e.clientX;mY=e.clientY}catch(e$1){return false}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right))return false;if(prevent)e_preventDefault(e);var display=cm.display;var lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY=mY-(lineBox.top-display.viewOffset);var i=0;for(;i<cm.display.gutterSpecs.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=
mX){var line=lineAtHeight(cm.doc,mY);var gutter=cm.display.gutterSpecs[i];signal(cm,type,cm,line,gutter.className,e);return e_defaultPrevented(e)}}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",true)}function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e))return;if(signalDOMEvent(cm,e,"contextmenu"))return;if(!captureRightClick)cm.display.input.onContextMenu(e)}function contextMenuInGutter(cm,e){if(!hasHandler(cm,"gutterContextMenu"))return false;
return gutterEvent(cm,e,"gutterContextMenu",false)}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");clearCaches(cm)}function defineOptions(CodeMirror){function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle)optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init)handle(cm,val,old)}:handle}var optionHandlers=CodeMirror.optionHandlers;CodeMirror.defineOption=
option;CodeMirror.Init=Init;option("value","",function(cm,val){return cm.setValue(val)},true);option("mode",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm)},true);option("indentUnit",2,loadMode,true);option("indentWithTabs",false);option("smartIndent",true);option("tabSize",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm)},true);option("lineSeparator",null,function(cm,val){cm.doc.lineSep=val;if(!val)return;var newBreaks=[];var lineNo=cm.doc.first;cm.doc.iter(function(line){var pos=
0;for(;;){var found=line.text.indexOf(val,pos);if(found==-1)break;pos=found+val.length;newBreaks.push(Pos(lineNo,found))}lineNo++});var i=newBreaks.length-1;for(;i>=0;i--)replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))});option("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g");if(old!=Init)cm.refresh()});option("specialCharPlaceholder",
defaultSpecialCharPlaceholder,function(cm){return cm.refresh()},true);option("electricChars",true);option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor");},true);option("spellcheck",false,function(cm,val){return cm.getInputField().spellcheck=val},true);option("autocorrect",false,function(cm,val){return cm.getInputField().autocorrect=val},true);option("autocapitalize",false,function(cm,val){return cm.getInputField().autocapitalize=
val},true);option("rtlMoveVisually",!windows);option("wholeLineUpdateBefore",true);option("theme","default",function(cm){themeChanged(cm);updateGutters(cm)},true);option("keyMap","default",function(cm,val,old){var next=getKeyMap(val);var prev=old!=Init&&getKeyMap(old);if(prev&&prev.detach)prev.detach(cm,next);if(next.attach)next.attach(cm,prev||null)});option("extraKeys",null);option("configureMouse",null);option("lineWrapping",false,wrappingChanged,true);option("gutters",[],function(cm,val){cm.display.gutterSpecs=
getGutters(val,cm.options.lineNumbers);updateGutters(cm)},true);option("fixedGutter",true,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";cm.refresh()},true);option("coverGutterNextToScrollbar",false,function(cm){return updateScrollbars(cm)},true);option("scrollbarStyle","native",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},true);option("lineNumbers",
false,function(cm,val){cm.display.gutterSpecs=getGutters(cm.options.gutters,val);updateGutters(cm)},true);option("firstLineNumber",1,updateGutters,true);option("lineNumberFormatter",function(integer){return integer},updateGutters,true);option("showCursorWhenSelecting",false,updateSelection,true);option("resetSelectionOnContextMenu",true);option("lineWiseCopyCut",true);option("pasteLinesPerSelection",true);option("selectionsMayTouch",false);option("readOnly",false,function(cm,val){if(val=="nocursor"){onBlur(cm);
cm.display.input.blur()}cm.display.input.readOnlyChanged(val)});option("screenReaderLabel",null,function(cm,val){val=val===""?null:val;cm.display.input.screenReaderLabelChanged(val)});option("disableInput",false,function(cm,val){if(!val)cm.display.input.reset()},true);option("dragDrop",true,dragDropChanged);option("allowDropFileTypes",null);option("cursorBlinkRate",530);option("cursorScrollMargin",0);option("cursorHeight",1,updateSelection,true);option("singleCursorHeightPerLine",true,updateSelection,
true);option("workTime",100);option("workDelay",100);option("flattenSpans",true,resetModeState,true);option("addModeClass",false,resetModeState,true);option("pollInterval",100);option("undoDepth",200,function(cm,val){return cm.doc.history.undoDepth=val});option("historyEventDelay",1250);option("viewportMargin",10,function(cm){return cm.refresh()},true);option("maxHighlightLength",1E4,resetModeState,true);option("moveInputWithCursor",true,function(cm,val){if(!val)cm.display.input.resetPosition()});
option("tabindex",null,function(cm,val){return cm.display.input.getField().tabIndex=val||""});option("autofocus",null);option("direction","ltr",function(cm,val){return cm.doc.setDirection(val)},true);option("phrases",null)}function dragDropChanged(cm,value,old){var wasOn=old&&old!=Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions;var toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start);toggle(cm.display.scroller,"dragenter",funcs.enter);toggle(cm.display.scroller,"dragover",
funcs.over);toggle(cm.display.scroller,"dragleave",funcs.leave);toggle(cm.display.scroller,"drop",funcs.drop)}}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,"CodeMirror-wrap");cm.display.sizer.style.minWidth="";cm.display.sizerWidth=null}else{rmClass(cm.display.wrapper,"CodeMirror-wrap");findMaxLine(cm)}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){return updateScrollbars(cm)},100)}function CodeMirror(place,options){var this$1=this;
if(!(this instanceof CodeMirror))return new CodeMirror(place,options);this.options=options=options?copyObj(options):{};copyObj(defaults,options,false);var doc=options.value;if(typeof doc=="string")doc=new Doc(doc,options.mode,null,options.lineSeparator,options.direction);else if(options.mode)doc.modeOption=options.mode;this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this);var display=this.display=new Display(place,doc,input,options);display.wrapper.CodeMirror=this;themeChanged(this);
if(options.lineWrapping)this.display.wrapper.className+=" CodeMirror-wrap";initScrollbars(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:-1,cutIncoming:-1,selectingText:false,draggingText:false,highlight:new Delayed,keySeq:null,specialChars:null};if(options.autofocus&&!mobile)display.input.focus();if(ie&&ie_version<11)setTimeout(function(){return this$1.display.input.reset(true)},20);registerEventHandlers(this);
ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=true;attachDoc(this,doc);if(options.autofocus&&!mobile||this.hasFocus())setTimeout(function(){if(this$1.hasFocus()&&!this$1.state.focused)onFocus(this$1)},20);else onBlur(this);var opt;for(opt in optionHandlers)if(optionHandlers.hasOwnProperty(opt))optionHandlers[opt](this,options[opt],Init);maybeUpdateLineNumberWidth(this);if(options.finishInit)options.finishInit(this);var i=0;for(;i<initHooks.length;++i)initHooks[i](this);endOperation(this);
if(webkit&&options.lineWrapping&&getComputedStyle(display.lineDiv).textRendering=="optimizelegibility")display.lineDiv.style.textRendering="auto"}function registerEventHandlers(cm){function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){return d.activeTouch=null},1E3);prevTouch=d.activeTouch;prevTouch.end=+new Date}}function isMouseLikeTouchEvent(e){if(e.touches.length!=1)return false;var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1}function farAway(touch,other){if(other.left==
null)return true;var dx=other.left-touch.left;var dy=other.top-touch.top;return dx*dx+dy*dy>20*20}var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown));if(ie&&ie_version<11)on(d.scroller,"dblclick",operation(cm,function(e){if(signalDOMEvent(cm,e))return;var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}));else on(d.scroller,"dblclick",function(e){return signalDOMEvent(cm,
e)||e_preventDefault(e)});on(d.scroller,"contextmenu",function(e){return onContextMenu(cm,e)});on(d.input.getField(),"contextmenu",function(e){if(!d.scroller.contains(e.target))onContextMenu(cm,e)});var touchFinished;var prevTouch={end:0};on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)&&!clickInGutter(cm,e)){d.input.ensurePolled();clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:false,prev:now-prevTouch.end<=300?prevTouch:null};
if(e.touches.length==1){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY}}});on(d.scroller,"touchmove",function(){if(d.activeTouch)d.activeTouch.moved=true});on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&touch.left!=null&&!touch.moved&&new Date-touch.start<300){var pos=cm.coordsChar(d.activeTouch,"page");var range;if(!touch.prev||farAway(touch,touch.prev))range=new Range(pos,pos);else if(!touch.prev.prev||farAway(touch,touch.prev.prev))range=
cm.findWordAt(pos);else range=new Range(Pos(pos.line,0),clipPos(cm.doc,Pos(pos.line+1,0)));cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e)}finishTouch()});on(d.scroller,"touchcancel",finishTouch);on(d.scroller,"scroll",function(){if(d.scroller.clientHeight){updateScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,true);signal(cm,"scroll",cm)}});on(d.scroller,"mousewheel",function(e){return onScrollWheel(cm,e)});on(d.scroller,"DOMMouseScroll",function(e){return onScrollWheel(cm,
e)});on(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={enter:function(e){if(!signalDOMEvent(cm,e))e_stop(e)},over:function(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e)}},start:function(e){return onDragStart(cm,e)},drop:operation(cm,onDrop),leave:function(e){if(!signalDOMEvent(cm,e))clearDragCursor(cm)}};var inp=d.input.getField();on(inp,"keyup",function(e){return onKeyUp.call(cm,e)});on(inp,"keydown",operation(cm,onKeyDown));on(inp,"keypress",
operation(cm,onKeyPress));on(inp,"focus",function(e){return onFocus(cm,e)});on(inp,"blur",function(e){return onBlur(cm,e)})}function indentLine(cm,n,how,aggressive){var doc=cm.doc;var state;if(how==null)how="add";if(how=="smart")if(!doc.mode.indent)how="prev";else state=getContextBefore(cm,n).state;var tabSize=cm.options.tabSize;var line=getLine(doc,n);var curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter)line.stateAfter=null;var curSpaceString=line.text.match(/^\s*/)[0];var indentation;
if(!aggressive&&!/\S/.test(line.text)){indentation=0;how="not"}else if(how=="smart"){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||indentation>150){if(!aggressive)return;how="prev"}}if(how=="prev")if(n>doc.first)indentation=countColumn(getLine(doc,n-1).text,null,tabSize);else indentation=0;else if(how=="add")indentation=curSpace+cm.options.indentUnit;else if(how=="subtract")indentation=curSpace-cm.options.indentUnit;else if(typeof how=="number")indentation=
curSpace+how;indentation=Math.max(0,indentation);var indentString="";var pos=0;if(cm.options.indentWithTabs){var i=Math.floor(indentation/tabSize);for(;i;--i){pos=pos+tabSize;indentString=indentString+"\t"}}if(pos<indentation)indentString=indentString+spaceStr(indentation-pos);if(indentString!=curSpaceString){replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");line.stateAfter=null;return true}else{var i$1=0;for(;i$1<doc.sel.ranges.length;i$1++){var range=doc.sel.ranges[i$1];
if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break}}}}function setLastCopied(newLastCopied){lastCopied=newLastCopied}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=false;if(!sel)sel=doc.sel;var recent=+new Date-200;var paste=origin=="paste"||cm.state.pasteIncoming>recent;var textLines=splitLinesAuto(inserted);var multiPaste=null;if(paste&&sel.ranges.length>
1)if(lastCopied&&lastCopied.text.join("\n")==inserted){if(sel.ranges.length%lastCopied.text.length==0){multiPaste=[];var i=0;for(;i<lastCopied.text.length;i++)multiPaste.push(doc.splitLines(lastCopied.text[i]))}}else if(textLines.length==sel.ranges.length&&cm.options.pasteLinesPerSelection)multiPaste=map(textLines,function(l){return[l]});var updateInput=cm.curOp.updateInput;var i$1=sel.ranges.length-1;for(;i$1>=0;i$1--){var range=sel.ranges[i$1];var from=range.from();var to=range.to();if(range.empty())if(deleted&&
deleted>0)from=Pos(from.line,from.ch-deleted);else if(cm.state.overwrite&&!paste)to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length));else if(paste&&lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\n")==textLines.join("\n"))from=to=Pos(from.line,0);var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming>recent?"cut":"+input")};makeChange(cm.doc,changeEvent);signalLater(cm,
"inputRead",cm,changeEvent)}if(inserted&&!paste)triggerElectric(cm,inserted);ensureCursorVisible(cm);if(cm.curOp.updateInput<2)cm.curOp.updateInput=updateInput;cm.curOp.typing=true;cm.state.pasteIncoming=cm.state.cutIncoming=-1}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("Text");if(pasted){e.preventDefault();if(!cm.isReadOnly()&&!cm.options.disableInput&&cm.hasFocus())runInOp(cm,function(){return applyTextInput(cm,pasted,0,null,"paste")});return true}}function triggerElectric(cm,
inserted){if(!cm.options.electricChars||!cm.options.smartIndent)return;var sel=cm.doc.sel;var i=sel.ranges.length-1;for(;i>=0;i--){var range=sel.ranges[i];if(range.head.ch>100||i&&sel.ranges[i-1].head.line==range.head.line)continue;var mode=cm.getModeAt(range.head);var indented=false;if(mode.electricChars){var j=0;for(;j<mode.electricChars.length;j++)if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indented=indentLine(cm,range.head.line,"smart");break}}else if(mode.electricInput)if(mode.electricInput.test(getLine(cm.doc,
range.head.line).text.slice(0,range.head.ch)))indented=indentLine(cm,range.head.line,"smart");if(indented)signalLater(cm,"electricInput",cm,range.head.line)}}function copyableRanges(cm){var text=[];var ranges=[];var i=0;for(;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line;var lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field,spellcheck,
autocorrect,autocapitalize){field.setAttribute("autocorrect",autocorrect?"":"off");field.setAttribute("autocapitalize",autocapitalize?"":"off");field.setAttribute("spellcheck",!!spellcheck)}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none");var div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(webkit)te.style.width="1000px";else te.setAttribute("wrap",
"off");if(ios)te.style.border="1px solid black";disableBrowserMagic(te);return div}function addEditorMethods(CodeMirror){var optionHandlers=CodeMirror.optionHandlers;var helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function(){window.focus();this.display.input.focus()},setOption:function(option,value){var options=this.options;var old=options[option];if(options[option]==value&&option!="mode")return;options[option]=value;if(optionHandlers.hasOwnProperty(option))operation(this,
optionHandlers[option])(this,value,old);signal(this,"optionChange",this,option)},getOption:function(option){return this.options[option]},getDoc:function(){return this.doc},addKeyMap:function(map,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map))},removeKeyMap:function(map){var maps=this.state.keyMaps;var i=0;for(;i<maps.length;++i)if(maps[i]==map||maps[i].name==map){maps.splice(i,1);return true}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,
spec);if(mode.startState)throw new Error("Overlays may not be stateful.");insertSorted(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:options&&options.priority||0},function(overlay){return overlay.priority});this.state.modeGen++;regChange(this)}),removeOverlay:methodOp(function(spec){var overlays=this.state.overlays;var i=0;for(;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||typeof spec=="string"&&cur.name==spec){overlays.splice(i,1);this.state.modeGen++;
regChange(this);return}}}),indentLine:methodOp(function(n,dir,aggressive){if(typeof dir!="string"&&typeof dir!="number")if(dir==null)dir=this.options.smartIndent?"smart":"prev";else dir=dir?"add":"subtract";if(isLine(this.doc,n))indentLine(this,n,dir,aggressive)}),indentSelection:methodOp(function(how){var ranges=this.doc.sel.ranges;var end=-1;var i=0;for(;i<ranges.length;i++){var range=ranges[i];if(!range.empty()){var from=range.from();var to=range.to();var start=Math.max(end,from.line);end=Math.min(this.lastLine(),
to.line-(to.ch?0:1))+1;var j=start;for(;j<end;++j)indentLine(this,j,how);var newRanges=this.doc.sel.ranges;if(from.ch==0&&ranges.length==newRanges.length&&newRanges[i].from().ch>0)replaceOneSelection(this.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}else if(range.head.line>end){indentLine(this,range.head.line,how,true);end=range.head.line;if(i==this.doc.sel.primIndex)ensureCursorVisible(this)}}}),getTokenAt:function(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function(line,
precise){return takeToken(this,Pos(line),precise,true)},getTokenTypeAt:function(pos){pos=clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line));var before=0;var after=(styles.length-1)/2;var ch=pos.ch;var type;if(ch==0)type=styles[2];else for(;;){var mid=before+after>>1;if((mid?styles[mid*2-1]:0)>=ch)after=mid;else if(styles[mid*2+1]<ch)before=mid+1;else{type=styles[mid*2+2];break}}var cut=type?type.indexOf("overlay "):-1;return cut<0?type:cut==0?null:type.slice(0,cut-1)},
getModeAt:function(pos){var mode=this.doc.mode;if(!mode.innerMode)return mode;return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode},getHelper:function(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function(pos,type){var found=[];if(!helpers.hasOwnProperty(type))return found;var help=helpers[type];var mode=this.getModeAt(pos);if(typeof mode[type]=="string"){if(help[mode[type]])found.push(help[mode[type]])}else if(mode[type]){var i=0;for(;i<mode[type].length;i++){var val=help[mode[type][i]];
if(val)found.push(val)}}else if(mode.helperType&&help[mode.helperType])found.push(help[mode.helperType]);else if(help[mode.name])found.push(help[mode.name]);var i$1=0;for(;i$1<help._global.length;i$1++){var cur=help._global[i$1];if(cur.pred(mode,this)&&indexOf(found,cur.val)==-1)found.push(cur.val)}return found},getStateAfter:function(line,precise){var doc=this.doc;line=clipLine(doc,line==null?doc.first+doc.size-1:line);return getContextBefore(this,line+1,precise).state},cursorCoords:function(start,
mode){var pos;var range=this.doc.sel.primary();if(start==null)pos=range.head;else if(typeof start=="object")pos=clipPos(this.doc,start);else pos=start?range.from():range.to();return cursorCoords(this,pos,mode||"page")},charCoords:function(pos,mode){return charCoords(this,clipPos(this.doc,pos),mode||"page")},coordsChar:function(coords,mode){coords=fromCoordSystem(this,coords,mode||"page");return coordsChar(this,coords.left,coords.top)},lineAtHeight:function(height,mode){height=fromCoordSystem(this,
{top:height,left:0},mode||"page").top;return lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function(line,mode,includeWidgets){var end=false;var lineObj;if(typeof line=="number"){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first)line=this.doc.first;else if(line>last){line=last;end=true}lineObj=getLine(this.doc,line)}else lineObj=line;return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page",includeWidgets||end).top+(end?this.doc.height-heightAtLine(lineObj):
0)},defaultTextHeight:function(){return textHeight(this.display)},defaultCharWidth:function(){return charWidth(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(pos,node,scroll,vert,horiz){var display=this.display;pos=cursorCoords(this,clipPos(this.doc,pos));var top=pos.bottom;var left=pos.left;node.style.position="absolute";node.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(node);display.sizer.appendChild(node);
if(vert=="over")top=pos.top;else if(vert=="above"||vert=="near"){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height);var hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);if((vert=="above"||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight)top=pos.top-node.offsetHeight;else if(pos.bottom+node.offsetHeight<=vspace)top=pos.bottom;if(left+node.offsetWidth>hspace)left=hspace-node.offsetWidth}node.style.top=top+"px";node.style.left=node.style.right="";
if(horiz=="right"){left=display.sizer.clientWidth-node.offsetWidth;node.style.right="0px"}else{if(horiz=="left")left=0;else if(horiz=="middle")left=(display.sizer.clientWidth-node.offsetWidth)/2;node.style.left=left+"px"}if(scroll)scrollIntoView(this,{left:left,top:top,right:left+node.offsetWidth,bottom:top+node.offsetHeight})},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function(cmd){if(commands.hasOwnProperty(cmd))return commands[cmd].call(null,
this)},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function(from,amount,unit,visually){var dir=1;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);var i=0;for(;i<amount;++i){cur=findPosH(this.doc,cur,dir,unit,visually);if(cur.hitSide)break}return cur},moveH:methodOp(function(dir,unit){var this$1=this;this.extendSelectionsBy(function(range){if(this$1.display.shift||this$1.doc.extend||range.empty())return findPosH(this$1.doc,range.head,dir,unit,this$1.options.rtlMoveVisually);
else return dir<0?range.from():range.to()},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel;var doc=this.doc;if(sel.somethingSelected())doc.replaceSelection("",null,"+delete");else deleteNearSelection(this,function(range){var other=findPosH(doc,range.head,dir,unit,false);return dir<0?{from:other,to:range.head}:{from:range.head,to:other}})}),findPosV:function(from,amount,unit,goalColumn){var dir=1;var x=goalColumn;if(amount<0){dir=-1;amount=-amount}var cur=clipPos(this.doc,from);
var i=0;for(;i<amount;++i){var coords=cursorCoords(this,cur,"div");if(x==null)x=coords.left;else coords.left=x;cur=findPosV(this,coords,dir,unit);if(cur.hitSide)break}return cur},moveV:methodOp(function(dir,unit){var this$1=this;var doc=this.doc;var goals=[];var collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range){if(collapse)return dir<0?range.from():range.to();var headPos=cursorCoords(this$1,range.head,"div");if(range.goalColumn!=null)headPos.left=
range.goalColumn;goals.push(headPos.left);var pos=findPosV(this$1,headPos,dir,unit);if(unit=="page"&&range==doc.sel.primary())addToScrollTop(this$1,charCoords(this$1,pos,"div").top-headPos.top);return pos},sel_move);if(goals.length){var i=0;for(;i<doc.sel.ranges.length;i++)doc.sel.ranges[i].goalColumn=goals[i]}}),findWordAt:function(pos){var doc=this.doc;var line=getLine(doc,pos.line).text;var start=pos.ch;var end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");if((pos.sticky=="before"||
end==line.length)&&start)--start;else++end;var startChar=line.charAt(start);var check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return/\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};for(;start>0&&check(line.charAt(start-1));)--start;for(;end<line.length&&check(line.charAt(end));)++end}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function(value){if(value!=null&&value==this.state.overwrite)return;
if(this.state.overwrite=!this.state.overwrite)addClass(this.display.cursorDiv,"CodeMirror-overwrite");else rmClass(this.display.cursorDiv,"CodeMirror-overwrite");signal(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==activeElt()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:methodOp(function(x,y){scrollToCoords(this,x,y)}),getScrollInfo:function(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,
top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range,margin){if(range==null){range={from:this.doc.sel.primary().head,to:null};if(margin==null)margin=this.options.cursorScrollMargin}else if(typeof range=="number")range={from:Pos(range,0),to:null};else if(range.from==null)range={from:range,to:null};
if(!range.to)range.to=range.from;range.margin=margin||0;if(range.from.line!=null)scrollToRange(this,range);else scrollToCoordsRange(this,range.from,range.to,range.margin)}),setSize:methodOp(function(width,height){var this$1=this;var interpret=function(val){return typeof val=="number"||/^\d+$/.test(String(val))?val+"px":val};if(width!=null)this.display.wrapper.style.width=interpret(width);if(height!=null)this.display.wrapper.style.height=interpret(height);if(this.options.lineWrapping)clearLineMeasurementCache(this);
var lineNo=this.display.viewFrom;this.doc.iter(lineNo,this.display.viewTo,function(line){if(line.widgets){var i=0;for(;i<line.widgets.length;i++)if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo,"widget");break}}++lineNo});this.curOp.forceUpdate=true;signal(this,"refresh",this)}),operation:function(f){return runInOp(this,f)},startOperation:function(){return startOperation(this)},endOperation:function(){return endOperation(this)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;
regChange(this);this.curOp.forceUpdate=true;clearCaches(this);scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this.display);if(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))>.5||this.options.lineWrapping)estimateLineHeights(this);signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;if(this.state.selectingText)this.state.selectingText();attachDoc(this,doc);clearCaches(this);this.display.input.reset();scrollToCoords(this,
doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=true;signalLater(this,"swapDoc",this,old);return old}),phrase:function(phraseText){var phrases=this.options.phrases;return phrases&&Object.prototype.hasOwnProperty.call(phrases,phraseText)?phrases[phraseText]:phraseText},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};
eventMixin(CodeMirror);CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type))helpers[type]=CodeMirror[type]={_global:[]};helpers[type][name]=value};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value})}}function findPosH(doc,pos,dir,unit,visually){function findNextLine(){var l=pos.line+lineDir;if(l<doc.first||l>=doc.first+doc.size)return false;pos=new Pos(l,
pos.ch,pos.sticky);return lineObj=getLine(doc,l)}function moveOnce(boundToLine){var next;if(unit=="codepoint"){var ch=lineObj.text.charCodeAt(pos.ch+(dir>0?0:-1));if(isNaN(ch))next=null;else{var astral=dir>0?ch>=55296&&ch<56320:ch>=56320&&ch<57343;next=new Pos(pos.line,Math.max(0,Math.min(lineObj.text.length,pos.ch+dir*(astral?2:1))),-dir)}}else if(visually)next=moveVisually(doc.cm,lineObj,pos,dir);else next=moveLogically(lineObj,pos,dir);if(next==null)if(!boundToLine&&findNextLine())pos=endOfLine(visually,
doc.cm,lineObj,pos.line,lineDir);else return false;else pos=next;return true}var oldPos=pos;var origDir=dir;var lineObj=getLine(doc,pos.line);var lineDir=visually&&doc.direction=="rtl"?-dir:dir;if(unit=="char"||unit=="codepoint")moveOnce();else if(unit=="column")moveOnce(true);else if(unit=="word"||unit=="group"){var sawType=null;var group=unit=="group";var helper=doc.cm&&doc.cm.getHelper(pos,"wordChars");var first=true;for(;;first=false){if(dir<0&&!moveOnce(!first))break;var cur=lineObj.text.charAt(pos.ch)||
"\n";var type=isWordChar(cur,helper)?"w":group&&cur=="\n"?"n":!group||/\s/.test(cur)?null:"p";if(group&&!first&&!type)type="s";if(sawType&&sawType!=type){if(dir<0){dir=1;moveOnce();pos.sticky="after"}break}if(type)sawType=type;if(dir>0&&!moveOnce(!first))break}}var result=skipAtomic(doc,pos,oldPos,origDir,true);if(equalCursorPos(oldPos,result))result.hitSide=true;return result}function findPosV(cm,pos,dir,unit){var doc=cm.doc;var x=pos.left;var y;if(unit=="page"){var pageSize=Math.min(cm.display.wrapper.clientHeight,
window.innerHeight||document.documentElement.clientHeight);var moveAmount=Math.max(pageSize-.5*textHeight(cm.display),3);y=(dir>0?pos.bottom:pos.top)+dir*moveAmount}else if(unit=="line")y=dir>0?pos.bottom+3:pos.top-3;var target;for(;;){target=coordsChar(cm,x,y);if(!target.outside)break;if(dir<0?y<=0:y>=doc.height){target.hitSide=true;break}y=y+dir*5}return target}function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line=getLine(cm.doc,pos.line);var info=
mapFromLineView(view,line,pos.line);var order=getOrder(line,cm.doc.direction);var side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset=result.collapse=="right"?result.end:result.start;return result}function isInGutter(node){var scan=node;for(;scan;scan=scan.parentNode)if(/CodeMirror-gutter-wrapper/.test(scan.className))return true;return false}function badPos(pos,bad){if(bad)pos.bad=true;return pos}
function domTextBetween(cm,from,to,fromLine,toLine){function recognizeMarker(id){return function(marker){return marker.id==id}}function close(){if(closing){text=text+lineSep;if(extraLinebreak)text=text+lineSep;closing=extraLinebreak=false}}function addText(str){if(str){close();text=text+str}}function walk(node){if(node.nodeType==1){var cmText=node.getAttribute("cm-text");if(cmText){addText(cmText);return}var markerID=node.getAttribute("cm-marker");var range;if(markerID){var found=cm.findMarks(Pos(fromLine,
0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range=found[0].find(0)))addText(getBetween(cm.doc,range.from,range.to).join(lineSep));return}if(node.getAttribute("contenteditable")=="false")return;var isBlock=/^(pre|div|p|li|table|br)$/i.test(node.nodeName);if(!/^br$/i.test(node.nodeName)&&node.textContent.length==0)return;if(isBlock)close();var i=0;for(;i<node.childNodes.length;i++)walk(node.childNodes[i]);if(/^(pre|p)$/i.test(node.nodeName))extraLinebreak=true;if(isBlock)closing=
true}else if(node.nodeType==3)addText(node.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}var text="";var closing=false;var lineSep=cm.doc.lineSeparator();var extraLinebreak=false;for(;;){walk(from);if(from==to)break;from=from.nextSibling;extraLinebreak=false}return text}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode)return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),true);node=null;offset=0}else{lineNode=
node;for(;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv)return null;if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv)break}}var i=0;for(;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode)return locateNodeInLineView(lineView,node,offset)}}function locateNodeInLineView(lineView,node,offset){function find(textNode,topNode,offset){var i=-1;for(;i<(maps?maps.length:0);i++){var map=i<0?measure.map:maps[i];var j=0;for(;j<map.length;j=
j+3){var curNode=map[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]);var ch=map[j]+offset;if(offset<0||curNode!=textNode)ch=map[j+(offset?1:0)];return Pos(line,ch)}}}}var wrapper=lineView.text.firstChild;var bad=false;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),true);if(node==wrapper){bad=true;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),
line.text.length),bad)}}var textNode=node.nodeType==3?node:null;var topNode=node;if(!textNode&&node.childNodes.length==1&&node.firstChild.nodeType==3){textNode=node.firstChild;if(offset)offset=textNode.nodeValue.length}for(;topNode.parentNode!=wrapper;)topNode=topNode.parentNode;var measure=lineView.measure;var maps=measure.maps;var found=find(textNode,topNode,offset);if(found)return badPos(found,bad);var after=topNode.nextSibling;var dist=textNode?textNode.nodeValue.length-offset:0;for(;after;after=
after.nextSibling){found=find(after,after.firstChild,0);if(found)return badPos(Pos(found.line,found.ch-dist),bad);else dist=dist+after.textContent.length}var before=topNode.previousSibling;var dist$1=offset;for(;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found)return badPos(Pos(found.line,found.ch+dist$1),bad);else dist$1=dist$1+before.textContent.length}}function fromTextArea(textarea,options){function save(){textarea.value=cm.getValue()}options=options?copyObj(options):
{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex)options.tabindex=textarea.tabIndex;if(!options.placeholder&&textarea.placeholder)options.placeholder=textarea.placeholder;if(options.autofocus==null){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||textarea.getAttribute("autofocus")!=null&&hasFocus==document.body}var realSubmit;if(textarea.form){on(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=
form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit}}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea};cm.toTextArea=function(){cm.toTextArea=isNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display="";if(textarea.form){off(textarea.form,"submit",save);if(!options.leaveSubmitMethodAlone&&typeof textarea.form.submit=="function")textarea.form.submit=realSubmit}}};textarea.style.display=
"none";var cm=CodeMirror(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm}function addLegacyProps(CodeMirror){CodeMirror.off=off;CodeMirror.on=on;CodeMirror.wheelEventPixels=wheelEventPixels;CodeMirror.Doc=Doc;CodeMirror.splitLines=splitLinesAuto;CodeMirror.countColumn=countColumn;CodeMirror.findColumn=findColumn;CodeMirror.isWordChar=isWordCharBasic;CodeMirror.Pass=Pass;CodeMirror.signal=signal;CodeMirror.Line=Line;CodeMirror.changeEnd=changeEnd;
CodeMirror.scrollbarModel=scrollbarModel;CodeMirror.Pos=Pos;CodeMirror.cmpPos=cmp;CodeMirror.modes=modes;CodeMirror.mimeModes=mimeModes;CodeMirror.resolveMode=resolveMode;CodeMirror.getMode=getMode;CodeMirror.modeExtensions=modeExtensions;CodeMirror.extendMode=extendMode;CodeMirror.copyState=copyState;CodeMirror.startState=startState;CodeMirror.innerMode=innerMode;CodeMirror.commands=commands;CodeMirror.keyMap=keyMap;CodeMirror.keyName=keyName;CodeMirror.isModifierKey=isModifierKey;CodeMirror.lookupKey=
lookupKey;CodeMirror.normalizeKeyMap=normalizeKeyMap;CodeMirror.StringStream=StringStream;CodeMirror.SharedTextMarker=SharedTextMarker;CodeMirror.TextMarker=TextMarker;CodeMirror.LineWidget=LineWidget;CodeMirror.e_preventDefault=e_preventDefault;CodeMirror.e_stopPropagation=e_stopPropagation;CodeMirror.e_stop=e_stop;CodeMirror.addClass=addClass;CodeMirror.contains=contains;CodeMirror.rmClass=rmClass;CodeMirror.keyNames=keyNames}var userAgent=navigator.userAgent;var platform=navigator.platform;var gecko=
/gecko\/\d/i.test(userAgent);var ie_upto10=/MSIE \d/.test(userAgent);var ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent);var edge=/Edge\/(\d+)/.exec(userAgent);var ie=ie_upto10||ie_11up||edge;var ie_version=ie&&(ie_upto10?document.documentMode||6:+(edge||ie_11up)[1]);var webkit=!edge&&/WebKit\//.test(userAgent);var qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent);var chrome=!edge&&/Chrome\/(\d+)/.exec(userAgent);var chrome_version=chrome&&+chrome[1];var presto=/Opera\//.test(userAgent);
var safari=/Apple Computer/.test(navigator.vendor);var mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent);var phantom=/PhantomJS/.test(userAgent);var ios=safari&&(/Mobile\/\w+/.test(userAgent)||navigator.maxTouchPoints>2);var android=/Android/.test(userAgent);var mobile=ios||android||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);var mac=ios||/Mac/.test(platform);var chromeOS=/\bCrOS\b/.test(userAgent);var windows=/win/i.test(platform);var presto_version=presto&&
userAgent.match(/Version\/(\d*\.\d*)/);if(presto_version)presto_version=Number(presto_version[1]);if(presto_version&&presto_version>=15){presto=false;webkit=true}var flipCtrlCmd=mac&&(qtwebkit||presto&&(presto_version==null||presto_version<12.11));var captureRightClick=gecko||ie&&ie_version>=9;var rmClass=function(node,cls){var current=node.className;var match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?
match[1]+after:"")}};var range;if(document.createRange)range=function(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r};else range=function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}r.collapse(true);r.moveEnd("character",end);r.moveStart("character",start);return r};var selectInput=function(node){node.select()};if(ios)selectInput=function(node){node.selectionStart=
0;node.selectionEnd=node.value.length};else if(ie)selectInput=function(node){try{node.select()}catch(_e){}};var Delayed=function(){this.id=null;this.f=null;this.time=0;this.handler=bind(this.onTimeout,this)};Delayed.prototype.onTimeout=function(self){self.id=0;if(self.time<=+new Date)self.f();else setTimeout(self.handler,self.time-+new Date)};Delayed.prototype.set=function(ms,f){this.f=f;var time=+new Date+ms;if(!this.id||time<this.time){clearTimeout(this.id);this.id=setTimeout(this.handler,ms);this.time=
time}};var scrollerGap=50;var Pass={toString:function(){return"CodeMirror.Pass"}};var sel_dontScroll={scroll:false};var sel_mouse={origin:"*mouse"};var sel_move={origin:"+move"};var spaceStrs=[""];var nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
var bidiOther=null;var bidiOrdering=function(){function charType(code){if(code<=247)return lowTypes.charAt(code);else if(1424<=code&&code<=1524)return"R";else if(1536<=code&&code<=1785)return arabicTypes.charAt(code-1536);else if(1774<=code&&code<=2220)return"r";else if(8192<=code&&code<=8203)return"w";else if(code==8204)return"b";else return"L"}function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to}var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";
var arabicTypes="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var isNeutral=/[stwN]/;var isStrong=/[LRr]/;var countsAsLeft=/[Lb1n]/;var countsAsNum=/[1n]/;return function(str,direction){var outerType=direction=="ltr"?"L":"R";if(str.length==
0||direction=="ltr"&&!bidiRE.test(str))return false;var len=str.length;var types=[];var i=0;for(;i<len;++i)types.push(charType(str.charCodeAt(i)));var i$1=0;var prev=outerType;for(;i$1<len;++i$1){var type=types[i$1];if(type=="m")types[i$1]=prev;else prev=type}var i$2=0;var cur=outerType;for(;i$2<len;++i$2){var type$1=types[i$2];if(type$1=="1"&&cur=="r")types[i$2]="n";else if(isStrong.test(type$1)){cur=type$1;if(type$1=="r")types[i$2]="R"}}var i$3=1;var prev$1=types[0];for(;i$3<len-1;++i$3){var type$2=
types[i$3];if(type$2=="+"&&prev$1=="1"&&types[i$3+1]=="1")types[i$3]="1";else if(type$2==","&&prev$1==types[i$3+1]&&(prev$1=="1"||prev$1=="n"))types[i$3]=prev$1;prev$1=type$2}var i$4=0;for(;i$4<len;++i$4){var type$3=types[i$4];if(type$3==",")types[i$4]="N";else if(type$3=="%"){var end=void 0;end=i$4+1;for(;end<len&&types[end]=="%";++end);var replace=i$4&&types[i$4-1]=="!"||end<len&&types[end]=="1"?"1":"N";var j=i$4;for(;j<end;++j)types[j]=replace;i$4=end-1}}var i$5=0;var cur$1=outerType;for(;i$5<
len;++i$5){var type$4=types[i$5];if(cur$1=="L"&&type$4=="1")types[i$5]="L";else if(isStrong.test(type$4))cur$1=type$4}var i$6=0;for(;i$6<len;++i$6)if(isNeutral.test(types[i$6])){var end$1=void 0;end$1=i$6+1;for(;end$1<len&&isNeutral.test(types[end$1]);++end$1);var before=(i$6?types[i$6-1]:outerType)=="L";var after=(end$1<len?types[end$1]:outerType)=="L";var replace$1=before==after?before?"L":"R":outerType;var j$1=i$6;for(;j$1<end$1;++j$1)types[j$1]=replace$1;i$6=end$1-1}var order=[];var m;var i$7=
0;for(;i$7<len;)if(countsAsLeft.test(types[i$7])){var start=i$7;++i$7;for(;i$7<len&&countsAsLeft.test(types[i$7]);++i$7);order.push(new BidiSpan(0,start,i$7))}else{var pos=i$7;var at=order.length;var isRTL=direction=="rtl"?1:0;++i$7;for(;i$7<len&&types[i$7]!="L";++i$7);var j$2=pos;for(;j$2<i$7;)if(countsAsNum.test(types[j$2])){if(pos<j$2){order.splice(at,0,new BidiSpan(1,pos,j$2));at=at+isRTL}var nstart=j$2;++j$2;for(;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2);order.splice(at,0,new BidiSpan(2,nstart,
j$2));at=at+isRTL;pos=j$2}else++j$2;if(pos<i$7)order.splice(at,0,new BidiSpan(1,pos,i$7))}if(direction=="ltr"){if(order[0].level==1&&(m=str.match(/^\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length))}if(lst(order).level==1&&(m=str.match(/\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len))}}return direction=="rtl"?order.reverse():order}}();var noHandlers=[];var on=function(emitter,type,f){if(emitter.addEventListener)emitter.addEventListener(type,
f,false);else if(emitter.attachEvent)emitter.attachEvent("on"+type,f);else{var map=emitter._handlers||(emitter._handlers={});map[type]=(map[type]||noHandlers).concat(f)}};var dragAndDrop=function(){if(ie&&ie_version<9)return false;var div=elt("div");return"draggable"in div||"dragDrop"in div}();var zwspSupported;var badBidiRects;var splitLinesAuto="\n\nb".split(/\n/).length!=3?function(string){var pos=0;var result=[];var l=string.length;for(;pos<=l;){var nl=string.indexOf("\n",pos);if(nl==-1)nl=string.length;
var line=string.slice(pos,string.charAt(nl-1)=="\r"?nl-1:nl);var rt=line.indexOf("\r");if(rt!=-1){result.push(line.slice(0,rt));pos=pos+(rt+1)}else{result.push(line);pos=nl+1}}return result}:function(string){return string.split(/\r\n?|\n/)};var hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return false}}:function(te){var range;try{range=te.ownerDocument.selection.createRange()}catch(e){}if(!range||range.parentElement()!=te)return false;return range.compareEndPoints("StartToEnd",
range)!=0};var hasCopyEvent=function(){var e=elt("div");if("oncopy"in e)return true;var policy={createScript:function(ignored){return"return;"}};if(typeof trustedTypes!=="undefined")policy=trustedTypes.createPolicy("codemirror#return",policy);e.setAttribute("oncopy",policy.createScript(""));return typeof e.oncopy=="function"}();var badZoomedRects=null;var modes={};var mimeModes={};var modeExtensions={};var StringStream=function(string,tabSize,lineOracle){this.pos=this.start=0;this.string=string;this.tabSize=
tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=lineOracle};StringStream.prototype.eol=function(){return this.pos>=this.string.length};StringStream.prototype.sol=function(){return this.pos==this.lineStart};StringStream.prototype.peek=function(){return this.string.charAt(this.pos)||undefined};StringStream.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};StringStream.prototype.eat=function(match){var ch=this.string.charAt(this.pos);
var ok;if(typeof match=="string")ok=ch==match;else ok=ch&&(match.test?match.test(ch):match(ch));if(ok){++this.pos;return ch}};StringStream.prototype.eatWhile=function(match){var start=this.pos;for(;this.eat(match););return this.pos>start};StringStream.prototype.eatSpace=function(){var start=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>start};StringStream.prototype.skipToEnd=function(){this.pos=this.string.length};StringStream.prototype.skipTo=function(ch){var found=
this.string.indexOf(ch,this.pos);if(found>-1){this.pos=found;return true}};StringStream.prototype.backUp=function(n){this.pos-=n};StringStream.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.indentation=function(){return countColumn(this.string,
null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)};StringStream.prototype.match=function(pattern,consume,caseInsensitive){if(typeof pattern=="string"){var cased=function(str){return caseInsensitive?str.toLowerCase():str};var substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(consume!==false)this.pos+=pattern.length;return true}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&match.index>0)return null;
if(match&&consume!==false)this.pos+=match[0].length;return match}};StringStream.prototype.current=function(){return this.string.slice(this.start,this.pos)};StringStream.prototype.hideFirstChars=function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}};StringStream.prototype.lookAhead=function(n){var oracle=this.lineOracle;return oracle&&oracle.lookAhead(n)};StringStream.prototype.baseToken=function(){var oracle=this.lineOracle;return oracle&&oracle.baseToken(this.pos)};var SavedContext=
function(state,lookAhead){this.state=state;this.lookAhead=lookAhead};var Context=function(doc,state,line,lookAhead){this.state=state;this.doc=doc;this.line=line;this.maxLookAhead=lookAhead||0;this.baseTokens=null;this.baseTokenPos=1};Context.prototype.lookAhead=function(n){var line=this.doc.getLine(this.line+n);if(line!=null&&n>this.maxLookAhead)this.maxLookAhead=n;return line};Context.prototype.baseToken=function(n){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=n;)this.baseTokenPos+=
2;var type=this.baseTokens[this.baseTokenPos+1];return{type:type&&type.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-n}};Context.prototype.nextLine=function(){this.line++;if(this.maxLookAhead>0)this.maxLookAhead--};Context.fromSaved=function(doc,saved,line){if(saved instanceof SavedContext)return new Context(doc,copyState(doc.mode,saved.state),line,saved.lookAhead);else return new Context(doc,copyState(doc.mode,saved),line)};Context.prototype.save=function(copy){var state=
copy!==false?copyState(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new SavedContext(state,this.maxLookAhead):state};var Token=function(stream,type,state){this.start=stream.start;this.end=stream.pos;this.string=stream.current();this.type=type||null;this.state=state};var sawReadOnlySpans=false;var sawCollapsedSpans=false;var Line=function(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1};Line.prototype.lineNo=
function(){return lineNo(this)};eventMixin(Line);var styleToClassCache={};var styleToClassCacheWithMode={};var operationGroup=null;var orphanDelayedCallbacks=null;var nullRect={left:0,right:0,top:0,bottom:0};var measureText;var NativeScrollbars=function(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");vert.tabIndex=
horiz.tabIndex=-1;place(vert);place(horiz);on(vert,"scroll",function(){if(vert.clientHeight)scroll(vert.scrollTop,"vertical")});on(horiz,"scroll",function(){if(horiz.clientWidth)scroll(horiz.scrollLeft,"horizontal")});this.checkedZeroWidth=false;if(ie&&ie_version<8)this.horiz.style.minHeight=this.vert.style.minWidth="18px"};NativeScrollbars.prototype.update=function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+1;var sWidth=measure.nativeBarWidth;
if(needsV){this.vert.style.display="block";this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else{this.vert.scrollTop=0;this.vert.style.display="";this.vert.firstChild.style.height="0"}if(needsH){this.horiz.style.display="block";this.horiz.style.right=needsV?sWidth+"px":"0";this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-
measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=Math.max(0,measure.scrollWidth-measure.clientWidth+totalWidth)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&measure.clientHeight>0){if(sWidth==0)this.zeroWidthHack();this.checkedZeroWidth=true}return{right:needsV?sWidth:0,bottom:needsH?sWidth:0}};NativeScrollbars.prototype.setScrollLeft=function(pos){if(this.horiz.scrollLeft!=pos)this.horiz.scrollLeft=pos;if(this.disableHoriz)this.enableZeroWidthBar(this.horiz,
this.disableHoriz,"horiz")};NativeScrollbars.prototype.setScrollTop=function(pos){if(this.vert.scrollTop!=pos)this.vert.scrollTop=pos;if(this.disableVert)this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};NativeScrollbars.prototype.zeroWidthHack=function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w;this.horiz.style.visibility=this.vert.style.visibility="hidden";this.disableHoriz=new Delayed;this.disableVert=new Delayed};NativeScrollbars.prototype.enableZeroWidthBar=
function(bar,delay,type){function maybeDisable(){var box=bar.getBoundingClientRect();var elt=type=="vert"?document.elementFromPoint(box.right-1,(box.top+box.bottom)/2):document.elementFromPoint((box.right+box.left)/2,box.bottom-1);if(elt!=bar)bar.style.visibility="hidden";else delay.set(1E3,maybeDisable)}bar.style.visibility="";delay.set(1E3,maybeDisable)};NativeScrollbars.prototype.clear=function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert)};var NullScrollbars=
function(){};NullScrollbars.prototype.update=function(){return{bottom:0,right:0}};NullScrollbars.prototype.setScrollLeft=function(){};NullScrollbars.prototype.setScrollTop=function(){};NullScrollbars.prototype.clear=function(){};var scrollbarModel={"native":NativeScrollbars,"null":NullScrollbars};var nextOpId=0;var DisplayUpdate=function(cm,viewport,force){var display=cm.display;this.viewport=viewport;this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;
this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[]};DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type))this.events.push(arguments)};DisplayUpdate.prototype.finish=function(){var i=0;for(;i<this.events.length;i++)signal.apply(null,this.events[i])};var wheelSamples=0;var wheelPixelsPerUnit=null;if(ie)wheelPixelsPerUnit=-.53;else if(gecko)wheelPixelsPerUnit=
15;else if(chrome)wheelPixelsPerUnit=-.7;else if(safari)wheelPixelsPerUnit=-1/3;var Selection=function(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex};Selection.prototype.primary=function(){return this.ranges[this.primIndex]};Selection.prototype.equals=function(other){if(other==this)return true;if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return false;var i=0;for(;i<this.ranges.length;i++){var here=this.ranges[i];var there=other.ranges[i];if(!equalCursorPos(here.anchor,
there.anchor)||!equalCursorPos(here.head,there.head))return false}return true};Selection.prototype.deepCopy=function(){var out=[];var i=0;for(;i<this.ranges.length;i++)out[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));return new Selection(out,this.primIndex)};Selection.prototype.somethingSelected=function(){var i=0;for(;i<this.ranges.length;i++)if(!this.ranges[i].empty())return true;return false};Selection.prototype.contains=function(pos,end){if(!end)end=pos;var i=0;for(;i<
this.ranges.length;i++){var range=this.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0)return i}return-1};var Range=function(anchor,head){this.anchor=anchor;this.head=head};Range.prototype.from=function(){return minPos(this.anchor,this.head)};Range.prototype.to=function(){return maxPos(this.anchor,this.head)};Range.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,
n){var i=at;var e=at+n;for(;i<e;++i){var line=this.lines[i];this.height-=line.height;cleanUpLine(line);signalLater(line,"delete")}this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));var i=0;for(;i<lines.length;++i)lines[i].parent=this},iterN:function(at,n,op){var e=at+n;for(;at<e;++at)if(op(this.lines[at]))return true}};BranchChunk.prototype=
{chunkSize:function(){return this.size},removeInner:function(at,n){this.size-=n;var i=0;for(;i<this.children.length;++i){var child=this.children[i];var sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at);var oldHeight=child.height;child.removeInner(at,rm);this.height-=oldHeight-child.height;if(sz==rm){this.children.splice(i--,1);child.parent=null}if((n=n-rm)==0)break;at=0}else at=at-sz}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);
this.children=[new LeafChunk(lines)];this.children[0].parent=this}},collapse:function(lines){var i=0;for(;i<this.children.length;++i)this.children[i].collapse(lines)},insertInner:function(at,lines,height){this.size+=lines.length;this.height+=height;var i=0;for(;i<this.children.length;++i){var child=this.children[i];var sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&child.lines.length>50){var remaining=child.lines.length%25+25;var pos=remaining;for(;pos<child.lines.length;){var leaf=
new LeafChunk(child.lines.slice(pos,pos=pos+25));child.height-=leaf.height;this.children.splice(++i,0,leaf);leaf.parent=this}child.lines=child.lines.slice(0,remaining);this.maybeSpill()}break}at=at-sz}},maybeSpill:function(){if(this.children.length<=10)return;var me=this;do{var spilled=me.children.splice(me.children.length-5,5);var sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy}else{me.size-=sibling.size;me.height-=
sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}sibling.parent=me.parent}while(me.children.length>10);me.parent.maybeSpill()},iterN:function(at,n,op){var i=0;for(;i<this.children.length;++i){var child=this.children[i];var sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op))return true;if((n=n-used)==0)break;at=0}else at=at-sz}}};var LineWidget=function(doc,node,options){if(options){var opt;for(opt in options)if(options.hasOwnProperty(opt))this[opt]=
options[opt]}this.doc=doc;this.node=node};LineWidget.prototype.clear=function(){var cm=this.doc.cm;var ws=this.line.widgets;var line=this.line;var no=lineNo(line);if(no==null||!ws)return;var i=0;for(;i<ws.length;++i)if(ws[i]==this)ws.splice(i--,1);if(!ws.length)line.widgets=null;var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height));if(cm){runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,"widget")});signalLater(cm,"lineWidgetCleared",
cm,this,no)}};LineWidget.prototype.changed=function(){var this$1=this;var oldH=this.height;var cm=this.doc.cm;var line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff)return;if(!lineIsHidden(this.doc,line))updateLineHeight(line,line.height+diff);if(cm)runInOp(cm,function(){cm.curOp.forceUpdate=true;adjustScrollWhenAboveVisible(cm,line,diff);signalLater(cm,"lineWidgetChanged",cm,this$1,lineNo(line))})};eventMixin(LineWidget);var nextMarkerId=0;var TextMarker=function(doc,type){this.lines=
[];this.type=type;this.doc=doc;this.id=++nextMarkerId};TextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;var cm=this.doc.cm;var withOp=cm&&!cm.curOp;if(withOp)startOperation(cm);if(hasHandler(this,"clear")){var found=this.find();if(found)signalLater(this,"clear",found.from,found.to)}var min=null;var max=null;var i=0;for(;i<this.lines.length;++i){var line=this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(cm&&!this.collapsed)regLineChange(cm,lineNo(line),"text");
else if(cm){if(span.to!=null)max=lineNo(line);if(span.from!=null)min=lineNo(line)}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(span.from==null&&this.collapsed&&!lineIsHidden(this.doc,line)&&cm)updateLineHeight(line,textHeight(cm.display))}if(cm&&this.collapsed&&!cm.options.lineWrapping){var i$1=0;for(;i$1<this.lines.length;++i$1){var visual=visualLine(this.lines[i$1]);var len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;
cm.display.maxLineChanged=true}}}if(min!=null&&cm&&this.collapsed)regChange(cm,min,max+1);this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(cm)reCheckSelection(cm.doc)}if(cm)signalLater(cm,"markerCleared",cm,this,min,max);if(withOp)endOperation(cm);if(this.parent)this.parent.clear()};TextMarker.prototype.find=function(side,lineObj){if(side==null&&this.type=="bookmark")side=1;var from;var to;var i=0;for(;i<this.lines.length;++i){var line=
this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(span.from!=null){from=Pos(lineObj?line:lineNo(line),span.from);if(side==-1)return from}if(span.to!=null){to=Pos(lineObj?line:lineNo(line),span.to);if(side==1)return to}}return from&&{from:from,to:to}};TextMarker.prototype.changed=function(){var this$1=this;var pos=this.find(-1,true);var widget=this;var cm=this.doc.cm;if(!pos||!cm)return;runInOp(cm,function(){var line=pos.line;var lineN=lineNo(pos.line);var view=findViewForLine(cm,lineN);
if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=true}cm.curOp.updateMaxLine=true;if(!lineIsHidden(widget.doc,line)&&widget.height!=null){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight)updateLineHeight(line,line.height+dHeight)}signalLater(cm,"markerChanged",cm,this$1)})};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||
indexOf(op.maybeHiddenMarkers,this)==-1)(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(line)};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}};eventMixin(TextMarker);var SharedTextMarker=function(markers,primary){this.markers=markers;this.primary=primary;var i=0;for(;i<markers.length;++i)markers[i].parent=
this};SharedTextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=true;var i=0;for(;i<this.markers.length;++i)this.markers[i].clear();signalLater(this,"clear")};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)};eventMixin(SharedTextMarker);var nextDocId=0;var Doc=function(text,mode,firstLine,lineSep,direction){if(!(this instanceof Doc))return new Doc(text,mode,firstLine,lineSep,direction);if(firstLine==null)firstLine=
0;BranchChunk.call(this,[new LeafChunk([new Line("",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.direction=direction=="rtl"?"rtl":"ltr";this.extend=false;if(typeof text=="string")text=this.splitLines(text);updateDoc(this,{from:start,
to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function(from,to,op){if(op)this.iterN(from-this.first,to-from,op);else this.iterN(this.first,this.first+this.size,from)},insert:function(at,lines){var height=0;var i=0;for(;i<lines.length;++i)height=height+lines[i].height;this.insertInner(at-this.first,lines,height)},remove:function(at,n){this.removeInner(at-this.first,n)},getValue:function(lineSep){var lines=
getLines(this,this.first,this.first+this.size);if(lineSep===false)return lines;return lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top=Pos(this.first,0);var last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:true},true);if(this.cm)scrollToCoords(this.cm,0,0);setSelection(this,simpleSelection(top),sel_dontScroll)}),replaceRange:function(code,from,to,origin){from=clipPos(this,
from);to=to?clipPos(this,to):from;replaceRange(this,code,from,to,origin)},getRange:function(from,to,lineSep){var lines=getBetween(this,clipPos(this,from),clipPos(this,to));if(lineSep===false)return lines;if(lineSep==="")return lines.join("");return lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function(line){if(isLine(this,line))return getLine(this,line)},getLineNumber:function(line){return lineNo(line)},getLineHandleVisualStart:function(line){if(typeof line==
"number")line=getLine(this,line);return visualLine(line)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(pos){return clipPos(this,pos)},getCursor:function(start){var range=this.sel.primary();var pos;if(start==null||start=="head")pos=range.head;else if(start=="anchor")pos=range.anchor;else if(start=="end"||start=="to"||start===false)pos=range.to();else pos=range.from();return pos},listSelections:function(){return this.sel.ranges},
somethingSelected:function(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,clipPos(this,typeof line=="number"?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,clipPos(this,head),other&&clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,
options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options)}),setSelections:docMethodOp(function(ranges,primary,options){if(!ranges.length)return;var out=[];var i=0;for(;i<ranges.length;i++)out[i]=new Range(clipPos(this,ranges[i].anchor),clipPos(this,ranges[i].head||ranges[i].anchor));if(primary==null)primary=Math.min(ranges.length-1,this.sel.primIndex);
setSelection(this,normalizeSelection(this.cm,out,primary),options)}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));setSelection(this,normalizeSelection(this.cm,ranges,ranges.length-1),options)}),getSelection:function(lineSep){var ranges=this.sel.ranges;var lines;var i=0;for(;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):
sel}if(lineSep===false)return lines;else return lines.join(lineSep||this.lineSeparator())},getSelections:function(lineSep){var parts=[];var ranges=this.sel.ranges;var i=0;for(;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());if(lineSep!==false)sel=sel.join(lineSep||this.lineSeparator());parts[i]=sel}return parts},replaceSelection:function(code,collapse,origin){var dup=[];var i=0;for(;i<this.sel.ranges.length;i++)dup[i]=code;this.replaceSelections(dup,collapse,origin||
"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){var changes=[];var sel=this.sel;var i=0;for(;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:this.splitLines(code[i]),origin:origin}}var newSel=collapse&&collapse!="end"&&computeReplacedSel(this,changes,collapse);var i$1=changes.length-1;for(;i$1>=0;i$1--)makeChange(this,changes[i$1]);if(newSel)setSelectionReplaceHistory(this,newSel);else if(this.cm)ensureCursorVisible(this.cm)}),
undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",true)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",true)}),setExtending:function(val){this.extend=val},getExtending:function(){return this.extend},historySize:function(){var hist=this.history;var done=0;var undone=0;var i=0;for(;i<hist.done.length;i++)if(!hist.done[i].ranges)++done;
var i$1=0;for(;i$1<hist.undone.length;i$1++)if(!hist.undone[i$1].ranges)++undone;return{undo:done,redo:undone}},clearHistory:function(){var this$1=this;this.history=new History(this.history);linkedDocs(this,function(doc){return doc.history=this$1.history},true)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(forceSplit){if(forceSplit)this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null;return this.history.generation},isClean:function(gen){return this.history.generation==
(gen||this.cleanGeneration)},getHistory:function(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function(histData){var hist=this.history=new History(this.history);hist.done=copyHistoryArray(histData.done.slice(0),null,true);hist.undone=copyHistoryArray(histData.undone.slice(0),null,true)},setGutterMarker:docMethodOp(function(line,gutterID,value){return changeLine(this,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers=
{});markers[gutterID]=value;if(!value&&isEmpty(markers))line.gutterMarkers=null;return true})}),clearGutter:docMethodOp(function(gutterID){var this$1=this;this.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID])changeLine(this$1,line,"gutter",function(){line.gutterMarkers[gutterID]=null;if(isEmpty(line.gutterMarkers))line.gutterMarkers=null;return true})})}),lineInfo:function(line){var n;if(typeof line=="number"){if(!isLine(this,line))return null;n=line;line=getLine(this,line);
if(!line)return null}else{n=lineNo(line);if(n==null)return null}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";if(!line[prop])line[prop]=cls;else if(classTest(cls).test(line[prop]))return false;
else line[prop]+=" "+cls;return true})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where=="gutter"?"gutter":"class",function(line){var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";var cur=line[prop];if(!cur)return false;else if(cls==null)line[prop]=null;else{var found=cur.match(classTest(cls));if(!found)return false;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||
end==cur.length?"":" ")+cur.slice(end)||null}return true})}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function(widget){widget.clear()},markText:function(from,to,options){return markText(this,clipPos(this,from),clipPos(this,to),options,options&&options.type||"range")},setBookmark:function(pos,options){var realOpts={replacedWith:options&&(options.nodeType==null?options.widget:options),insertLeft:options&&options.insertLeft,
clearWhenEmpty:false,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=clipPos(this,pos);return markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function(pos){pos=clipPos(this,pos);var markers=[];var spans=getLine(this,pos.line).markedSpans;if(spans){var i=0;for(;i<spans.length;++i){var span=spans[i];if((span.from==null||span.from<=pos.ch)&&(span.to==null||span.to>=pos.ch))markers.push(span.marker.parent||span.marker)}}return markers},findMarks:function(from,
to,filter){from=clipPos(this,from);to=clipPos(this,to);var found=[];var lineNo=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans){var i=0;for(;i<spans.length;i++){var span=spans[i];if(!(span.to!=null&&lineNo==from.line&&from.ch>=span.to||span.from==null&&lineNo!=from.line||span.from!=null&&lineNo==to.line&&span.from>=to.ch)&&(!filter||filter(span.marker)))found.push(span.marker.parent||span.marker)}}++lineNo});return found},getAllMarks:function(){var markers=
[];this.iter(function(line){var sps=line.markedSpans;if(sps){var i=0;for(;i<sps.length;++i)if(sps[i].from!=null)markers.push(sps[i].marker)}});return markers},posFromIndex:function(off){var ch;var lineNo=this.first;var sepSize=this.lineSeparator().length;this.iter(function(line){var sz=line.text.length+sepSize;if(sz>off){ch=off;return true}off=off-sz;++lineNo});return clipPos(this,Pos(lineNo,ch))},indexFromPos:function(coords){coords=clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||
coords.ch<0)return 0;var sepSize=this.lineSeparator().length;this.iter(this.first,coords.line,function(line){index=index+(line.text.length+sepSize)});return index},copy:function(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=false;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory())}return doc},
linkedDoc:function(options){if(!options)options={};var from=this.first;var to=this.first+this.size;if(options.from!=null&&options.from>from)from=options.from;if(options.to!=null&&options.to<to)to=options.to;var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep,this.direction);if(options.sharedHist)copy.history=this.history;(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];
copySharedMarkers(copy,findSharedMarkers(this));return copy},unlinkDoc:function(other){if(other instanceof CodeMirror)other=other.doc;if(this.linked){var i=0;for(;i<this.linked.length;++i){var link=this.linked[i];if(link.doc!=other)continue;this.linked.splice(i,1);other.unlinkDoc(this);detachSharedMarkers(findSharedMarkers(this));break}}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){return splitIds.push(doc.id)},true);other.history=new History(null);other.history.done=
copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(str){if(this.lineSep)return str.split(this.lineSep);return splitLinesAuto(str)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:docMethodOp(function(dir){if(dir!="rtl")dir="ltr";if(dir==this.direction)return;this.direction=dir;this.iter(function(line){return line.order=
null});if(this.cm)directionChanged(this.cm)})});Doc.prototype.eachLine=Doc.prototype.iter;var lastDrop=0;var globalsRegistered=false;var keyNames={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",
187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};var i=0;for(;i<10;i++)keyNames[i+48]=keyNames[i+96]=String(i);var i$1=65;for(;i$1<=90;i$1++)keyNames[i$1]=String.fromCharCode(i$1);var i$2=1;for(;i$2<=12;i$2++)keyNames[i$2+111]=keyNames[i$2+63235]="F"+i$2;var keyMap={};keyMap.basic={"Left":"goCharLeft","Right":"goCharRight",
"Up":"goLineUp","Down":"goLineDown","End":"goLineEnd","Home":"goLineStartSmart","PageUp":"goPageUp","PageDown":"goPageDown","Delete":"delCharAfter","Backspace":"delCharBefore","Shift-Backspace":"delCharBefore","Tab":"defaultTab","Shift-Tab":"indentAuto","Enter":"newlineAndIndent","Insert":"toggleOverwrite","Esc":"singleSelection"};keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp",
"Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection","fallthrough":"basic"};keyMap.emacsy={"Ctrl-F":"goCharRight",
"Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd",
"Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart",
"Ctrl-Down":"goDocEnd","fallthrough":["basic","emacsy"]};keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;var commands={selectAll:selectAll,singleSelection:function(cm){return cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function(cm){return deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine())return{from:range.head,to:Pos(range.head.line+1,0)};
else return{from:range.head,to:Pos(range.head.line,len)}}else return{from:range.from(),to:range.to()}})},deleteLine:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+
5;var leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5;var rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function(cm){return cm.undo()},redo:function(cm){return cm.redo()},undoSelection:function(cm){return cm.undoSelection()},redoSelection:function(cm){return cm.redoSelection()},
goDocStart:function(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function(cm){return cm.extendSelectionsBy(function(range){return lineEnd(cm,
range.head.line)},{origin:"+move",bias:-1})},goLineRight:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function(cm){return cm.extendSelectionsBy(function(range){var top=
cm.cursorCoords(range.head,"div").top+5;var pos=cm.coordsChar({left:0,top:top},"div");if(pos.ch<cm.getLine(pos.line).search(/\S/))return lineStartSmart(cm,range.head);return pos},sel_move)},goLineUp:function(cm){return cm.moveV(-1,"line")},goLineDown:function(cm){return cm.moveV(1,"line")},goPageUp:function(cm){return cm.moveV(-1,"page")},goPageDown:function(cm){return cm.moveV(1,"page")},goCharLeft:function(cm){return cm.moveH(-1,"char")},goCharRight:function(cm){return cm.moveH(1,"char")},goColumnLeft:function(cm){return cm.moveH(-1,
"column")},goColumnRight:function(cm){return cm.moveH(1,"column")},goWordLeft:function(cm){return cm.moveH(-1,"word")},goGroupRight:function(cm){return cm.moveH(1,"group")},goGroupLeft:function(cm){return cm.moveH(-1,"group")},goWordRight:function(cm){return cm.moveH(1,"word")},delCharBefore:function(cm){return cm.deleteH(-1,"codepoint")},delCharAfter:function(cm){return cm.deleteH(1,"char")},delWordBefore:function(cm){return cm.deleteH(-1,"word")},delWordAfter:function(cm){return cm.deleteH(1,"word")},
delGroupBefore:function(cm){return cm.deleteH(-1,"group")},delGroupAfter:function(cm){return cm.deleteH(1,"group")},indentAuto:function(cm){return cm.indentSelection("smart")},indentMore:function(cm){return cm.indentSelection("add")},indentLess:function(cm){return cm.indentSelection("subtract")},insertTab:function(cm){return cm.replaceSelection("\t")},insertSoftTab:function(cm){var spaces=[];var ranges=cm.listSelections();var tabSize=cm.options.tabSize;var i=0;for(;i<ranges.length;i++){var pos=ranges[i].from();
var col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize))}cm.replaceSelections(spaces)},defaultTab:function(cm){if(cm.somethingSelected())cm.indentSelection("add");else cm.execCommand("insertTab")},transposeChars:function(cm){return runInOp(cm,function(){var ranges=cm.listSelections();var newSel=[];var i=0;for(;i<ranges.length;i++){if(!ranges[i].empty())continue;var cur=ranges[i].head;var line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length)cur=
new Pos(cur.line,cur.ch-1);if(cur.ch>0){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose")}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev){cur=new Pos(cur.line,1);cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,"+transpose")}}}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function(cm){return runInOp(cm,
function(){var sels=cm.listSelections();var i=sels.length-1;for(;i>=0;i--)cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,"+input");sels=cm.listSelections();var i$1=0;for(;i$1<sels.length;i$1++)cm.indentLine(sels[i$1].from().line,null,true);ensureCursorVisible(cm)})},openLine:function(cm){return cm.replaceSelection("\n","start")},toggleOverwrite:function(cm){return cm.toggleOverwrite()}};var stopSeq=new Delayed;var lastStoppedKey=null;var DOUBLECLICK_DELAY=400;var PastClick=function(time,
pos,button){this.time=time;this.pos=pos;this.button=button};PastClick.prototype.compare=function(time,pos,button){return this.time+DOUBLECLICK_DELAY>time&&cmp(pos,this.pos)==0&&button==this.button};var lastClick;var lastDoubleClick;var Init={toString:function(){return"CodeMirror.Init"}};var defaults={};var optionHandlers={};CodeMirror.defaults=defaults;CodeMirror.optionHandlers=optionHandlers;var initHooks=[];CodeMirror.defineInitHook=function(f){return initHooks.push(f)};var lastCopied=null;var ContentEditableInput=
function(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed;this.composing=null;this.gracePeriod=false;this.readDOMTimeout=null};ContentEditableInput.prototype.init=function(display){function belongsToInput(e){var t=e.target;for(;t;t=t.parentNode){if(t==div)return true;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return false}function onCopyCut(e){if(!belongsToInput(e)||signalDOMEvent(cm,e))return;if(cm.somethingSelected()){setLastCopied({lineWise:false,
text:cm.getSelections()});if(e.type=="cut")cm.replaceSelection("",null,"cut")}else if(!cm.options.lineWiseCopyCut)return;else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut")cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var content=lastCopied.text.join("\n");e.clipboardData.setData("Text",content);if(e.clipboardData.getData("Text")==content){e.preventDefault();
return}}var kludge=hiddenTextarea();var te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.text.join("\n");var hadFocus=activeElt();selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();if(hadFocus==div)input.showPrimarySelection()},50)}var this$1=this;var input=this;var cm=input.cm;var div=input.div=display.lineDiv;div.contentEditable=true;disableBrowserMagic(div,cm.options.spellcheck,cm.options.autocorrect,
cm.options.autocapitalize);on(div,"paste",function(e){if(!belongsToInput(e)||signalDOMEvent(cm,e)||handlePaste(e,cm))return;if(ie_version<=11)setTimeout(operation(cm,function(){return this$1.updateFromDOM()}),20)});on(div,"compositionstart",function(e){this$1.composing={data:e.data,done:false}});on(div,"compositionupdate",function(e){if(!this$1.composing)this$1.composing={data:e.data,done:false}});on(div,"compositionend",function(e){if(this$1.composing){if(e.data!=this$1.composing.data)this$1.readFromDOMSoon();
this$1.composing.done=true}});on(div,"touchstart",function(){return input.forceCompositionEnd()});on(div,"input",function(){if(!this$1.composing)this$1.readFromDOMSoon()});on(div,"copy",onCopyCut);on(div,"cut",onCopyCut)};ContentEditableInput.prototype.screenReaderLabelChanged=function(label){if(label)this.div.setAttribute("aria-label",label);else this.div.removeAttribute("aria-label")};ContentEditableInput.prototype.prepareSelection=function(){var result=prepareSelection(this.cm,false);result.focus=
activeElt()==this.div;return result};ContentEditableInput.prototype.showSelection=function(info,takeFocus){if(!info||!this.cm.display.view.length)return;if(info.focus||takeFocus)this.showPrimarySelection();this.showMultipleSelections(info)};ContentEditableInput.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};ContentEditableInput.prototype.showPrimarySelection=function(){var sel=this.getSelection();var cm=this.cm;var prim=cm.doc.sel.primary();var from=
prim.from();var to=prim.to();if(cm.display.viewTo==cm.display.viewFrom||from.line>=cm.display.viewTo||to.line<cm.display.viewFrom){sel.removeAllRanges();return}var curAnchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var curFocus=domToPos(cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&cmp(minPos(curAnchor,curFocus),from)==0&&cmp(maxPos(curAnchor,curFocus),to)==0)return;var view=cm.display.view;var start=from.line>=cm.display.viewFrom&&posToDOM(cm,from)||
{node:view[0].measure.map[2],offset:0};var end=to.line<cm.display.viewTo&&posToDOM(cm,to);if(!end){var measure=view[view.length-1].measure;var map=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]}}if(!start||!end){sel.removeAllRanges();return}var old=sel.rangeCount&&sel.getRangeAt(0);var rng;try{rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}if(rng){if(!gecko&&cm.state.focused){sel.collapse(start.node,
start.offset);if(!rng.collapsed){sel.removeAllRanges();sel.addRange(rng)}}else{sel.removeAllRanges();sel.addRange(rng)}if(old&&sel.anchorNode==null)sel.addRange(old);else if(gecko)this.startGracePeriod()}this.rememberSelection()};ContentEditableInput.prototype.startGracePeriod=function(){var this$1=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){this$1.gracePeriod=false;if(this$1.selectionChanged())this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged=true})},
20)};ContentEditableInput.prototype.showMultipleSelections=function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)};ContentEditableInput.prototype.rememberSelection=function(){var sel=this.getSelection();this.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset};ContentEditableInput.prototype.selectionInEditor=function(){var sel=
this.getSelection();if(!sel.rangeCount)return false;var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)};ContentEditableInput.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"){if(!this.selectionInEditor()||activeElt()!=this.div)this.showSelection(this.prepareSelection(),true);this.div.focus()}};ContentEditableInput.prototype.blur=function(){this.div.blur()};ContentEditableInput.prototype.getField=function(){return this.div};ContentEditableInput.prototype.supportsTouch=
function(){return true};ContentEditableInput.prototype.receivedFocus=function(){function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll)}}var this$1=this;var input=this;if(this.selectionInEditor())setTimeout(function(){return this$1.pollSelection()},20);else runInOp(this.cm,function(){return input.cm.curOp.selectionChanged=true});this.polling.set(this.cm.options.pollInterval,poll)};ContentEditableInput.prototype.selectionChanged=function(){var sel=
this.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset};ContentEditableInput.prototype.pollSelection=function(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())return;var sel=this.getSelection();var cm=this.cm;if(android&&chrome&&this.cm.display.gutterSpecs.length&&isInGutter(sel.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs});
this.blur();this.focus();return}if(this.composing)return;this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head)runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad)cm.curOp.selectionChanged=true})};ContentEditableInput.prototype.pollContent=function(){if(this.readDOMTimeout!=null){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var cm=
this.cm;var display=cm.display;var sel=cm.doc.sel.primary();var from=sel.from();var to=sel.to();if(from.ch==0&&from.line>cm.firstLine())from=Pos(from.line-1,getLine(cm.doc,from.line-1).length);if(to.ch==getLine(cm.doc,to.line).text.length&&to.line<cm.lastLine())to=Pos(to.line+1,0);if(from.line<display.viewFrom||to.line>display.viewTo-1)return false;var fromIndex;var fromLine;var fromNode;if(from.line==display.viewFrom||(fromIndex=findViewIndex(cm,from.line))==0){fromLine=lineNo(display.view[0].line);
fromNode=display.view[0].node}else{fromLine=lineNo(display.view[fromIndex].line);fromNode=display.view[fromIndex-1].node.nextSibling}var toIndex=findViewIndex(cm,to.line);var toLine;var toNode;if(toIndex==display.view.length-1){toLine=display.viewTo-1;toNode=display.lineDiv.lastChild}else{toLine=lineNo(display.view[toIndex+1].line)-1;toNode=display.view[toIndex+1].node.previousSibling}if(!fromNode)return false;var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine));var oldText=
getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));for(;newText.length>1&&oldText.length>1;)if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--}else if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++}else break;var cutFront=0;var cutEnd=0;var newTop=newText[0];var oldTop=oldText[0];var maxCutFront=Math.min(newTop.length,oldTop.length);for(;cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront);)++cutFront;var newBot=
lst(newText);var oldBot=lst(oldText);var maxCutEnd=Math.min(newBot.length-(newText.length==1?cutFront:0),oldBot.length-(oldText.length==1?cutFront:0));for(;cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1);)++cutEnd;if(newText.length==1&&oldText.length==1&&fromLine==from.line)for(;cutFront&&cutFront>from.ch&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1);){cutFront--;cutEnd++}newText[newText.length-1]=newBot.slice(0,
newBot.length-cutEnd).replace(/^\u200b+/,"");newText[0]=newText[0].slice(cutFront).replace(/\u200b+$/,"");var chFrom=Pos(fromLine,cutFront);var chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(newText.length>1||newText[0]||cmp(chFrom,chTo)){replaceRange(cm.doc,newText,chFrom,chTo,"+input");return true}};ContentEditableInput.prototype.ensurePolled=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.reset=function(){this.forceCompositionEnd()};ContentEditableInput.prototype.forceCompositionEnd=
function(){if(!this.composing)return;clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()};ContentEditableInput.prototype.readFromDOMSoon=function(){var this$1=this;if(this.readDOMTimeout!=null)return;this.readDOMTimeout=setTimeout(function(){this$1.readDOMTimeout=null;if(this$1.composing)if(this$1.composing.done)this$1.composing=null;else return;this$1.updateFromDOM()},80)};ContentEditableInput.prototype.updateFromDOM=function(){var this$1=this;
if(this.cm.isReadOnly()||!this.pollContent())runInOp(this.cm,function(){return regChange(this$1.cm)})};ContentEditableInput.prototype.setUneditable=function(node){node.contentEditable="false"};ContentEditableInput.prototype.onKeyPress=function(e){if(e.charCode==0||this.composing)return;e.preventDefault();if(!this.cm.isReadOnly())operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0)};ContentEditableInput.prototype.readOnlyChanged=function(val){this.div.contentEditable=
String(val!="nocursor")};ContentEditableInput.prototype.onContextMenu=function(){};ContentEditableInput.prototype.resetPosition=function(){};ContentEditableInput.prototype.needsContentAttribute=true;var TextareaInput=function(cm){this.cm=cm;this.prevInput="";this.pollingFast=false;this.polling=new Delayed;this.hasSelection=false;this.composing=null};TextareaInput.prototype.init=function(display){function prepareCopyCut(e){if(signalDOMEvent(cm,e))return;if(cm.somethingSelected())setLastCopied({lineWise:false,
text:cm.getSelections()});else if(!cm.options.lineWiseCopyCut)return;else{var ranges=copyableRanges(cm);setLastCopied({lineWise:true,text:ranges.text});if(e.type=="cut")cm.setSelections(ranges.ranges,null,sel_dontScroll);else{input.prevInput="";te.value=ranges.text.join("\n");selectInput(te)}}if(e.type=="cut")cm.state.cutIncoming=+new Date}var this$1=this;var input=this;var cm=this.cm;this.createField(display);var te=this.textarea;display.wrapper.insertBefore(this.wrapper,display.wrapper.firstChild);
if(ios)te.style.width="0px";on(te,"input",function(){if(ie&&ie_version>=9&&this$1.hasSelection)this$1.hasSelection=null;input.poll()});on(te,"paste",function(e){if(signalDOMEvent(cm,e)||handlePaste(e,cm))return;cm.state.pasteIncoming=+new Date;input.fastPoll()});on(te,"cut",prepareCopyCut);on(te,"copy",prepareCopyCut);on(display.scroller,"paste",function(e){if(eventInWidget(display,e)||signalDOMEvent(cm,e))return;if(!te.dispatchEvent){cm.state.pasteIncoming=+new Date;input.focus();return}var event=
new Event("paste");event.clipboardData=e.clipboardData;te.dispatchEvent(event)});on(display.lineSpace,"selectstart",function(e){if(!eventInWidget(display,e))e_preventDefault(e)});on(te,"compositionstart",function(){var start=cm.getCursor("from");if(input.composing)input.composing.range.clear();input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});on(te,"compositionend",function(){if(input.composing){input.poll();input.composing.range.clear();
input.composing=null}})};TextareaInput.prototype.createField=function(_display){this.wrapper=hiddenTextarea();this.textarea=this.wrapper.firstChild};TextareaInput.prototype.screenReaderLabelChanged=function(label){if(label)this.textarea.setAttribute("aria-label",label);else this.textarea.removeAttribute("aria-label")};TextareaInput.prototype.prepareSelection=function(){var cm=this.cm;var display=cm.display;var doc=cm.doc;var result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=
cursorCoords(cm,doc.sel.primary().head,"div");var wrapOff=display.wrapper.getBoundingClientRect();var lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result};TextareaInput.prototype.showSelection=function(drawn){var cm=this.cm;var display=cm.display;removeChildrenAndAdd(display.cursorDiv,
drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(drawn.teTop!=null){this.wrapper.style.top=drawn.teTop+"px";this.wrapper.style.left=drawn.teLeft+"px"}};TextareaInput.prototype.reset=function(typing){if(this.contextMenuPending||this.composing)return;var cm=this.cm;if(cm.somethingSelected()){this.prevInput="";var content=cm.getSelection();this.textarea.value=content;if(cm.state.focused)selectInput(this.textarea);if(ie&&ie_version>=9)this.hasSelection=content}else if(!typing){this.prevInput=
this.textarea.value="";if(ie&&ie_version>=9)this.hasSelection=null}};TextareaInput.prototype.getField=function(){return this.textarea};TextareaInput.prototype.supportsTouch=function(){return false};TextareaInput.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!mobile||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}};TextareaInput.prototype.blur=function(){this.textarea.blur()};TextareaInput.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=
0};TextareaInput.prototype.receivedFocus=function(){this.slowPoll()};TextareaInput.prototype.slowPoll=function(){var this$1=this;if(this.pollingFast)return;this.polling.set(this.cm.options.pollInterval,function(){this$1.poll();if(this$1.cm.state.focused)this$1.slowPoll()})};TextareaInput.prototype.fastPoll=function(){function p(){var changed=input.poll();if(!changed&&!missed){missed=true;input.polling.set(60,p)}else{input.pollingFast=false;input.slowPoll()}}var missed=false;var input=this;input.pollingFast=
true;input.polling.set(20,p)};TextareaInput.prototype.poll=function(){var this$1=this;var cm=this.cm;var input=this.textarea;var prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq)return false;var text=input.value;if(text==prevInput&&!cm.somethingSelected())return false;if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text)){cm.display.input.reset();
return false}if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(first==8203&&!prevInput)prevInput="\u200b";if(first==8666){this.reset();return this.cm.execCommand("undo")}}var same=0;var l=Math.min(prevInput.length,text.length);for(;same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same);)++same;runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?"*compose":null);if(text.length>1E3||text.indexOf("\n")>-1)input.value=this$1.prevInput=
"";else this$1.prevInput=text;if(this$1.composing){this$1.composing.range.clear();this$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"})}});return true};TextareaInput.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll())this.pollingFast=false};TextareaInput.prototype.onKeyPress=function(){if(ie&&ie_version>=9)this.hasSelection=null;this.fastPoll()};TextareaInput.prototype.onContextMenu=function(e){function prepareSelectAllHack(){if(te.selectionStart!=
null){var selected=cm.somethingSelected();var extval="\u200b"+(selected?te.value:"");te.value="\u21da";te.value=extval;input.prevInput=selected?"":"\u200b";te.selectionStart=1;te.selectionEnd=extval.length;display.selForContextMenu=cm.doc.sel}}function rehide(){if(input.contextMenuPending!=rehide)return;input.contextMenuPending=false;input.wrapper.style.cssText=oldWrapperCSS;te.style.cssText=oldCSS;if(ie&&ie_version<9)display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos);if(te.selectionStart!=
null){if(!ie||ie&&ie_version<9)prepareSelectAllHack();var i=0;var poll=function(){if(display.selForContextMenu==cm.doc.sel&&te.selectionStart==0&&te.selectionEnd>0&&input.prevInput=="\u200b")operation(cm,selectAll)(cm);else if(i++<10)display.detectingSelectAll=setTimeout(poll,500);else{display.selForContextMenu=null;display.input.reset()}};display.detectingSelectAll=setTimeout(poll,200)}}var input=this;var cm=input.cm;var display=cm.display;var te=input.textarea;if(input.contextMenuPending)input.contextMenuPending();
var pos=posFromMouse(cm,e);var scrollPos=display.scroller.scrollTop;if(!pos||presto)return;var reset=cm.options.resetSelectionOnContextMenu;if(reset&&cm.doc.sel.contains(pos)==-1)operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS=te.style.cssText;var oldWrapperCSS=input.wrapper.style.cssText;var wrapperBox=input.wrapper.offsetParent.getBoundingClientRect();input.wrapper.style.cssText="position: static";te.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+
(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px;\n      z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var oldScrollY;if(webkit)oldScrollY=window.scrollY;display.input.focus();if(webkit)window.scrollTo(null,oldScrollY);display.input.reset();if(!cm.somethingSelected())te.value=input.prevInput=" ";input.contextMenuPending=rehide;
display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);if(ie&&ie_version>=9)prepareSelectAllHack();if(captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup);setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else setTimeout(rehide,50)};TextareaInput.prototype.readOnlyChanged=function(val){if(!val)this.reset();this.textarea.disabled=val=="nocursor";this.textarea.readOnly=!!val};TextareaInput.prototype.setUneditable=function(){};TextareaInput.prototype.needsContentAttribute=
false;defineOptions(CodeMirror);addEditorMethods(CodeMirror);var dontDelegate="iter insert remove copy getEditor constructor".split(" ");var prop;for(prop in Doc.prototype)if(Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0)CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop]);eventMixin(Doc);CodeMirror.inputStyles={"textarea":TextareaInput,"contenteditable":ContentEditableInput};CodeMirror.defineMode=function(name){if(!CodeMirror.defaults.mode&&
name!="null")CodeMirror.defaults.mode=name;defineMode.apply(this,arguments)};CodeMirror.defineMIME=defineMIME;CodeMirror.defineMode("null",function(){return{token:function(stream){return stream.skipToEnd()}}});CodeMirror.defineMIME("text/plain","null");CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func};CodeMirror.fromTextArea=fromTextArea;addLegacyProps(CodeMirror);CodeMirror.version="5.65.6";
return CodeMirror});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function dialogDiv(cm,template,bottom){var wrap=cm.getWrapperElement();var dialog;dialog=wrap.appendChild(document.createElement("div"));if(bottom)dialog.className="CodeMirror-dialog CodeMirror-dialog-bottom";else dialog.className="CodeMirror-dialog CodeMirror-dialog-top";
dialog.appendChild(template);CodeMirror.addClass(wrap,"dialog-opened");return dialog}function closeNotification(cm,newVal){if(cm.state.currentNotificationClose)cm.state.currentNotificationClose();cm.state.currentNotificationClose=newVal}CodeMirror.defineExtension("openDialog",function(template,callback,options){function close(newVal){if(typeof newVal=="string")inp.value=newVal;else{if(closed)return;closed=true;CodeMirror.rmClass(dialog.parentNode,"dialog-opened");dialog.parentNode.removeChild(dialog);
me.focus();if(options.onClose)options.onClose(dialog)}}if(!options)options={};closeNotification(this,null);var dialog=dialogDiv(this,template,options.bottom);var closed=false;var me=this;var inp=dialog.getElementsByTagName("input")[0];var button;if(inp){inp.focus();if(options.value){inp.value=options.value;if(options.selectValueOnOpen!==false)inp.select()}if(options.onInput)CodeMirror.on(inp,"input",function(e){options.onInput(e,inp.value,close)});if(options.onKeyUp)CodeMirror.on(inp,"keyup",function(e){options.onKeyUp(e,
inp.value,close)});CodeMirror.on(inp,"keydown",function(e){if(options&&options.onKeyDown&&options.onKeyDown(e,inp.value,close))return;if(e.keyCode==27||options.closeOnEnter!==false&&e.keyCode==13){inp.blur();CodeMirror.e_stop(e);close()}if(e.keyCode==13)callback(inp.value,e)});if(options.closeOnBlur!==false)CodeMirror.on(dialog,"focusout",function(evt){if(evt.relatedTarget!==null)close()})}else if(button=dialog.getElementsByTagName("button")[0]){CodeMirror.on(button,"click",function(){close();me.focus()});
if(options.closeOnBlur!==false)CodeMirror.on(button,"blur",close);button.focus()}return close});CodeMirror.defineExtension("openConfirm",function(template,callbacks,options){function close(){if(closed)return;closed=true;CodeMirror.rmClass(dialog.parentNode,"dialog-opened");dialog.parentNode.removeChild(dialog);me.focus()}closeNotification(this,null);var dialog=dialogDiv(this,template,options&&options.bottom);var buttons=dialog.getElementsByTagName("button");var closed=false;var me=this;var blurring=
1;buttons[0].focus();var i=0;for(;i<buttons.length;++i){var b=buttons[i];(function(callback){CodeMirror.on(b,"click",function(e){CodeMirror.e_preventDefault(e);close();if(callback)callback(me)})})(callbacks[i]);CodeMirror.on(b,"blur",function(){--blurring;setTimeout(function(){if(blurring<=0)close()},200)});CodeMirror.on(b,"focus",function(){++blurring})}});CodeMirror.defineExtension("openNotification",function(template,options){function close(){if(closed)return;closed=true;clearTimeout(doneTimer);
CodeMirror.rmClass(dialog.parentNode,"dialog-opened");dialog.parentNode.removeChild(dialog)}closeNotification(this,close);var dialog=dialogDiv(this,template,options&&options.bottom);var closed=false;var doneTimer;var duration=options&&typeof options.duration!=="undefined"?options.duration:5E3;CodeMirror.on(dialog,"click",function(e){CodeMirror.e_preventDefault(e);close()});if(duration)doneTimer=setTimeout(close,duration);return close})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],mod);else mod(CodeMirror)})(function(CodeMirror){function searchOverlay(query,caseInsensitive){if(typeof query=="string")query=new RegExp(query.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),caseInsensitive?"gi":"g");else if(!query.global)query=
new RegExp(query.source,query.ignoreCase?"gi":"g");return{token:function(stream){query.lastIndex=stream.pos;var match=query.exec(stream.string);if(match&&match.index==stream.pos){stream.pos+=match[0].length||1;return"searching"}else if(match)stream.pos=match.index;else stream.skipToEnd()}}}function SearchState(){this.posFrom=this.posTo=this.lastQuery=this.query=null;this.overlay=null}function getSearchState(cm){return cm.state.search||(cm.state.search=new SearchState)}function queryCaseInsensitive(query){return typeof query==
"string"&&query==query.toLowerCase()}function getSearchCursor(cm,query,pos){return cm.getSearchCursor(query,pos,{caseFold:queryCaseInsensitive(query),multiline:true})}function persistentDialog(cm,text,deflt,onEnter,onKeyDown){cm.openDialog(text,onEnter,{value:deflt,selectValueOnOpen:true,closeOnEnter:false,onClose:function(){clearSearch(cm)},onKeyDown:onKeyDown,bottom:cm.options.search.bottom})}function dialog(cm,text,shortText,deflt,f){if(cm.openDialog)cm.openDialog(text,f,{value:deflt,selectValueOnOpen:true,
bottom:cm.options.search.bottom});else f(prompt(shortText,deflt))}function confirmDialog(cm,text,shortText,fs){if(cm.openConfirm)cm.openConfirm(text,fs);else if(confirm(shortText))fs[0]()}function parseString(string){return string.replace(/\\([nrt\\])/g,function(match,ch){if(ch=="n")return"\n";if(ch=="r")return"\r";if(ch=="t")return"\t";if(ch=="\\")return"\\";return match})}function parseQuery(query){var isRE=query.match(/^\/(.*)\/([a-z]*)$/);if(isRE)try{query=new RegExp(isRE[1],isRE[2].indexOf("i")==
-1?"":"i")}catch(e){}else query=parseString(query);if(typeof query=="string"?query=="":query.test(""))query=/x^/;return query}function startSearch(cm,state,query){state.queryText=query;state.query=parseQuery(query);cm.removeOverlay(state.overlay,queryCaseInsensitive(state.query));state.overlay=searchOverlay(state.query,queryCaseInsensitive(state.query));cm.addOverlay(state.overlay);if(cm.showMatchesOnScrollbar){if(state.annotate){state.annotate.clear();state.annotate=null}state.annotate=cm.showMatchesOnScrollbar(state.query,
queryCaseInsensitive(state.query))}}function doSearch(cm,rev,persistent,immediate){var state=getSearchState(cm);if(state.query)return findNext(cm,rev);var q=cm.getSelection()||state.lastQuery;if(q instanceof RegExp&&q.source=="x^")q=null;if(persistent&&cm.openDialog){var hiding=null;var searchNext=function(query,event){CodeMirror.e_stop(event);if(!query)return;if(query!=state.queryText){startSearch(cm,state,query);state.posFrom=state.posTo=cm.getCursor()}if(hiding)hiding.style.opacity=1;findNext(cm,
event.shiftKey,function(_,to){var dialog;if(to.line<3&&document.querySelector&&(dialog=cm.display.wrapper.querySelector(".CodeMirror-dialog"))&&dialog.getBoundingClientRect().bottom-4>cm.cursorCoords(to,"window").top)(hiding=dialog).style.opacity=.4})};persistentDialog(cm,getQueryDialog(cm),q,searchNext,function(event,query){var keyName=CodeMirror.keyName(event);var extra=cm.getOption("extraKeys");var cmd=extra&&extra[keyName]||CodeMirror.keyMap[cm.getOption("keyMap")][keyName];if(cmd=="findNext"||
cmd=="findPrev"||cmd=="findPersistentNext"||cmd=="findPersistentPrev"){CodeMirror.e_stop(event);startSearch(cm,getSearchState(cm),query);cm.execCommand(cmd)}else if(cmd=="find"||cmd=="findPersistent"){CodeMirror.e_stop(event);searchNext(query,event)}});if(immediate&&q){startSearch(cm,state,q);findNext(cm,rev)}}else dialog(cm,getQueryDialog(cm),"Search for:",q,function(query){if(query&&!state.query)cm.operation(function(){startSearch(cm,state,query);state.posFrom=state.posTo=cm.getCursor();findNext(cm,
rev)})})}function findNext(cm,rev,callback){cm.operation(function(){var state=getSearchState(cm);var cursor=getSearchCursor(cm,state.query,rev?state.posFrom:state.posTo);if(!cursor.find(rev)){cursor=getSearchCursor(cm,state.query,rev?CodeMirror.Pos(cm.lastLine()):CodeMirror.Pos(cm.firstLine(),0));if(!cursor.find(rev))return}cm.setSelection(cursor.from(),cursor.to());cm.scrollIntoView({from:cursor.from(),to:cursor.to()},20);state.posFrom=cursor.from();state.posTo=cursor.to();if(callback)callback(cursor.from(),
cursor.to())})}function clearSearch(cm){cm.operation(function(){var state=getSearchState(cm);state.lastQuery=state.query;if(!state.query)return;state.query=state.queryText=null;cm.removeOverlay(state.overlay);if(state.annotate){state.annotate.clear();state.annotate=null}})}function el(tag,attrs){var element=tag?document.createElement(tag):document.createDocumentFragment();var key;for(key in attrs)element[key]=attrs[key];var i=2;for(;i<arguments.length;i++){var child=arguments[i];element.appendChild(typeof child==
"string"?document.createTextNode(child):child)}return element}function getQueryDialog(cm){var label=el("label",{className:"CodeMirror-search-label"},cm.phrase("Search:"),el("input",{type:"text","style":"width: 10em",className:"CodeMirror-search-field",id:"CodeMirror-search-field"}));label.setAttribute("for","CodeMirror-search-field");return el("",null,label," ",el("span",{style:"color: #666",className:"CodeMirror-search-hint"},cm.phrase("(Use /re/ syntax for regexp search)")))}function getReplaceQueryDialog(cm){return el("",
null," ",el("input",{type:"text","style":"width: 10em",className:"CodeMirror-search-field"})," ",el("span",{style:"color: #666",className:"CodeMirror-search-hint"},cm.phrase("(Use /re/ syntax for regexp search)")))}function getReplacementQueryDialog(cm){return el("",null,el("span",{className:"CodeMirror-search-label"},cm.phrase("With:"))," ",el("input",{type:"text","style":"width: 10em",className:"CodeMirror-search-field"}))}function getDoReplaceConfirm(cm){return el("",null,el("span",{className:"CodeMirror-search-label"},
cm.phrase("Replace?"))," ",el("button",{},cm.phrase("Yes"))," ",el("button",{},cm.phrase("No"))," ",el("button",{},cm.phrase("All"))," ",el("button",{},cm.phrase("Stop")))}function replaceAll(cm,query,text){cm.operation(function(){var cursor=getSearchCursor(cm,query);for(;cursor.findNext();)if(typeof query!="string"){var match=cm.getRange(cursor.from(),cursor.to()).match(query);cursor.replace(text.replace(/\$(\d)/g,function(_,i){return match[i]}))}else cursor.replace(text)})}function replace(cm,all){if(cm.getOption("readOnly"))return;
var query=cm.getSelection()||getSearchState(cm).lastQuery;var dialogText=all?cm.phrase("Replace all:"):cm.phrase("Replace:");var fragment=el("",null,el("span",{className:"CodeMirror-search-label"},dialogText),getReplaceQueryDialog(cm));dialog(cm,fragment,dialogText,query,function(query){if(!query)return;query=parseQuery(query);dialog(cm,getReplacementQueryDialog(cm),cm.phrase("Replace with:"),"",function(text){text=parseString(text);if(all)replaceAll(cm,query,text);else{clearSearch(cm);var cursor=
getSearchCursor(cm,query,cm.getCursor("from"));var advance=function(){var start=cursor.from();var match;if(!(match=cursor.findNext())){cursor=getSearchCursor(cm,query);if(!(match=cursor.findNext())||start&&cursor.from().line==start.line&&cursor.from().ch==start.ch)return}cm.setSelection(cursor.from(),cursor.to());cm.scrollIntoView({from:cursor.from(),to:cursor.to()});confirmDialog(cm,getDoReplaceConfirm(cm),cm.phrase("Replace?"),[function(){doReplace(match)},advance,function(){replaceAll(cm,query,
text)}])};var doReplace=function(match){cursor.replace(typeof query=="string"?text:text.replace(/\$(\d)/g,function(_,i){return match[i]}));advance()};advance()}})})}CodeMirror.defineOption("search",{bottom:false});CodeMirror.commands.find=function(cm){clearSearch(cm);doSearch(cm)};CodeMirror.commands.findPersistent=function(cm){clearSearch(cm);doSearch(cm,false,true)};CodeMirror.commands.findPersistentNext=function(cm){doSearch(cm,false,true,true)};CodeMirror.commands.findPersistentPrev=function(cm){doSearch(cm,
true,true,true)};CodeMirror.commands.findNext=doSearch;CodeMirror.commands.findPrev=function(cm){doSearch(cm,true)};CodeMirror.commands.clearSearch=clearSearch;CodeMirror.commands.replace=replace;CodeMirror.commands.replaceAll=function(cm){replace(cm,true)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function regexpFlags(regexp){var flags=regexp.flags;return flags!=null?flags:(regexp.ignoreCase?"i":"")+(regexp.global?"g":"")+(regexp.multiline?"m":"")}function ensureFlags(regexp,flags){var current=regexpFlags(regexp);var target=current;var i=0;for(;i<flags.length;i++)if(target.indexOf(flags.charAt(i))==
-1)target=target+flags.charAt(i);return current==target?regexp:new RegExp(regexp.source,target)}function maybeMultiline(regexp){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(regexp.source)}function searchRegexpForward(doc,regexp,start){regexp=ensureFlags(regexp,"g");var line=start.line;var ch=start.ch;var last=doc.lastLine();for(;line<=last;line++,ch=0){regexp.lastIndex=ch;var string=doc.getLine(line);var match=regexp.exec(string);if(match)return{from:Pos(line,match.index),to:Pos(line,match.index+match[0].length),
match:match}}}function searchRegexpForwardMultiline(doc,regexp,start){if(!maybeMultiline(regexp))return searchRegexpForward(doc,regexp,start);regexp=ensureFlags(regexp,"gm");var string;var chunk=1;var line=start.line;var last=doc.lastLine();for(;line<=last;){var i=0;for(;i<chunk;i++){if(line>last)break;var curLine=doc.getLine(line++);string=string==null?curLine:string+"\n"+curLine}chunk=chunk*2;regexp.lastIndex=start.ch;var match=regexp.exec(string);if(match){var before=string.slice(0,match.index).split("\n");
var inside=match[0].split("\n");var startLine=start.line+before.length-1;var startCh=before[before.length-1].length;return{from:Pos(startLine,startCh),to:Pos(startLine+inside.length-1,inside.length==1?startCh+inside[0].length:inside[inside.length-1].length),match:match}}}}function lastMatchIn(string,regexp,endMargin){var match;var from=0;for(;from<=string.length;){regexp.lastIndex=from;var newMatch=regexp.exec(string);if(!newMatch)break;var end=newMatch.index+newMatch[0].length;if(end>string.length-
endMargin)break;if(!match||end>match.index+match[0].length)match=newMatch;from=newMatch.index+1}return match}function searchRegexpBackward(doc,regexp,start){regexp=ensureFlags(regexp,"g");var line=start.line;var ch=start.ch;var first=doc.firstLine();for(;line>=first;line--,ch=-1){var string=doc.getLine(line);var match=lastMatchIn(string,regexp,ch<0?0:string.length-ch);if(match)return{from:Pos(line,match.index),to:Pos(line,match.index+match[0].length),match:match}}}function searchRegexpBackwardMultiline(doc,
regexp,start){if(!maybeMultiline(regexp))return searchRegexpBackward(doc,regexp,start);regexp=ensureFlags(regexp,"gm");var string;var chunkSize=1;var endMargin=doc.getLine(start.line).length-start.ch;var line=start.line;var first=doc.firstLine();for(;line>=first;){var i=0;for(;i<chunkSize&&line>=first;i++){var curLine=doc.getLine(line--);string=string==null?curLine:curLine+"\n"+string}chunkSize=chunkSize*2;var match=lastMatchIn(string,regexp,endMargin);if(match){var before=string.slice(0,match.index).split("\n");
var inside=match[0].split("\n");var startLine=line+before.length;var startCh=before[before.length-1].length;return{from:Pos(startLine,startCh),to:Pos(startLine+inside.length-1,inside.length==1?startCh+inside[0].length:inside[inside.length-1].length),match:match}}}}function adjustPos(orig,folded,pos,foldFunc){if(orig.length==folded.length)return pos;var min=0;var max=pos+Math.max(0,orig.length-folded.length);for(;;){if(min==max)return min;var mid=min+max>>1;var len=foldFunc(orig.slice(0,mid)).length;
if(len==pos)return mid;else if(len>pos)max=mid;else min=mid+1}}function searchStringForward(doc,query,start,caseFold){if(!query.length)return null;var fold=caseFold?doFold:noFold;var lines=fold(query).split(/\r|\n\r?/);var line=start.line;var ch=start.ch;var last=doc.lastLine()+1-lines.length;search:for(;line<=last;line++,ch=0){var orig=doc.getLine(line).slice(ch);var string=fold(orig);if(lines.length==1){var found=string.indexOf(lines[0]);if(found==-1)continue search;start=adjustPos(orig,string,
found,fold)+ch;return{from:Pos(line,adjustPos(orig,string,found,fold)+ch),to:Pos(line,adjustPos(orig,string,found+lines[0].length,fold)+ch)}}else{var cutFrom=string.length-lines[0].length;if(string.slice(cutFrom)!=lines[0])continue search;var i=1;for(;i<lines.length-1;i++)if(fold(doc.getLine(line+i))!=lines[i])continue search;var end=doc.getLine(line+lines.length-1);var endString=fold(end);var lastLine=lines[lines.length-1];if(endString.slice(0,lastLine.length)!=lastLine)continue search;return{from:Pos(line,
adjustPos(orig,string,cutFrom,fold)+ch),to:Pos(line+lines.length-1,adjustPos(end,endString,lastLine.length,fold))}}}}function searchStringBackward(doc,query,start,caseFold){if(!query.length)return null;var fold=caseFold?doFold:noFold;var lines=fold(query).split(/\r|\n\r?/);var line=start.line;var ch=start.ch;var first=doc.firstLine()-1+lines.length;search:for(;line>=first;line--,ch=-1){var orig=doc.getLine(line);if(ch>-1)orig=orig.slice(0,ch);var string=fold(orig);if(lines.length==1){var found=string.lastIndexOf(lines[0]);
if(found==-1)continue search;return{from:Pos(line,adjustPos(orig,string,found,fold)),to:Pos(line,adjustPos(orig,string,found+lines[0].length,fold))}}else{var lastLine=lines[lines.length-1];if(string.slice(0,lastLine.length)!=lastLine)continue search;var i=1;start=line-lines.length+1;for(;i<lines.length-1;i++)if(fold(doc.getLine(start+i))!=lines[i])continue search;var top=doc.getLine(line+1-lines.length);var topString=fold(top);if(topString.slice(topString.length-lines[0].length)!=lines[0])continue search;
return{from:Pos(line+1-lines.length,adjustPos(top,topString,top.length-lines[0].length,fold)),to:Pos(line,adjustPos(orig,string,lastLine.length,fold))}}}}function SearchCursor(doc,query,pos,options){this.atOccurrence=false;this.afterEmptyMatch=false;this.doc=doc;pos=pos?doc.clipPos(pos):Pos(0,0);this.pos={from:pos,to:pos};var caseFold;if(typeof options=="object")caseFold=options.caseFold;else{caseFold=options;options=null}if(typeof query=="string"){if(caseFold==null)caseFold=false;this.matches=function(reverse,
pos){return(reverse?searchStringBackward:searchStringForward)(doc,query,pos,caseFold)}}else{query=ensureFlags(query,"gm");if(!options||options.multiline!==false)this.matches=function(reverse,pos){return(reverse?searchRegexpBackwardMultiline:searchRegexpForwardMultiline)(doc,query,pos)};else this.matches=function(reverse,pos){return(reverse?searchRegexpBackward:searchRegexpForward)(doc,query,pos)}}}var Pos=CodeMirror.Pos;var doFold;var noFold;if(String.prototype.normalize){doFold=function(str){return str.normalize("NFD").toLowerCase()};
noFold=function(str){return str.normalize("NFD")}}else{doFold=function(str){return str.toLowerCase()};noFold=function(str){return str}}SearchCursor.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(reverse){var head=this.doc.clipPos(reverse?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence){head=Pos(head.line,head.ch);if(reverse){head.ch--;if(head.ch<0){head.line--;head.ch=(this.doc.getLine(head.line)||"").length}}else{head.ch++;
if(head.ch>(this.doc.getLine(head.line)||"").length){head.ch=0;head.line++}}if(CodeMirror.cmpPos(head,this.doc.clipPos(head))!=0)return this.atOccurrence=false}var result=this.matches(reverse,head);this.afterEmptyMatch=result&&CodeMirror.cmpPos(result.from,result.to)==0;if(result){this.pos=result;this.atOccurrence=true;return this.pos.match||true}else{var end=Pos(reverse?this.doc.firstLine():this.doc.lastLine()+1,0);this.pos={from:end,to:end};return this.atOccurrence=false}},from:function(){if(this.atOccurrence)return this.pos.from},
to:function(){if(this.atOccurrence)return this.pos.to},replace:function(newText,origin){if(!this.atOccurrence)return;var lines=CodeMirror.splitLines(newText);this.doc.replaceRange(lines,this.pos.from,this.pos.to,origin);this.pos.to=Pos(this.pos.from.line+lines.length-1,lines[lines.length-1].length+(lines.length==1?this.pos.from.ch:0))}};CodeMirror.defineExtension("getSearchCursor",function(query,pos,caseFold){return new SearchCursor(this.doc,query,pos,caseFold)});CodeMirror.defineDocExtension("getSearchCursor",
function(query,pos,caseFold){return new SearchCursor(this,query,pos,caseFold)});CodeMirror.defineExtension("selectMatches",function(query,caseFold){var ranges=[];var cur=this.getSearchCursor(query,this.getCursor("from"),caseFold);for(;cur.findNext();){if(CodeMirror.cmpPos(cur.to(),this.getCursor("to"))>0)break;ranges.push({anchor:cur.from(),head:cur.to()})}if(ranges.length)this.setSelections(ranges,0)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets"));else if(typeof define=="function"&&define.amd)define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],mod);else mod(CodeMirror)})(function(CodeMirror){function findPosSubword(doc,start,dir){if(dir<0&&start.ch==0)return doc.clipPos(Pos(start.line-1));var line=doc.getLine(start.line);if(dir>
0&&start.ch>=line.length)return doc.clipPos(Pos(start.line+1,0));var state="start";var type;var startPos=start.ch;var pos=startPos;var e=dir<0?0:line.length;var i=0;for(;pos!=e;pos=pos+dir,i++){var next=line.charAt(dir<0?pos-1:pos);var cat=next!="_"&&CodeMirror.isWordChar(next)?"w":"o";if(cat=="w"&&next.toUpperCase()==next)cat="W";if(state=="start")if(cat!="o"){state="in";type=cat}else startPos=pos+dir;else if(state=="in")if(type!=cat){if(type=="w"&&cat=="W"&&dir<0)pos--;if(type=="W"&&cat=="w"&&dir>
0)if(pos==startPos+1){type="w";continue}else pos--;break}}return Pos(start.line,pos)}function moveSubword(cm,dir){cm.extendSelectionsBy(function(range){if(cm.display.shift||cm.doc.extend||range.empty())return findPosSubword(cm.doc,range.head,dir);else return dir<0?range.from():range.to()})}function insertLine(cm,above){if(cm.isReadOnly())return CodeMirror.Pass;cm.operation(function(){var len=cm.listSelections().length;var newSelection=[];var last=-1;var i=0;for(;i<len;i++){var head=cm.listSelections()[i].head;
if(head.line<=last)continue;var at=Pos(head.line+(above?0:1),0);cm.replaceRange("\n",at,null,"+insertLine");cm.indentLine(at.line,null,true);newSelection.push({head:at,anchor:at});last=head.line+1}cm.setSelections(newSelection)});cm.execCommand("indentAuto")}function wordAt(cm,pos){var start=pos.ch;var end=start;var line=cm.getLine(pos.line);for(;start&&CodeMirror.isWordChar(line.charAt(start-1));)--start;for(;end<line.length&&CodeMirror.isWordChar(line.charAt(end));)++end;return{from:Pos(pos.line,
start),to:Pos(pos.line,end),word:line.slice(start,end)}}function addCursorToSelection(cm,dir){var ranges=cm.listSelections();var newRanges=[];var i=0;for(;i<ranges.length;i++){var range=ranges[i];var newAnchor=cm.findPosV(range.anchor,dir,"line",range.anchor.goalColumn);var newHead=cm.findPosV(range.head,dir,"line",range.head.goalColumn);newAnchor.goalColumn=range.anchor.goalColumn!=null?range.anchor.goalColumn:cm.cursorCoords(range.anchor,"div").left;newHead.goalColumn=range.head.goalColumn!=null?
range.head.goalColumn:cm.cursorCoords(range.head,"div").left;var newRange={anchor:newAnchor,head:newHead};newRanges.push(range);newRanges.push(newRange)}cm.setSelections(newRanges)}function isSelectedRange(ranges,from,to){var i=0;for(;i<ranges.length;i++)if(CodeMirror.cmpPos(ranges[i].from(),from)==0&&CodeMirror.cmpPos(ranges[i].to(),to)==0)return true;return false}function selectBetweenBrackets(cm){var ranges=cm.listSelections();var newRanges=[];var i=0;for(;i<ranges.length;i++){var range=ranges[i];
var pos=range.head;var opening=cm.scanForBracket(pos,-1);if(!opening)return false;for(;;){var closing=cm.scanForBracket(pos,1);if(!closing)return false;if(closing.ch==mirror.charAt(mirror.indexOf(opening.ch)+1)){var startPos=Pos(opening.pos.line,opening.pos.ch+1);if(CodeMirror.cmpPos(startPos,range.from())==0&&CodeMirror.cmpPos(closing.pos,range.to())==0){opening=cm.scanForBracket(opening.pos,-1);if(!opening)return false}else{newRanges.push({anchor:startPos,head:closing.pos});break}}pos=Pos(closing.pos.line,
closing.pos.ch+1)}}cm.setSelections(newRanges);return true}function puncType(type){return!type?null:/\bpunctuation\b/.test(type)?type:undefined}function sortLines(cm,caseSensitive,direction){if(cm.isReadOnly())return CodeMirror.Pass;var ranges=cm.listSelections();var toSort=[];var selected;var i=0;for(;i<ranges.length;i++){var range=ranges[i];if(range.empty())continue;var from=range.from().line;var to=range.to().line;for(;i<ranges.length-1&&ranges[i+1].from().line==to;)to=ranges[++i].to().line;if(!ranges[i].to().ch)to--;
toSort.push(from,to)}if(toSort.length)selected=true;else toSort.push(cm.firstLine(),cm.lastLine());cm.operation(function(){var ranges=[];var i=0;for(;i<toSort.length;i=i+2){var from=toSort[i];var to=toSort[i+1];var start=Pos(from,0);var end=Pos(to);var lines=cm.getRange(start,end,false);if(caseSensitive)lines.sort(function(a,b){return a<b?-direction:a==b?0:direction});else lines.sort(function(a,b){var au=a.toUpperCase();var bu=b.toUpperCase();if(au!=bu){a=au;b=bu}return a<b?-direction:a==b?0:direction});
cm.replaceRange(lines,start,end);if(selected)ranges.push({anchor:start,head:Pos(to+1,0)})}if(selected)cm.setSelections(ranges,0)})}function modifyWordOrSelection(cm,mod){cm.operation(function(){var ranges=cm.listSelections();var indices=[];var replacements=[];var i=0;for(;i<ranges.length;i++){var range=ranges[i];if(range.empty()){indices.push(i);replacements.push("")}else replacements.push(mod(cm.getRange(range.from(),range.to())))}cm.replaceSelections(replacements,"around","case");i=indices.length-
1;var at;for(;i>=0;i--){range=ranges[indices[i]];if(at&&CodeMirror.cmpPos(range.head,at)>0)continue;var word=wordAt(cm,range.head);at=word.from;cm.replaceRange(mod(word.word),word.from,word.to)}})}function getTarget(cm){var from=cm.getCursor("from");var to=cm.getCursor("to");if(CodeMirror.cmpPos(from,to)==0){var word=wordAt(cm,from);if(!word.word)return;from=word.from;to=word.to}return{from:from,to:to,query:cm.getRange(from,to),word:word}}function findAndGoTo(cm,forward){var target=getTarget(cm);
if(!target)return;var query=target.query;var cur=cm.getSearchCursor(query,forward?target.to:target.from);if(forward?cur.findNext():cur.findPrevious())cm.setSelection(cur.from(),cur.to());else{cur=cm.getSearchCursor(query,forward?Pos(cm.firstLine(),0):cm.clipPos(Pos(cm.lastLine())));if(forward?cur.findNext():cur.findPrevious())cm.setSelection(cur.from(),cur.to());else if(target.word)cm.setSelection(target.from,target.to)}}var cmds=CodeMirror.commands;var Pos=CodeMirror.Pos;cmds.goSubwordLeft=function(cm){moveSubword(cm,
-1)};cmds.goSubwordRight=function(cm){moveSubword(cm,1)};cmds.scrollLineUp=function(cm){var info=cm.getScrollInfo();if(!cm.somethingSelected()){var visibleBottomLine=cm.lineAtHeight(info.top+info.clientHeight,"local");if(cm.getCursor().line>=visibleBottomLine)cm.execCommand("goLineUp")}cm.scrollTo(null,info.top-cm.defaultTextHeight())};cmds.scrollLineDown=function(cm){var info=cm.getScrollInfo();if(!cm.somethingSelected()){var visibleTopLine=cm.lineAtHeight(info.top,"local")+1;if(cm.getCursor().line<=
visibleTopLine)cm.execCommand("goLineDown")}cm.scrollTo(null,info.top+cm.defaultTextHeight())};cmds.splitSelectionByLine=function(cm){var ranges=cm.listSelections();var lineRanges=[];var i=0;for(;i<ranges.length;i++){var from=ranges[i].from();var to=ranges[i].to();var line=from.line;for(;line<=to.line;++line)if(!(to.line>from.line&&line==to.line&&to.ch==0))lineRanges.push({anchor:line==from.line?from:Pos(line,0),head:line==to.line?to:Pos(line)})}cm.setSelections(lineRanges,0)};cmds.singleSelectionTop=
function(cm){var range=cm.listSelections()[0];cm.setSelection(range.anchor,range.head,{scroll:false})};cmds.selectLine=function(cm){var ranges=cm.listSelections();var extended=[];var i=0;for(;i<ranges.length;i++){var range=ranges[i];extended.push({anchor:Pos(range.from().line,0),head:Pos(range.to().line+1,0)})}cm.setSelections(extended)};cmds.insertLineAfter=function(cm){return insertLine(cm,false)};cmds.insertLineBefore=function(cm){return insertLine(cm,true)};cmds.selectNextOccurrence=function(cm){var from=
cm.getCursor("from");var to=cm.getCursor("to");var fullWord=cm.state.sublimeFindFullWord==cm.doc.sel;if(CodeMirror.cmpPos(from,to)==0){var word=wordAt(cm,from);if(!word.word)return;cm.setSelection(word.from,word.to);fullWord=true}else{var text=cm.getRange(from,to);var query=fullWord?new RegExp("\\b"+text+"\\b"):text;var cur=cm.getSearchCursor(query,to);var found=cur.findNext();if(!found){cur=cm.getSearchCursor(query,Pos(cm.firstLine(),0));found=cur.findNext()}if(!found||isSelectedRange(cm.listSelections(),
cur.from(),cur.to()))return;cm.addSelection(cur.from(),cur.to())}if(fullWord)cm.state.sublimeFindFullWord=cm.doc.sel};cmds.skipAndSelectNextOccurrence=function(cm){var prevAnchor=cm.getCursor("anchor");var prevHead=cm.getCursor("head");cmds.selectNextOccurrence(cm);if(CodeMirror.cmpPos(prevAnchor,prevHead)!=0)cm.doc.setSelections(cm.doc.listSelections().filter(function(sel){return sel.anchor!=prevAnchor||sel.head!=prevHead}))};cmds.addCursorToPrevLine=function(cm){addCursorToSelection(cm,-1)};cmds.addCursorToNextLine=
function(cm){addCursorToSelection(cm,1)};var mirror="(){}[]";cmds.selectScope=function(cm){selectBetweenBrackets(cm)||cm.execCommand("selectAll")};cmds.selectBetweenBrackets=function(cm){if(!selectBetweenBrackets(cm))return CodeMirror.Pass};cmds.goToBracket=function(cm){cm.extendSelectionsBy(function(range){var next=cm.scanForBracket(range.head,1,puncType(cm.getTokenTypeAt(range.head)));if(next&&CodeMirror.cmpPos(next.pos,range.head)!=0)return next.pos;var prev=cm.scanForBracket(range.head,-1,puncType(cm.getTokenTypeAt(Pos(range.head.line,
range.head.ch+1))));return prev&&Pos(prev.pos.line,prev.pos.ch+1)||range.head})};cmds.swapLineUp=function(cm){if(cm.isReadOnly())return CodeMirror.Pass;var ranges=cm.listSelections();var linesToMove=[];var at=cm.firstLine()-1;var newSels=[];var i=0;for(;i<ranges.length;i++){var range=ranges[i];var from=range.from().line-1;var to=range.to().line;newSels.push({anchor:Pos(range.anchor.line-1,range.anchor.ch),head:Pos(range.head.line-1,range.head.ch)});if(range.to().ch==0&&!range.empty())--to;if(from>
at)linesToMove.push(from,to);else if(linesToMove.length)linesToMove[linesToMove.length-1]=to;at=to}cm.operation(function(){var i=0;for(;i<linesToMove.length;i=i+2){var from=linesToMove[i];var to=linesToMove[i+1];var line=cm.getLine(from);cm.replaceRange("",Pos(from,0),Pos(from+1,0),"+swapLine");if(to>cm.lastLine())cm.replaceRange("\n"+line,Pos(cm.lastLine()),null,"+swapLine");else cm.replaceRange(line+"\n",Pos(to,0),null,"+swapLine")}cm.setSelections(newSels);cm.scrollIntoView()})};cmds.swapLineDown=
function(cm){if(cm.isReadOnly())return CodeMirror.Pass;var ranges=cm.listSelections();var linesToMove=[];var at=cm.lastLine()+1;var i=ranges.length-1;for(;i>=0;i--){var range=ranges[i];var from=range.to().line+1;var to=range.from().line;if(range.to().ch==0&&!range.empty())from--;if(from<at)linesToMove.push(from,to);else if(linesToMove.length)linesToMove[linesToMove.length-1]=to;at=to}cm.operation(function(){var i=linesToMove.length-2;for(;i>=0;i=i-2){var from=linesToMove[i];var to=linesToMove[i+1];
var line=cm.getLine(from);if(from==cm.lastLine())cm.replaceRange("",Pos(from-1),Pos(from),"+swapLine");else cm.replaceRange("",Pos(from,0),Pos(from+1,0),"+swapLine");cm.replaceRange(line+"\n",Pos(to,0),null,"+swapLine")}cm.scrollIntoView()})};cmds.toggleCommentIndented=function(cm){cm.toggleComment({indent:true})};cmds.joinLines=function(cm){var ranges=cm.listSelections();var joined=[];var i=0;for(;i<ranges.length;i++){var range=ranges[i];var from=range.from();var start=from.line;var end=range.to().line;
for(;i<ranges.length-1&&ranges[i+1].from().line==end;)end=ranges[++i].to().line;joined.push({start:start,end:end,anchor:!range.empty()&&from})}cm.operation(function(){var offset=0;var ranges=[];var i=0;for(;i<joined.length;i++){var obj=joined[i];var anchor=obj.anchor&&Pos(obj.anchor.line-offset,obj.anchor.ch);var head;var line=obj.start;for(;line<=obj.end;line++){var actual=line-offset;if(line==obj.end)head=Pos(actual,cm.getLine(actual).length+1);if(actual<cm.lastLine()){cm.replaceRange(" ",Pos(actual),
Pos(actual+1,/^\s*/.exec(cm.getLine(actual+1))[0].length));++offset}}ranges.push({anchor:anchor||head,head:head})}cm.setSelections(ranges,0)})};cmds.duplicateLine=function(cm){cm.operation(function(){var rangeCount=cm.listSelections().length;var i=0;for(;i<rangeCount;i++){var range=cm.listSelections()[i];if(range.empty())cm.replaceRange(cm.getLine(range.head.line)+"\n",Pos(range.head.line,0));else cm.replaceRange(cm.getRange(range.from(),range.to()),range.from())}cm.scrollIntoView()})};cmds.sortLines=
function(cm){sortLines(cm,true,1)};cmds.reverseSortLines=function(cm){sortLines(cm,true,-1)};cmds.sortLinesInsensitive=function(cm){sortLines(cm,false,1)};cmds.reverseSortLinesInsensitive=function(cm){sortLines(cm,false,-1)};cmds.nextBookmark=function(cm){var marks=cm.state.sublimeBookmarks;if(marks)for(;marks.length;){var current=marks.shift();var found=current.find();if(found){marks.push(current);return cm.setSelection(found.from,found.to)}}};cmds.prevBookmark=function(cm){var marks=cm.state.sublimeBookmarks;
if(marks)for(;marks.length;){marks.unshift(marks.pop());var found=marks[marks.length-1].find();if(!found)marks.pop();else return cm.setSelection(found.from,found.to)}};cmds.toggleBookmark=function(cm){var ranges=cm.listSelections();var marks=cm.state.sublimeBookmarks||(cm.state.sublimeBookmarks=[]);var i=0;for(;i<ranges.length;i++){var from=ranges[i].from();var to=ranges[i].to();var found=ranges[i].empty()?cm.findMarksAt(from):cm.findMarks(from,to);var j=0;for(;j<found.length;j++)if(found[j].sublimeBookmark){found[j].clear();
var k=0;for(;k<marks.length;k++)if(marks[k]==found[j])marks.splice(k--,1);break}if(j==found.length)marks.push(cm.markText(from,to,{sublimeBookmark:true,clearWhenEmpty:false}))}};cmds.clearBookmarks=function(cm){var marks=cm.state.sublimeBookmarks;if(marks){var i=0;for(;i<marks.length;i++)marks[i].clear()}marks.length=0};cmds.selectBookmarks=function(cm){var marks=cm.state.sublimeBookmarks;var ranges=[];if(marks){var i=0;for(;i<marks.length;i++){var found=marks[i].find();if(!found)marks.splice(i--,
0);else ranges.push({anchor:found.from,head:found.to})}}if(ranges.length)cm.setSelections(ranges,0)};cmds.smartBackspace=function(cm){if(cm.somethingSelected())return CodeMirror.Pass;cm.operation(function(){var cursors=cm.listSelections();var indentUnit=cm.getOption("indentUnit");var i=cursors.length-1;for(;i>=0;i--){var cursor=cursors[i].head;var toStartOfLine=cm.getRange({line:cursor.line,ch:0},cursor);var column=CodeMirror.countColumn(toStartOfLine,null,cm.getOption("tabSize"));var deletePos=cm.findPosH(cursor,
-1,"char",false);if(toStartOfLine&&!/\S/.test(toStartOfLine)&&column%indentUnit==0){var prevIndent=new Pos(cursor.line,CodeMirror.findColumn(toStartOfLine,column-indentUnit,indentUnit));if(prevIndent.ch!=cursor.ch)deletePos=prevIndent}cm.replaceRange("",deletePos,cursor,"+delete")}})};cmds.delLineRight=function(cm){cm.operation(function(){var ranges=cm.listSelections();var i=ranges.length-1;for(;i>=0;i--)cm.replaceRange("",ranges[i].anchor,Pos(ranges[i].to().line),"+delete");cm.scrollIntoView()})};
cmds.upcaseAtCursor=function(cm){modifyWordOrSelection(cm,function(str){return str.toUpperCase()})};cmds.downcaseAtCursor=function(cm){modifyWordOrSelection(cm,function(str){return str.toLowerCase()})};cmds.setSublimeMark=function(cm){if(cm.state.sublimeMark)cm.state.sublimeMark.clear();cm.state.sublimeMark=cm.setBookmark(cm.getCursor())};cmds.selectToSublimeMark=function(cm){var found=cm.state.sublimeMark&&cm.state.sublimeMark.find();if(found)cm.setSelection(cm.getCursor(),found)};cmds.deleteToSublimeMark=
function(cm){var found=cm.state.sublimeMark&&cm.state.sublimeMark.find();if(found){var from=cm.getCursor();var to=found;if(CodeMirror.cmpPos(from,to)>0){var tmp=to;to=from;from=tmp}cm.state.sublimeKilled=cm.getRange(from,to);cm.replaceRange("",from,to)}};cmds.swapWithSublimeMark=function(cm){var found=cm.state.sublimeMark&&cm.state.sublimeMark.find();if(found){cm.state.sublimeMark.clear();cm.state.sublimeMark=cm.setBookmark(cm.getCursor());cm.setCursor(found)}};cmds.sublimeYank=function(cm){if(cm.state.sublimeKilled!=
null)cm.replaceSelection(cm.state.sublimeKilled,null,"paste")};cmds.showInCenter=function(cm){var pos=cm.cursorCoords(null,"local");cm.scrollTo(null,(pos.top+pos.bottom)/2-cm.getScrollInfo().clientHeight/2)};cmds.findUnder=function(cm){findAndGoTo(cm,true)};cmds.findUnderPrevious=function(cm){findAndGoTo(cm,false)};cmds.findAllUnder=function(cm){var target=getTarget(cm);if(!target)return;var cur=cm.getSearchCursor(target.query);var matches=[];var primaryIndex=-1;for(;cur.findNext();){matches.push({anchor:cur.from(),
head:cur.to()});if(cur.from().line<=target.from.line&&cur.from().ch<=target.from.ch)primaryIndex++}cm.setSelections(matches,primaryIndex)};var keyMap=CodeMirror.keyMap;keyMap.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine","Esc":"singleSelectionTop","Cmd-Enter":"insertLineAfter",
"Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine","F5":"sortLines","Shift-F5":"reverseSortLines","Cmd-F5":"sortLinesInsensitive","Shift-Cmd-F5":"reverseSortLinesInsensitive","F2":"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks",
"Alt-F2":"selectBookmarks","Backspace":"smartBackspace","Cmd-K Cmd-D":"skipAndSelectNextOccurrence","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-1":"foldAll","Cmd-K Cmd-0":"unfoldAll",
"Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace","F3":"findNext","Shift-F3":"findPrev","fallthrough":"macDefault"};CodeMirror.normalizeKeyMap(keyMap.macSublime);keyMap.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines",
"Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine","Esc":"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented",
"Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine","F9":"sortLines","Shift-F9":"reverseSortLines","Ctrl-F9":"sortLinesInsensitive","Shift-Ctrl-F9":"reverseSortLinesInsensitive","F2":"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks","Backspace":"smartBackspace","Ctrl-K Ctrl-D":"skipAndSelectNextOccurrence","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark",
"Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-1":"foldAll","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold",
"Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace","F3":"findNext","Shift-F3":"findPrev","fallthrough":"pcDefault"};CodeMirror.normalizeKeyMap(keyMap.pcSublime);var mac=keyMap.default==keyMap.macDefault;keyMap.sublime=mac?keyMap.macSublime:keyMap.pcSublime});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineMode("javascript",function(config,parserConfig){function readRegexp(stream){var escaped=false;var next;var inSet=false;for(;(next=stream.next())!=null;){if(!escaped){if(next=="/"&&!inSet)return;if(next=="[")inSet=true;else if(inSet&&next=="]")inSet=false}escaped=
!escaped&&next=="\\"}}function ret(tp,style,cont){type=tp;content=cont;return style}function tokenBase(stream,state){var ch=stream.next();if(ch=='"'||ch=="'"){state.tokenize=tokenString(ch);return state.tokenize(stream,state)}else if(ch=="."&&stream.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return ret("number","number");else if(ch=="."&&stream.match(".."))return ret("spread","meta");else if(/[\[\]{}\(\),;:\.]/.test(ch))return ret(ch);else if(ch=="="&&stream.eat(">"))return ret("=>","operator");else if(ch==
"0"&&stream.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return ret("number","number");else if(/\d/.test(ch)){stream.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/);return ret("number","number")}else if(ch=="/")if(stream.eat("*")){state.tokenize=tokenComment;return tokenComment(stream,state)}else if(stream.eat("/")){stream.skipToEnd();return ret("comment","comment")}else if(expressionAllowed(stream,state,1)){readRegexp(stream);stream.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);return ret("regexp",
"string-2")}else{stream.eat("=");return ret("operator","operator",stream.current())}else if(ch=="`"){state.tokenize=tokenQuasi;return tokenQuasi(stream,state)}else if(ch=="#"&&stream.peek()=="!"){stream.skipToEnd();return ret("meta","meta")}else if(ch=="#"&&stream.eatWhile(wordRE))return ret("variable","property");else if(ch=="<"&&stream.match("!--")||ch=="-"&&stream.match("->")&&!/\S/.test(stream.string.slice(0,stream.start))){stream.skipToEnd();return ret("comment","comment")}else if(isOperatorChar.test(ch)){if(ch!=
">"||!state.lexical||state.lexical.type!=">")if(stream.eat("=")){if(ch=="!"||ch=="=")stream.eat("=")}else if(/[<>*+\-|&?]/.test(ch)){stream.eat(ch);if(ch==">")stream.eat(ch)}if(ch=="?"&&stream.eat("."))return ret(".");return ret("operator","operator",stream.current())}else if(wordRE.test(ch)){stream.eatWhile(wordRE);var word=stream.current();if(state.lastType!="."){if(keywords.propertyIsEnumerable(word)){var kw=keywords[word];return ret(kw.type,kw.style,word)}if(word=="async"&&stream.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,
false))return ret("async","keyword",word)}return ret("variable","variable",word)}}function tokenString(quote){return function(stream,state){var escaped=false;var next;if(jsonldMode&&stream.peek()=="@"&&stream.match(isJsonldKeyword)){state.tokenize=tokenBase;return ret("jsonld-keyword","meta")}for(;(next=stream.next())!=null;){if(next==quote&&!escaped)break;escaped=!escaped&&next=="\\"}if(!escaped)state.tokenize=tokenBase;return ret("string","string")}}function tokenComment(stream,state){var maybeEnd=
false;var ch;for(;ch=stream.next();){if(ch=="/"&&maybeEnd){state.tokenize=tokenBase;break}maybeEnd=ch=="*"}return ret("comment","comment")}function tokenQuasi(stream,state){var escaped=false;var next;for(;(next=stream.next())!=null;){if(!escaped&&(next=="`"||next=="$"&&stream.eat("{"))){state.tokenize=tokenBase;break}escaped=!escaped&&next=="\\"}return ret("quasi","string-2",stream.current())}function findFatArrow(stream,state){if(state.fatArrowAt)state.fatArrowAt=null;var arrow=stream.string.indexOf("=>",
stream.start);if(arrow<0)return;if(isTS){var m=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(stream.string.slice(stream.start,arrow));if(m)arrow=m.index}var depth=0;var sawSomething=false;var pos=arrow-1;for(;pos>=0;--pos){var ch=stream.string.charAt(pos);var bracket=brackets.indexOf(ch);if(bracket>=0&&bracket<3){if(!depth){++pos;break}if(--depth==0){if(ch=="(")sawSomething=true;break}}else if(bracket>=3&&bracket<6)++depth;else if(wordRE.test(ch))sawSomething=true;else if(/["'\/`]/.test(ch))for(;;--pos){if(pos==
0)return;var next=stream.string.charAt(pos-1);if(next==ch&&stream.string.charAt(pos-2)!="\\"){pos--;break}}else if(sawSomething&&!depth){++pos;break}}if(sawSomething&&!depth)state.fatArrowAt=pos}function JSLexical(indented,column,type,align,prev,info){this.indented=indented;this.column=column;this.type=type;this.prev=prev;this.info=info;if(align!=null)this.align=align}function inScope(state,varname){if(!trackScope)return false;var v=state.localVars;for(;v;v=v.next)if(v.name==varname)return true;var cx=
state.context;for(;cx;cx=cx.prev){v=cx.vars;for(;v;v=v.next)if(v.name==varname)return true}}function parseJS(state,style,type,content,stream){var cc=state.cc;cx.state=state;cx.stream=stream;cx.marked=null,cx.cc=cc;cx.style=style;if(!state.lexical.hasOwnProperty("align"))state.lexical.align=true;for(;true;){var combinator=cc.length?cc.pop():jsonMode?expression:statement;if(combinator(type,content)){for(;cc.length&&cc[cc.length-1].lex;)cc.pop()();if(cx.marked)return cx.marked;if(type=="variable"&&inScope(state,
content))return"variable-2";return style}}}function pass(){var i=arguments.length-1;for(;i>=0;i--)cx.cc.push(arguments[i])}function cont(){pass.apply(null,arguments);return true}function inList(name,list){var v=list;for(;v;v=v.next)if(v.name==name)return true;return false}function register(varname){var state=cx.state;cx.marked="def";if(!trackScope)return;if(state.context)if(state.lexical.info=="var"&&state.context&&state.context.block){var newContext=registerVarScoped(varname,state.context);if(newContext!=
null){state.context=newContext;return}}else if(!inList(varname,state.localVars)){state.localVars=new Var(varname,state.localVars);return}if(parserConfig.globalVars&&!inList(varname,state.globalVars))state.globalVars=new Var(varname,state.globalVars)}function registerVarScoped(varname,context){if(!context)return null;else if(context.block){var inner=registerVarScoped(varname,context.prev);if(!inner)return null;if(inner==context.prev)return context;return new Context(inner,context.vars,true)}else if(inList(varname,
context.vars))return context;else return new Context(context.prev,new Var(varname,context.vars),false)}function isModifier(name){return name=="public"||name=="private"||name=="protected"||name=="abstract"||name=="readonly"}function Context(prev,vars,block){this.prev=prev;this.vars=vars;this.block=block}function Var(name,next){this.name=name;this.next=next}function pushcontext(){cx.state.context=new Context(cx.state.context,cx.state.localVars,false);cx.state.localVars=defaultVars}function pushblockcontext(){cx.state.context=
new Context(cx.state.context,cx.state.localVars,true);cx.state.localVars=null}function popcontext(){cx.state.localVars=cx.state.context.vars;cx.state.context=cx.state.context.prev}function pushlex(type,info){var result=function(){var state=cx.state;var indent=state.indented;if(state.lexical.type=="stat")indent=state.lexical.indented;else{var outer=state.lexical;for(;outer&&outer.type==")"&&outer.align;outer=outer.prev)indent=outer.indented}state.lexical=new JSLexical(indent,cx.stream.column(),type,
null,state.lexical,info)};result.lex=true;return result}function poplex(){var state=cx.state;if(state.lexical.prev){if(state.lexical.type==")")state.indented=state.lexical.indented;state.lexical=state.lexical.prev}}function expect(wanted){function exp(type){if(type==wanted)return cont();else if(wanted==";"||type=="}"||type==")"||type=="]")return pass();else return cont(exp)}return exp}function statement(type,value){if(type=="var")return cont(pushlex("vardef",value),vardef,expect(";"),poplex);if(type==
"keyword a")return cont(pushlex("form"),parenExpr,statement,poplex);if(type=="keyword b")return cont(pushlex("form"),statement,poplex);if(type=="keyword d")return cx.stream.match(/^\s*$/,false)?cont():cont(pushlex("stat"),maybeexpression,expect(";"),poplex);if(type=="debugger")return cont(expect(";"));if(type=="{")return cont(pushlex("}"),pushblockcontext,block,poplex,popcontext);if(type==";")return cont();if(type=="if"){if(cx.state.lexical.info=="else"&&cx.state.cc[cx.state.cc.length-1]==poplex)cx.state.cc.pop()();
return cont(pushlex("form"),parenExpr,statement,poplex,maybeelse)}if(type=="function")return cont(functiondef);if(type=="for")return cont(pushlex("form"),pushblockcontext,forspec,statement,popcontext,poplex);if(type=="class"||isTS&&value=="interface"){cx.marked="keyword";return cont(pushlex("form",type=="class"?type:value),className,poplex)}if(type=="variable")if(isTS&&value=="declare"){cx.marked="keyword";return cont(statement)}else if(isTS&&(value=="module"||value=="enum"||value=="type")&&cx.stream.match(/^\s*\w/,
false)){cx.marked="keyword";if(value=="enum")return cont(enumdef);else if(value=="type")return cont(typename,expect("operator"),typeexpr,expect(";"));else return cont(pushlex("form"),pattern,expect("{"),pushlex("}"),block,poplex,poplex)}else if(isTS&&value=="namespace"){cx.marked="keyword";return cont(pushlex("form"),expression,statement,poplex)}else if(isTS&&value=="abstract"){cx.marked="keyword";return cont(statement)}else return cont(pushlex("stat"),maybelabel);if(type=="switch")return cont(pushlex("form"),
parenExpr,expect("{"),pushlex("}","switch"),pushblockcontext,block,poplex,poplex,popcontext);if(type=="case")return cont(expression,expect(":"));if(type=="default")return cont(expect(":"));if(type=="catch")return cont(pushlex("form"),pushcontext,maybeCatchBinding,statement,poplex,popcontext);if(type=="export")return cont(pushlex("stat"),afterExport,poplex);if(type=="import")return cont(pushlex("stat"),afterImport,poplex);if(type=="async")return cont(statement);if(value=="@")return cont(expression,
statement);return pass(pushlex("stat"),expression,expect(";"),poplex)}function maybeCatchBinding(type){if(type=="(")return cont(funarg,expect(")"))}function expression(type,value){return expressionInner(type,value,false)}function expressionNoComma(type,value){return expressionInner(type,value,true)}function parenExpr(type){if(type!="(")return pass();return cont(pushlex(")"),maybeexpression,expect(")"),poplex)}function expressionInner(type,value,noComma){if(cx.state.fatArrowAt==cx.stream.start){var body=
noComma?arrowBodyNoComma:arrowBody;if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,expect("=>"),body,popcontext);else if(type=="variable")return pass(pushcontext,pattern,expect("=>"),body,popcontext)}var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;if(atomicTypes.hasOwnProperty(type))return cont(maybeop);if(type=="function")return cont(functiondef,maybeop);if(type=="class"||isTS&&value=="interface"){cx.marked="keyword";return cont(pushlex("form"),classExpression,
poplex)}if(type=="keyword c"||type=="async")return cont(noComma?expressionNoComma:expression);if(type=="(")return cont(pushlex(")"),maybeexpression,expect(")"),poplex,maybeop);if(type=="operator"||type=="spread")return cont(noComma?expressionNoComma:expression);if(type=="[")return cont(pushlex("]"),arrayLiteral,poplex,maybeop);if(type=="{")return contCommasep(objprop,"}",null,maybeop);if(type=="quasi")return pass(quasi,maybeop);if(type=="new")return cont(maybeTarget(noComma));return cont()}function maybeexpression(type){if(type.match(/[;\}\)\],]/))return pass();
return pass(expression)}function maybeoperatorComma(type,value){if(type==",")return cont(maybeexpression);return maybeoperatorNoComma(type,value,false)}function maybeoperatorNoComma(type,value,noComma){var me=noComma==false?maybeoperatorComma:maybeoperatorNoComma;var expr=noComma==false?expression:expressionNoComma;if(type=="=>")return cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext);if(type=="operator"){if(/\+\+|--/.test(value)||isTS&&value=="!")return cont(me);if(isTS&&value=="<"&&
cx.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,false))return cont(pushlex(">"),commasep(typeexpr,">"),poplex,me);if(value=="?")return cont(expression,expect(":"),expr);return cont(expr)}if(type=="quasi")return pass(quasi,me);if(type==";")return;if(type=="(")return contCommasep(expressionNoComma,")","call",me);if(type==".")return cont(property,me);if(type=="[")return cont(pushlex("]"),maybeexpression,expect("]"),poplex,me);if(isTS&&value=="as"){cx.marked="keyword";return cont(typeexpr,me)}if(type=="regexp"){cx.state.lastType=
cx.marked="operator";cx.stream.backUp(cx.stream.pos-cx.stream.start-1);return cont(expr)}}function quasi(type,value){if(type!="quasi")return pass();if(value.slice(value.length-2)!="${")return cont(quasi);return cont(maybeexpression,continueQuasi)}function continueQuasi(type){if(type=="}"){cx.marked="string-2";cx.state.tokenize=tokenQuasi;return cont(quasi)}}function arrowBody(type){findFatArrow(cx.stream,cx.state);return pass(type=="{"?statement:expression)}function arrowBodyNoComma(type){findFatArrow(cx.stream,
cx.state);return pass(type=="{"?statement:expressionNoComma)}function maybeTarget(noComma){return function(type){if(type==".")return cont(noComma?targetNoComma:target);else if(type=="variable"&&isTS)return cont(maybeTypeArgs,noComma?maybeoperatorNoComma:maybeoperatorComma);else return pass(noComma?expressionNoComma:expression)}}function target(_,value){if(value=="target"){cx.marked="keyword";return cont(maybeoperatorComma)}}function targetNoComma(_,value){if(value=="target"){cx.marked="keyword";return cont(maybeoperatorNoComma)}}
function maybelabel(type){if(type==":")return cont(poplex,statement);return pass(maybeoperatorComma,expect(";"),poplex)}function property(type){if(type=="variable"){cx.marked="property";return cont()}}function objprop(type,value){if(type=="async"){cx.marked="property";return cont(objprop)}else if(type=="variable"||cx.style=="keyword"){cx.marked="property";if(value=="get"||value=="set")return cont(getterSetter);var m;if(isTS&&cx.state.fatArrowAt==cx.stream.start&&(m=cx.stream.match(/^\s*:\s*/,false)))cx.state.fatArrowAt=
cx.stream.pos+m[0].length;return cont(afterprop)}else if(type=="number"||type=="string"){cx.marked=jsonldMode?"property":cx.style+" property";return cont(afterprop)}else if(type=="jsonld-keyword")return cont(afterprop);else if(isTS&&isModifier(value)){cx.marked="keyword";return cont(objprop)}else if(type=="[")return cont(expression,maybetype,expect("]"),afterprop);else if(type=="spread")return cont(expressionNoComma,afterprop);else if(value=="*"){cx.marked="keyword";return cont(objprop)}else if(type==
":")return pass(afterprop)}function getterSetter(type){if(type!="variable")return pass(afterprop);cx.marked="property";return cont(functiondef)}function afterprop(type){if(type==":")return cont(expressionNoComma);if(type=="(")return pass(functiondef)}function commasep(what,end,sep){function proceed(type,value){if(sep?sep.indexOf(type)>-1:type==","){var lex=cx.state.lexical;if(lex.info=="call")lex.pos=(lex.pos||0)+1;return cont(function(type,value){if(type==end||value==end)return pass();return pass(what)},
proceed)}if(type==end||value==end)return cont();if(sep&&sep.indexOf(";")>-1)return pass(what);return cont(expect(end))}return function(type,value){if(type==end||value==end)return cont();return pass(what,proceed)}}function contCommasep(what,end,info){var i=3;for(;i<arguments.length;i++)cx.cc.push(arguments[i]);return cont(pushlex(end,info),commasep(what,end),poplex)}function block(type){if(type=="}")return cont();return pass(statement,block)}function maybetype(type,value){if(isTS){if(type==":")return cont(typeexpr);
if(value=="?")return cont(maybetype)}}function maybetypeOrIn(type,value){if(isTS&&(type==":"||value=="in"))return cont(typeexpr)}function mayberettype(type){if(isTS&&type==":")if(cx.stream.match(/^\s*\w+\s+is\b/,false))return cont(expression,isKW,typeexpr);else return cont(typeexpr)}function isKW(_,value){if(value=="is"){cx.marked="keyword";return cont()}}function typeexpr(type,value){if(value=="keyof"||value=="typeof"||value=="infer"||value=="readonly"){cx.marked="keyword";return cont(value=="typeof"?
expressionNoComma:typeexpr)}if(type=="variable"||value=="void"){cx.marked="type";return cont(afterType)}if(value=="|"||value=="&")return cont(typeexpr);if(type=="string"||type=="number"||type=="atom")return cont(afterType);if(type=="[")return cont(pushlex("]"),commasep(typeexpr,"]",","),poplex,afterType);if(type=="{")return cont(pushlex("}"),typeprops,poplex,afterType);if(type=="(")return cont(commasep(typearg,")"),maybeReturnType,afterType);if(type=="<")return cont(commasep(typeexpr,">"),typeexpr);
if(type=="quasi")return pass(quasiType,afterType)}function maybeReturnType(type){if(type=="=>")return cont(typeexpr)}function typeprops(type){if(type.match(/[\}\)\]]/))return cont();if(type==","||type==";")return cont(typeprops);return pass(typeprop,typeprops)}function typeprop(type,value){if(type=="variable"||cx.style=="keyword"){cx.marked="property";return cont(typeprop)}else if(value=="?"||type=="number"||type=="string")return cont(typeprop);else if(type==":")return cont(typeexpr);else if(type==
"[")return cont(expect("variable"),maybetypeOrIn,expect("]"),typeprop);else if(type=="(")return pass(functiondecl,typeprop);else if(!type.match(/[;\}\)\],]/))return cont()}function quasiType(type,value){if(type!="quasi")return pass();if(value.slice(value.length-2)!="${")return cont(quasiType);return cont(typeexpr,continueQuasiType)}function continueQuasiType(type){if(type=="}"){cx.marked="string-2";cx.state.tokenize=tokenQuasi;return cont(quasiType)}}function typearg(type,value){if(type=="variable"&&
cx.stream.match(/^\s*[?:]/,false)||value=="?")return cont(typearg);if(type==":")return cont(typeexpr);if(type=="spread")return cont(typearg);return pass(typeexpr)}function afterType(type,value){if(value=="<")return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType);if(value=="|"||type=="."||value=="&")return cont(typeexpr);if(type=="[")return cont(typeexpr,expect("]"),afterType);if(value=="extends"||value=="implements"){cx.marked="keyword";return cont(typeexpr)}if(value=="?")return cont(typeexpr,
expect(":"),typeexpr)}function maybeTypeArgs(_,value){if(value=="<")return cont(pushlex(">"),commasep(typeexpr,">"),poplex,afterType)}function typeparam(){return pass(typeexpr,maybeTypeDefault)}function maybeTypeDefault(_,value){if(value=="=")return cont(typeexpr)}function vardef(_,value){if(value=="enum"){cx.marked="keyword";return cont(enumdef)}return pass(pattern,maybetype,maybeAssign,vardefCont)}function pattern(type,value){if(isTS&&isModifier(value)){cx.marked="keyword";return cont(pattern)}if(type==
"variable"){register(value);return cont()}if(type=="spread")return cont(pattern);if(type=="[")return contCommasep(eltpattern,"]");if(type=="{")return contCommasep(proppattern,"}")}function proppattern(type,value){if(type=="variable"&&!cx.stream.match(/^\s*:/,false)){register(value);return cont(maybeAssign)}if(type=="variable")cx.marked="property";if(type=="spread")return cont(pattern);if(type=="}")return pass();if(type=="[")return cont(expression,expect("]"),expect(":"),proppattern);return cont(expect(":"),
pattern,maybeAssign)}function eltpattern(){return pass(pattern,maybeAssign)}function maybeAssign(_type,value){if(value=="=")return cont(expressionNoComma)}function vardefCont(type){if(type==",")return cont(vardef)}function maybeelse(type,value){if(type=="keyword b"&&value=="else")return cont(pushlex("form","else"),statement,poplex)}function forspec(type,value){if(value=="await")return cont(forspec);if(type=="(")return cont(pushlex(")"),forspec1,poplex)}function forspec1(type){if(type=="var")return cont(vardef,
forspec2);if(type=="variable")return cont(forspec2);return pass(forspec2)}function forspec2(type,value){if(type==")")return cont();if(type==";")return cont(forspec2);if(value=="in"||value=="of"){cx.marked="keyword";return cont(expression,forspec2)}return pass(expression,forspec2)}function functiondef(type,value){if(value=="*"){cx.marked="keyword";return cont(functiondef)}if(type=="variable"){register(value);return cont(functiondef)}if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,
")"),poplex,mayberettype,statement,popcontext);if(isTS&&value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondef)}function functiondecl(type,value){if(value=="*"){cx.marked="keyword";return cont(functiondecl)}if(type=="variable"){register(value);return cont(functiondecl)}if(type=="(")return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,mayberettype,popcontext);if(isTS&&value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,functiondecl)}function typename(type,
value){if(type=="keyword"||type=="variable"){cx.marked="type";return cont(typename)}else if(value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex)}function funarg(type,value){if(value=="@")cont(expression,funarg);if(type=="spread")return cont(funarg);if(isTS&&isModifier(value)){cx.marked="keyword";return cont(funarg)}if(isTS&&type=="this")return cont(maybetype,maybeAssign);return pass(pattern,maybetype,maybeAssign)}function classExpression(type,value){if(type=="variable")return className(type,
value);return classNameAfter(type,value)}function className(type,value){if(type=="variable"){register(value);return cont(classNameAfter)}}function classNameAfter(type,value){if(value=="<")return cont(pushlex(">"),commasep(typeparam,">"),poplex,classNameAfter);if(value=="extends"||value=="implements"||isTS&&type==","){if(value=="implements")cx.marked="keyword";return cont(isTS?typeexpr:expression,classNameAfter)}if(type=="{")return cont(pushlex("}"),classBody,poplex)}function classBody(type,value){if(type==
"async"||type=="variable"&&(value=="static"||value=="get"||value=="set"||isTS&&isModifier(value))&&cx.stream.match(/^\s+[\w$\xa1-\uffff]/,false)){cx.marked="keyword";return cont(classBody)}if(type=="variable"||cx.style=="keyword"){cx.marked="property";return cont(classfield,classBody)}if(type=="number"||type=="string")return cont(classfield,classBody);if(type=="[")return cont(expression,maybetype,expect("]"),classfield,classBody);if(value=="*"){cx.marked="keyword";return cont(classBody)}if(isTS&&
type=="(")return pass(functiondecl,classBody);if(type==";"||type==",")return cont(classBody);if(type=="}")return cont();if(value=="@")return cont(expression,classBody)}function classfield(type,value){if(value=="!")return cont(classfield);if(value=="?")return cont(classfield);if(type==":")return cont(typeexpr,maybeAssign);if(value=="=")return cont(expressionNoComma);var context=cx.state.lexical.prev;var isInterface=context&&context.info=="interface";return pass(isInterface?functiondecl:functiondef)}
function afterExport(type,value){if(value=="*"){cx.marked="keyword";return cont(maybeFrom,expect(";"))}if(value=="default"){cx.marked="keyword";return cont(expression,expect(";"))}if(type=="{")return cont(commasep(exportField,"}"),maybeFrom,expect(";"));return pass(statement)}function exportField(type,value){if(value=="as"){cx.marked="keyword";return cont(expect("variable"))}if(type=="variable")return pass(expressionNoComma,exportField)}function afterImport(type){if(type=="string")return cont();if(type==
"(")return pass(expression);if(type==".")return pass(maybeoperatorComma);return pass(importSpec,maybeMoreImports,maybeFrom)}function importSpec(type,value){if(type=="{")return contCommasep(importSpec,"}");if(type=="variable")register(value);if(value=="*")cx.marked="keyword";return cont(maybeAs)}function maybeMoreImports(type){if(type==",")return cont(importSpec,maybeMoreImports)}function maybeAs(_type,value){if(value=="as"){cx.marked="keyword";return cont(importSpec)}}function maybeFrom(_type,value){if(value==
"from"){cx.marked="keyword";return cont(expression)}}function arrayLiteral(type){if(type=="]")return cont();return pass(commasep(expressionNoComma,"]"))}function enumdef(){return pass(pushlex("form"),pattern,expect("{"),pushlex("}"),commasep(enummember,"}"),poplex,poplex)}function enummember(){return pass(pattern,maybeAssign)}function isContinuedStatement(state,textAfter){return state.lastType=="operator"||state.lastType==","||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0))}
function expressionAllowed(stream,state,backUp){return state.tokenize==tokenBase&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(state.lastType)||state.lastType=="quasi"&&/\{\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0)))}var indentUnit=config.indentUnit;var statementIndent=parserConfig.statementIndent;var jsonldMode=parserConfig.jsonld;var jsonMode=parserConfig.json||jsonldMode;var trackScope=parserConfig.trackScope!==false;var isTS=parserConfig.typescript;
var wordRE=parserConfig.wordCharacters||/[\w$\xa1-\uffff]/;var keywords=function(){function kw(type){return{type:type,style:"keyword"}}var A=kw("keyword a");var B=kw("keyword b");var C=kw("keyword c");var D=kw("keyword d");var operator=kw("operator");var atom={type:"atom",style:"atom"};return{"if":kw("if"),"while":A,"with":A,"else":B,"do":B,"try":B,"finally":B,"return":D,"break":D,"continue":D,"new":kw("new"),"delete":C,"void":C,"throw":C,"debugger":kw("debugger"),"var":kw("var"),"const":kw("var"),
"let":kw("var"),"function":kw("function"),"catch":kw("catch"),"for":kw("for"),"switch":kw("switch"),"case":kw("case"),"default":kw("default"),"in":operator,"typeof":operator,"instanceof":operator,"true":atom,"false":atom,"null":atom,"undefined":atom,"NaN":atom,"Infinity":atom,"this":kw("this"),"class":kw("class"),"super":kw("atom"),"yield":C,"export":kw("export"),"import":kw("import"),"extends":C,"await":C}}();var isOperatorChar=/[+\-*&%=<>!?|~^@]/;var isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;
var type;var content;var brackets="([{}])";var atomicTypes={"atom":true,"number":true,"variable":true,"string":true,"regexp":true,"this":true,"import":true,"jsonld-keyword":true};var cx={state:null,column:null,marked:null,cc:null};var defaultVars=new Var("this",new Var("arguments",null));pushcontext.lex=pushblockcontext.lex=true;popcontext.lex=true;poplex.lex=true;return{startState:function(basecolumn){var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,
0,"block",false),localVars:parserConfig.localVars,context:parserConfig.localVars&&new Context(null,null,false),indented:basecolumn||0};if(parserConfig.globalVars&&typeof parserConfig.globalVars=="object")state.globalVars=parserConfig.globalVars;return state},token:function(stream,state){if(stream.sol()){if(!state.lexical.hasOwnProperty("align"))state.lexical.align=false;state.indented=stream.indentation();findFatArrow(stream,state)}if(state.tokenize!=tokenComment&&stream.eatSpace())return null;var style=
state.tokenize(stream,state);if(type=="comment")return style;state.lastType=type=="operator"&&(content=="++"||content=="--")?"incdec":type;return parseJS(state,style,type,content,stream)},indent:function(state,textAfter){if(state.tokenize==tokenComment||state.tokenize==tokenQuasi)return CodeMirror.Pass;if(state.tokenize!=tokenBase)return 0;var firstChar=textAfter&&textAfter.charAt(0);var lexical=state.lexical;var top;if(!/^\s*else\b/.test(textAfter)){var i=state.cc.length-1;for(;i>=0;--i){var c=state.cc[i];
if(c==poplex)lexical=lexical.prev;else if(c!=maybeelse&&c!=popcontext)break}}for(;(lexical.type=="stat"||lexical.type=="form")&&(firstChar=="}"||(top=state.cc[state.cc.length-1])&&(top==maybeoperatorComma||top==maybeoperatorNoComma)&&!/^[,\.=+\-*:?[\(]/.test(textAfter));)lexical=lexical.prev;if(statementIndent&&lexical.type==")"&&lexical.prev.type=="stat")lexical=lexical.prev;var type=lexical.type;var closing=firstChar==type;if(type=="vardef")return lexical.indented+(state.lastType=="operator"||state.lastType==
","?lexical.info.length+1:0);else if(type=="form"&&firstChar=="{")return lexical.indented;else if(type=="form")return lexical.indented+indentUnit;else if(type=="stat")return lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||indentUnit:0);else if(lexical.info=="switch"&&!closing&&parserConfig.doubleIndentSwitch!=false)return lexical.indented+(/^(?:case|default)\b/.test(textAfter)?indentUnit:2*indentUnit);else if(lexical.align)return lexical.column+(closing?0:1);else return lexical.indented+
(closing?0:indentUnit)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?null:"*/",blockCommentContinue:jsonMode?null:" * ",lineComment:jsonMode?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode,expressionAllowed:expressionAllowed,skipExpression:function(state){parseJS(state,"atom","atom","true",new CodeMirror.StringStream("",2,null))}}});CodeMirror.registerHelper("wordChars",
"javascript",/[\w$]/);CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("text/ecmascript","javascript");CodeMirror.defineMIME("application/javascript","javascript");CodeMirror.defineMIME("application/x-javascript","javascript");CodeMirror.defineMIME("application/ecmascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMIME("application/x-json",{name:"javascript",json:true});CodeMirror.defineMIME("application/manifest+json",
{name:"javascript",json:true});CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:true});CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:true});CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:true})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function wordSet(words){var set={};var i=0;for(;i<words.length;i++)set[words[i]]=true;return set}function tokenBase(stream,state,prev){if(stream.sol())state.indented=stream.indentation();if(stream.eatSpace())return null;var ch=stream.peek();if(ch=="/"){if(stream.match("//")){stream.skipToEnd();
return"comment"}if(stream.match("/*")){state.tokenize.push(tokenComment);return tokenComment(stream,state)}}if(stream.match(instruction))return"builtin";if(stream.match(attribute))return"attribute";if(stream.match(binary))return"number";if(stream.match(octal))return"number";if(stream.match(hexadecimal))return"number";if(stream.match(decimal))return"number";if(stream.match(property))return"property";if(operators.indexOf(ch)>-1){stream.next();return"operator"}if(punc.indexOf(ch)>-1){stream.next();stream.match("..");
return"punctuation"}var stringMatch;if(stringMatch=stream.match(/("""|"|')/)){var tokenize=tokenString.bind(null,stringMatch[0]);state.tokenize.push(tokenize);return tokenize(stream,state)}if(stream.match(identifier)){var ident=stream.current();if(types.hasOwnProperty(ident))return"variable-2";if(atoms.hasOwnProperty(ident))return"atom";if(keywords.hasOwnProperty(ident)){if(definingKeywords.hasOwnProperty(ident))state.prev="define";return"keyword"}if(prev=="define")return"def";return"variable"}stream.next();
return null}function tokenUntilClosingParen(){var depth=0;return function(stream,state,prev){var inner=tokenBase(stream,state,prev);if(inner=="punctuation")if(stream.current()=="(")++depth;else if(stream.current()==")")if(depth==0){stream.backUp(1);state.tokenize.pop();return state.tokenize[state.tokenize.length-1](stream,state)}else--depth;return inner}}function tokenString(openQuote,stream,state){var singleLine=openQuote.length==1;var ch;var escaped=false;for(;ch=stream.peek();)if(escaped){stream.next();
if(ch=="("){state.tokenize.push(tokenUntilClosingParen());return"string"}escaped=false}else if(stream.match(openQuote)){state.tokenize.pop();return"string"}else{stream.next();escaped=ch=="\\"}if(singleLine)state.tokenize.pop();return"string"}function tokenComment(stream,state){var ch;for(;true;){stream.match(/^[^/*]+/,true);ch=stream.next();if(!ch)break;if(ch==="/"&&stream.eat("*"))state.tokenize.push(tokenComment);else if(ch==="*"&&stream.eat("/"))state.tokenize.pop()}return"comment"}function Context(prev,
align,indented){this.prev=prev;this.align=align;this.indented=indented}function pushContext(state,stream){var align=stream.match(/^\s*($|\/[\/\*])/,false)?null:stream.column()+1;state.context=new Context(state.context,align,state.indented)}function popContext(state){if(state.context){state.indented=state.context.indented;state.context=state.context.prev}}var keywords=wordSet(["_","var","let","actor","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open",
"public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","isolated","nonisolated","catch","do","rethrows","throw","throws","async","await","try","didSet","get",
"set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]);var definingKeywords=wordSet(["var","let","actor","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]);var atoms=wordSet(["true","false","nil","self","super","_"]);var types=wordSet(["Array","Bool","Character",
"Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]);var operators="+-/*%=|&<>~^?!";var punc=":;,.(){}[]";var binary=/^\-?0b[01][01_]*/;var octal=/^\-?0o[0-7][0-7_]*/;var hexadecimal=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/;var decimal=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/;var identifier=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/;var property=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;
var instruction=/^#[A-Za-z]+/;var attribute=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;CodeMirror.defineMode("swift",function(config){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(stream,state){var prev=state.prev;state.prev=null;var tokenize=state.tokenize[state.tokenize.length-1]||tokenBase;var style=tokenize(stream,state,prev);if(!style||style=="comment")state.prev=prev;else if(!state.prev)state.prev=style;if(style=="punctuation"){var bracket=
/[\(\[\{]|([\]\)\}])/.exec(stream.current());if(bracket)(bracket[1]?popContext:pushContext)(state,stream)}return style},indent:function(state,textAfter){var cx=state.context;if(!cx)return 0;var closing=/^[\]\}\)]/.test(textAfter);if(cx.align!=null)return cx.align-(closing?1:0);return cx.indented+(closing?0:config.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}});CodeMirror.defineMIME("text/x-swift",
"swift")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function firstNonWS(str){var found=str.search(nonWS);return found==-1?0:found}function probablyInsideString(cm,pos,line){return/\bstring\b/.test(cm.getTokenTypeAt(Pos(pos.line,0)))&&!/^['"`]/.test(line)}function getMode(cm,pos){var mode=cm.getMode();return mode.useInnerComments===
false||!mode.innerMode?mode:cm.getModeAt(pos)}var noOptions={};var nonWS=/[^\s\u00a0]/;var Pos=CodeMirror.Pos;var cmp=CodeMirror.cmpPos;CodeMirror.commands.toggleComment=function(cm){cm.toggleComment()};CodeMirror.defineExtension("toggleComment",function(options){if(!options)options=noOptions;var cm=this;var minLine=Infinity;var ranges=this.listSelections();var mode=null;var i=ranges.length-1;for(;i>=0;i--){var from=ranges[i].from();var to=ranges[i].to();if(from.line>=minLine)continue;if(to.line>=
minLine)to=Pos(minLine,0);minLine=from.line;if(mode==null)if(cm.uncomment(from,to,options))mode="un";else{cm.lineComment(from,to,options);mode="line"}else if(mode=="un")cm.uncomment(from,to,options);else cm.lineComment(from,to,options)}});CodeMirror.defineExtension("lineComment",function(from,to,options){if(!options)options=noOptions;var self=this;var mode=getMode(self,from);var firstLine=self.getLine(from.line);if(firstLine==null||probablyInsideString(self,from,firstLine))return;var commentString=
options.lineComment||mode.lineComment;if(!commentString){if(options.blockCommentStart||mode.blockCommentStart){options.fullLines=true;self.blockComment(from,to,options)}return}var end=Math.min(to.ch!=0||to.line==from.line?to.line+1:to.line,self.lastLine()+1);var pad=options.padding==null?" ":options.padding;var blankLines=options.commentBlankLines||from.line==to.line;self.operation(function(){if(options.indent){var baseString=null;var i=from.line;for(;i<end;++i){var line=self.getLine(i);var whitespace=
line.search(nonWS)===-1?line:line.slice(0,firstNonWS(line));if(baseString==null||baseString.length>whitespace.length)baseString=whitespace}i=from.line;for(;i<end;++i){line=self.getLine(i);var cut=baseString.length;if(!blankLines&&!nonWS.test(line))continue;if(line.slice(0,cut)!=baseString)cut=firstNonWS(line);self.replaceRange(baseString+commentString+pad,Pos(i,0),Pos(i,cut))}}else{i=from.line;for(;i<end;++i)if(blankLines||nonWS.test(self.getLine(i)))self.replaceRange(commentString+pad,Pos(i,0))}})});
CodeMirror.defineExtension("blockComment",function(from,to,options){if(!options)options=noOptions;var self=this;var mode=getMode(self,from);var startString=options.blockCommentStart||mode.blockCommentStart;var endString=options.blockCommentEnd||mode.blockCommentEnd;if(!startString||!endString){if((options.lineComment||mode.lineComment)&&options.fullLines!=false)self.lineComment(from,to,options);return}if(/\bcomment\b/.test(self.getTokenTypeAt(Pos(from.line,0))))return;var end=Math.min(to.line,self.lastLine());
if(end!=from.line&&to.ch==0&&nonWS.test(self.getLine(end)))--end;var pad=options.padding==null?" ":options.padding;if(from.line>end)return;self.operation(function(){if(options.fullLines!=false){var lastLineHasText=nonWS.test(self.getLine(end));self.replaceRange(pad+endString,Pos(end));self.replaceRange(startString+pad,Pos(from.line,0));var lead=options.blockCommentLead||mode.blockCommentLead;if(lead!=null){var i=from.line+1;for(;i<=end;++i)if(i!=end||lastLineHasText)self.replaceRange(lead+pad,Pos(i,
0))}}else{var atCursor=cmp(self.getCursor("to"),to)==0;var empty=!self.somethingSelected();self.replaceRange(endString,to);if(atCursor)self.setSelection(empty?to:self.getCursor("from"),to);self.replaceRange(startString,from)}})});CodeMirror.defineExtension("uncomment",function(from,to,options){if(!options)options=noOptions;var self=this;var mode=getMode(self,from);var end=Math.min(to.ch!=0||to.line==from.line?to.line:to.line-1,self.lastLine());var start=Math.min(from.line,end);var lineString=options.lineComment||
mode.lineComment;var lines=[];var pad=options.padding==null?" ":options.padding;var didSomething;lineComment:{if(!lineString)break lineComment;var i=start;for(;i<=end;++i){var line=self.getLine(i);var found=line.indexOf(lineString);if(found>-1&&!/comment/.test(self.getTokenTypeAt(Pos(i,found+1))))found=-1;if(found==-1&&nonWS.test(line))break lineComment;if(found>-1&&nonWS.test(line.slice(0,found)))break lineComment;lines.push(line)}self.operation(function(){var i=start;for(;i<=end;++i){var line=lines[i-
start];var pos=line.indexOf(lineString);var endPos=pos+lineString.length;if(pos<0)continue;if(line.slice(endPos,endPos+pad.length)==pad)endPos=endPos+pad.length;didSomething=true;self.replaceRange("",Pos(i,pos),Pos(i,endPos))}});if(didSomething)return true}var startString=options.blockCommentStart||mode.blockCommentStart;var endString=options.blockCommentEnd||mode.blockCommentEnd;if(!startString||!endString)return false;var lead=options.blockCommentLead||mode.blockCommentLead;var startLine=self.getLine(start);
var open=startLine.indexOf(startString);if(open==-1)return false;var endLine=end==start?startLine:self.getLine(end);var close=endLine.indexOf(endString,end==start?open+startString.length:0);var insideStart=Pos(start,open+1);var insideEnd=Pos(end,close+1);if(close==-1||!/comment/.test(self.getTokenTypeAt(insideStart))||!/comment/.test(self.getTokenTypeAt(insideEnd))||self.getRange(insideStart,insideEnd,"\n").indexOf(endString)>-1)return false;var lastStart=startLine.lastIndexOf(startString,from.ch);
var firstEnd=lastStart==-1?-1:startLine.slice(0,from.ch).indexOf(endString,lastStart+startString.length);if(lastStart!=-1&&firstEnd!=-1&&firstEnd+endString.length!=from.ch)return false;firstEnd=endLine.indexOf(endString,to.ch);var almostLastStart=endLine.slice(to.ch).lastIndexOf(startString,firstEnd-to.ch);lastStart=firstEnd==-1||almostLastStart==-1?-1:to.ch+almostLastStart;if(firstEnd!=-1&&lastStart!=-1&&lastStart!=to.ch)return false;self.operation(function(){self.replaceRange("",Pos(end,close-(pad&&
endLine.slice(close-pad.length,close)==pad?pad.length:0)),Pos(end,close+endString.length));var openEnd=open+startString.length;if(pad&&startLine.slice(openEnd,openEnd+pad.length)==pad)openEnd=openEnd+pad.length;self.replaceRange("",Pos(start,open),Pos(start,openEnd));if(lead){var i=start+1;for(;i<=end;++i){var line=self.getLine(i);var found=line.indexOf(lead);if(found==-1||nonWS.test(line.slice(0,found)))continue;var foundEnd=found+lead.length;if(pad&&line.slice(foundEnd,foundEnd+pad.length)==pad)foundEnd=
foundEnd+pad.length;self.replaceRange("",Pos(i,found),Pos(i,foundEnd))}}});return true})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function continueComment(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections();var mode;var inserts=[];var i=0;for(;i<ranges.length;i++){var pos=ranges[i].head;if(!/\bcomment\b/.test(cm.getTokenTypeAt(pos)))return CodeMirror.Pass;var modeHere=
cm.getModeAt(pos);if(!mode)mode=modeHere;else if(mode!=modeHere)return CodeMirror.Pass;var insert=null;var line;var found;var blockStart=mode.blockCommentStart;var lineCmt=mode.lineComment;if(blockStart&&mode.blockCommentContinue){line=cm.getLine(pos.line);var end=line.lastIndexOf(mode.blockCommentEnd,pos.ch-mode.blockCommentEnd.length);if(end!=-1&&end==pos.ch-mode.blockCommentEnd.length||lineCmt&&(found=line.lastIndexOf(lineCmt,pos.ch-1))>-1&&/\bcomment\b/.test(cm.getTokenTypeAt({line:pos.line,ch:found+
1})));else if(pos.ch>=blockStart.length&&(found=line.lastIndexOf(blockStart,pos.ch-blockStart.length))>-1&&found>end)if(nonspaceAfter(0,line)>=found)insert=line.slice(0,found);else{var tabSize=cm.options.tabSize;var numTabs;found=CodeMirror.countColumn(line,found,tabSize);insert=!cm.options.indentWithTabs?repeat.call(" ",found):repeat.call("\t",numTabs=Math.floor(found/tabSize))+repeat.call(" ",found-tabSize*numTabs)}else if((found=line.indexOf(mode.blockCommentContinue))>-1&&found<=pos.ch&&found<=
nonspaceAfter(0,line))insert=line.slice(0,found);if(insert!=null)insert=insert+mode.blockCommentContinue}if(insert==null&&lineCmt&&continueLineCommentEnabled(cm)){if(line==null)line=cm.getLine(pos.line);found=line.indexOf(lineCmt);if(!pos.ch&&!found)insert="";else if(found>-1&&nonspaceAfter(0,line)>=found){insert=nonspaceAfter(pos.ch,line)>-1;if(!insert){var next=cm.getLine(pos.line+1)||"";var nextFound=next.indexOf(lineCmt);insert=nextFound>-1&&nonspaceAfter(0,next)>=nextFound||null}if(insert)insert=
line.slice(0,found)+lineCmt+line.slice(found+lineCmt.length).match(/^\s*/)[0]}}if(insert==null)return CodeMirror.Pass;inserts[i]="\n"+insert}cm.operation(function(){var i=ranges.length-1;for(;i>=0;i--)cm.replaceRange(inserts[i],ranges[i].from(),ranges[i].to(),"+insert")})}function nonspaceAfter(ch,str){nonspace.lastIndex=ch;var m=nonspace.exec(str);return m?m.index:-1}function continueLineCommentEnabled(cm){var opt=cm.getOption("continueComments");if(opt&&typeof opt=="object")return opt.continueLineComment!==
false;return true}var nonspace=/\S/g;var repeat=String.prototype.repeat||function(n){return Array(n+1).join(this)};CodeMirror.defineOption("continueComments",null,function(cm,val,prev){if(prev&&prev!=CodeMirror.Init)cm.removeKeyMap("continueComment");if(val){var key="Enter";if(typeof val=="string")key=val;else if(typeof val=="object"&&val.key)key=val.key;var map={name:"continueComment"};map[key]=continueComment;cm.addKeyMap(map)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function startListening(cm,state){function check(){if(cm.display.wrapper.offsetHeight){stopListening(cm,state);if(cm.display.lastWrapHeight!=cm.display.wrapper.clientHeight)cm.refresh()}else state.timeout=setTimeout(check,state.delay)}state.timeout=setTimeout(check,state.delay);
state.hurry=function(){clearTimeout(state.timeout);state.timeout=setTimeout(check,50)};CodeMirror.on(window,"mouseup",state.hurry);CodeMirror.on(window,"keyup",state.hurry)}function stopListening(_cm,state){clearTimeout(state.timeout);CodeMirror.off(window,"mouseup",state.hurry);CodeMirror.off(window,"keyup",state.hurry)}CodeMirror.defineOption("autoRefresh",false,function(cm,val){if(cm.state.autoRefresh){stopListening(cm,cm.state.autoRefresh);cm.state.autoRefresh=null}if(val&&cm.display.wrapper.offsetHeight==
0)startListening(cm,cm.state.autoRefresh={delay:val.delay||250})})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function setFullscreen(cm){var wrap=cm.getWrapperElement();cm.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:wrap.style.width,height:wrap.style.height};wrap.style.width="";wrap.style.height="auto";wrap.className+=" CodeMirror-fullscreen";
document.documentElement.style.overflow="hidden";cm.refresh()}function setNormal(cm){var wrap=cm.getWrapperElement();wrap.className=wrap.className.replace(/\s*CodeMirror-fullscreen\b/,"");document.documentElement.style.overflow="";var info=cm.state.fullScreenRestore;wrap.style.width=info.width;wrap.style.height=info.height;window.scrollTo(info.scrollLeft,info.scrollTop);cm.refresh()}CodeMirror.defineOption("fullScreen",false,function(cm,val,old){if(old==CodeMirror.Init)old=false;if(!old==!val)return;
if(val)setFullscreen(cm);else setNormal(cm)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function Panel(cm,node,options,height){this.cm=cm;this.node=node;this.options=options;this.height=height;this.cleared=false}function initPanels(cm){var wrap=cm.getWrapperElement();var style=window.getComputedStyle?window.getComputedStyle(wrap):wrap.currentStyle;var height=
parseInt(style.height);var info=cm.state.panels={setHeight:wrap.style.height,panels:[],wrapper:document.createElement("div")};var hasFocus=cm.hasFocus();var scrollPos=cm.getScrollInfo();wrap.parentNode.insertBefore(info.wrapper,wrap);info.wrapper.appendChild(wrap);cm.scrollTo(scrollPos.left,scrollPos.top);if(hasFocus)cm.focus();cm._setSize=cm.setSize;if(height!=null)cm.setSize=function(width,newHeight){if(!newHeight)newHeight=info.wrapper.offsetHeight;info.setHeight=newHeight;if(typeof newHeight!=
"number"){var px=/^(\d+\.?\d*)px$/.exec(newHeight);if(px)newHeight=Number(px[1]);else{info.wrapper.style.height=newHeight;newHeight=info.wrapper.offsetHeight}}var editorheight=newHeight-info.panels.map(function(p){return p.node.getBoundingClientRect().height}).reduce(function(a,b){return a+b},0);cm._setSize(width,editorheight);height=newHeight}}function removePanels(cm){var info=cm.state.panels;cm.state.panels=null;var wrap=cm.getWrapperElement();var hasFocus=cm.hasFocus();var scrollPos=cm.getScrollInfo();
info.wrapper.parentNode.replaceChild(wrap,info.wrapper);cm.scrollTo(scrollPos.left,scrollPos.top);if(hasFocus)cm.focus();wrap.style.height=info.setHeight;cm.setSize=cm._setSize;cm.setSize()}function isAtTop(cm,dom){var sibling=dom.nextSibling;for(;sibling;sibling=sibling.nextSibling)if(sibling==cm.getWrapperElement())return true;return false}CodeMirror.defineExtension("addPanel",function(node,options){options=options||{};if(!this.state.panels)initPanels(this);var info=this.state.panels;var wrapper=
info.wrapper;var cmWrapper=this.getWrapperElement();var replace=options.replace instanceof Panel&&!options.replace.cleared;if(options.after instanceof Panel&&!options.after.cleared)wrapper.insertBefore(node,options.before.node.nextSibling);else if(options.before instanceof Panel&&!options.before.cleared)wrapper.insertBefore(node,options.before.node);else if(replace){wrapper.insertBefore(node,options.replace.node);options.replace.clear(true)}else if(options.position=="bottom")wrapper.appendChild(node);
else if(options.position=="before-bottom")wrapper.insertBefore(node,cmWrapper.nextSibling);else if(options.position=="after-top")wrapper.insertBefore(node,cmWrapper);else wrapper.insertBefore(node,wrapper.firstChild);var height=options&&options.height||node.offsetHeight;var panel=new Panel(this,node,options,height);info.panels.push(panel);this.setSize();if(options.stable&&isAtTop(this,node))this.scrollTo(null,this.getScrollInfo().top+height);return panel});Panel.prototype.clear=function(skipRemove){if(this.cleared)return;
this.cleared=true;var info=this.cm.state.panels;info.panels.splice(info.panels.indexOf(this),1);this.cm.setSize();if(this.options.stable&&isAtTop(this.cm,this.node))this.cm.scrollTo(null,this.cm.getScrollInfo().top-this.height);info.wrapper.removeChild(this.node);if(info.panels.length==0&&!skipRemove)removePanels(this.cm)};Panel.prototype.changed=function(){this.height=this.node.getBoundingClientRect().height;this.cm.setSize()}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function clearPlaceholder(cm){if(cm.state.placeholder){cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);cm.state.placeholder=null}}function setPlaceholder(cm){clearPlaceholder(cm);var elt=cm.state.placeholder=document.createElement("pre");elt.style.cssText=
"height: 0; overflow: visible";elt.style.direction=cm.getOption("direction");elt.className="CodeMirror-placeholder CodeMirror-line-like";var placeHolder=cm.getOption("placeholder");if(typeof placeHolder=="string")placeHolder=document.createTextNode(placeHolder);elt.appendChild(placeHolder);cm.display.lineSpace.insertBefore(elt,cm.display.lineSpace.firstChild)}function onComposition(cm){setTimeout(function(){var empty=false;if(cm.lineCount()==1){var input=cm.getInputField();empty=input.nodeName=="TEXTAREA"?
!cm.getLine(0).length:!/[^\u200b]/.test(input.querySelector(".CodeMirror-line").textContent)}if(empty)setPlaceholder(cm);else clearPlaceholder(cm)},20)}function onBlur(cm){if(isEmpty(cm))setPlaceholder(cm)}function onChange(cm){var wrapper=cm.getWrapperElement();var empty=isEmpty(cm);wrapper.className=wrapper.className.replace(" CodeMirror-empty","")+(empty?" CodeMirror-empty":"");if(empty)setPlaceholder(cm);else clearPlaceholder(cm)}function isEmpty(cm){return cm.lineCount()===1&&cm.getLine(0)===
""}CodeMirror.defineOption("placeholder","",function(cm,val,old){var prev=old&&old!=CodeMirror.Init;if(val&&!prev){cm.on("blur",onBlur);cm.on("change",onChange);cm.on("swapDoc",onChange);CodeMirror.on(cm.getInputField(),"compositionupdate",cm.state.placeholderCompose=function(){onComposition(cm)});onChange(cm)}else if(!val&&prev){cm.off("blur",onBlur);cm.off("change",onChange);cm.off("swapDoc",onChange);CodeMirror.off(cm.getInputField(),"compositionupdate",cm.state.placeholderCompose);clearPlaceholder(cm);
var wrapper=cm.getWrapperElement();wrapper.className=wrapper.className.replace(" CodeMirror-empty","")}if(val&&!cm.hasFocus())onBlur(cm)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function drawRulers(cm){cm.state.rulerDiv.textContent="";var val=cm.getOption("rulers");var cw=cm.defaultCharWidth();var left=cm.charCoords(CodeMirror.Pos(cm.firstLine(),0),"div").left;cm.state.rulerDiv.style.minHeight=cm.display.scroller.offsetHeight+30+"px";var i=0;for(;i<
val.length;i++){var elt=document.createElement("div");elt.className="CodeMirror-ruler";var col;var conf=val[i];if(typeof conf=="number")col=conf;else{col=conf.column;if(conf.className)elt.className+=" "+conf.className;if(conf.color)elt.style.borderColor=conf.color;if(conf.lineStyle)elt.style.borderLeftStyle=conf.lineStyle;if(conf.width)elt.style.borderLeftWidth=conf.width}elt.style.left=left+col*cw+"px";cm.state.rulerDiv.appendChild(elt)}}CodeMirror.defineOption("rulers",false,function(cm,val){if(cm.state.rulerDiv){cm.state.rulerDiv.parentElement.removeChild(cm.state.rulerDiv);
cm.state.rulerDiv=null;cm.off("refresh",drawRulers)}if(val&&val.length){cm.state.rulerDiv=cm.display.lineSpace.parentElement.insertBefore(document.createElement("div"),cm.display.lineSpace);cm.state.rulerDiv.className="CodeMirror-rulers";drawRulers(cm);cm.on("refresh",drawRulers)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function getOption(conf,name){if(name=="pairs"&&typeof conf=="string")return conf;if(typeof conf=="object"&&conf[name]!=null)return conf[name];return defaults[name]}function ensureBound(chars){var i=0;for(;i<chars.length;i++){var ch=chars.charAt(i);var key="'"+ch+"'";if(!keyMap[key])keyMap[key]=
handler(ch)}}function handler(ch){return function(cm){return handleChar(cm,ch)}}function getConfig(cm){var deflt=cm.state.closeBrackets;if(!deflt||deflt.override)return deflt;var mode=cm.getModeAt(cm.getCursor());return mode.closeBrackets||deflt}function handleBackspace(cm){var conf=getConfig(cm);if(!conf||cm.getOption("disableInput"))return CodeMirror.Pass;var pairs=getOption(conf,"pairs");var ranges=cm.listSelections();var i=0;for(;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;
var around=charsAround(cm,ranges[i].head);if(!around||pairs.indexOf(around)%2!=0)return CodeMirror.Pass}i=ranges.length-1;for(;i>=0;i--){var cur=ranges[i].head;cm.replaceRange("",Pos(cur.line,cur.ch-1),Pos(cur.line,cur.ch+1),"+delete")}}function handleEnter(cm){var conf=getConfig(cm);var explode=conf&&getOption(conf,"explode");if(!explode||cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections();var i=0;for(;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;
var around=charsAround(cm,ranges[i].head);if(!around||explode.indexOf(around)%2!=0)return CodeMirror.Pass}cm.operation(function(){var linesep=cm.lineSeparator()||"\n";cm.replaceSelection(linesep+linesep,null);moveSel(cm,-1);ranges=cm.listSelections();var i=0;for(;i<ranges.length;i++){var line=ranges[i].head.line;cm.indentLine(line,null,true);cm.indentLine(line+1,null,true)}})}function moveSel(cm,dir){var newRanges=[];var ranges=cm.listSelections();var primary=0;var i=0;for(;i<ranges.length;i++){var range=
ranges[i];if(range.head==cm.getCursor())primary=i;var pos=range.head.ch||dir>0?{line:range.head.line,ch:range.head.ch+dir}:{line:range.head.line-1};newRanges.push({anchor:pos,head:pos})}cm.setSelections(newRanges,primary)}function contractSelection(sel){var inverted=CodeMirror.cmpPos(sel.anchor,sel.head)>0;return{anchor:new Pos(sel.anchor.line,sel.anchor.ch+(inverted?-1:1)),head:new Pos(sel.head.line,sel.head.ch+(inverted?1:-1))}}function handleChar(cm,ch){var conf=getConfig(cm);if(!conf||cm.getOption("disableInput"))return CodeMirror.Pass;
var pairs=getOption(conf,"pairs");var pos=pairs.indexOf(ch);if(pos==-1)return CodeMirror.Pass;var closeBefore=getOption(conf,"closeBefore");var triples=getOption(conf,"triples");var identical=pairs.charAt(pos+1)==ch;var ranges=cm.listSelections();var opening=pos%2==0;var type;var i=0;for(;i<ranges.length;i++){var range=ranges[i];var cur=range.head;var curType;var next=cm.getRange(cur,Pos(cur.line,cur.ch+1));if(opening&&!range.empty())curType="surround";else if((identical||!opening)&&next==ch)if(identical&&
stringStartsAfter(cm,cur))curType="both";else if(triples.indexOf(ch)>=0&&cm.getRange(cur,Pos(cur.line,cur.ch+3))==ch+ch+ch)curType="skipThree";else curType="skip";else if(identical&&cur.ch>1&&triples.indexOf(ch)>=0&&cm.getRange(Pos(cur.line,cur.ch-2),cur)==ch+ch){if(cur.ch>2&&/\bstring/.test(cm.getTokenTypeAt(Pos(cur.line,cur.ch-2))))return CodeMirror.Pass;curType="addFour"}else if(identical){var prev=cur.ch==0?" ":cm.getRange(Pos(cur.line,cur.ch-1),cur);if(!CodeMirror.isWordChar(next)&&prev!=ch&&
!CodeMirror.isWordChar(prev))curType="both";else return CodeMirror.Pass}else if(opening&&(next.length===0||/\s/.test(next)||closeBefore.indexOf(next)>-1))curType="both";else return CodeMirror.Pass;if(!type)type=curType;else if(type!=curType)return CodeMirror.Pass}var left=pos%2?pairs.charAt(pos-1):ch;var right=pos%2?ch:pairs.charAt(pos+1);cm.operation(function(){if(type=="skip")moveSel(cm,1);else if(type=="skipThree")moveSel(cm,3);else if(type=="surround"){var sels=cm.getSelections();var i=0;for(;i<
sels.length;i++)sels[i]=left+sels[i]+right;cm.replaceSelections(sels,"around");sels=cm.listSelections().slice();i=0;for(;i<sels.length;i++)sels[i]=contractSelection(sels[i]);cm.setSelections(sels)}else if(type=="both"){cm.replaceSelection(left+right,null);cm.triggerElectric(left+right);moveSel(cm,-1)}else if(type=="addFour"){cm.replaceSelection(left+left+left+left,"before");moveSel(cm,1)}})}function charsAround(cm,pos){var str=cm.getRange(Pos(pos.line,pos.ch-1),Pos(pos.line,pos.ch+1));return str.length==
2?str:null}function stringStartsAfter(cm,pos){var token=cm.getTokenAt(Pos(pos.line,pos.ch+1));return/\bstring/.test(token.type)&&token.start==pos.ch&&(pos.ch==0||!/\bstring/.test(cm.getTokenTypeAt(pos)))}var defaults={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"};var Pos=CodeMirror.Pos;CodeMirror.defineOption("autoCloseBrackets",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.removeKeyMap(keyMap);cm.state.closeBrackets=null}if(val){ensureBound(getOption(val,"pairs"));
cm.state.closeBrackets=val;cm.addKeyMap(keyMap)}});var keyMap={Backspace:handleBackspace,Enter:handleEnter};ensureBound(defaults.pairs+"`")});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../fold/xml-fold"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../fold/xml-fold"],mod);else mod(CodeMirror)})(function(CodeMirror){function autoCloseGT(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections();var replacements=[];var opt=cm.getOption("autoCloseTags");var i=0;for(;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;
var pos=ranges[i].head;var tok=cm.getTokenAt(pos);var inner=CodeMirror.innerMode(cm.getMode(),tok.state);var state=inner.state;var tagInfo=inner.mode.xmlCurrentTag&&inner.mode.xmlCurrentTag(state);var tagName=tagInfo&&tagInfo.name;if(!tagName)return CodeMirror.Pass;var html=inner.mode.configuration=="html";var dontCloseTags=typeof opt=="object"&&opt.dontCloseTags||html&&htmlDontClose;var indentTags=typeof opt=="object"&&opt.indentTags||html&&htmlIndent;if(tok.end>pos.ch)tagName=tagName.slice(0,tagName.length-
tok.end+pos.ch);var lowerTagName=tagName.toLowerCase();if(!tagName||tok.type=="string"&&(tok.end!=pos.ch||!/["']/.test(tok.string.charAt(tok.string.length-1))||tok.string.length==1)||tok.type=="tag"&&tagInfo.close||tok.string.indexOf("/")==pos.ch-tok.start-1||dontCloseTags&&indexOf(dontCloseTags,lowerTagName)>-1||closingTagExists(cm,inner.mode.xmlCurrentContext&&inner.mode.xmlCurrentContext(state)||[],tagName,pos,true))return CodeMirror.Pass;var emptyTags=typeof opt=="object"&&opt.emptyTags;if(emptyTags&&
indexOf(emptyTags,tagName)>-1){replacements[i]={text:"/>",newPos:CodeMirror.Pos(pos.line,pos.ch+2)};continue}var indent=indentTags&&indexOf(indentTags,lowerTagName)>-1;replacements[i]={indent:indent,text:">"+(indent?"\n\n":"")+"</"+tagName+">",newPos:indent?CodeMirror.Pos(pos.line+1,0):CodeMirror.Pos(pos.line,pos.ch+1)}}var dontIndentOnAutoClose=typeof opt=="object"&&opt.dontIndentOnAutoClose;i=ranges.length-1;for(;i>=0;i--){var info=replacements[i];cm.replaceRange(info.text,ranges[i].head,ranges[i].anchor,
"+insert");var sel=cm.listSelections().slice(0);sel[i]={head:info.newPos,anchor:info.newPos};cm.setSelections(sel);if(!dontIndentOnAutoClose&&info.indent){cm.indentLine(info.newPos.line,null,true);cm.indentLine(info.newPos.line+1,null,true)}}}function autoCloseCurrent(cm,typingSlash){var ranges=cm.listSelections();var replacements=[];var head=typingSlash?"/":"</";var opt=cm.getOption("autoCloseTags");var dontIndentOnAutoClose=typeof opt=="object"&&opt.dontIndentOnSlash;var i=0;for(;i<ranges.length;i++){if(!ranges[i].empty())return CodeMirror.Pass;
var pos=ranges[i].head;var tok=cm.getTokenAt(pos);var inner=CodeMirror.innerMode(cm.getMode(),tok.state);var state=inner.state;if(typingSlash&&(tok.type=="string"||tok.string.charAt(0)!="<"||tok.start!=pos.ch-1))return CodeMirror.Pass;var replacement;var mixed=inner.mode.name!="xml"&&cm.getMode().name=="htmlmixed";if(mixed&&inner.mode.name=="javascript")replacement=head+"script";else if(mixed&&inner.mode.name=="css")replacement=head+"style";else{var context=inner.mode.xmlCurrentContext&&inner.mode.xmlCurrentContext(state);
var top=context.length?context[context.length-1]:"";if(!context||context.length&&closingTagExists(cm,context,top,pos))return CodeMirror.Pass;replacement=head+top}if(cm.getLine(pos.line).charAt(tok.end)!=">")replacement=replacement+">";replacements[i]=replacement}cm.replaceSelections(replacements);ranges=cm.listSelections();if(!dontIndentOnAutoClose){i=0;for(;i<ranges.length;i++)if(i==ranges.length-1||ranges[i].head.line<ranges[i+1].head.line)cm.indentLine(ranges[i].head.line)}}function autoCloseSlash(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;
return autoCloseCurrent(cm,true)}function indexOf(collection,elt){if(collection.indexOf)return collection.indexOf(elt);var i=0;var e=collection.length;for(;i<e;++i)if(collection[i]==elt)return i;return-1}function closingTagExists(cm,context,tagName,pos,newTag){if(!CodeMirror.scanForClosingTag)return false;var end=Math.min(cm.lastLine()+1,pos.line+500);var nextClose=CodeMirror.scanForClosingTag(cm,pos,null,end);if(!nextClose||nextClose.tag!=tagName)return false;var onCx=newTag?1:0;var i=context.length-
1;for(;i>=0;i--)if(context[i]==tagName)++onCx;else break;pos=nextClose.to;i=1;for(;i<onCx;i++){var next=CodeMirror.scanForClosingTag(cm,pos,null,end);if(!next||next.tag!=tagName)return false;pos=next.to}return true}CodeMirror.defineOption("autoCloseTags",false,function(cm,val,old){if(old!=CodeMirror.Init&&old)cm.removeKeyMap("autoCloseTags");if(!val)return;var map={name:"autoCloseTags"};if(typeof val!="object"||val.whenClosing!==false)map["'/'"]=function(cm){return autoCloseSlash(cm)};if(typeof val!=
"object"||val.whenOpening!==false)map["'>'"]=function(cm){return autoCloseGT(cm)};cm.addKeyMap(map)});var htmlDontClose=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];var htmlIndent=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];CodeMirror.commands.closeTag=function(cm){return autoCloseCurrent(cm)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function incrementRemainingMarkdownListNumbers(cm,pos){var startLine=pos.line;var lookAhead=0;var skipCount=0;var startItem=listRE.exec(cm.getLine(startLine));var startIndent=startItem[1];do{lookAhead=lookAhead+1;var nextLineNumber=startLine+lookAhead;var nextLine=cm.getLine(nextLineNumber);
var nextItem=listRE.exec(nextLine);if(nextItem){var nextIndent=nextItem[1];var newNumber=parseInt(startItem[3],10)+lookAhead-skipCount;var nextNumber=parseInt(nextItem[3],10);var itemNumber=nextNumber;if(startIndent===nextIndent&&!isNaN(nextNumber)){if(newNumber===nextNumber)itemNumber=nextNumber+1;if(newNumber>nextNumber)itemNumber=newNumber+1;cm.replaceRange(nextLine.replace(listRE,nextIndent+itemNumber+nextItem[4]+nextItem[5]),{line:nextLineNumber,ch:0},{line:nextLineNumber,ch:nextLine.length})}else{if(startIndent.length>
nextIndent.length)return;if(startIndent.length<nextIndent.length&&lookAhead===1)return;skipCount=skipCount+1}}}while(nextItem)}var listRE=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/;var emptyListRE=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/;var unorderedListRE=/[*+-]\s/;CodeMirror.commands.newlineAndIndentContinueMarkdownList=function(cm){if(cm.getOption("disableInput"))return CodeMirror.Pass;var ranges=cm.listSelections();var replacements=[];var i=0;for(;i<ranges.length;i++){var pos=
ranges[i].head;var eolState=cm.getStateAfter(pos.line);var inner=CodeMirror.innerMode(cm.getMode(),eolState);if(inner.mode.name!=="markdown"&&inner.mode.helperType!=="markdown"){cm.execCommand("newlineAndIndent");return}else eolState=inner.state;var inList=eolState.list!==false;var inQuote=eolState.quote!==0;var line=cm.getLine(pos.line);var match=listRE.exec(line);var cursorBeforeBullet=/^\s*$/.test(line.slice(0,pos.ch));if(!ranges[i].empty()||!inList&&!inQuote||!match||cursorBeforeBullet){cm.execCommand("newlineAndIndent");
return}if(emptyListRE.test(line)){var endOfQuote=inQuote&&/>\s*$/.test(line);var endOfList=!/>\s*$/.test(line);if(endOfQuote||endOfList)cm.replaceRange("",{line:pos.line,ch:0},{line:pos.line,ch:pos.ch+1});replacements[i]="\n"}else{var indent=match[1];var after=match[5];var numbered=!(unorderedListRE.test(match[2])||match[2].indexOf(">")>=0);var bullet=numbered?parseInt(match[3],10)+1+match[4]:match[2].replace("x"," ");replacements[i]="\n"+indent+bullet+after;if(numbered)incrementRemainingMarkdownListNumbers(cm,
pos)}}cm.replaceSelections(replacements)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function bracketRegex(config){return config&&config.bracketRegex||/[(){}[\]]/}function findMatchingBracket(cm,where,config){var line=cm.getLineHandle(where.line);var pos=where.ch-1;var afterCursor=config&&config.afterCursor;if(afterCursor==null)afterCursor=/(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className);
var re=bracketRegex(config);var match=!afterCursor&&pos>=0&&re.test(line.text.charAt(pos))&&matching[line.text.charAt(pos)]||re.test(line.text.charAt(pos+1))&&matching[line.text.charAt(++pos)];if(!match)return null;var dir=match.charAt(1)==">"?1:-1;if(config&&config.strict&&dir>0!=(pos==where.ch))return null;var style=cm.getTokenTypeAt(Pos(where.line,pos+1));var found=scanForBracket(cm,Pos(where.line,pos+(dir>0?1:0)),dir,style,config);if(found==null)return null;return{from:Pos(where.line,pos),to:found&&
found.pos,match:found&&found.ch==match.charAt(0),forward:dir>0}}function scanForBracket(cm,where,dir,style,config){var maxScanLen=config&&config.maxScanLineLength||1E4;var maxScanLines=config&&config.maxScanLines||1E3;var stack=[];var re=bracketRegex(config);var lineEnd=dir>0?Math.min(where.line+maxScanLines,cm.lastLine()+1):Math.max(cm.firstLine()-1,where.line-maxScanLines);var lineNo=where.line;for(;lineNo!=lineEnd;lineNo=lineNo+dir){var line=cm.getLine(lineNo);if(!line)continue;var pos=dir>0?0:
line.length-1;var end=dir>0?line.length:-1;if(line.length>maxScanLen)continue;if(lineNo==where.line)pos=where.ch-(dir<0?1:0);for(;pos!=end;pos=pos+dir){var ch=line.charAt(pos);if(re.test(ch)&&(style===undefined||(cm.getTokenTypeAt(Pos(lineNo,pos+1))||"")==(style||""))){var match=matching[ch];if(match&&match.charAt(1)==">"==dir>0)stack.push(ch);else if(!stack.length)return{pos:Pos(lineNo,pos),ch:ch};else stack.pop()}}}return lineNo-dir==(dir>0?cm.lastLine():cm.firstLine())?false:null}function matchBrackets(cm,
autoclear,config){var maxHighlightLen=cm.state.matchBrackets.maxHighlightLineLength||1E3;var highlightNonMatching=config&&config.highlightNonMatching;var marks=[];var ranges=cm.listSelections();var i=0;for(;i<ranges.length;i++){var match=ranges[i].empty()&&findMatchingBracket(cm,ranges[i].head,config);if(match&&(match.match||highlightNonMatching!==false)&&cm.getLine(match.from.line).length<=maxHighlightLen){var style=match.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";marks.push(cm.markText(match.from,
Pos(match.from.line,match.from.ch+1),{className:style}));if(match.to&&cm.getLine(match.to.line).length<=maxHighlightLen)marks.push(cm.markText(match.to,Pos(match.to.line,match.to.ch+1),{className:style}))}}if(marks.length){if(ie_lt8&&cm.state.focused)cm.focus();var clear=function(){cm.operation(function(){var i=0;for(;i<marks.length;i++)marks[i].clear()})};if(autoclear)setTimeout(clear,800);else return clear}}function doMatchBrackets(cm){cm.operation(function(){if(cm.state.matchBrackets.currentlyHighlighted){cm.state.matchBrackets.currentlyHighlighted();
cm.state.matchBrackets.currentlyHighlighted=null}cm.state.matchBrackets.currentlyHighlighted=matchBrackets(cm,false,cm.state.matchBrackets)})}function clearHighlighted(cm){if(cm.state.matchBrackets&&cm.state.matchBrackets.currentlyHighlighted){cm.state.matchBrackets.currentlyHighlighted();cm.state.matchBrackets.currentlyHighlighted=null}}var ie_lt8=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var Pos=CodeMirror.Pos;var matching={"(":")>",")":"(<","[":"]>",
"]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};CodeMirror.defineOption("matchBrackets",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.off("cursorActivity",doMatchBrackets);clearHighlighted(cm)}if(val){cm.state.matchBrackets=typeof val=="object"?val:{};cm.on("cursorActivity",doMatchBrackets)}});CodeMirror.defineExtension("matchBrackets",function(){matchBrackets(this,true)});CodeMirror.defineExtension("findMatchingBracket",function(pos,config,oldConfig){if(oldConfig||typeof config=="boolean")if(!oldConfig)config=
config?{strict:true}:null;else{oldConfig.strict=config;config=oldConfig}return findMatchingBracket(this,pos,config)});CodeMirror.defineExtension("scanForBracket",function(pos,dir,style,config){return scanForBracket(this,pos,dir,style,config)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../fold/xml-fold"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../fold/xml-fold"],mod);else mod(CodeMirror)})(function(CodeMirror){function clear(cm){if(cm.state.tagHit)cm.state.tagHit.clear();if(cm.state.tagOther)cm.state.tagOther.clear();cm.state.tagHit=cm.state.tagOther=null}function doMatchTags(cm){cm.state.failedTagMatch=false;cm.operation(function(){clear(cm);
if(cm.somethingSelected())return;var cur=cm.getCursor();var range=cm.getViewport();range.from=Math.min(range.from,cur.line);range.to=Math.max(cur.line+1,range.to);var match=CodeMirror.findMatchingTag(cm,cur,range);if(!match)return;if(cm.state.matchBothTags){var hit=match.at=="open"?match.open:match.close;if(hit)cm.state.tagHit=cm.markText(hit.from,hit.to,{className:"CodeMirror-matchingtag"})}var other=match.at=="close"?match.open:match.close;if(other)cm.state.tagOther=cm.markText(other.from,other.to,
{className:"CodeMirror-matchingtag"});else cm.state.failedTagMatch=true})}function maybeUpdateMatch(cm){if(cm.state.failedTagMatch)doMatchTags(cm)}CodeMirror.defineOption("matchTags",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.off("cursorActivity",doMatchTags);cm.off("viewportChange",maybeUpdateMatch);clear(cm)}if(val){cm.state.matchBothTags=typeof val=="object"&&val.bothTags;cm.on("cursorActivity",doMatchTags);cm.on("viewportChange",maybeUpdateMatch);doMatchTags(cm)}});CodeMirror.commands.toMatchingTag=
function(cm){var found=CodeMirror.findMatchingTag(cm,cm.getCursor());if(found){var other=found.at=="close"?found.open:found.close;if(other)cm.extendSelection(other.to,other.from)}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.defineOption("showTrailingSpace",false,function(cm,val,prev){if(prev==CodeMirror.Init)prev=false;if(prev&&!val)cm.removeOverlay("trailingspace");else if(!prev&&val)cm.addOverlay({token:function(stream){var l=stream.string.length;var i=l;for(;i&&/\s/.test(stream.string.charAt(i-
1));--i);if(i>stream.pos){stream.pos=i;return null}stream.pos=l;return"trailingspace"},name:"trailingspace"})})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function bracketFolding(pairs){return function(cm,start){function findOpening(pair){var tokenType;var at=start.ch;var pass=0;for(;;){var found=at<=0?-1:lineText.lastIndexOf(pair[0],at-1);if(found==-1){if(pass==1)break;pass=1;at=lineText.length;continue}if(pass==1&&found<
start.ch)break;tokenType=cm.getTokenTypeAt(CodeMirror.Pos(line,found+1));if(!/^(comment|string)/.test(tokenType))return{ch:found+1,tokenType:tokenType,pair:pair};at=found-1}}function findRange(found){var count=1;var lastLine=cm.lastLine();var end;var startCh=found.ch;var endCh;var i=line;outer:for(;i<=lastLine;++i){var text=cm.getLine(i);var pos=i==line?startCh:0;for(;;){var nextOpen=text.indexOf(found.pair[0],pos);var nextClose=text.indexOf(found.pair[1],pos);if(nextOpen<0)nextOpen=text.length;if(nextClose<
0)nextClose=text.length;pos=Math.min(nextOpen,nextClose);if(pos==text.length)break;if(cm.getTokenTypeAt(CodeMirror.Pos(i,pos+1))==found.tokenType)if(pos==nextOpen)++count;else if(!--count){end=i;endCh=pos;break outer}++pos}}if(end==null||line==end)return null;return{from:CodeMirror.Pos(line,startCh),to:CodeMirror.Pos(end,endCh)}}var line=start.line;var lineText=cm.getLine(line);var found=[];var i=0;for(;i<pairs.length;i++){var open=findOpening(pairs[i]);if(open)found.push(open)}found.sort(function(a,
b){return a.ch-b.ch});i=0;for(;i<found.length;i++){var range=findRange(found[i]);if(range)return range}return null}}CodeMirror.registerHelper("fold","brace",bracketFolding([["{","}"],["[","]"]]));CodeMirror.registerHelper("fold","brace-paren",bracketFolding([["{","}"],["[","]"],["(",")"]]));CodeMirror.registerHelper("fold","import",function(cm,start){function hasImport(line){if(line<cm.firstLine()||line>cm.lastLine())return null;var start=cm.getTokenAt(CodeMirror.Pos(line,1));if(!/\S/.test(start.string))start=
cm.getTokenAt(CodeMirror.Pos(line,start.end+1));if(start.type!="keyword"||start.string!="import")return null;var i=line;var e=Math.min(cm.lastLine(),line+10);for(;i<=e;++i){var text=cm.getLine(i);var semi=text.indexOf(";");if(semi!=-1)return{startCh:start.end,end:CodeMirror.Pos(i,semi)}}}var startLine=start.line;var has=hasImport(startLine);var prev;if(!has||hasImport(startLine-1)||(prev=hasImport(startLine-2))&&prev.end.line==startLine-1)return null;var end=has.end;for(;;){var next=hasImport(end.line+
1);if(next==null)break;end=next.end}return{from:cm.clipPos(CodeMirror.Pos(startLine,has.startCh+1)),to:end}});CodeMirror.registerHelper("fold","include",function(cm,start){function hasInclude(line){if(line<cm.firstLine()||line>cm.lastLine())return null;var start=cm.getTokenAt(CodeMirror.Pos(line,1));if(!/\S/.test(start.string))start=cm.getTokenAt(CodeMirror.Pos(line,start.end+1));if(start.type=="meta"&&start.string.slice(0,8)=="#include")return start.start+8}var startLine=start.line;var has=hasInclude(startLine);
if(has==null||hasInclude(startLine-1)!=null)return null;var end=startLine;for(;;){var next=hasInclude(end+1);if(next==null)break;++end}return{from:CodeMirror.Pos(startLine,has+1),to:cm.clipPos(CodeMirror.Pos(end))}})});/*

 Copyright (C) 2014 by Marijn Haverbeke <marijnh@gmail.com> and others

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
(function(){function enableRangeCollapsing(cm){cm.on("gutterClick",gutterClick);cm.setOption("gutters",(cm.getOption("gutters")||[]).concat([gutterClass]))}function disableRangeCollapsing(cm){cm.rangeCollapseStart=null;cm.off("gutterClick",gutterClick);var gutters=cm.getOption("gutters");var i=0;for(;i<gutters.length&&gutters[i]!=gutterClass;++i);cm.setOption("gutters",gutters.slice(0,i).concat(gutters.slice(i+1)))}function gutterClick(cm,line,gutter){if(gutter!=gutterClass)return;var start=cm.rangeCollapseStart;
if(start){var old=cm.getLineNumber(start);cm.setGutterMarker(start,gutterClass,null);cm.rangeCollapseStart=null;var from=Math.min(old,line);var to=Math.max(old,line);if(from!=to){var fold=cm.markText({line:from+1,ch:0},{line:to-1},{collapsed:true,inclusiveLeft:true,inclusiveRight:true,clearOnEnter:true});var clear=function(){cm.setGutterMarker(topLine,gutterClass,null);cm.setGutterMarker(botLine,gutterClass,null);fold.clear()};var topLine=cm.setGutterMarker(from,gutterClass,makeMarker(true,true,clear));
var botLine=cm.setGutterMarker(to,gutterClass,makeMarker(false,true,clear));CodeMirror.on(fold,"clear",clear);return}}cm.rangeCollapseStart=cm.setGutterMarker(line,gutterClass,makeMarker(true,false))}function makeMarker(isTop,isFinished,handler){var node=document.createElement("div");node.textContent=isTop?"\u25bc":"\u25b2";if(!isFinished)node.style.color="red";node.style.fontSize="85%";node.style.cursor="pointer";if(handler)CodeMirror.on(node,"mousedown",handler);return node}CodeMirror.defineOption("collapseRange",
false,function(cm,val,old){var wasOn=old&&old!=CodeMirror.Init;if(val&&!wasOn)enableRangeCollapsing(cm);else if(!val&&wasOn)disableRangeCollapsing(cm)});var gutterClass="CodeMirror-collapserange"})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerGlobalHelper("fold","comment",function(mode){return mode.blockCommentStart&&mode.blockCommentEnd},function(cm,start){var mode=cm.getModeAt(start);var startToken=mode.blockCommentStart;var endToken=mode.blockCommentEnd;if(!startToken||!endToken)return;
var line=start.line;var lineText=cm.getLine(line);var startCh;var at=start.ch;var pass=0;for(;;){var found=at<=0?-1:lineText.lastIndexOf(startToken,at-1);if(found==-1){if(pass==1)return;pass=1;at=lineText.length;continue}if(pass==1&&found<start.ch)return;if(/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line,found+1)))&&(found==0||lineText.slice(found-endToken.length,found)==endToken||!/comment/.test(cm.getTokenTypeAt(CodeMirror.Pos(line,found))))){startCh=found+startToken.length;break}at=found-
1}var depth=1;var lastLine=cm.lastLine();var end;var endCh;var i=line;outer:for(;i<=lastLine;++i){var text=cm.getLine(i);var pos=i==line?startCh:0;for(;;){var nextOpen=text.indexOf(startToken,pos);var nextClose=text.indexOf(endToken,pos);if(nextOpen<0)nextOpen=text.length;if(nextClose<0)nextClose=text.length;pos=Math.min(nextOpen,nextClose);if(pos==text.length)break;if(pos==nextOpen)++depth;else if(!--depth){end=i;endCh=pos;break outer}++pos}}if(end==null||line==end&&endCh==startCh)return;return{from:CodeMirror.Pos(line,
startCh),to:CodeMirror.Pos(end,endCh)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function doFold(cm,pos,options,force){function getRange(allowFolded){var range=finder(cm,pos);if(!range||range.to.line-range.from.line<minSize)return null;if(force==="fold")return range;var marks=cm.findMarksAt(range.from);var i=0;for(;i<marks.length;++i)if(marks[i].__isFold){if(!allowFolded)return null;
range.cleared=true;marks[i].clear()}return range}if(options&&options.call){var finder=options;options=null}else finder=getOption(cm,options,"rangeFinder");if(typeof pos=="number")pos=CodeMirror.Pos(pos,0);var minSize=getOption(cm,options,"minFoldSize");var range=getRange(true);if(getOption(cm,options,"scanUp"))for(;!range&&pos.line>cm.firstLine();){pos=CodeMirror.Pos(pos.line-1,0);range=getRange(false)}if(!range||range.cleared||force==="unfold")return;var myWidget=makeWidget(cm,options,range);CodeMirror.on(myWidget,
"mousedown",function(e){myRange.clear();CodeMirror.e_preventDefault(e)});var myRange=cm.markText(range.from,range.to,{replacedWith:myWidget,clearOnEnter:getOption(cm,options,"clearOnEnter"),__isFold:true});myRange.on("clear",function(from,to){CodeMirror.signal(cm,"unfold",cm,from,to)});CodeMirror.signal(cm,"fold",cm,range.from,range.to)}function makeWidget(cm,options,range){var widget=getOption(cm,options,"widget");if(typeof widget=="function")widget=widget(range.from,range.to);if(typeof widget==
"string"){var text=document.createTextNode(widget);widget=document.createElement("span");widget.appendChild(text);widget.className="CodeMirror-foldmarker"}else if(widget)widget=widget.cloneNode(true);return widget}function getOption(cm,options,name){if(options&&options[name]!==undefined)return options[name];var editorOptions=cm.options.foldOptions;if(editorOptions&&editorOptions[name]!==undefined)return editorOptions[name];return defaultOptions[name]}CodeMirror.newFoldFunction=function(rangeFinder,
widget){return function(cm,pos){doFold(cm,pos,{rangeFinder:rangeFinder,widget:widget})}};CodeMirror.defineExtension("foldCode",function(pos,options,force){doFold(this,pos,options,force)});CodeMirror.defineExtension("isFolded",function(pos){var marks=this.findMarksAt(pos);var i=0;for(;i<marks.length;++i)if(marks[i].__isFold)return true});CodeMirror.commands.toggleFold=function(cm){cm.foldCode(cm.getCursor())};CodeMirror.commands.fold=function(cm){cm.foldCode(cm.getCursor(),null,"fold")};CodeMirror.commands.unfold=
function(cm){cm.foldCode(cm.getCursor(),{scanUp:false},"unfold")};CodeMirror.commands.foldAll=function(cm){cm.operation(function(){var i=cm.firstLine();var e=cm.lastLine();for(;i<=e;i++)cm.foldCode(CodeMirror.Pos(i,0),{scanUp:false},"fold")})};CodeMirror.commands.unfoldAll=function(cm){cm.operation(function(){var i=cm.firstLine();var e=cm.lastLine();for(;i<=e;i++)cm.foldCode(CodeMirror.Pos(i,0),{scanUp:false},"unfold")})};CodeMirror.registerHelper("fold","combine",function(){var funcs=Array.prototype.slice.call(arguments,
0);return function(cm,start){var i=0;for(;i<funcs.length;++i){var found=funcs[i](cm,start);if(found)return found}}});CodeMirror.registerHelper("fold","auto",function(cm,start){var helpers=cm.getHelpers(start,"fold");var i=0;for(;i<helpers.length;i++){var cur=helpers[i](cm,start);if(cur)return cur}});var defaultOptions={rangeFinder:CodeMirror.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:false,clearOnEnter:true};CodeMirror.defineOption("foldOptions",null);CodeMirror.defineExtension("foldOption",function(options,
name){return getOption(this,options,name)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./foldcode"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","./foldcode"],mod);else mod(CodeMirror)})(function(CodeMirror){function State(options){this.options=options;this.from=this.to=0}function parseOptions(opts){if(opts===true)opts={};if(opts.gutter==null)opts.gutter="CodeMirror-foldgutter";if(opts.indicatorOpen==null)opts.indicatorOpen="CodeMirror-foldgutter-open";
if(opts.indicatorFolded==null)opts.indicatorFolded="CodeMirror-foldgutter-folded";return opts}function isFolded(cm,line){var marks=cm.findMarks(Pos(line,0),Pos(line+1,0));var i=0;for(;i<marks.length;++i)if(marks[i].__isFold){var fromPos=marks[i].find(-1);if(fromPos&&fromPos.line===line)return marks[i]}}function marker(spec){if(typeof spec=="string"){var elt=document.createElement("div");elt.className=spec+" CodeMirror-guttermarker-subtle";return elt}else return spec.cloneNode(true)}function updateFoldInfo(cm,
from,to){var opts=cm.state.foldGutter.options;var cur=from-1;var minSize=cm.foldOption(opts,"minFoldSize");var func=cm.foldOption(opts,"rangeFinder");var clsFolded=typeof opts.indicatorFolded=="string"&&classTest(opts.indicatorFolded);var clsOpen=typeof opts.indicatorOpen=="string"&&classTest(opts.indicatorOpen);cm.eachLine(from,to,function(line){++cur;var mark=null;var old=line.gutterMarkers;if(old)old=old[opts.gutter];if(isFolded(cm,cur)){if(clsFolded&&old&&clsFolded.test(old.className))return;
mark=marker(opts.indicatorFolded)}else{var pos=Pos(cur,0);var range=func&&func(cm,pos);if(range&&range.to.line-range.from.line>=minSize){if(clsOpen&&old&&clsOpen.test(old.className))return;mark=marker(opts.indicatorOpen)}}if(!mark&&!old)return;cm.setGutterMarker(line,opts.gutter,mark)})}function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}function updateInViewport(cm){var vp=cm.getViewport();var state=cm.state.foldGutter;if(!state)return;cm.operation(function(){updateFoldInfo(cm,
vp.from,vp.to)});state.from=vp.from;state.to=vp.to}function onGutterClick(cm,line,gutter){var state=cm.state.foldGutter;if(!state)return;var opts=state.options;if(gutter!=opts.gutter)return;var folded=isFolded(cm,line);if(folded)folded.clear();else cm.foldCode(Pos(line,0),opts)}function onChange(cm){var state=cm.state.foldGutter;if(!state)return;var opts=state.options;state.from=state.to=0;clearTimeout(state.changeUpdate);state.changeUpdate=setTimeout(function(){updateInViewport(cm)},opts.foldOnChangeTimeSpan||
600)}function onViewportChange(cm){var state=cm.state.foldGutter;if(!state)return;var opts=state.options;clearTimeout(state.changeUpdate);state.changeUpdate=setTimeout(function(){var vp=cm.getViewport();if(state.from==state.to||vp.from-state.to>20||state.from-vp.to>20)updateInViewport(cm);else cm.operation(function(){if(vp.from<state.from){updateFoldInfo(cm,vp.from,state.from);state.from=vp.from}if(vp.to>state.to){updateFoldInfo(cm,state.to,vp.to);state.to=vp.to}})},opts.updateViewportTimeSpan||400)}
function onFold(cm,from){var state=cm.state.foldGutter;if(!state)return;var line=from.line;if(line>=state.from&&line<state.to)updateFoldInfo(cm,line,line+1)}CodeMirror.defineOption("foldGutter",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.clearGutter(cm.state.foldGutter.options.gutter);cm.state.foldGutter=null;cm.off("gutterClick",onGutterClick);cm.off("changes",onChange);cm.off("viewportChange",onViewportChange);cm.off("fold",onFold);cm.off("unfold",onFold);cm.off("swapDoc",onChange)}if(val){cm.state.foldGutter=
new State(parseOptions(val));updateInViewport(cm);cm.on("gutterClick",onGutterClick);cm.on("changes",onChange);cm.on("viewportChange",onViewportChange);cm.on("fold",onFold);cm.on("unfold",onFold);cm.on("swapDoc",onChange)}});var Pos=CodeMirror.Pos});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function lineIndent(cm,lineNo){var text=cm.getLine(lineNo);var spaceTo=text.search(/\S/);if(spaceTo==-1||/\bcomment\b/.test(cm.getTokenTypeAt(CodeMirror.Pos(lineNo,spaceTo+1))))return-1;return CodeMirror.countColumn(text,null,cm.getOption("tabSize"))}CodeMirror.registerHelper("fold",
"indent",function(cm,start){var myIndent=lineIndent(cm,start.line);if(myIndent<0)return;var lastLineInFold=null;var i=start.line+1;var end=cm.lastLine();for(;i<=end;++i){var indent=lineIndent(cm,i);if(indent==-1);else if(indent>myIndent)lastLineInFold=i;else break}if(lastLineInFold)return{from:CodeMirror.Pos(start.line,cm.getLine(start.line).length),to:CodeMirror.Pos(lastLineInFold,cm.getLine(lastLineInFold).length)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("fold","markdown",function(cm,start){function isHeader(lineNo){var tokentype=cm.getTokenTypeAt(CodeMirror.Pos(lineNo,0));return tokentype&&/\bheader\b/.test(tokentype)}function headerLevel(lineNo,line,nextLine){var match=line&&line.match(/^#+/);
if(match&&isHeader(lineNo))return match[0].length;match=nextLine&&nextLine.match(/^[=\-]+\s*$/);if(match&&isHeader(lineNo+1))return nextLine[0]=="="?1:2;return maxDepth}var maxDepth=100;var firstLine=cm.getLine(start.line);var nextLine=cm.getLine(start.line+1);var level=headerLevel(start.line,firstLine,nextLine);if(level===maxDepth)return undefined;var lastLineNo=cm.lastLine();var end=start.line;var nextNextLine=cm.getLine(end+2);for(;end<lastLineNo;){if(headerLevel(end+1,nextLine,nextNextLine)<=
level)break;++end;nextLine=nextNextLine;nextNextLine=cm.getLine(end+2)}return{from:CodeMirror.Pos(start.line,firstLine.length),to:CodeMirror.Pos(end,cm.getLine(end).length)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function cmp(a,b){return a.line-b.line||a.ch-b.ch}function Iter(cm,line,ch,range){this.line=line;this.ch=ch;this.cm=cm;this.text=cm.getLine(line);this.min=range?Math.max(range.from,cm.firstLine()):cm.firstLine();this.max=range?Math.min(range.to-1,cm.lastLine()):cm.lastLine()}
function tagAt(iter,ch){var type=iter.cm.getTokenTypeAt(Pos(iter.line,ch));return type&&/\btag\b/.test(type)}function nextLine(iter){if(iter.line>=iter.max)return;iter.ch=0;iter.text=iter.cm.getLine(++iter.line);return true}function prevLine(iter){if(iter.line<=iter.min)return;iter.text=iter.cm.getLine(--iter.line);iter.ch=iter.text.length;return true}function toTagEnd(iter){for(;;){var gt=iter.text.indexOf(">",iter.ch);if(gt==-1)if(nextLine(iter))continue;else return;if(!tagAt(iter,gt+1)){iter.ch=
gt+1;continue}var lastSlash=iter.text.lastIndexOf("/",gt);var selfClose=lastSlash>-1&&!/\S/.test(iter.text.slice(lastSlash+1,gt));iter.ch=gt+1;return selfClose?"selfClose":"regular"}}function toTagStart(iter){for(;;){var lt=iter.ch?iter.text.lastIndexOf("<",iter.ch-1):-1;if(lt==-1)if(prevLine(iter))continue;else return;if(!tagAt(iter,lt+1)){iter.ch=lt;continue}xmlTagStart.lastIndex=lt;iter.ch=lt;var match=xmlTagStart.exec(iter.text);if(match&&match.index==lt)return match}}function toNextTag(iter){for(;;){xmlTagStart.lastIndex=
iter.ch;var found=xmlTagStart.exec(iter.text);if(!found)if(nextLine(iter))continue;else return;if(!tagAt(iter,found.index+1)){iter.ch=found.index+1;continue}iter.ch=found.index+found[0].length;return found}}function toPrevTag(iter){for(;;){var gt=iter.ch?iter.text.lastIndexOf(">",iter.ch-1):-1;if(gt==-1)if(prevLine(iter))continue;else return;if(!tagAt(iter,gt+1)){iter.ch=gt;continue}var lastSlash=iter.text.lastIndexOf("/",gt);var selfClose=lastSlash>-1&&!/\S/.test(iter.text.slice(lastSlash+1,gt));
iter.ch=gt+1;return selfClose?"selfClose":"regular"}}function findMatchingClose(iter,tag){var stack=[];for(;;){var next=toNextTag(iter);var end;var startLine=iter.line;var startCh=iter.ch-(next?next[0].length:0);if(!next||!(end=toTagEnd(iter)))return;if(end=="selfClose")continue;if(next[1]){var i=stack.length-1;for(;i>=0;--i)if(stack[i]==next[2]){stack.length=i;break}if(i<0&&(!tag||tag==next[2]))return{tag:next[2],from:Pos(startLine,startCh),to:Pos(iter.line,iter.ch)}}else stack.push(next[2])}}function findMatchingOpen(iter,
tag){var stack=[];for(;;){var prev=toPrevTag(iter);if(!prev)return;if(prev=="selfClose"){toTagStart(iter);continue}var endLine=iter.line;var endCh=iter.ch;var start=toTagStart(iter);if(!start)return;if(start[1])stack.push(start[2]);else{var i=stack.length-1;for(;i>=0;--i)if(stack[i]==start[2]){stack.length=i;break}if(i<0&&(!tag||tag==start[2]))return{tag:start[2],from:Pos(iter.line,iter.ch),to:Pos(endLine,endCh)}}}}var Pos=CodeMirror.Pos;var nameStartChar="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";
var nameChar=nameStartChar+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040";var xmlTagStart=new RegExp("<(/?)(["+nameStartChar+"]["+nameChar+"]*)","g");CodeMirror.registerHelper("fold","xml",function(cm,start){var iter=new Iter(cm,start.line,0);for(;;){var openTag=toNextTag(iter);if(!openTag||iter.line!=start.line)return;var end=toTagEnd(iter);if(!end)return;if(!openTag[1]&&end!="selfClose"){var startPos=Pos(iter.line,iter.ch);var endPos=findMatchingClose(iter,openTag[2]);return endPos&&cmp(endPos.from,
startPos)>0?{from:startPos,to:endPos.from}:null}}});CodeMirror.findMatchingTag=function(cm,pos,range){var iter=new Iter(cm,pos.line,pos.ch,range);if(iter.text.indexOf(">")==-1&&iter.text.indexOf("<")==-1)return;var end=toTagEnd(iter);var to=end&&Pos(iter.line,iter.ch);var start=end&&toTagStart(iter);if(!end||!start||cmp(iter,pos)>0)return;var here={from:Pos(iter.line,iter.ch),to:to,tag:start[2]};if(end=="selfClose")return{open:here,close:null,at:"open"};if(start[1])return{open:findMatchingOpen(iter,
start[2]),close:here,at:"close"};else{iter=new Iter(cm,to.line,to.ch,range);return{open:here,close:findMatchingClose(iter,start[2]),at:"open"}}};CodeMirror.findEnclosingTag=function(cm,pos,range,tag){var iter=new Iter(cm,pos.line,pos.ch,range);for(;;){var open=findMatchingOpen(iter,tag);if(!open)break;var forward=new Iter(cm,pos.line,pos.ch,range);var close=findMatchingClose(forward,open.tag);if(close)return{open:open,close:close}}};CodeMirror.scanForClosingTag=function(cm,pos,name,end){var iter=
new Iter(cm,pos.line,pos.ch,end?{from:0,to:end}:null);return findMatchingClose(iter,name)}});(function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(_type,content){return/^[;{}]$/.test(content)}});CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(_type,content,textAfter,state){if(this.jsonMode)return/^[\[,{]$/.test(content)||/^}/.test(textAfter);else{if(content==";"&&state.lexical&&state.lexical.type==")")return false;return/^[;{}]$/.test(content)&&!/^;/.test(textAfter)}}});var inlineElements=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;
CodeMirror.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(type,content,textAfter,state){var inline=false;if(this.configuration=="html")inline=state.context?inlineElements.test(state.context.tagName):false;return!inline&&(type=="tag"&&/>$/.test(content)&&state.context||/^</.test(textAfter))}});CodeMirror.defineExtension("commentRange",function(isComment,from,to){var cm=this;var curMode=CodeMirror.innerMode(cm.getMode(),cm.getTokenAt(from).state).mode;cm.operation(function(){if(isComment){cm.replaceRange(curMode.commentEnd,
to);cm.replaceRange(curMode.commentStart,from);if(from.line==to.line&&from.ch==to.ch)cm.setCursor(from.line,from.ch+curMode.commentStart.length)}else{var selText=cm.getRange(from,to);var startIndex=selText.indexOf(curMode.commentStart);var endIndex=selText.lastIndexOf(curMode.commentEnd);if(startIndex>-1&&endIndex>-1&&endIndex>startIndex)selText=selText.substr(0,startIndex)+selText.substring(startIndex+curMode.commentStart.length,endIndex)+selText.substr(endIndex+curMode.commentEnd.length);cm.replaceRange(selText,
from,to)}})});CodeMirror.defineExtension("autoIndentRange",function(from,to){var cmInstance=this;this.operation(function(){var i=from.line;for(;i<=to.line;i++)cmInstance.indentLine(i,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(from,to){function newline(){out=out+"\n";atSol=true;++lines}var cm=this;var outer=cm.getMode();var text=cm.getRange(from,to).split("\n");var state=CodeMirror.copyState(outer,cm.getTokenAt(from).state);var tabSize=cm.getOption("tabSize");var out="";var lines=
0;var atSol=from.ch==0;var i=0;for(;i<text.length;++i){var stream=new CodeMirror.StringStream(text[i],tabSize);for(;!stream.eol();){var inner=CodeMirror.innerMode(outer,state);var style=outer.token(stream,state);var cur=stream.current();stream.start=stream.pos;if(!atSol||/\S/.test(cur)){out=out+cur;atSol=false}if(!atSol&&inner.mode.newlineAfterToken&&inner.mode.newlineAfterToken(style,cur,stream.string.slice(stream.pos)||text[i+1]||"",inner.state))newline()}if(!stream.pos&&outer.blankLine)outer.blankLine(state);
if(!atSol&&i<text.length-1)newline()}cm.operation(function(){cm.replaceRange(out,from,to);var cur=from.line+1;var end=from.line+lines;for(;cur<=end;++cur)cm.indentLine(cur,"smart");cm.setSelection(from,cm.getCursor(false))})})})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),"cjs");else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],function(CM){mod(CM,"amd")});else mod(CodeMirror,"plain")})(function(CodeMirror,env){function splitCallback(cont,n){var countDown=n;return function(){if(--countDown==0)cont()}}function ensureDeps(mode,cont,options){var modeObj=CodeMirror.modes[mode];var deps=modeObj&&modeObj.dependencies;if(!deps)return cont();
var missing=[];var i=0;for(;i<deps.length;++i)if(!CodeMirror.modes.hasOwnProperty(deps[i]))missing.push(deps[i]);if(!missing.length)return cont();var split=splitCallback(cont,missing.length);i=0;for(;i<missing.length;++i)CodeMirror.requireMode(missing[i],split,options)}if(!CodeMirror.modeURL)CodeMirror.modeURL="../mode/%N/%N.js";var loading={};CodeMirror.requireMode=function(mode,cont,options){if(typeof mode!="string")mode=mode.name;if(CodeMirror.modes.hasOwnProperty(mode))return ensureDeps(mode,
cont,options);if(loading.hasOwnProperty(mode))return loading[mode].push(cont);var file=options&&options.path?options.path(mode):CodeMirror.modeURL.replace(/%N/g,mode);if(options&&options.loadMode)options.loadMode(file,function(){ensureDeps(mode,cont,options)});else if(env=="plain"){var script=document.createElement("script");script.src=file;var others=document.getElementsByTagName("script")[0];var list=loading[mode]=[cont];CodeMirror.on(script,"load",function(){ensureDeps(mode,function(){var i=0;
for(;i<list.length;++i)list[i]()},options)});others.parentNode.insertBefore(script,others)}else if(env=="cjs"){require(file);cont()}else if(env=="amd")requirejs([file],cont)};CodeMirror.autoLoadMode=function(instance,mode,options){if(!CodeMirror.modes.hasOwnProperty(mode))CodeMirror.requireMode(mode,function(){instance.setOption("mode",instance.getOption("mode"))},options)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.multiplexingMode=function(outer){function indexOf(string,pattern,from,returnEnd){if(typeof pattern=="string"){var found=string.indexOf(pattern,from);return returnEnd&&found>-1?found+pattern.length:found}var m=pattern.exec(from?string.slice(from):string);return m?
m.index+from+(returnEnd?m[0].length:0):-1}var others=Array.prototype.slice.call(arguments,1);return{startState:function(){return{outer:CodeMirror.startState(outer),innerActive:null,inner:null,startingInner:false}},copyState:function(state){return{outer:CodeMirror.copyState(outer,state.outer),innerActive:state.innerActive,inner:state.innerActive&&CodeMirror.copyState(state.innerActive.mode,state.inner),startingInner:state.startingInner}},token:function(stream,state){if(!state.innerActive){var cutOff=
Infinity;var oldContent=stream.string;var i=0;for(;i<others.length;++i){var other=others[i];var found=indexOf(oldContent,other.open,stream.pos);if(found==stream.pos){if(!other.parseDelimiters)stream.match(other.open);state.startingInner=!!other.parseDelimiters;state.innerActive=other;var outerIndent=0;if(outer.indent){var possibleOuterIndent=outer.indent(state.outer,"","");if(possibleOuterIndent!==CodeMirror.Pass)outerIndent=possibleOuterIndent}state.inner=CodeMirror.startState(other.mode,outerIndent);
return other.delimStyle&&other.delimStyle+" "+other.delimStyle+"-open"}else if(found!=-1&&found<cutOff)cutOff=found}if(cutOff!=Infinity)stream.string=oldContent.slice(0,cutOff);var outerToken=outer.token(stream,state.outer);if(cutOff!=Infinity)stream.string=oldContent;return outerToken}else{var curInner=state.innerActive;oldContent=stream.string;if(!curInner.close&&stream.sol()){state.innerActive=state.inner=null;return this.token(stream,state)}found=curInner.close&&!state.startingInner?indexOf(oldContent,
curInner.close,stream.pos,curInner.parseDelimiters):-1;if(found==stream.pos&&!curInner.parseDelimiters){stream.match(curInner.close);state.innerActive=state.inner=null;return curInner.delimStyle&&curInner.delimStyle+" "+curInner.delimStyle+"-close"}if(found>-1)stream.string=oldContent.slice(0,found);var innerToken=curInner.mode.token(stream,state.inner);if(found>-1)stream.string=oldContent;else if(stream.pos>stream.start)state.startingInner=false;if(found==stream.pos&&curInner.parseDelimiters)state.innerActive=
state.inner=null;if(curInner.innerStyle)if(innerToken)innerToken=innerToken+" "+curInner.innerStyle;else innerToken=curInner.innerStyle;return innerToken}},indent:function(state,textAfter,line){var mode=state.innerActive?state.innerActive.mode:outer;if(!mode.indent)return CodeMirror.Pass;return mode.indent(state.innerActive?state.inner:state.outer,textAfter,line)},blankLine:function(state){var mode=state.innerActive?state.innerActive.mode:outer;if(mode.blankLine)mode.blankLine(state.innerActive?state.inner:
state.outer);if(!state.innerActive){var i=0;for(;i<others.length;++i){var other=others[i];if(other.open==="\n"){state.innerActive=other;state.inner=CodeMirror.startState(other.mode,mode.indent?mode.indent(state.outer,"",""):0)}}}else if(state.innerActive.close==="\n")state.innerActive=state.inner=null},electricChars:outer.electricChars,innerMode:function(state){return state.inner?{state:state.inner,mode:state.innerActive.mode}:{state:state.outer,mode:outer}}}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.overlayMode=function(base,overlay,combine){return{startState:function(){return{base:CodeMirror.startState(base),overlay:CodeMirror.startState(overlay),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(state){return{base:CodeMirror.copyState(base,
state.base),overlay:CodeMirror.copyState(overlay,state.overlay),basePos:state.basePos,baseCur:null,overlayPos:state.overlayPos,overlayCur:null}},token:function(stream,state){if(stream!=state.streamSeen||Math.min(state.basePos,state.overlayPos)<stream.start){state.streamSeen=stream;state.basePos=state.overlayPos=stream.start}if(stream.start==state.basePos){state.baseCur=base.token(stream,state.base);state.basePos=stream.pos}if(stream.start==state.overlayPos){stream.pos=stream.start;state.overlayCur=
overlay.token(stream,state.overlay);state.overlayPos=stream.pos}stream.pos=Math.min(state.basePos,state.overlayPos);if(state.overlayCur==null)return state.baseCur;else if(state.baseCur!=null&&state.overlay.combineTokens||combine&&state.overlay.combineTokens==null)return state.baseCur+" "+state.overlayCur;else return state.overlayCur},indent:base.indent&&function(state,textAfter,line){return base.indent(state.base,textAfter,line)},electricChars:base.electricChars,innerMode:function(state){return{state:state.base,
mode:base}},blankLine:function(state){var baseToken;var overlayToken;if(base.blankLine)baseToken=base.blankLine(state.base);if(overlay.blankLine)overlayToken=overlay.blankLine(state.overlay);return overlayToken==null?baseToken:combine&&baseToken!=null?baseToken+" "+overlayToken:overlayToken}}}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function ensureState(states,name){if(!states.hasOwnProperty(name))throw new Error("Undefined state "+name+" in simple mode");}function toRegex(val,caret){if(!val)return/(?:)/;var flags="";if(val instanceof RegExp){if(val.ignoreCase)flags="i";if(val.unicode)flags=flags+
"u";val=val.source}else val=String(val);return new RegExp((caret===false?"":"^")+"(?:"+val+")",flags)}function asToken(val){if(!val)return null;if(val.apply)return val;if(typeof val=="string")return val.replace(/\./g," ");var result=[];var i=0;for(;i<val.length;i++)result.push(val[i]&&val[i].replace(/\./g," "));return result}function Rule(data,states){if(data.next||data.push)ensureState(states,data.next||data.push);this.regex=toRegex(data.regex);this.token=asToken(data.token);this.data=data}function tokenFunction(states,
config){return function(stream,state){if(state.pending){var pend=state.pending.shift();if(state.pending.length==0)state.pending=null;stream.pos+=pend.text.length;return pend.token}if(state.local)if(state.local.end&&stream.match(state.local.end)){var tok=state.local.endToken||null;state.local=state.localState=null;return tok}else{tok=state.local.mode.token(stream,state.localState);var m;if(state.local.endScan&&(m=state.local.endScan.exec(stream.current())))stream.pos=stream.start+m.index;return tok}var curState=
states[state.state];var i=0;for(;i<curState.length;i++){var rule=curState[i];var matches=(!rule.data.sol||stream.sol())&&stream.match(rule.regex);if(matches){if(rule.data.next)state.state=rule.data.next;else if(rule.data.push){(state.stack||(state.stack=[])).push(state.state);state.state=rule.data.push}else if(rule.data.pop&&state.stack&&state.stack.length)state.state=state.stack.pop();if(rule.data.mode)enterLocalMode(config,state,rule.data.mode,rule.token);if(rule.data.indent)state.indent.push(stream.indentation()+
config.indentUnit);if(rule.data.dedent)state.indent.pop();var token=rule.token;if(token&&token.apply)token=token(matches);if(matches.length>2&&rule.token&&typeof rule.token!="string"){var j=2;for(;j<matches.length;j++)if(matches[j])(state.pending||(state.pending=[])).push({text:matches[j],token:rule.token[j-1]});stream.backUp(matches[0].length-(matches[1]?matches[1].length:0));return token[0]}else if(token&&token.join)return token[0];else return token}}stream.next();return null}}function cmp(a,b){if(a===
b)return true;if(!a||typeof a!="object"||!b||typeof b!="object")return false;var props=0;var prop;for(prop in a)if(a.hasOwnProperty(prop)){if(!b.hasOwnProperty(prop)||!cmp(a[prop],b[prop]))return false;props++}for(prop in b)if(b.hasOwnProperty(prop))props--;return props==0}function enterLocalMode(config,state,spec,token){var pers;if(spec.persistent){var p=state.persistentStates;for(;p&&!pers;p=p.next)if(spec.spec?cmp(spec.spec,p.spec):spec.mode==p.mode)pers=p}var mode=pers?pers.mode:spec.mode||CodeMirror.getMode(config,
spec.spec);var lState=pers?pers.state:CodeMirror.startState(mode);if(spec.persistent&&!pers)state.persistentStates={mode:mode,spec:spec.spec,state:lState,next:state.persistentStates};state.localState=lState;state.local={mode:mode,end:spec.end&&toRegex(spec.end),endScan:spec.end&&spec.forceEnd!==false&&toRegex(spec.end,false),endToken:token&&token.join?token[token.length-1]:token}}function indexOf(val,arr){var i=0;for(;i<arr.length;i++)if(arr[i]===val)return true}function indentFunction(states,meta){return function(state,
textAfter,line){if(state.local&&state.local.mode.indent)return state.local.mode.indent(state.localState,textAfter,line);if(state.indent==null||state.local||meta.dontIndentStates&&indexOf(state.state,meta.dontIndentStates)>-1)return CodeMirror.Pass;var pos=state.indent.length-1;var rules=states[state.state];scan:for(;;){var i=0;for(;i<rules.length;i++){var rule=rules[i];if(rule.data.dedent&&rule.data.dedentIfLineStart!==false){var m=rule.regex.exec(textAfter);if(m&&m[0]){pos--;if(rule.next||rule.push)rules=
states[rule.next||rule.push];textAfter=textAfter.slice(m[0].length);continue scan}}}break}return pos<0?0:state.indent[pos]}}CodeMirror.defineSimpleMode=function(name,states){CodeMirror.defineMode(name,function(config){return CodeMirror.simpleMode(config,states)})};CodeMirror.simpleMode=function(config,states){ensureState(states,"start");var states_={};var meta=states.meta||{};var hasIndentation=false;var state;for(state in states)if(state!=meta&&states.hasOwnProperty(state)){var list=states_[state]=
[];var orig=states[state];var i=0;for(;i<orig.length;i++){var data=orig[i];list.push(new Rule(data,states));if(data.indent||data.dedent)hasIndentation=true}}var mode={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:hasIndentation?[]:null}},copyState:function(state){var s={state:state.state,pending:state.pending,local:state.local,localState:null,indent:state.indent&&state.indent.slice(0)};if(state.localState)s.localState=CodeMirror.copyState(state.local.mode,
state.localState);if(state.stack)s.stack=state.stack.slice(0);var pers=state.persistentStates;for(;pers;pers=pers.next)s.persistentStates={mode:pers.mode,spec:pers.spec,state:pers.state==state.localState?s.localState:CodeMirror.copyState(pers.mode,pers.state),next:s.persistentStates};return s},token:tokenFunction(states_,config),innerMode:function(state){return state.local&&{mode:state.local.mode,state:state.localState}},indent:indentFunction(states_,meta)};if(meta){var prop;for(prop in meta)if(meta.hasOwnProperty(prop))mode[prop]=
meta[prop]}return mode}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){var WORD=/[\w$]+/;var RANGE=500;CodeMirror.registerHelper("hint","anyword",function(editor,options){var word=options&&options.word||WORD;var range=options&&options.range||RANGE;var cur=editor.getCursor();var curLine=editor.getLine(cur.line);var end=cur.ch;var start=end;
for(;start&&word.test(curLine.charAt(start-1));)--start;var curWord=start!=end&&curLine.slice(start,end);var list=options&&options.list||[];var seen={};var re=new RegExp(word.source,"g");var dir=-1;for(;dir<=1;dir=dir+2){var line=cur.line;var endLine=Math.min(Math.max(line+dir*range,editor.firstLine()),editor.lastLine())+dir;for(;line!=endLine;line=line+dir){var text=editor.getLine(line);var m;for(;m=re.exec(text);){if(line==cur.line&&m[0]===curWord)continue;if((!curWord||m[0].lastIndexOf(curWord,
0)==0)&&!Object.prototype.hasOwnProperty.call(seen,m[0])){seen[m[0]]=true;list.push(m[0])}}}}return{list:list,from:CodeMirror.Pos(cur.line,start),to:CodeMirror.Pos(cur.line,end)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../../mode/css/css"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../../mode/css/css"],mod);else mod(CodeMirror)})(function(CodeMirror){var pseudoClasses={"active":1,"after":1,"before":1,"checked":1,"default":1,"disabled":1,"empty":1,"enabled":1,"first-child":1,"first-letter":1,"first-line":1,"first-of-type":1,"focus":1,"hover":1,"in-range":1,"indeterminate":1,
"invalid":1,"lang":1,"last-child":1,"last-of-type":1,"link":1,"not":1,"nth-child":1,"nth-last-child":1,"nth-last-of-type":1,"nth-of-type":1,"only-of-type":1,"only-child":1,"optional":1,"out-of-range":1,"placeholder":1,"read-only":1,"read-write":1,"required":1,"root":1,"selection":1,"target":1,"valid":1,"visited":1};CodeMirror.registerHelper("hint","css",function(cm){function add(keywords){var name;for(name in keywords)if(!word||name.lastIndexOf(word,0)==0)result.push(name)}var cur=cm.getCursor();
var token=cm.getTokenAt(cur);var inner=CodeMirror.innerMode(cm.getMode(),token.state);if(inner.mode.name!="css")return;if(token.type=="keyword"&&"!important".indexOf(token.string)==0)return{list:["!important"],from:CodeMirror.Pos(cur.line,token.start),to:CodeMirror.Pos(cur.line,token.end)};var start=token.start;var end=cur.ch;var word=token.string.slice(0,end-start);if(/[^\w$_-]/.test(word)){word="";start=end=cur.ch}var spec=CodeMirror.resolveMode("text/css");var result=[];var st=inner.state.state;
if(st=="pseudo"||token.type=="variable-3")add(pseudoClasses);else if(st=="block"||st=="maybeprop")add(spec.propertyKeywords);else if(st=="prop"||st=="parens"||st=="at"||st=="params"){add(spec.valueKeywords);add(spec.colorKeywords)}else if(st=="media"||st=="media_parens"){add(spec.mediaTypes);add(spec.mediaFeatures)}if(result.length)return{list:result,from:CodeMirror.Pos(cur.line,start),to:CodeMirror.Pos(cur.line,end)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("./xml-hint"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","./xml-hint"],mod);else mod(CodeMirror)})(function(CodeMirror){function populate(obj){var attr;for(attr in globalAttrs)if(globalAttrs.hasOwnProperty(attr))obj.attrs[attr]=globalAttrs[attr]}function htmlHint(cm,options){var local={schemaInfo:data};if(options){var opt;for(opt in options)local[opt]=
options[opt]}return CodeMirror.hint.xml(cm,local)}var langs="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" ");
var targets=["_blank","_self","_top","_parent"];var charsets=["ascii","utf-8","utf-16","latin1","latin1"];var methods=["get","post","put","delete"];var encs=["application/x-www-form-urlencoded","multipart/form-data","text/plain"];var media=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"];
var s={attrs:{}};var data={a:{attrs:{href:null,ping:null,type:null,media:media,target:targets,hreflang:langs}},abbr:s,acronym:s,address:s,applet:s,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:media,hreflang:langs,type:null,shape:["default","rect","circle","poly"]}},article:s,aside:s,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:s,
base:{attrs:{href:null,target:targets}},basefont:s,bdi:s,bdo:s,big:s,blockquote:{attrs:{cite:null}},body:s,br:s,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:encs,formmethod:methods,formnovalidate:["","novalidate"],formtarget:targets,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:s,center:s,cite:s,code:s,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command",
"checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:s,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:s,dir:s,div:s,dialog:{attrs:{open:null}},dl:s,dt:s,em:s,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["",
"disabled"],form:null,name:null}},figcaption:s,figure:s,font:s,footer:s,form:{attrs:{action:null,name:null,"accept-charset":charsets,autocomplete:["on","off"],enctype:encs,method:methods,novalidate:["","novalidate"],target:targets}},frame:s,frameset:s,h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:s,hgroup:s,hr:s,html:{attrs:{manifest:null},children:["head","body"]},i:s,iframe:{attrs:{src:null,srcdoc:null,name:null,
width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],
autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:encs,formmethod:methods,formnovalidate:["","novalidate"],formtarget:targets,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},
kbd:s,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{"for":null,form:null}},legend:s,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:langs,media:media,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:s,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:charsets,name:["viewport","application-name","author","description",
"generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:s,noframes:s,noscript:s,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],
label:null,selected:["","selected"],value:null}},output:{attrs:{"for":null,form:null,name:null}},p:s,param:{attrs:{name:null,value:null}},pre:s,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:s,rt:s,ruby:s,s:s,samp:s,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:charsets}},section:s,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:s,source:{attrs:{src:null,
type:null,media:null}},span:s,strike:s,strong:s,style:{attrs:{type:["text/css"],media:media,scoped:null}},sub:s,summary:s,sup:s,table:s,tbody:s,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:s,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup",
"colgroup"]}},thead:s,time:{attrs:{datetime:null}},title:s,tr:s,track:{attrs:{src:null,label:null,"default":null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:langs}},tt:s,u:s,ul:s,"var":s,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:s};var globalAttrs={accesskey:["a","b","c","d","e",
"f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],"class":null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],autocorrect:["true","false"],autocapitalize:["true",
"false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};populate(s);var tag;for(tag in data)if(data.hasOwnProperty(tag)&&data[tag]!=s)populate(data[tag]);CodeMirror.htmlSchema=data;CodeMirror.registerHelper("hint","html",htmlHint)});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function forEach(arr,f){var i=0;var e=arr.length;for(;i<e;++i)f(arr[i])}function arrayContains(arr,item){if(!Array.prototype.indexOf){var i=arr.length;for(;i--;)if(arr[i]===item)return true;return false}return arr.indexOf(item)!=-1}function scriptHint(editor,keywords,getToken,
options){var cur=editor.getCursor();var token=getToken(editor,cur);if(/\b(?:string|comment)\b/.test(token.type))return;var innerMode=CodeMirror.innerMode(editor.getMode(),token.state);if(innerMode.mode.helperType==="json")return;token.state=innerMode.state;if(!/^[\w$_]*$/.test(token.string))token={start:cur.ch,end:cur.ch,string:"",state:token.state,type:token.string=="."?"property":null};else if(token.end>cur.ch){token.end=cur.ch;token.string=token.string.slice(0,cur.ch-token.start)}var tprop=token;
for(;tprop.type=="property";){tprop=getToken(editor,Pos(cur.line,tprop.start));if(tprop.string!=".")return;tprop=getToken(editor,Pos(cur.line,tprop.start));if(!context)var context=[];context.push(tprop)}return{list:getCompletions(token,context,keywords,options),from:Pos(cur.line,token.start),to:Pos(cur.line,token.end)}}function javascriptHint(editor,options){return scriptHint(editor,javascriptKeywords,function(e,cur){return e.getTokenAt(cur)},options)}function getCoffeeScriptToken(editor,cur){var token=
editor.getTokenAt(cur);if(cur.ch==token.start+1&&token.string.charAt(0)=="."){token.end=token.start;token.string=".";token.type="property"}else if(/^\.[\w$_]*$/.test(token.string)){token.type="property";token.start++;token.string=token.string.replace(/\./,"")}return token}function coffeescriptHint(editor,options){return scriptHint(editor,coffeescriptKeywords,getCoffeeScriptToken,options)}function forAllProps(obj,callback){if(!Object.getOwnPropertyNames||!Object.getPrototypeOf){var name;for(name in obj)callback(name)}else{var o=
obj;for(;o;o=Object.getPrototypeOf(o))Object.getOwnPropertyNames(o).forEach(callback)}}function getCompletions(token,context,keywords,options){function maybeAdd(str){if(str.lastIndexOf(start,0)==0&&!arrayContains(found,str))found.push(str)}function gatherCompletions(obj){if(typeof obj=="string")forEach(stringProps,maybeAdd);else if(obj instanceof Array)forEach(arrayProps,maybeAdd);else if(obj instanceof Function)forEach(funcProps,maybeAdd);forAllProps(obj,maybeAdd)}var found=[];var start=token.string;
var global=options&&options.globalScope||window;if(context&&context.length){var obj=context.pop();var base;if(obj.type&&obj.type.indexOf("variable")===0){if(options&&options.additionalContext)base=options.additionalContext[obj.string];if(!options||options.useGlobalScope!==false)base=base||global[obj.string]}else if(obj.type=="string")base="";else if(obj.type=="atom")base=1;else if(obj.type=="function")if(global.jQuery!=null&&(obj.string=="$"||obj.string=="jQuery")&&typeof global.jQuery=="function")base=
global.jQuery();else if(global._!=null&&obj.string=="_"&&typeof global._=="function")base=global._();for(;base!=null&&context.length;)base=base[context.pop().string];if(base!=null)gatherCompletions(base)}else{var v=token.state.localVars;for(;v;v=v.next)maybeAdd(v.name);var c=token.state.context;for(;c;c=c.prev){v=c.vars;for(;v;v=v.next)maybeAdd(v.name)}v=token.state.globalVars;for(;v;v=v.next)maybeAdd(v.name);if(options&&options.additionalContext!=null){var key;for(key in options.additionalContext)maybeAdd(key)}if(!options||
options.useGlobalScope!==false)gatherCompletions(global);forEach(keywords,maybeAdd)}return found}var Pos=CodeMirror.Pos;CodeMirror.registerHelper("hint","javascript",javascriptHint);CodeMirror.registerHelper("hint","coffeescript",coffeescriptHint);var stringProps=("charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight "+"toUpperCase toLowerCase split concat match replace search").split(" ");var arrayProps=("length concat join splice push pop shift unshift slice reverse sort indexOf "+
"lastIndexOf every some filter forEach map reduce reduceRight ").split(" ");var funcProps="prototype apply call bind".split(" ");var javascriptKeywords=("break case catch class const continue debugger default delete do else export extends false finally for function "+"if in import instanceof new null return super switch this throw true try typeof var void while with yield").split(" ");var coffeescriptKeywords=("and break catch class continue delete do else extends false finally for "+"if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes").split(" ")});(function(){function forEach(arr,f){var i=0;var e=arr.length;for(;i<e;++i)f(arr[i])}function arrayContains(arr,item){if(!Array.prototype.indexOf){var i=arr.length;for(;i--;)if(arr[i]===item)return true;return false}return arr.indexOf(item)!=-1}function scriptHint(editor,_keywords,getToken){var cur=editor.getCursor();var token=getToken(editor,cur);var tprop=token;if(!/^[\w$_]*$/.test(token.string))token=tprop={start:cur.ch,end:cur.ch,string:"",state:token.state,className:token.string==":"?"pig-type":
null};if(!context)var context=[];context.push(tprop);var completionList=getCompletions(token,context);completionList=completionList.sort();if(completionList.length==1)completionList.push(" ");return{list:completionList,from:CodeMirror.Pos(cur.line,token.start),to:CodeMirror.Pos(cur.line,token.end)}}function pigHint(editor){return scriptHint(editor,pigKeywordsU,function(e,cur){return e.getTokenAt(cur)})}function getCompletions(token,context){function maybeAdd(str){if(str.lastIndexOf(start,0)==0&&!arrayContains(found,
str))found.push(str)}function gatherCompletions(obj){if(obj==":")forEach(pigTypesL,maybeAdd);else{forEach(pigBuiltinsU,maybeAdd);forEach(pigBuiltinsL,maybeAdd);forEach(pigBuiltinsC,maybeAdd);forEach(pigTypesU,maybeAdd);forEach(pigTypesL,maybeAdd);forEach(pigKeywordsU,maybeAdd);forEach(pigKeywordsL,maybeAdd)}}var found=[];var start=token.string;if(context){var obj=context.pop();var base;if(obj.type=="variable")base=obj.string;else if(obj.type=="variable-3")base=":"+obj.string;for(;base!=null&&context.length;)base=
base[context.pop().string];if(base!=null)gatherCompletions(base)}return found}CodeMirror.pigHint=pigHint;CodeMirror.registerHelper("hint","pig",pigHint);var pigKeywords="VOID IMPORT RETURNS DEFINE LOAD FILTER FOREACH ORDER CUBE DISTINCT COGROUP "+"JOIN CROSS UNION SPLIT INTO IF OTHERWISE ALL AS BY USING INNER OUTER ONSCHEMA PARALLEL "+"PARTITION GROUP AND OR NOT GENERATE FLATTEN ASC DESC IS STREAM THROUGH STORE MAPREDUCE "+"SHIP CACHE INPUT OUTPUT STDERROR STDIN STDOUT LIMIT SAMPLE LEFT RIGHT FULL EQ GT LT GTE LTE "+
"NEQ MATCHES TRUE FALSE";var pigKeywordsU=pigKeywords.split(" ");var pigKeywordsL=pigKeywords.toLowerCase().split(" ");var pigTypes="BOOLEAN INT LONG FLOAT DOUBLE CHARARRAY BYTEARRAY BAG TUPLE MAP";var pigTypesU=pigTypes.split(" ");var pigTypesL=pigTypes.toLowerCase().split(" ");var pigBuiltins="ABS ACOS ARITY ASIN ATAN AVG BAGSIZE BINSTORAGE BLOOM BUILDBLOOM CBRT CEIL "+"CONCAT COR COS COSH COUNT COUNT_STAR COV CONSTANTSIZE CUBEDIMENSIONS DIFF DISTINCT DOUBLEABS "+"DOUBLEAVG DOUBLEBASE DOUBLEMAX DOUBLEMIN DOUBLEROUND DOUBLESUM EXP FLOOR FLOATABS FLOATAVG "+
"FLOATMAX FLOATMIN FLOATROUND FLOATSUM GENERICINVOKER INDEXOF INTABS INTAVG INTMAX INTMIN "+"INTSUM INVOKEFORDOUBLE INVOKEFORFLOAT INVOKEFORINT INVOKEFORLONG INVOKEFORSTRING INVOKER "+"ISEMPTY JSONLOADER JSONMETADATA JSONSTORAGE LAST_INDEX_OF LCFIRST LOG LOG10 LOWER LONGABS "+"LONGAVG LONGMAX LONGMIN LONGSUM MAX MIN MAPSIZE MONITOREDUDF NONDETERMINISTIC OUTPUTSCHEMA  "+"PIGSTORAGE PIGSTREAMING RANDOM REGEX_EXTRACT REGEX_EXTRACT_ALL REPLACE ROUND SIN SINH SIZE "+"SQRT STRSPLIT SUBSTRING SUM STRINGCONCAT STRINGMAX STRINGMIN STRINGSIZE TAN TANH TOBAG "+
"TOKENIZE TOMAP TOP TOTUPLE TRIM TEXTLOADER TUPLESIZE UCFIRST UPPER UTF8STORAGECONVERTER";var pigBuiltinsU=pigBuiltins.split(" ").join("() ").split(" ");var pigBuiltinsL=pigBuiltins.toLowerCase().split(" ").join("() ").split(" ");var pigBuiltinsC=("BagSize BinStorage Bloom BuildBloom ConstantSize CubeDimensions DoubleAbs "+"DoubleAvg DoubleBase DoubleMax DoubleMin DoubleRound DoubleSum FloatAbs FloatAvg FloatMax "+"FloatMin FloatRound FloatSum GenericInvoker IntAbs IntAvg IntMax IntMin IntSum "+"InvokeForDouble InvokeForFloat InvokeForInt InvokeForLong InvokeForString Invoker "+
"IsEmpty JsonLoader JsonMetadata JsonStorage LongAbs LongAvg LongMax LongMin LongSum MapSize "+"MonitoredUDF Nondeterministic OutputSchema PigStorage PigStreaming StringConcat StringMax "+"StringMin StringSize TextLoader TupleSize Utf8StorageConverter").split(" ").join("() ").split(" ")})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function Completion(cm,options){this.cm=cm;this.options=options;this.widget=null;this.debounce=0;this.tick=0;this.startPos=this.cm.getCursor("start");this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;if(this.options.updateOnCursorActivity){var self=
this;cm.on("cursorActivity",this.activityFunc=function(){self.cursorActivity()})}}function parseOptions(cm,pos,options){var editor=cm.options.hintOptions;var out={};var prop;for(prop in defaultOptions)out[prop]=defaultOptions[prop];if(editor)for(prop in editor)if(editor[prop]!==undefined)out[prop]=editor[prop];if(options)for(prop in options)if(options[prop]!==undefined)out[prop]=options[prop];if(out.hint.resolve)out.hint=out.hint.resolve(cm,pos);return out}function getText(completion){if(typeof completion==
"string")return completion;else return completion.text}function buildKeyMap(completion,handle){function addBinding(key,val){var bound;if(typeof val!="string")bound=function(cm){return val(cm,handle)};else if(baseMap.hasOwnProperty(val))bound=baseMap[val];else bound=val;ourMap[key]=bound}var baseMap={Up:function(){handle.moveFocus(-1)},Down:function(){handle.moveFocus(1)},PageUp:function(){handle.moveFocus(-handle.menuSize()+1,true)},PageDown:function(){handle.moveFocus(handle.menuSize()-1,true)},
Home:function(){handle.setFocus(0)},End:function(){handle.setFocus(handle.length-1)},Enter:handle.pick,Tab:handle.pick,Esc:handle.close};var mac=/Mac/.test(navigator.platform);if(mac){baseMap["Ctrl-P"]=function(){handle.moveFocus(-1)};baseMap["Ctrl-N"]=function(){handle.moveFocus(1)}}var custom=completion.options.customKeys;var ourMap=custom?{}:baseMap;if(custom){var key;for(key in custom)if(custom.hasOwnProperty(key))addBinding(key,custom[key])}var extra=completion.options.extraKeys;if(extra)for(key in extra)if(extra.hasOwnProperty(key))addBinding(key,
extra[key]);return ourMap}function getHintElement(hintsElement,el){for(;el&&el!=hintsElement;){if(el.nodeName.toUpperCase()==="LI"&&el.parentNode==hintsElement)return el;el=el.parentNode}}function Widget(completion,data){this.id="cm-complete-"+nextId++;this.completion=completion;this.data=data;this.picked=false;var widget=this;var cm=completion.cm;var ownerDocument=cm.getInputField().ownerDocument;var parentWindow=ownerDocument.defaultView||ownerDocument.parentWindow;var hints=this.hints=ownerDocument.createElement("ul");
hints.setAttribute("role","listbox");hints.setAttribute("aria-expanded","true");hints.id=this.id;var theme=completion.cm.options.theme;hints.className="CodeMirror-hints "+theme;this.selectedHint=data.selectedHint||0;var completions=data.list;var i=0;for(;i<completions.length;++i){var elt=hints.appendChild(ownerDocument.createElement("li"));var cur=completions[i];var className=HINT_ELEMENT_CLASS+(i!=this.selectedHint?"":" "+ACTIVE_HINT_ELEMENT_CLASS);if(cur.className!=null)className=cur.className+
" "+className;elt.className=className;if(i==this.selectedHint)elt.setAttribute("aria-selected","true");elt.id=this.id+"-"+i;elt.setAttribute("role","option");if(cur.render)cur.render(elt,data,cur);else elt.appendChild(ownerDocument.createTextNode(cur.displayText||getText(cur)));elt.hintId=i}var container=completion.options.container||ownerDocument.body;var pos=cm.cursorCoords(completion.options.alignWithWord?data.from:null);var left=pos.left;var top=pos.bottom;var below=true;var offsetLeft=0;var offsetTop=
0;if(container!==ownerDocument.body){var isContainerPositioned=["absolute","relative","fixed"].indexOf(parentWindow.getComputedStyle(container).position)!==-1;var offsetParent=isContainerPositioned?container:container.offsetParent;var offsetParentPosition=offsetParent.getBoundingClientRect();var bodyPosition=ownerDocument.body.getBoundingClientRect();offsetLeft=offsetParentPosition.left-bodyPosition.left-offsetParent.scrollLeft;offsetTop=offsetParentPosition.top-bodyPosition.top-offsetParent.scrollTop}hints.style.left=
left-offsetLeft+"px";hints.style.top=top-offsetTop+"px";var winW=parentWindow.innerWidth||Math.max(ownerDocument.body.offsetWidth,ownerDocument.documentElement.offsetWidth);var winH=parentWindow.innerHeight||Math.max(ownerDocument.body.offsetHeight,ownerDocument.documentElement.offsetHeight);container.appendChild(hints);cm.getInputField().setAttribute("aria-autocomplete","list");cm.getInputField().setAttribute("aria-owns",this.id);cm.getInputField().setAttribute("aria-activedescendant",this.id+"-"+
this.selectedHint);var box=completion.options.moveOnOverlap?hints.getBoundingClientRect():new DOMRect;var scrolls=completion.options.paddingForScrollbar?hints.scrollHeight>hints.clientHeight+1:false;var startScroll;setTimeout(function(){startScroll=cm.getScrollInfo()});var overlapY=box.bottom-winH;if(overlapY>0){var height=box.bottom-box.top;var curTop=pos.top-(pos.bottom-box.top);if(curTop-height>0){hints.style.top=(top=pos.top-height-offsetTop)+"px";below=false}else if(height>winH){hints.style.height=
winH-5+"px";hints.style.top=(top=pos.bottom-box.top-offsetTop)+"px";var cursor=cm.getCursor();if(data.from.ch!=cursor.ch){pos=cm.cursorCoords(cursor);hints.style.left=(left=pos.left-offsetLeft)+"px";box=hints.getBoundingClientRect()}}}var overlapX=box.right-winW;if(scrolls)overlapX=overlapX+cm.display.nativeBarWidth;if(overlapX>0){if(box.right-box.left>winW){hints.style.width=winW-5+"px";overlapX=overlapX-(box.right-box.left-winW)}hints.style.left=(left=Math.max(pos.left-overlapX-offsetLeft,0))+"px"}if(scrolls){var node=
hints.firstChild;for(;node;node=node.nextSibling)node.style.paddingRight=cm.display.nativeBarWidth+"px"}cm.addKeyMap(this.keyMap=buildKeyMap(completion,{moveFocus:function(n,avoidWrap){widget.changeActive(widget.selectedHint+n,avoidWrap)},setFocus:function(n){widget.changeActive(n)},menuSize:function(){return widget.screenAmount()},length:completions.length,close:function(){completion.close()},pick:function(){widget.pick()},data:data}));if(completion.options.closeOnUnfocus){var closingOnBlur;cm.on("blur",
this.onBlur=function(){closingOnBlur=setTimeout(function(){completion.close()},100)});cm.on("focus",this.onFocus=function(){clearTimeout(closingOnBlur)})}cm.on("scroll",this.onScroll=function(){var curScroll=cm.getScrollInfo();var editor=cm.getWrapperElement().getBoundingClientRect();if(!startScroll)startScroll=cm.getScrollInfo();var newTop=top+startScroll.top-curScroll.top;var point=newTop-(parentWindow.pageYOffset||(ownerDocument.documentElement||ownerDocument.body).scrollTop);if(!below)point=point+
hints.offsetHeight;if(point<=editor.top||point>=editor.bottom)return completion.close();hints.style.top=newTop+"px";hints.style.left=left+startScroll.left-curScroll.left+"px"});CodeMirror.on(hints,"dblclick",function(e){var t=getHintElement(hints,e.target||e.srcElement);if(t&&t.hintId!=null){widget.changeActive(t.hintId);widget.pick()}});CodeMirror.on(hints,"click",function(e){var t=getHintElement(hints,e.target||e.srcElement);if(t&&t.hintId!=null){widget.changeActive(t.hintId);if(completion.options.completeOnSingleClick)widget.pick()}});
CodeMirror.on(hints,"mousedown",function(){setTimeout(function(){cm.focus()},20)});var selectedHintRange=this.getSelectedHintRange();if(selectedHintRange.from!==0||selectedHintRange.to!==0)this.scrollToActive();CodeMirror.signal(data,"select",completions[this.selectedHint],hints.childNodes[this.selectedHint]);return true}function applicableHelpers(cm,helpers){if(!cm.somethingSelected())return helpers;var result=[];var i=0;for(;i<helpers.length;i++)if(helpers[i].supportsSelection)result.push(helpers[i]);
return result}function fetchHints(hint,cm,options,callback){if(hint.async)hint(cm,callback,options);else{var result=hint(cm,options);if(result&&result.then)result.then(callback);else callback(result)}}function resolveAutoHints(cm,pos){var helpers=cm.getHelpers(pos,"hint");var words;if(helpers.length){var resolved=function(cm,callback,options){function run(i){if(i==app.length)return callback(null);fetchHints(app[i],cm,options,function(result){if(result&&result.list.length>0)callback(result);else run(i+
1)})}var app=applicableHelpers(cm,helpers);run(0)};resolved.async=true;resolved.supportsSelection=true;return resolved}else if(words=cm.getHelper(cm.getCursor(),"hintWords"))return function(cm){return CodeMirror.hint.fromList(cm,{words:words})};else if(CodeMirror.hint.anyword)return function(cm,options){return CodeMirror.hint.anyword(cm,options)};else return function(){}}var HINT_ELEMENT_CLASS="CodeMirror-hint";var ACTIVE_HINT_ELEMENT_CLASS="CodeMirror-hint-active";CodeMirror.showHint=function(cm,
getHints,options){if(!getHints)return cm.showHint(options);if(options&&options.async)getHints.async=true;var newOpts={hint:getHints};if(options){var prop;for(prop in options)newOpts[prop]=options[prop]}return cm.showHint(newOpts)};CodeMirror.defineExtension("showHint",function(options){options=parseOptions(this,this.getCursor("start"),options);var selections=this.listSelections();if(selections.length>1)return;if(this.somethingSelected()){if(!options.hint.supportsSelection)return;var i=0;for(;i<selections.length;i++)if(selections[i].head.line!=
selections[i].anchor.line)return}if(this.state.completionActive)this.state.completionActive.close();var completion=this.state.completionActive=new Completion(this,options);if(!completion.options.hint)return;CodeMirror.signal(this,"startCompletion",this);completion.update(true)});CodeMirror.defineExtension("closeHint",function(){if(this.state.completionActive)this.state.completionActive.close()});var requestAnimationFrame=window.requestAnimationFrame||function(fn){return setTimeout(fn,1E3/60)};var cancelAnimationFrame=
window.cancelAnimationFrame||clearTimeout;Completion.prototype={close:function(){if(!this.active())return;this.cm.state.completionActive=null;this.tick=null;if(this.options.updateOnCursorActivity)this.cm.off("cursorActivity",this.activityFunc);if(this.widget&&this.data)CodeMirror.signal(this.data,"close");if(this.widget)this.widget.close();CodeMirror.signal(this.cm,"endCompletion",this.cm)},active:function(){return this.cm.state.completionActive==this},pick:function(data,i){var completion=data.list[i];
var self=this;this.cm.operation(function(){if(completion.hint)completion.hint(self.cm,data,completion);else self.cm.replaceRange(getText(completion),completion.from||data.from,completion.to||data.to,"complete");CodeMirror.signal(data,"pick",completion);self.cm.scrollIntoView()});if(this.options.closeOnPick)this.close()},cursorActivity:function(){if(this.debounce){cancelAnimationFrame(this.debounce);this.debounce=0}var identStart=this.startPos;if(this.data)identStart=this.data.from;var pos=this.cm.getCursor();
var line=this.cm.getLine(pos.line);if(pos.line!=this.startPos.line||line.length-pos.ch!=this.startLen-this.startPos.ch||pos.ch<identStart.ch||this.cm.somethingSelected()||(!pos.ch||this.options.closeCharacters.test(line.charAt(pos.ch-1))))this.close();else{var self=this;this.debounce=requestAnimationFrame(function(){self.update()});if(this.widget)this.widget.disable()}},update:function(first){if(this.tick==null)return;var self=this;var myTick=++this.tick;fetchHints(this.options.hint,this.cm,this.options,
function(data){if(self.tick==myTick)self.finishUpdate(data,first)})},finishUpdate:function(data,first){if(this.data)CodeMirror.signal(this.data,"update");var picked=this.widget&&this.widget.picked||first&&this.options.completeSingle;if(this.widget)this.widget.close();this.data=data;if(data&&data.list.length)if(picked&&data.list.length==1)this.pick(data,0);else{this.widget=new Widget(this,data);CodeMirror.signal(data,"shown")}}};var nextId=Math.floor(Math.random(1E6));Widget.prototype={close:function(){if(this.completion.widget!=
this)return;this.completion.widget=null;if(this.hints.parentNode)this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var input=this.completion.cm.getInputField();input.removeAttribute("aria-activedescendant");input.removeAttribute("aria-owns");var cm=this.completion.cm;if(this.completion.options.closeOnUnfocus){cm.off("blur",this.onBlur);cm.off("focus",this.onFocus)}cm.off("scroll",this.onScroll)},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);
var widget=this;this.keyMap={Enter:function(){widget.picked=true}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(i,avoidWrap){if(i>=this.data.list.length)i=avoidWrap?this.data.list.length-1:0;else if(i<0)i=avoidWrap?0:this.data.list.length-1;if(this.selectedHint==i)return;var node=this.hints.childNodes[this.selectedHint];if(node){node.className=node.className.replace(" "+ACTIVE_HINT_ELEMENT_CLASS,"");node.removeAttribute("aria-selected")}node=
this.hints.childNodes[this.selectedHint=i];node.className+=" "+ACTIVE_HINT_ELEMENT_CLASS;node.setAttribute("aria-selected","true");this.completion.cm.getInputField().setAttribute("aria-activedescendant",node.id);this.scrollToActive();CodeMirror.signal(this.data,"select",this.data.list[this.selectedHint],node)},scrollToActive:function(){var selectedHintRange=this.getSelectedHintRange();var node1=this.hints.childNodes[selectedHintRange.from];var node2=this.hints.childNodes[selectedHintRange.to];var firstNode=
this.hints.firstChild;if(node1.offsetTop<this.hints.scrollTop)this.hints.scrollTop=node1.offsetTop-firstNode.offsetTop;else if(node2.offsetTop+node2.offsetHeight>this.hints.scrollTop+this.hints.clientHeight)this.hints.scrollTop=node2.offsetTop+node2.offsetHeight-this.hints.clientHeight+firstNode.offsetTop},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var margin=this.completion.options.scrollMargin||0;return{from:Math.max(0,
this.selectedHint-margin),to:Math.min(this.data.list.length-1,this.selectedHint+margin)}}};CodeMirror.registerHelper("hint","auto",{resolve:resolveAutoHints});CodeMirror.registerHelper("hint","fromList",function(cm,options){var cur=cm.getCursor();var token=cm.getTokenAt(cur);var term;var from=CodeMirror.Pos(cur.line,token.start);var to=cur;if(token.start<cur.ch&&/\w/.test(token.string.charAt(cur.ch-token.start-1)))term=token.string.substr(0,cur.ch-token.start);else{term="";from=cur}var found=[];var i=
0;for(;i<options.words.length;i++){var word=options.words[i];if(word.slice(0,term.length)==term)found.push(word)}if(found.length)return{list:found,from:from,to:to}});CodeMirror.commands.autocomplete=CodeMirror.showHint;var defaultOptions={hint:CodeMirror.hint.auto,completeSingle:true,alignWithWord:true,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:true,closeOnUnfocus:true,updateOnCursorActivity:true,completeOnSingleClick:true,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:true,
moveOnOverlap:true};CodeMirror.defineOption("hintOptions",null)});(function(){CodeMirror.simpleHint=function(editor,getHints,givenOptions){function collectHints(previousToken){function insert(str){editor.replaceRange(str,result.from,result.to)}function close(){if(done)return;done=true;complete.parentNode.removeChild(complete)}function pick(){insert(completions[sel.selectedIndex]);close();setTimeout(function(){editor.focus()},50)}if(editor.somethingSelected())return;var tempToken=editor.getTokenAt(editor.getCursor());if(options.closeOnTokenChange&&previousToken!=
null&&(tempToken.start!=previousToken.start||tempToken.type!=previousToken.type))return;var result=getHints(editor,givenOptions);if(!result||!result.list.length)return;var completions=result.list;if(options.completeSingle&&completions.length==1){insert(completions[0]);return true}var complete=document.createElement("div");complete.className="CodeMirror-completions";var sel=complete.appendChild(document.createElement("select"));if(!window.opera)sel.multiple=true;var i=0;for(;i<completions.length;++i){var opt=
sel.appendChild(document.createElement("option"));opt.appendChild(document.createTextNode(completions[i]))}sel.firstChild.selected=true;sel.size=Math.min(10,completions.length);var pos=editor.cursorCoords(options.alignWithWord?result.from:null);complete.style.left=pos.left+"px";complete.style.top=pos.bottom+"px";document.body.appendChild(complete);var winW=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);if(winW-pos.left<sel.clientWidth)complete.style.left=
pos.left-sel.clientWidth+"px";if(completions.length<=10)complete.style.width=sel.clientWidth-1+"px";var done=false;CodeMirror.on(sel,"blur",close);CodeMirror.on(sel,"keydown",function(event){var code=event.keyCode;if(code==13){CodeMirror.e_stop(event);pick()}else if(code==27){CodeMirror.e_stop(event);close();editor.focus()}else if(code!=38&&code!=40&&code!=33&&code!=34&&!CodeMirror.isModifierKey(event)){close();editor.focus();editor.triggerOnKeyDown(event);if(!options.closeOnBackspace||code!=8)setTimeout(function(){collectHints(tempToken)},
50)}});CodeMirror.on(sel,"dblclick",pick);sel.focus();if(window.opera)setTimeout(function(){if(!done)sel.focus()},100);return true}var options={};var defaults=CodeMirror.simpleHint.defaults;var opt;for(opt in defaults)if(defaults.hasOwnProperty(opt))options[opt]=(givenOptions&&givenOptions.hasOwnProperty(opt)?givenOptions:defaults)[opt];return collectHints()};CodeMirror.simpleHint.defaults={closeOnBackspace:true,closeOnTokenChange:false,completeSingle:true,alignWithWord:true}})();(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("../../mode/sql/sql"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../../mode/sql/sql"],mod);else mod(CodeMirror)})(function(CodeMirror){function isArray(val){return Object.prototype.toString.call(val)=="[object Array]"}function getKeywords(editor){var mode=editor.doc.modeOption;if(mode==="sql")mode="text/x-sql";return CodeMirror.resolveMode(mode).keywords}
function getIdentifierQuote(editor){var mode=editor.doc.modeOption;if(mode==="sql")mode="text/x-sql";return CodeMirror.resolveMode(mode).identifierQuote||"`"}function getText(item){return typeof item=="string"?item:item.text}function wrapTable(name,value){if(isArray(value))value={columns:value};if(!value.text)value.text=name;return value}function parseTables(input){var result={};if(isArray(input)){var i=input.length-1;for(;i>=0;i--){var item=input[i];result[getText(item).toUpperCase()]=wrapTable(getText(item),
item)}}else if(input){var name;for(name in input)result[name.toUpperCase()]=wrapTable(name,input[name])}return result}function getTable(name){return tables[name.toUpperCase()]}function shallowClone(object){var result={};var key;for(key in object)if(object.hasOwnProperty(key))result[key]=object[key];return result}function match(string,word){var len=string.length;var sub=getText(word).substr(0,len);return string.toUpperCase()===sub.toUpperCase()}function addMatches(result,search,wordlist,formatter){if(isArray(wordlist)){var i=
0;for(;i<wordlist.length;i++)if(match(search,wordlist[i]))result.push(formatter(wordlist[i]))}else{var word;for(word in wordlist)if(wordlist.hasOwnProperty(word)){var val=wordlist[word];if(!val||val===true)val=word;else val=val.displayText?{text:val.text,displayText:val.displayText}:val.text;if(match(search,val))result.push(formatter(val))}}}function cleanName(name){if(name.charAt(0)==".")name=name.substr(1);var nameParts=name.split(identifierQuote+identifierQuote);var i=0;for(;i<nameParts.length;i++)nameParts[i]=
nameParts[i].replace(new RegExp(identifierQuote,"g"),"");return nameParts.join(identifierQuote)}function insertIdentifierQuotes(name){var nameParts=getText(name).split(".");var i=0;for(;i<nameParts.length;i++)nameParts[i]=identifierQuote+nameParts[i].replace(new RegExp(identifierQuote,"g"),identifierQuote+identifierQuote)+identifierQuote;var escaped=nameParts.join(".");if(typeof name=="string")return escaped;name=shallowClone(name);name.text=escaped;return name}function nameCompletion(cur,token,result,
editor){var useIdentifierQuotes=false;var nameParts=[];var start=token.start;var cont=true;for(;cont;){cont=token.string.charAt(0)==".";useIdentifierQuotes=useIdentifierQuotes||token.string.charAt(0)==identifierQuote;start=token.start;nameParts.unshift(cleanName(token.string));token=editor.getTokenAt(Pos(cur.line,token.start));if(token.string=="."){cont=true;token=editor.getTokenAt(Pos(cur.line,token.start))}}var string=nameParts.join(".");addMatches(result,string,tables,function(w){return useIdentifierQuotes?
insertIdentifierQuotes(w):w});addMatches(result,string,defaultTable,function(w){return useIdentifierQuotes?insertIdentifierQuotes(w):w});string=nameParts.pop();var table=nameParts.join(".");var alias=false;var aliasTable=table;if(!getTable(table)){var oldTable=table;table=findTableByAlias(table,editor);if(table!==oldTable)alias=true}var columns=getTable(table);if(columns&&columns.columns)columns=columns.columns;if(columns)addMatches(result,string,columns,function(w){var tableInsert=table;if(alias==
true)tableInsert=aliasTable;if(typeof w=="string")w=tableInsert+"."+w;else{w=shallowClone(w);w.text=tableInsert+"."+w.text}return useIdentifierQuotes?insertIdentifierQuotes(w):w});return start}function eachWord(lineText,f){var words=lineText.split(/\s+/);var i=0;for(;i<words.length;i++)if(words[i])f(words[i].replace(/[`,;]/g,""))}function findTableByAlias(alias,editor){var doc=editor.doc;var fullQuery=doc.getValue();var aliasUpperCase=alias.toUpperCase();var previousWord="";var table="";var separator=
[];var validRange={start:Pos(0,0),end:Pos(editor.lastLine(),editor.getLineHandle(editor.lastLine()).length)};var indexOfSeparator=fullQuery.indexOf(CONS.QUERY_DIV);for(;indexOfSeparator!=-1;){separator.push(doc.posFromIndex(indexOfSeparator));indexOfSeparator=fullQuery.indexOf(CONS.QUERY_DIV,indexOfSeparator+1)}separator.unshift(Pos(0,0));separator.push(Pos(editor.lastLine(),editor.getLineHandle(editor.lastLine()).text.length));var prevItem=null;var current=editor.getCursor();var i=0;for(;i<separator.length;i++){if((prevItem==
null||cmpPos(current,prevItem)>0)&&cmpPos(current,separator[i])<=0){validRange={start:prevItem,end:separator[i]};break}prevItem=separator[i]}if(validRange.start){var query=doc.getRange(validRange.start,validRange.end,false);i=0;for(;i<query.length;i++){var lineText=query[i];eachWord(lineText,function(word){var wordUpperCase=word.toUpperCase();if(wordUpperCase===aliasUpperCase&&getTable(previousWord))table=previousWord;if(wordUpperCase!==CONS.ALIAS_KEYWORD)previousWord=word});if(table)break}}return table}
var tables;var defaultTable;var keywords;var identifierQuote;var CONS={QUERY_DIV:";",ALIAS_KEYWORD:"AS"};var Pos=CodeMirror.Pos;var cmpPos=CodeMirror.cmpPos;CodeMirror.registerHelper("hint","sql",function(editor,options){tables=parseTables(options&&options.tables);var defaultTableName=options&&options.defaultTable;var disableKeywords=options&&options.disableKeywords;defaultTable=defaultTableName&&getTable(defaultTableName);keywords=getKeywords(editor);identifierQuote=getIdentifierQuote(editor);if(defaultTableName&&
!defaultTable)defaultTable=findTableByAlias(defaultTableName,editor);defaultTable=defaultTable||[];if(defaultTable.columns)defaultTable=defaultTable.columns;var cur=editor.getCursor();var result=[];var token=editor.getTokenAt(cur);var start;var end;var search;if(token.end>cur.ch){token.end=cur.ch;token.string=token.string.slice(0,cur.ch-token.start)}if(token.string.match(/^[.`"'\w@][\w$#]*$/g)){search=token.string;start=token.start;end=token.end}else{start=end=cur.ch;search=""}if(search.charAt(0)==
"."||search.charAt(0)==identifierQuote)start=nameCompletion(cur,token,result,editor);else{var objectOrClass=function(w,className){if(typeof w==="object")w.className=className;else w={text:w,className:className};return w};addMatches(result,search,defaultTable,function(w){return objectOrClass(w,"CodeMirror-hint-table CodeMirror-hint-default-table")});addMatches(result,search,tables,function(w){return objectOrClass(w,"CodeMirror-hint-table")});if(!disableKeywords)addMatches(result,search,keywords,function(w){return objectOrClass(w.toUpperCase(),
"CodeMirror-hint-keyword")})}return{list:result,from:Pos(cur.line,start),to:Pos(cur.line,end)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function matches(hint,typed,matchInMiddle){if(matchInMiddle)return hint.indexOf(typed)>=0;else return hint.lastIndexOf(typed,0)==0}function getHints(cm,options){function returnHints(){return{list:result,from:replaceToken?Pos(cur.line,tagStart==null?token.start:tagStart):
cur,to:replaceToken?Pos(cur.line,token.end):cur}}var tags=options&&options.schemaInfo;var quote=options&&options.quoteChar||'"';var matchInMiddle=options&&options.matchInMiddle;if(!tags)return;var cur=cm.getCursor();var token=cm.getTokenAt(cur);if(token.end>cur.ch){token.end=cur.ch;token.string=token.string.slice(0,cur.ch-token.start)}var inner=CodeMirror.innerMode(cm.getMode(),token.state);if(!inner.mode.xmlCurrentTag)return;var result=[];var replaceToken=false;var prefix;var tag=/\btag\b/.test(token.type)&&
!/>$/.test(token.string);var tagName=tag&&/^\w/.test(token.string);var tagStart;if(tagName){var before=cm.getLine(cur.line).slice(Math.max(0,token.start-2),token.start);var tagType=/<\/$/.test(before)?"close":/<$/.test(before)?"open":null;if(tagType)tagStart=token.start-(tagType=="close"?2:1)}else if(tag&&token.string=="<")tagType="open";else if(tag&&token.string=="</")tagType="close";var tagInfo=inner.mode.xmlCurrentTag(inner.state);if(!tag&&!tagInfo||tagType){if(tagName)prefix=token.string;replaceToken=
tagType;var context=inner.mode.xmlCurrentContext?inner.mode.xmlCurrentContext(inner.state):[];inner=context.length&&context[context.length-1];var curTag=inner&&tags[inner];var childList=inner?curTag&&curTag.children:tags["!top"];if(childList&&tagType!="close"){var i=0;for(;i<childList.length;++i)if(!prefix||matches(childList[i],prefix,matchInMiddle))result.push("<"+childList[i])}else if(tagType!="close"){var name;for(name in tags)if(tags.hasOwnProperty(name)&&name!="!top"&&name!="!attrs"&&(!prefix||
matches(name,prefix,matchInMiddle)))result.push("<"+name)}if(inner&&(!prefix||tagType=="close"&&matches(inner,prefix,matchInMiddle)))result.push("</"+inner+">")}else{curTag=tagInfo&&tags[tagInfo.name];var attrs=curTag&&curTag.attrs;var globalAttrs=tags["!attrs"];if(!attrs&&!globalAttrs)return;if(!attrs)attrs=globalAttrs;else if(globalAttrs){var set={};var nm;for(nm in globalAttrs)if(globalAttrs.hasOwnProperty(nm))set[nm]=globalAttrs[nm];for(nm in attrs)if(attrs.hasOwnProperty(nm))set[nm]=attrs[nm];
attrs=set}if(token.type=="string"||token.string=="="){before=cm.getRange(Pos(cur.line,Math.max(0,cur.ch-60)),Pos(cur.line,token.type=="string"?token.start:token.end));var atName=before.match(/([^\s\u00a0=<>"']+)=$/);var atValues;if(!atName||!attrs.hasOwnProperty(atName[1])||!(atValues=attrs[atName[1]]))return;if(typeof atValues=="function")atValues=atValues.call(this,cm);if(token.type=="string"){prefix=token.string;var n=0;if(/['"]/.test(token.string.charAt(0))){quote=token.string.charAt(0);prefix=
token.string.slice(1);n++}var len=token.string.length;if(/['"]/.test(token.string.charAt(len-1))){quote=token.string.charAt(len-1);prefix=token.string.substr(n,len-2)}if(n){var line=cm.getLine(cur.line);if(line.length>token.end&&line.charAt(token.end)==quote)token.end++}replaceToken=true}var returnHintsFromAtValues=function(atValues){if(atValues){var i=0;for(;i<atValues.length;++i)if(!prefix||matches(atValues[i],prefix,matchInMiddle))result.push(quote+atValues[i]+quote)}return returnHints()};if(atValues&&
atValues.then)return atValues.then(returnHintsFromAtValues);return returnHintsFromAtValues(atValues)}else{if(token.type=="attribute"){prefix=token.string;replaceToken=true}var attr;for(attr in attrs)if(attrs.hasOwnProperty(attr)&&(!prefix||matches(attr,prefix,matchInMiddle)))result.push(attr)}}return returnHints()}var Pos=CodeMirror.Pos;CodeMirror.registerHelper("hint","xml",getHints)});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","coffeescript",function(text){var found=[];if(!window.coffeelint){if(window.console)window.console.error("Error: window.coffeelint not defined, CodeMirror CoffeeScript linting cannot run.");return found}var parseError=function(err){var loc=
err.lineNumber;found.push({from:CodeMirror.Pos(loc-1,0),to:CodeMirror.Pos(loc,0),severity:err.level,message:err.message})};try{var res=coffeelint.lint(text);var i=0;for(;i<res.length;i++)parseError(res[i])}catch(e){found.push({from:CodeMirror.Pos(e.location.first_line,0),to:CodeMirror.Pos(e.location.last_line,e.location.last_column),severity:"error",message:e.message})}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","css",function(text,options){var found=[];if(!window.CSSLint){if(window.console)window.console.error("Error: window.CSSLint not defined, CodeMirror CSS linting cannot run.");return found}var results=CSSLint.verify(text,options);var messages=
results.messages;var message=null;var i=0;for(;i<messages.length;i++){message=messages[i];var startLine=message.line-1;var endLine=message.line-1;var startCol=message.col-1;var endCol=message.col;found.push({from:CodeMirror.Pos(startLine,startCol),to:CodeMirror.Pos(endLine,endCol),message:message.message,severity:message.type})}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"),require("htmlhint"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","htmlhint"],mod);else mod(CodeMirror,window.HTMLHint)})(function(CodeMirror,HTMLHint){var defaultRules={"tagname-lowercase":true,"attr-lowercase":true,"attr-value-double-quotes":true,"doctype-first":false,"tag-pair":true,"spec-char-escape":true,"id-unique":true,"src-not-empty":true,"attr-no-duplication":true};
CodeMirror.registerHelper("lint","html",function(text,options){var found=[];if(HTMLHint&&!HTMLHint.verify)if(typeof HTMLHint.default!=="undefined")HTMLHint=HTMLHint.default;else HTMLHint=HTMLHint.HTMLHint;if(!HTMLHint)HTMLHint=window.HTMLHint;if(!HTMLHint){if(window.console)window.console.error("Error: HTMLHint not found, not defined on window, or not available through define/require, CodeMirror HTML linting cannot run.");return found}var messages=HTMLHint.verify(text,options&&options.rules||defaultRules);
var i=0;for(;i<messages.length;i++){var message=messages[i];var startLine=message.line-1;var endLine=message.line-1;var startCol=message.col-1;var endCol=message.col;found.push({from:CodeMirror.Pos(startLine,startCol),to:CodeMirror.Pos(endLine,endCol),message:message.message,severity:message.type})}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function validator(text,options){if(!window.JSHINT){if(window.console)window.console.error("Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run.");return[]}if(!options.indent)options.indent=1;JSHINT(text,options,options.globals);var errors=JSHINT.data().errors;
var result=[];if(errors)parseErrors(errors,result);return result}function parseErrors(errors,output){var i=0;for(;i<errors.length;i++){var error=errors[i];if(error){if(error.line<=0){if(window.console)window.console.warn("Cannot display JSHint error (invalid line "+error.line+")",error);continue}var start=error.character-1;var end=start+1;if(error.evidence){var index=error.evidence.substring(start).search(/.\b/);if(index>-1)end=end+index}var hint={message:error.reason,severity:error.code?error.code.startsWith("W")?
"warning":"error":"error",from:CodeMirror.Pos(error.line-1,start),to:CodeMirror.Pos(error.line-1,end)};output.push(hint)}}}CodeMirror.registerHelper("lint","javascript",validator)});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","json",function(text){var found=[];if(!window.jsonlint){if(window.console)window.console.error("Error: window.jsonlint not defined, CodeMirror JSON linting cannot run.");return found}var jsonlint=window.jsonlint.parser||window.jsonlint;
jsonlint.parseError=function(str,hash){var loc=hash.loc;found.push({from:CodeMirror.Pos(loc.first_line-1,loc.first_column),to:CodeMirror.Pos(loc.last_line-1,loc.last_column),message:str})};try{jsonlint.parse(text)}catch(e){}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function showTooltip(cm,e,content){function position(e){if(!tt.parentNode)return CodeMirror.off(document,"mousemove",position);tt.style.top=Math.max(0,e.clientY-tt.offsetHeight-5)+"px";tt.style.left=e.clientX+5+"px"}var tt=document.createElement("div");tt.className="CodeMirror-lint-tooltip cm-s-"+
cm.options.theme;tt.appendChild(content.cloneNode(true));if(cm.state.lint.options.selfContain)cm.getWrapperElement().appendChild(tt);else document.body.appendChild(tt);CodeMirror.on(document,"mousemove",position);position(e);if(tt.style.opacity!=null)tt.style.opacity=1;return tt}function rm(elt){if(elt.parentNode)elt.parentNode.removeChild(elt)}function hideTooltip(tt){if(!tt.parentNode)return;if(tt.style.opacity==null)rm(tt);tt.style.opacity=0;setTimeout(function(){rm(tt)},600)}function showTooltipFor(cm,
e,content,node){function hide(){CodeMirror.off(node,"mouseout",hide);if(tooltip){hideTooltip(tooltip);tooltip=null}}var tooltip=showTooltip(cm,e,content);var poll=setInterval(function(){if(tooltip){var n=node;for(;;n=n.parentNode){if(n&&n.nodeType==11)n=n.host;if(n==document.body)return;if(!n){hide();break}}}if(!tooltip)return clearInterval(poll)},400);CodeMirror.on(node,"mouseout",hide)}function LintState(cm,conf,hasGutter){this.marked=[];if(conf instanceof Function)conf={getAnnotations:conf};if(!conf||
conf===true)conf={};this.options={};this.linterOptions=conf.options||{};var prop;for(prop in defaults)this.options[prop]=defaults[prop];for(prop in conf)if(defaults.hasOwnProperty(prop)){if(conf[prop]!=null)this.options[prop]=conf[prop]}else if(!conf.options)this.linterOptions[prop]=conf[prop];this.timeout=null;this.hasGutter=hasGutter;this.onMouseOver=function(e){onMouseOver(cm,e)};this.waitingFor=0}function clearMarks(cm){var state=cm.state.lint;if(state.hasGutter)cm.clearGutter(GUTTER_ID);if(state.options.highlightLines)clearErrorLines(cm);
var i=0;for(;i<state.marked.length;++i)state.marked[i].clear();state.marked.length=0}function clearErrorLines(cm){cm.eachLine(function(line){var has=line.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(line.wrapClass);if(has)cm.removeLineClass(line,"wrap",has[0])})}function makeMarker(cm,labels,severity,multiple,tooltips){var marker=document.createElement("div");var inner=marker;marker.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+severity;if(multiple){inner=marker.appendChild(document.createElement("div"));
inner.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"}if(tooltips!=false)CodeMirror.on(inner,"mouseover",function(e){showTooltipFor(cm,e,labels,inner)});return marker}function getMaxSeverity(a,b){if(a=="error")return a;else return b}function groupByLine(annotations){var lines=[];var i=0;for(;i<annotations.length;++i){var ann=annotations[i];var line=ann.from.line;(lines[line]||(lines[line]=[])).push(ann)}return lines}function annotationTooltip(ann){var severity=ann.severity;if(!severity)severity=
"error";var tip=document.createElement("div");tip.className="CodeMirror-lint-message CodeMirror-lint-message-"+severity;tip.appendChild(document.createTextNode(ann.message));return tip}function lintAsync(cm,getAnnotations){function abort(){id=-1;cm.off("change",abort)}var state=cm.state.lint;var id=++state.waitingFor;cm.on("change",abort);getAnnotations(cm.getValue(),function(annotations,arg2){cm.off("change",abort);if(state.waitingFor!=id)return;if(arg2&&annotations instanceof CodeMirror)annotations=
arg2;cm.operation(function(){updateLinting(cm,annotations)})},state.linterOptions,cm)}function startLinting(cm){var state=cm.state.lint;if(!state)return;var options=state.options;var getAnnotations=options.getAnnotations||cm.getHelper(CodeMirror.Pos(0,0),"lint");if(!getAnnotations)return;if(options.async||getAnnotations.async)lintAsync(cm,getAnnotations);else{var annotations=getAnnotations(cm.getValue(),state.linterOptions,cm);if(!annotations)return;if(annotations.then)annotations.then(function(issues){cm.operation(function(){updateLinting(cm,
issues)})});else cm.operation(function(){updateLinting(cm,annotations)})}}function updateLinting(cm,annotationsNotSorted){var state=cm.state.lint;if(!state)return;var options=state.options;clearMarks(cm);var annotations=groupByLine(annotationsNotSorted);var line=0;for(;line<annotations.length;++line){var anns=annotations[line];if(!anns)continue;var message=[];anns=anns.filter(function(item){return message.indexOf(item.message)>-1?false:message.push(item.message)});var maxSeverity=null;var tipLabel=
state.hasGutter&&document.createDocumentFragment();var i=0;for(;i<anns.length;++i){var ann=anns[i];var severity=ann.severity;if(!severity)severity="error";maxSeverity=getMaxSeverity(maxSeverity,severity);if(options.formatAnnotation)ann=options.formatAnnotation(ann);if(state.hasGutter)tipLabel.appendChild(annotationTooltip(ann));if(ann.to)state.marked.push(cm.markText(ann.from,ann.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+severity,__annotation:ann}))}if(state.hasGutter)cm.setGutterMarker(line,
GUTTER_ID,makeMarker(cm,tipLabel,maxSeverity,annotations[line].length>1,options.tooltips));if(options.highlightLines)cm.addLineClass(line,"wrap",LINT_LINE_ID+maxSeverity)}if(options.onUpdateLinting)options.onUpdateLinting(annotationsNotSorted,annotations,cm)}function onChange(cm){var state=cm.state.lint;if(!state)return;clearTimeout(state.timeout);state.timeout=setTimeout(function(){startLinting(cm)},state.options.delay)}function popupTooltips(cm,annotations,e){var target=e.target||e.srcElement;var tooltip=
document.createDocumentFragment();var i=0;for(;i<annotations.length;i++){var ann=annotations[i];tooltip.appendChild(annotationTooltip(ann))}showTooltipFor(cm,e,tooltip,target)}function onMouseOver(cm,e){var target=e.target||e.srcElement;if(!/\bCodeMirror-lint-mark-/.test(target.className))return;var box=target.getBoundingClientRect();var x=(box.left+box.right)/2;var y=(box.top+box.bottom)/2;var spans=cm.findMarksAt(cm.coordsChar({left:x,top:y},"client"));var annotations=[];var i=0;for(;i<spans.length;++i){var ann=
spans[i].__annotation;if(ann)annotations.push(ann)}if(annotations.length)popupTooltips(cm,annotations,e)}var GUTTER_ID="CodeMirror-lint-markers";var LINT_LINE_ID="CodeMirror-lint-line-";var defaults={highlightLines:false,tooltips:true,delay:500,lintOnChange:true,getAnnotations:null,async:false,selfContain:null,formatAnnotation:null,onUpdateLinting:null};CodeMirror.defineOption("lint",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){clearMarks(cm);if(cm.state.lint.options.lintOnChange!==false)cm.off("change",
onChange);CodeMirror.off(cm.getWrapperElement(),"mouseover",cm.state.lint.onMouseOver);clearTimeout(cm.state.lint.timeout);delete cm.state.lint}if(val){var gutters=cm.getOption("gutters");var hasLintGutter=false;var i=0;for(;i<gutters.length;++i)if(gutters[i]==GUTTER_ID)hasLintGutter=true;var state=cm.state.lint=new LintState(cm,val,hasLintGutter);if(state.options.lintOnChange)cm.on("change",onChange);if(state.options.tooltips!=false&&state.options.tooltips!="gutter")CodeMirror.on(cm.getWrapperElement(),
"mouseover",state.onMouseOver);startLinting(cm)}});CodeMirror.defineExtension("performLint",function(){startLinting(this)})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){CodeMirror.registerHelper("lint","yaml",function(text){var found=[];if(!window.jsyaml){if(window.console)window.console.error("Error: window.jsyaml not defined, CodeMirror YAML linting cannot run.");return found}try{jsyaml.loadAll(text)}catch(e){var loc=e.mark;var from=
loc?CodeMirror.Pos(loc.line,loc.column):CodeMirror.Pos(0,0);var to=from;found.push({from:from,to:to,message:e.message})}return found})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function Annotation(cm,options){function scheduleRedraw(delay){clearTimeout(self.doRedraw);self.doRedraw=setTimeout(function(){self.redraw()},delay)}this.cm=cm;this.options=options;this.buttonHeight=options.scrollButtonHeight||cm.getOption("scrollButtonHeight");this.annotations=
[];this.doRedraw=this.doUpdate=null;this.div=cm.getWrapperElement().appendChild(document.createElement("div"));this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none";this.computeScale();var self=this;cm.on("refresh",this.resizeHandler=function(){clearTimeout(self.doUpdate);self.doUpdate=setTimeout(function(){if(self.computeScale())scheduleRedraw(20)},100)});cm.on("markerAdded",this.resizeHandler);cm.on("markerCleared",this.resizeHandler);if(options.listenForChanges!==
false)cm.on("changes",this.changeHandler=function(){scheduleRedraw(250)})}CodeMirror.defineExtension("annotateScrollbar",function(options){if(typeof options=="string")options={className:options};return new Annotation(this,options)});CodeMirror.defineOption("scrollButtonHeight",0);Annotation.prototype.computeScale=function(){var cm=this.cm;var hScale=(cm.getWrapperElement().clientHeight-cm.display.barHeight-this.buttonHeight*2)/cm.getScrollerElement().scrollHeight;if(hScale!=this.hScale){this.hScale=
hScale;return true}};Annotation.prototype.update=function(annotations){this.annotations=annotations;this.redraw()};Annotation.prototype.redraw=function(compute){function getY(pos,top){if(curLine!=pos.line){curLine=pos.line;curLineObj=cm.getLineHandle(pos.line);var visual=cm.getLineHandleVisualStart(curLineObj);if(visual!=curLineObj){curLine=cm.getLineNumber(visual);curLineObj=visual}}if(curLineObj.widgets&&curLineObj.widgets.length||wrapping&&curLineObj.height>singleLineH)return cm.charCoords(pos,
"local")[top?"top":"bottom"];var topY=cm.heightAtLine(curLineObj,"local");return topY+(top?0:curLineObj.height)}if(compute!==false)this.computeScale();var cm=this.cm;var hScale=this.hScale;var frag=document.createDocumentFragment();var anns=this.annotations;var wrapping=cm.getOption("lineWrapping");var singleLineH=wrapping&&cm.defaultTextHeight()*1.5;var curLine=null;var curLineObj=null;var lastLine=cm.lastLine();if(cm.display.barWidth){var i=0;var nextTop;for(;i<anns.length;i++){var ann=anns[i];
if(ann.to.line>lastLine)continue;var top=nextTop||getY(ann.from,true)*hScale;var bottom=getY(ann.to,false)*hScale;for(;i<anns.length-1;){if(anns[i+1].to.line>lastLine)break;nextTop=getY(anns[i+1].from,true)*hScale;if(nextTop>bottom+.9)break;ann=anns[++i];bottom=getY(ann.to,false)*hScale}if(bottom==top)continue;var height=Math.max(bottom-top,3);var elt=frag.appendChild(document.createElement("div"));elt.style.cssText="position: absolute; right: 0px; width: "+Math.max(cm.display.barWidth-1,2)+"px; top: "+
(top+this.buttonHeight)+"px; height: "+height+"px";elt.className=this.options.className;if(ann.id)elt.setAttribute("annotation-id",ann.id)}}this.div.textContent="";this.div.appendChild(frag)};Annotation.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler);this.cm.off("markerAdded",this.resizeHandler);this.cm.off("markerCleared",this.resizeHandler);if(this.changeHandler)this.cm.off("changes",this.changeHandler);this.div.parentNode.removeChild(this.div)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function onChange(cm,change){if(CodeMirror.changeEnd(change).line==cm.lastLine())updateBottomMargin(cm)}function updateBottomMargin(cm){var padding="";if(cm.lineCount()>1){var totalH=cm.display.scroller.clientHeight-30;var lastLineH=cm.getLineHandle(cm.lastLine()).height;
padding=totalH-lastLineH+"px"}if(cm.state.scrollPastEndPadding!=padding){cm.state.scrollPastEndPadding=padding;cm.display.lineSpace.parentNode.style.paddingBottom=padding;cm.off("refresh",updateBottomMargin);cm.setSize();cm.on("refresh",updateBottomMargin)}}CodeMirror.defineOption("scrollPastEnd",false,function(cm,val,old){if(old&&old!=CodeMirror.Init){cm.off("change",onChange);cm.off("refresh",updateBottomMargin);cm.display.lineSpace.parentNode.style.paddingBottom="";cm.state.scrollPastEndPadding=
null}if(val){cm.on("change",onChange);cm.on("refresh",updateBottomMargin);updateBottomMargin(cm)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function Bar(cls,orientation,scroll){function onWheel(e){var moved=CodeMirror.wheelEventPixels(e)[self.orientation=="horizontal"?"x":"y"];var oldPos=self.pos;self.moveTo(self.pos+moved);if(self.pos!=oldPos)CodeMirror.e_preventDefault(e)}this.orientation=orientation;this.scroll=
scroll;this.screen=this.total=this.size=1;this.pos=0;this.node=document.createElement("div");this.node.className=cls+"-"+orientation;this.inner=this.node.appendChild(document.createElement("div"));var self=this;CodeMirror.on(this.inner,"mousedown",function(e){function done(){CodeMirror.off(document,"mousemove",move);CodeMirror.off(document,"mouseup",done)}function move(e){if(e.which!=1)return done();self.moveTo(startpos+(e[axis]-start)*(self.total/self.size))}if(e.which!=1)return;CodeMirror.e_preventDefault(e);
var axis=self.orientation=="horizontal"?"pageX":"pageY";var start=e[axis];var startpos=self.pos;CodeMirror.on(document,"mousemove",move);CodeMirror.on(document,"mouseup",done)});CodeMirror.on(this.node,"click",function(e){CodeMirror.e_preventDefault(e);var innerBox=self.inner.getBoundingClientRect();var where;if(self.orientation=="horizontal")where=e.clientX<innerBox.left?-1:e.clientX>innerBox.right?1:0;else where=e.clientY<innerBox.top?-1:e.clientY>innerBox.bottom?1:0;self.moveTo(self.pos+where*
self.screen)});CodeMirror.on(this.node,"mousewheel",onWheel);CodeMirror.on(this.node,"DOMMouseScroll",onWheel)}function SimpleScrollbars(cls,place,scroll){this.addClass=cls;this.horiz=new Bar(cls,"horizontal",scroll);place(this.horiz.node);this.vert=new Bar(cls,"vertical",scroll);place(this.vert.node);this.width=null}Bar.prototype.setPos=function(pos,force){if(pos<0)pos=0;if(pos>this.total-this.screen)pos=this.total-this.screen;if(!force&&pos==this.pos)return false;this.pos=pos;this.inner.style[this.orientation==
"horizontal"?"left":"top"]=pos*(this.size/this.total)+"px";return true};Bar.prototype.moveTo=function(pos){if(this.setPos(pos))this.scroll(pos,this.orientation)};var minButtonSize=10;Bar.prototype.update=function(scrollSize,clientSize,barSize){var sizeChanged=this.screen!=clientSize||this.total!=scrollSize||this.size!=barSize;if(sizeChanged){this.screen=clientSize;this.total=scrollSize;this.size=barSize}var buttonSize=this.screen*(this.size/this.total);if(buttonSize<minButtonSize){this.size-=minButtonSize-
buttonSize;buttonSize=minButtonSize}this.inner.style[this.orientation=="horizontal"?"width":"height"]=buttonSize+"px";this.setPos(this.pos,sizeChanged)};SimpleScrollbars.prototype.update=function(measure){if(this.width==null){var style=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;if(style)this.width=parseInt(style.height)}var width=this.width||0;var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+
1;this.vert.node.style.display=needsV?"block":"none";this.horiz.node.style.display=needsH?"block":"none";if(needsV){this.vert.update(measure.scrollHeight,measure.clientHeight,measure.viewHeight-(needsH?width:0));this.vert.node.style.bottom=needsH?width+"px":"0"}if(needsH){this.horiz.update(measure.scrollWidth,measure.clientWidth,measure.viewWidth-(needsV?width:0)-measure.barLeft);this.horiz.node.style.right=needsV?width+"px":"0";this.horiz.node.style.left=measure.barLeft+"px"}return{right:needsV?
width:0,bottom:needsH?width:0}};SimpleScrollbars.prototype.setScrollTop=function(pos){this.vert.setPos(pos)};SimpleScrollbars.prototype.setScrollLeft=function(pos){this.horiz.setPos(pos)};SimpleScrollbars.prototype.clear=function(){var parent=this.horiz.node.parentNode;parent.removeChild(this.horiz.node);parent.removeChild(this.vert.node)};CodeMirror.scrollbarModel.simple=function(place,scroll){return new SimpleScrollbars("CodeMirror-simplescroll",place,scroll)};CodeMirror.scrollbarModel.overlay=
function(place,scroll){return new SimpleScrollbars("CodeMirror-overlayscroll",place,scroll)}});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function clearActiveLines(cm){var i=0;for(;i<cm.state.activeLines.length;i++){cm.removeLineClass(cm.state.activeLines[i],"wrap",WRAP_CLASS);cm.removeLineClass(cm.state.activeLines[i],"background",BACK_CLASS);cm.removeLineClass(cm.state.activeLines[i],"gutter",GUTT_CLASS)}}
function sameArray(a,b){if(a.length!=b.length)return false;var i=0;for(;i<a.length;i++)if(a[i]!=b[i])return false;return true}function updateActiveLines(cm,ranges){var active=[];var i=0;for(;i<ranges.length;i++){var range=ranges[i];var option=cm.getOption("styleActiveLine");if(typeof option=="object"&&option.nonEmpty?range.anchor.line!=range.head.line:!range.empty())continue;var line=cm.getLineHandleVisualStart(range.head.line);if(active[active.length-1]!=line)active.push(line)}if(sameArray(cm.state.activeLines,
active))return;cm.operation(function(){clearActiveLines(cm);var i=0;for(;i<active.length;i++){cm.addLineClass(active[i],"wrap",WRAP_CLASS);cm.addLineClass(active[i],"background",BACK_CLASS);cm.addLineClass(active[i],"gutter",GUTT_CLASS)}cm.state.activeLines=active})}function selectionChange(cm,sel){updateActiveLines(cm,sel.ranges)}var WRAP_CLASS="CodeMirror-activeline";var BACK_CLASS="CodeMirror-activeline-background";var GUTT_CLASS="CodeMirror-activeline-gutter";CodeMirror.defineOption("styleActiveLine",
false,function(cm,val,old){var prev=old==CodeMirror.Init?false:old;if(val==prev)return;if(prev){cm.off("beforeSelectionChange",selectionChange);clearActiveLines(cm);delete cm.state.activeLines}if(val){cm.state.activeLines=[];updateActiveLines(cm,cm.listSelections());cm.on("beforeSelectionChange",selectionChange)}})});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function onCursorActivity(cm){if(cm.state.markedSelection)cm.operation(function(){update(cm)})}function onChange(cm){if(cm.state.markedSelection&&cm.state.markedSelection.length)cm.operation(function(){clear(cm)})}function coverRange(cm,from,to,addAt){if(cmp(from,to)==
0)return;var array=cm.state.markedSelection;var cls=cm.state.markedSelectionStyle;var line=from.line;for(;;){var start=line==from.line?from:Pos(line,0);var endLine=line+CHUNK_SIZE;var atEnd=endLine>=to.line;var end=atEnd?to:Pos(endLine,0);var mark=cm.markText(start,end,{className:cls});if(addAt==null)array.push(mark);else array.splice(addAt++,0,mark);if(atEnd)break;line=endLine}}function clear(cm){var array=cm.state.markedSelection;var i=0;for(;i<array.length;++i)array[i].clear();array.length=0}function reset(cm){clear(cm);
var ranges=cm.listSelections();var i=0;for(;i<ranges.length;i++)coverRange(cm,ranges[i].from(),ranges[i].to())}function update(cm){if(!cm.somethingSelected())return clear(cm);if(cm.listSelections().length>1)return reset(cm);var from=cm.getCursor("start");var to=cm.getCursor("end");var array=cm.state.markedSelection;if(!array.length)return coverRange(cm,from,to);var coverStart=array[0].find();var coverEnd=array[array.length-1].find();if(!coverStart||!coverEnd||to.line-from.line<=CHUNK_SIZE||cmp(from,
coverEnd.to)>=0||cmp(to,coverStart.from)<=0)return reset(cm);for(;cmp(from,coverStart.from)>0;){array.shift().clear();coverStart=array[0].find()}if(cmp(from,coverStart.from)<0)if(coverStart.to.line-from.line<CHUNK_SIZE){array.shift().clear();coverRange(cm,from,coverStart.to,0)}else coverRange(cm,from,coverStart.from,0);for(;cmp(to,coverEnd.to)<0;){array.pop().clear();coverEnd=array[array.length-1].find()}if(cmp(to,coverEnd.to)>0)if(to.line-coverEnd.from.line<CHUNK_SIZE){array.pop().clear();coverRange(cm,
coverEnd.from,to)}else coverRange(cm,coverEnd.to,to)}CodeMirror.defineOption("styleSelectedText",false,function(cm,val,old){var prev=old&&old!=CodeMirror.Init;if(val&&!prev){cm.state.markedSelection=[];cm.state.markedSelectionStyle=typeof val=="string"?val:"CodeMirror-selectedtext";reset(cm);cm.on("cursorActivity",onCursorActivity);cm.on("change",onChange)}else if(!val&&prev){cm.off("cursorActivity",onCursorActivity);cm.off("change",onChange);clear(cm);cm.state.markedSelection=cm.state.markedSelectionStyle=
null}});var CHUNK_SIZE=8;var Pos=CodeMirror.Pos;var cmp=CodeMirror.cmpPos});(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],mod);else mod(CodeMirror)})(function(CodeMirror){function mousemove(cm,event){var data=cm.state.selectionPointer;if(event.buttons==null?event.which:event.buttons)data.mouseX=data.mouseY=null;else{data.mouseX=event.clientX;data.mouseY=event.clientY}scheduleUpdate(cm)}function mouseout(cm,event){if(!cm.getWrapperElement().contains(event.relatedTarget)){var data=
cm.state.selectionPointer;data.mouseX=data.mouseY=null;scheduleUpdate(cm)}}function reset(cm){cm.state.selectionPointer.rects=null;scheduleUpdate(cm)}function scheduleUpdate(cm){if(!cm.state.selectionPointer.willUpdate){cm.state.selectionPointer.willUpdate=true;setTimeout(function(){update(cm);cm.state.selectionPointer.willUpdate=false},50)}}function update(cm){var data=cm.state.selectionPointer;if(!data)return;if(data.rects==null&&data.mouseX!=null){data.rects=[];if(cm.somethingSelected()){var sel=
cm.display.selectionDiv.firstChild;for(;sel;sel=sel.nextSibling)data.rects.push(sel.getBoundingClientRect())}}var inside=false;if(data.mouseX!=null){var i=0;for(;i<data.rects.length;i++){var rect=data.rects[i];if(rect.left<=data.mouseX&&rect.right>=data.mouseX&&rect.top<=data.mouseY&&rect.bottom>=data.mouseY)inside=true}}var cursor=inside?data.value:"";if(cm.display.lineDiv.style.cursor!=cursor)cm.display.lineDiv.style.cursor=cursor}CodeMirror.defineOption("selectionPointer",false,function(cm,val){var data=
cm.state.selectionPointer;if(data){CodeMirror.off(cm.getWrapperElement(),"mousemove",data.mousemove);CodeMirror.off(cm.getWrapperElement(),"mouseout",data.mouseout);CodeMirror.off(window,"scroll",data.windowScroll);cm.off("cursorActivity",reset);cm.off("scroll",reset);cm.state.selectionPointer=null;cm.display.lineDiv.style.cursor=""}if(val){data=cm.state.selectionPointer={value:typeof val=="string"?val:"default",mousemove:function(event){mousemove(cm,event)},mouseout:function(event){mouseout(cm,event)},
windowScroll:function(){reset(cm)},rects:null,mouseX:null,mouseY:null,willUpdate:false};CodeMirror.on(cm.getWrapperElement(),"mousemove",data.mousemove);CodeMirror.on(cm.getWrapperElement(),"mouseout",data.mouseout);CodeMirror.on(window,"scroll",data.windowScroll);cm.on("cursorActivity",reset);cm.on("scroll",reset)}})});var diff_match_patch=function(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=.5;this.Match_Distance=1E3;this.Patch_DeleteThreshold=.5;this.Patch_Margin=4;this.Match_MaxBits=32};var DIFF_DELETE=-1;var DIFF_INSERT=1;var DIFF_EQUAL=0;diff_match_patch.Diff;
diff_match_patch.prototype.diff_main=function(text1,text2,opt_checklines,opt_deadline){if(typeof opt_deadline=="undefined")if(this.Diff_Timeout<=0)opt_deadline=Number.MAX_VALUE;else opt_deadline=(new Date).getTime()+this.Diff_Timeout*1E3;var deadline=opt_deadline;if(text1==null||text2==null)throw new Error("Null input. (diff_main)");if(text1==text2){if(text1)return[[DIFF_EQUAL,text1]];return[]}if(typeof opt_checklines=="undefined")opt_checklines=true;var checklines=opt_checklines;var commonlength=
this.diff_commonPrefix(text1,text2);var commonprefix=text1.substring(0,commonlength);text1=text1.substring(commonlength);text2=text2.substring(commonlength);commonlength=this.diff_commonSuffix(text1,text2);var commonsuffix=text1.substring(text1.length-commonlength);text1=text1.substring(0,text1.length-commonlength);text2=text2.substring(0,text2.length-commonlength);var diffs=this.diff_compute_(text1,text2,checklines,deadline);if(commonprefix)diffs.unshift([DIFF_EQUAL,commonprefix]);if(commonsuffix)diffs.push([DIFF_EQUAL,
commonsuffix]);this.diff_cleanupMerge(diffs);return diffs};
diff_match_patch.prototype.diff_compute_=function(text1,text2,checklines,deadline){var diffs;if(!text1)return[[DIFF_INSERT,text2]];if(!text2)return[[DIFF_DELETE,text1]];var longtext=text1.length>text2.length?text1:text2;var shorttext=text1.length>text2.length?text2:text1;var i=longtext.indexOf(shorttext);if(i!=-1){diffs=[[DIFF_INSERT,longtext.substring(0,i)],[DIFF_EQUAL,shorttext],[DIFF_INSERT,longtext.substring(i+shorttext.length)]];if(text1.length>text2.length)diffs[0][0]=diffs[2][0]=DIFF_DELETE;
return diffs}if(shorttext.length==1)return[[DIFF_DELETE,text1],[DIFF_INSERT,text2]];var hm=this.diff_halfMatch_(text1,text2);if(hm){var text1_a=hm[0];var text1_b=hm[1];var text2_a=hm[2];var text2_b=hm[3];var mid_common=hm[4];var diffs_a=this.diff_main(text1_a,text2_a,checklines,deadline);var diffs_b=this.diff_main(text1_b,text2_b,checklines,deadline);return diffs_a.concat([[DIFF_EQUAL,mid_common]],diffs_b)}if(checklines&&text1.length>100&&text2.length>100)return this.diff_lineMode_(text1,text2,deadline);
return this.diff_bisect_(text1,text2,deadline)};
diff_match_patch.prototype.diff_lineMode_=function(text1,text2,deadline){var a=this.diff_linesToChars(text1,text2);text1=a.chars1;text2=a.chars2;var linearray=a.lineArray;var diffs=this.diff_main(text1,text2,false,deadline);this.diff_charsToLines(diffs,linearray);this.diff_cleanupSemantic(diffs);diffs.push([DIFF_EQUAL,""]);var pointer=0;var count_delete=0;var count_insert=0;var text_delete="";var text_insert="";for(;pointer<diffs.length;){switch(diffs[pointer][0]){case DIFF_INSERT:count_insert++;text_insert=
text_insert+diffs[pointer][1];break;case DIFF_DELETE:count_delete++;text_delete=text_delete+diffs[pointer][1];break;case DIFF_EQUAL:if(count_delete>=1&&count_insert>=1){diffs.splice(pointer-count_delete-count_insert,count_delete+count_insert);pointer=pointer-count_delete-count_insert;var subDiff=this.diff_main(text_delete,text_insert,false,deadline);var j=subDiff.length-1;for(;j>=0;j--)diffs.splice(pointer,0,subDiff[j]);pointer=pointer+subDiff.length}count_insert=0;count_delete=0;text_delete="";text_insert=
"";break}pointer++}diffs.pop();return diffs};
diff_match_patch.prototype.diff_bisect_=function(text1,text2,deadline){var text1_length=text1.length;var text2_length=text2.length;var max_d=Math.ceil((text1_length+text2_length)/2);var v_offset=max_d;var v_length=2*max_d;var v1=new Array(v_length);var v2=new Array(v_length);var x=0;for(;x<v_length;x++){v1[x]=-1;v2[x]=-1}v1[v_offset+1]=0;v2[v_offset+1]=0;var delta=text1_length-text2_length;var front=delta%2!=0;var k1start=0;var k1end=0;var k2start=0;var k2end=0;var d=0;for(;d<max_d;d++){if((new Date).getTime()>
deadline)break;var k1=-d+k1start;for(;k1<=d-k1end;k1=k1+2){var k1_offset=v_offset+k1;var x1;if(k1==-d||k1!=d&&v1[k1_offset-1]<v1[k1_offset+1])x1=v1[k1_offset+1];else x1=v1[k1_offset-1]+1;var y1=x1-k1;for(;x1<text1_length&&y1<text2_length&&text1.charAt(x1)==text2.charAt(y1);){x1++;y1++}v1[k1_offset]=x1;if(x1>text1_length)k1end=k1end+2;else if(y1>text2_length)k1start=k1start+2;else if(front){var k2_offset=v_offset+delta-k1;if(k2_offset>=0&&k2_offset<v_length&&v2[k2_offset]!=-1){var x2=text1_length-
v2[k2_offset];if(x1>=x2)return this.diff_bisectSplit_(text1,text2,x1,y1,deadline)}}}var k2=-d+k2start;for(;k2<=d-k2end;k2=k2+2){k2_offset=v_offset+k2;if(k2==-d||k2!=d&&v2[k2_offset-1]<v2[k2_offset+1])x2=v2[k2_offset+1];else x2=v2[k2_offset-1]+1;var y2=x2-k2;for(;x2<text1_length&&y2<text2_length&&text1.charAt(text1_length-x2-1)==text2.charAt(text2_length-y2-1);){x2++;y2++}v2[k2_offset]=x2;if(x2>text1_length)k2end=k2end+2;else if(y2>text2_length)k2start=k2start+2;else if(!front){k1_offset=v_offset+
delta-k2;if(k1_offset>=0&&k1_offset<v_length&&v1[k1_offset]!=-1){x1=v1[k1_offset];y1=v_offset+x1-k1_offset;x2=text1_length-x2;if(x1>=x2)return this.diff_bisectSplit_(text1,text2,x1,y1,deadline)}}}}return[[DIFF_DELETE,text1],[DIFF_INSERT,text2]]};
diff_match_patch.prototype.diff_bisectSplit_=function(text1,text2,x,y,deadline){var text1a=text1.substring(0,x);var text2a=text2.substring(0,y);var text1b=text1.substring(x);var text2b=text2.substring(y);var diffs=this.diff_main(text1a,text2a,false,deadline);var diffsb=this.diff_main(text1b,text2b,false,deadline);return diffs.concat(diffsb)};
diff_match_patch.prototype.diff_linesToChars=function(text1,text2){function diff_linesToCharsMunge_(text){var chars="";var lineStart=0;var lineEnd=-1;var lineArrayLength=lineArray.length;for(;lineEnd<text.length-1;){lineEnd=text.indexOf("\n",lineStart);if(lineEnd==-1)lineEnd=text.length-1;var line=text.substring(lineStart,lineEnd+1);if(lineHash.hasOwnProperty?lineHash.hasOwnProperty(line):lineHash[line]!==undefined)chars=chars+String.fromCharCode(lineHash[line]);else{if(lineArrayLength==maxLines){line=
text.substring(lineStart);lineEnd=text.length}chars=chars+String.fromCharCode(lineArrayLength);lineHash[line]=lineArrayLength;lineArray[lineArrayLength++]=line}lineStart=lineEnd+1}return chars}var lineArray=[];var lineHash={};lineArray[0]="";var maxLines=4E4;var chars1=diff_linesToCharsMunge_(text1);maxLines=65535;var chars2=diff_linesToCharsMunge_(text2);return{chars1:chars1,chars2:chars2,lineArray:lineArray}};
diff_match_patch.prototype.diff_charsToLines=function(diffs,lineArray){var x=0;for(;x<diffs.length;x++){var chars=diffs[x][1];var text=[];var y=0;for(;y<chars.length;y++)text[y]=lineArray[chars.charCodeAt(y)];diffs[x][1]=text.join("")}};
diff_match_patch.prototype.diff_commonPrefix=function(text1,text2){if(!text1||!text2||text1.charAt(0)!=text2.charAt(0))return 0;var pointermin=0;var pointermax=Math.min(text1.length,text2.length);var pointermid=pointermax;var pointerstart=0;for(;pointermin<pointermid;){if(text1.substring(pointerstart,pointermid)==text2.substring(pointerstart,pointermid)){pointermin=pointermid;pointerstart=pointermin}else pointermax=pointermid;pointermid=Math.floor((pointermax-pointermin)/2+pointermin)}return pointermid};
diff_match_patch.prototype.diff_commonSuffix=function(text1,text2){if(!text1||!text2||text1.charAt(text1.length-1)!=text2.charAt(text2.length-1))return 0;var pointermin=0;var pointermax=Math.min(text1.length,text2.length);var pointermid=pointermax;var pointerend=0;for(;pointermin<pointermid;){if(text1.substring(text1.length-pointermid,text1.length-pointerend)==text2.substring(text2.length-pointermid,text2.length-pointerend)){pointermin=pointermid;pointerend=pointermin}else pointermax=pointermid;pointermid=
Math.floor((pointermax-pointermin)/2+pointermin)}return pointermid};
diff_match_patch.prototype.diff_commonOverlap_=function(text1,text2){var text1_length=text1.length;var text2_length=text2.length;if(text1_length==0||text2_length==0)return 0;if(text1_length>text2_length)text1=text1.substring(text1_length-text2_length);else if(text1_length<text2_length)text2=text2.substring(0,text1_length);var text_length=Math.min(text1_length,text2_length);if(text1==text2)return text_length;var best=0;var length=1;for(;true;){var pattern=text1.substring(text_length-length);var found=
text2.indexOf(pattern);if(found==-1)return best;length=length+found;if(found==0||text1.substring(text_length-length)==text2.substring(0,length)){best=length;length++}}};
diff_match_patch.prototype.diff_halfMatch_=function(text1,text2){function diff_halfMatchI_(longtext,shorttext,i){var seed=longtext.substring(i,i+Math.floor(longtext.length/4));var j=-1;var best_common="";var best_longtext_a;var best_longtext_b;var best_shorttext_a;var best_shorttext_b;for(;(j=shorttext.indexOf(seed,j+1))!=-1;){var prefixLength=dmp.diff_commonPrefix(longtext.substring(i),shorttext.substring(j));var suffixLength=dmp.diff_commonSuffix(longtext.substring(0,i),shorttext.substring(0,j));
if(best_common.length<suffixLength+prefixLength){best_common=shorttext.substring(j-suffixLength,j)+shorttext.substring(j,j+prefixLength);best_longtext_a=longtext.substring(0,i-suffixLength);best_longtext_b=longtext.substring(i+prefixLength);best_shorttext_a=shorttext.substring(0,j-suffixLength);best_shorttext_b=shorttext.substring(j+prefixLength)}}if(best_common.length*2>=longtext.length)return[best_longtext_a,best_longtext_b,best_shorttext_a,best_shorttext_b,best_common];else return null}if(this.Diff_Timeout<=
0)return null;var longtext=text1.length>text2.length?text1:text2;var shorttext=text1.length>text2.length?text2:text1;if(longtext.length<4||shorttext.length*2<longtext.length)return null;var dmp=this;var hm1=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/4));var hm2=diff_halfMatchI_(longtext,shorttext,Math.ceil(longtext.length/2));var hm;if(!hm1&&!hm2)return null;else if(!hm2)hm=hm1;else if(!hm1)hm=hm2;else hm=hm1[4].length>hm2[4].length?hm1:hm2;var text1_a;var text1_b;var text2_a;var text2_b;
if(text1.length>text2.length){text1_a=hm[0];text1_b=hm[1];text2_a=hm[2];text2_b=hm[3]}else{text2_a=hm[0];text2_b=hm[1];text1_a=hm[2];text1_b=hm[3]}var mid_common=hm[4];return[text1_a,text1_b,text2_a,text2_b,mid_common]};
diff_match_patch.prototype.diff_cleanupSemantic=function(diffs){var changes=false;var equalities=[];var equalitiesLength=0;var lastequality=null;var pointer=0;var length_insertions1=0;var length_deletions1=0;var length_insertions2=0;var length_deletions2=0;for(;pointer<diffs.length;){if(diffs[pointer][0]==DIFF_EQUAL){equalities[equalitiesLength++]=pointer;length_insertions1=length_insertions2;length_deletions1=length_deletions2;length_insertions2=0;length_deletions2=0;lastequality=diffs[pointer][1]}else{if(diffs[pointer][0]==
DIFF_INSERT)length_insertions2=length_insertions2+diffs[pointer][1].length;else length_deletions2=length_deletions2+diffs[pointer][1].length;if(lastequality&&lastequality.length<=Math.max(length_insertions1,length_deletions1)&&lastequality.length<=Math.max(length_insertions2,length_deletions2)){diffs.splice(equalities[equalitiesLength-1],0,[DIFF_DELETE,lastequality]);diffs[equalities[equalitiesLength-1]+1][0]=DIFF_INSERT;equalitiesLength--;equalitiesLength--;pointer=equalitiesLength>0?equalities[equalitiesLength-
1]:-1;length_insertions1=0;length_deletions1=0;length_insertions2=0;length_deletions2=0;lastequality=null;changes=true}}pointer++}if(changes)this.diff_cleanupMerge(diffs);this.diff_cleanupSemanticLossless(diffs);pointer=1;for(;pointer<diffs.length;){if(diffs[pointer-1][0]==DIFF_DELETE&&diffs[pointer][0]==DIFF_INSERT){var deletion=diffs[pointer-1][1];var insertion=diffs[pointer][1];var overlap_length1=this.diff_commonOverlap_(deletion,insertion);var overlap_length2=this.diff_commonOverlap_(insertion,
deletion);if(overlap_length1>=overlap_length2){if(overlap_length1>=deletion.length/2||overlap_length1>=insertion.length/2){diffs.splice(pointer,0,[DIFF_EQUAL,insertion.substring(0,overlap_length1)]);diffs[pointer-1][1]=deletion.substring(0,deletion.length-overlap_length1);diffs[pointer+1][1]=insertion.substring(overlap_length1);pointer++}}else if(overlap_length2>=deletion.length/2||overlap_length2>=insertion.length/2){diffs.splice(pointer,0,[DIFF_EQUAL,deletion.substring(0,overlap_length2)]);diffs[pointer-
1][0]=DIFF_INSERT;diffs[pointer-1][1]=insertion.substring(0,insertion.length-overlap_length2);diffs[pointer+1][0]=DIFF_DELETE;diffs[pointer+1][1]=deletion.substring(overlap_length2);pointer++}pointer++}pointer++}};
diff_match_patch.prototype.diff_cleanupSemanticLossless=function(diffs){function diff_cleanupSemanticScore_(one,two){if(!one||!two)return 6;var char1=one.charAt(one.length-1);var char2=two.charAt(0);var nonAlphaNumeric1=char1.match(diff_match_patch.nonAlphaNumericRegex_);var nonAlphaNumeric2=char2.match(diff_match_patch.nonAlphaNumericRegex_);var whitespace1=nonAlphaNumeric1&&char1.match(diff_match_patch.whitespaceRegex_);var whitespace2=nonAlphaNumeric2&&char2.match(diff_match_patch.whitespaceRegex_);
var lineBreak1=whitespace1&&char1.match(diff_match_patch.linebreakRegex_);var lineBreak2=whitespace2&&char2.match(diff_match_patch.linebreakRegex_);var blankLine1=lineBreak1&&one.match(diff_match_patch.blanklineEndRegex_);var blankLine2=lineBreak2&&two.match(diff_match_patch.blanklineStartRegex_);if(blankLine1||blankLine2)return 5;else if(lineBreak1||lineBreak2)return 4;else if(nonAlphaNumeric1&&!whitespace1&&whitespace2)return 3;else if(whitespace1||whitespace2)return 2;else if(nonAlphaNumeric1||
nonAlphaNumeric2)return 1;return 0}var pointer=1;for(;pointer<diffs.length-1;){if(diffs[pointer-1][0]==DIFF_EQUAL&&diffs[pointer+1][0]==DIFF_EQUAL){var equality1=diffs[pointer-1][1];var edit=diffs[pointer][1];var equality2=diffs[pointer+1][1];var commonOffset=this.diff_commonSuffix(equality1,edit);if(commonOffset){var commonString=edit.substring(edit.length-commonOffset);equality1=equality1.substring(0,equality1.length-commonOffset);edit=commonString+edit.substring(0,edit.length-commonOffset);equality2=
commonString+equality2}var bestEquality1=equality1;var bestEdit=edit;var bestEquality2=equality2;var bestScore=diff_cleanupSemanticScore_(equality1,edit)+diff_cleanupSemanticScore_(edit,equality2);for(;edit.charAt(0)===equality2.charAt(0);){equality1=equality1+edit.charAt(0);edit=edit.substring(1)+equality2.charAt(0);equality2=equality2.substring(1);var score=diff_cleanupSemanticScore_(equality1,edit)+diff_cleanupSemanticScore_(edit,equality2);if(score>=bestScore){bestScore=score;bestEquality1=equality1;
bestEdit=edit;bestEquality2=equality2}}if(diffs[pointer-1][1]!=bestEquality1){if(bestEquality1)diffs[pointer-1][1]=bestEquality1;else{diffs.splice(pointer-1,1);pointer--}diffs[pointer][1]=bestEdit;if(bestEquality2)diffs[pointer+1][1]=bestEquality2;else{diffs.splice(pointer+1,1);pointer--}}}pointer++}};diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;diff_match_patch.whitespaceRegex_=/\s/;diff_match_patch.linebreakRegex_=/[\r\n]/;diff_match_patch.blanklineEndRegex_=/\n\r?\n$/;
diff_match_patch.blanklineStartRegex_=/^\r?\n\r?\n/;
diff_match_patch.prototype.diff_cleanupEfficiency=function(diffs){var changes=false;var equalities=[];var equalitiesLength=0;var lastequality=null;var pointer=0;var pre_ins=false;var pre_del=false;var post_ins=false;var post_del=false;for(;pointer<diffs.length;){if(diffs[pointer][0]==DIFF_EQUAL){if(diffs[pointer][1].length<this.Diff_EditCost&&(post_ins||post_del)){equalities[equalitiesLength++]=pointer;pre_ins=post_ins;pre_del=post_del;lastequality=diffs[pointer][1]}else{equalitiesLength=0;lastequality=
null}post_ins=post_del=false}else{if(diffs[pointer][0]==DIFF_DELETE)post_del=true;else post_ins=true;if(lastequality&&(pre_ins&&pre_del&&post_ins&&post_del||lastequality.length<this.Diff_EditCost/2&&pre_ins+pre_del+post_ins+post_del==3)){diffs.splice(equalities[equalitiesLength-1],0,[DIFF_DELETE,lastequality]);diffs[equalities[equalitiesLength-1]+1][0]=DIFF_INSERT;equalitiesLength--;lastequality=null;if(pre_ins&&pre_del){post_ins=post_del=true;equalitiesLength=0}else{equalitiesLength--;pointer=equalitiesLength>
0?equalities[equalitiesLength-1]:-1;post_ins=post_del=false}changes=true}}pointer++}if(changes)this.diff_cleanupMerge(diffs)};
diff_match_patch.prototype.diff_cleanupMerge=function(diffs){diffs.push([DIFF_EQUAL,""]);var pointer=0;var count_delete=0;var count_insert=0;var text_delete="";var text_insert="";var commonlength;for(;pointer<diffs.length;)switch(diffs[pointer][0]){case DIFF_INSERT:count_insert++;text_insert=text_insert+diffs[pointer][1];pointer++;break;case DIFF_DELETE:count_delete++;text_delete=text_delete+diffs[pointer][1];pointer++;break;case DIFF_EQUAL:if(count_delete+count_insert>1){if(count_delete!==0&&count_insert!==
0){commonlength=this.diff_commonPrefix(text_insert,text_delete);if(commonlength!==0){if(pointer-count_delete-count_insert>0&&diffs[pointer-count_delete-count_insert-1][0]==DIFF_EQUAL)diffs[pointer-count_delete-count_insert-1][1]+=text_insert.substring(0,commonlength);else{diffs.splice(0,0,[DIFF_EQUAL,text_insert.substring(0,commonlength)]);pointer++}text_insert=text_insert.substring(commonlength);text_delete=text_delete.substring(commonlength)}commonlength=this.diff_commonSuffix(text_insert,text_delete);
if(commonlength!==0){diffs[pointer][1]=text_insert.substring(text_insert.length-commonlength)+diffs[pointer][1];text_insert=text_insert.substring(0,text_insert.length-commonlength);text_delete=text_delete.substring(0,text_delete.length-commonlength)}}if(count_delete===0)diffs.splice(pointer-count_insert,count_delete+count_insert,[DIFF_INSERT,text_insert]);else if(count_insert===0)diffs.splice(pointer-count_delete,count_delete+count_insert,[DIFF_DELETE,text_delete]);else diffs.splice(pointer-count_delete-
count_insert,count_delete+count_insert,[DIFF_DELETE,text_delete],[DIFF_INSERT,text_insert]);pointer=pointer-count_delete-count_insert+(count_delete?1:0)+(count_insert?1:0)+1}else if(pointer!==0&&diffs[pointer-1][0]==DIFF_EQUAL){diffs[pointer-1][1]+=diffs[pointer][1];diffs.splice(pointer,1)}else pointer++;count_insert=0;count_delete=0;text_delete="";text_insert="";break}if(diffs[diffs.length-1][1]==="")diffs.pop();var changes=false;pointer=1;for(;pointer<diffs.length-1;){if(diffs[pointer-1][0]==DIFF_EQUAL&&
diffs[pointer+1][0]==DIFF_EQUAL)if(diffs[pointer][1].substring(diffs[pointer][1].length-diffs[pointer-1][1].length)==diffs[pointer-1][1]){diffs[pointer][1]=diffs[pointer-1][1]+diffs[pointer][1].substring(0,diffs[pointer][1].length-diffs[pointer-1][1].length);diffs[pointer+1][1]=diffs[pointer-1][1]+diffs[pointer+1][1];diffs.splice(pointer-1,1);changes=true}else if(diffs[pointer][1].substring(0,diffs[pointer+1][1].length)==diffs[pointer+1][1]){diffs[pointer-1][1]+=diffs[pointer+1][1];diffs[pointer][1]=
diffs[pointer][1].substring(diffs[pointer+1][1].length)+diffs[pointer+1][1];diffs.splice(pointer+1,1);changes=true}pointer++}if(changes)this.diff_cleanupMerge(diffs)};
diff_match_patch.prototype.diff_xIndex=function(diffs,loc){var chars1=0;var chars2=0;var last_chars1=0;var last_chars2=0;var x;x=0;for(;x<diffs.length;x++){if(diffs[x][0]!==DIFF_INSERT)chars1=chars1+diffs[x][1].length;if(diffs[x][0]!==DIFF_DELETE)chars2=chars2+diffs[x][1].length;if(chars1>loc)break;last_chars1=chars1;last_chars2=chars2}if(diffs.length!=x&&diffs[x][0]===DIFF_DELETE)return last_chars2;return last_chars2+(loc-last_chars1)};
diff_match_patch.prototype.diff_prettyHtml=function(diffs){var html=[];var pattern_amp=/&/g;var pattern_lt=/</g;var pattern_gt=/>/g;var pattern_para=/\n/g;var x=0;for(;x<diffs.length;x++){var op=diffs[x][0];var data=diffs[x][1];var text=data.replace(pattern_amp,"&amp;").replace(pattern_lt,"&lt;").replace(pattern_gt,"&gt;").replace(pattern_para,"&para;<br>");switch(op){case DIFF_INSERT:html[x]='<ins style="background:#e6ffe6;">'+text+"</ins>";break;case DIFF_DELETE:html[x]='<del style="background:#ffe6e6;">'+
text+"</del>";break;case DIFF_EQUAL:html[x]="<span>"+text+"</span>";break}}return html.join("")};diff_match_patch.prototype.diff_text1=function(diffs){var text=[];var x=0;for(;x<diffs.length;x++)if(diffs[x][0]!==DIFF_INSERT)text[x]=diffs[x][1];return text.join("")};diff_match_patch.prototype.diff_text2=function(diffs){var text=[];var x=0;for(;x<diffs.length;x++)if(diffs[x][0]!==DIFF_DELETE)text[x]=diffs[x][1];return text.join("")};
diff_match_patch.prototype.diff_levenshtein=function(diffs){var levenshtein=0;var insertions=0;var deletions=0;var x=0;for(;x<diffs.length;x++){var op=diffs[x][0];var data=diffs[x][1];switch(op){case DIFF_INSERT:insertions=insertions+data.length;break;case DIFF_DELETE:deletions=deletions+data.length;break;case DIFF_EQUAL:levenshtein=levenshtein+Math.max(insertions,deletions);insertions=0;deletions=0;break}}levenshtein=levenshtein+Math.max(insertions,deletions);return levenshtein};
diff_match_patch.prototype.diff_toDelta=function(diffs){var text=[];var x=0;for(;x<diffs.length;x++)switch(diffs[x][0]){case DIFF_INSERT:text[x]="+"+encodeURI(diffs[x][1]);break;case DIFF_DELETE:text[x]="-"+diffs[x][1].length;break;case DIFF_EQUAL:text[x]="="+diffs[x][1].length;break}return text.join("\t").replace(/%20/g," ")};
diff_match_patch.prototype.diff_fromDelta=function(text1,delta){var diffs=[];var diffsLength=0;var pointer=0;var tokens=delta.split(/\t/g);var x=0;for(;x<tokens.length;x++){var param=tokens[x].substring(1);switch(tokens[x].charAt(0)){case "+":try{diffs[diffsLength++]=[DIFF_INSERT,decodeURI(param)]}catch(ex){throw new Error("Illegal escape in diff_fromDelta: "+param);}break;case "-":case "=":var n=parseInt(param,10);if(isNaN(n)||n<0)throw new Error("Invalid number in diff_fromDelta: "+param);var text=
text1.substring(pointer,pointer=pointer+n);if(tokens[x].charAt(0)=="=")diffs[diffsLength++]=[DIFF_EQUAL,text];else diffs[diffsLength++]=[DIFF_DELETE,text];break;default:if(tokens[x])throw new Error("Invalid diff operation in diff_fromDelta: "+tokens[x]);}}if(pointer!=text1.length)throw new Error("Delta length ("+pointer+") does not equal source text length ("+text1.length+").");return diffs};
diff_match_patch.prototype.match_main=function(text,pattern,loc){if(text==null||pattern==null||loc==null)throw new Error("Null input. (match_main)");loc=Math.max(0,Math.min(loc,text.length));if(text==pattern)return 0;else if(!text.length)return-1;else if(text.substring(loc,loc+pattern.length)==pattern)return loc;else return this.match_bitap_(text,pattern,loc)};
diff_match_patch.prototype.match_bitap_=function(text,pattern,loc){function match_bitapScore_(e,x){var accuracy=e/pattern.length;var proximity=Math.abs(loc-x);if(!dmp.Match_Distance)return proximity?1:accuracy;return accuracy+proximity/dmp.Match_Distance}if(pattern.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var s=this.match_alphabet_(pattern);var dmp=this;var score_threshold=this.Match_Threshold;var best_loc=text.indexOf(pattern,loc);if(best_loc!=-1){score_threshold=
Math.min(match_bitapScore_(0,best_loc),score_threshold);best_loc=text.lastIndexOf(pattern,loc+pattern.length);if(best_loc!=-1)score_threshold=Math.min(match_bitapScore_(0,best_loc),score_threshold)}var matchmask=1<<pattern.length-1;best_loc=-1;var bin_min;var bin_mid;var bin_max=pattern.length+text.length;var last_rd;var d=0;for(;d<pattern.length;d++){bin_min=0;bin_mid=bin_max;for(;bin_min<bin_mid;){if(match_bitapScore_(d,loc+bin_mid)<=score_threshold)bin_min=bin_mid;else bin_max=bin_mid;bin_mid=
Math.floor((bin_max-bin_min)/2+bin_min)}bin_max=bin_mid;var start=Math.max(1,loc-bin_mid+1);var finish=Math.min(loc+bin_mid,text.length)+pattern.length;var rd=Array(finish+2);rd[finish+1]=(1<<d)-1;var j=finish;for(;j>=start;j--){var charMatch=s[text.charAt(j-1)];if(d===0)rd[j]=(rd[j+1]<<1|1)&charMatch;else rd[j]=(rd[j+1]<<1|1)&charMatch|((last_rd[j+1]|last_rd[j])<<1|1)|last_rd[j+1];if(rd[j]&matchmask){var score=match_bitapScore_(d,j-1);if(score<=score_threshold){score_threshold=score;best_loc=j-1;
if(best_loc>loc)start=Math.max(1,2*loc-best_loc);else break}}}if(match_bitapScore_(d+1,loc)>score_threshold)break;last_rd=rd}return best_loc};diff_match_patch.prototype.match_alphabet_=function(pattern){var s={};var i=0;for(;i<pattern.length;i++)s[pattern.charAt(i)]=0;i=0;for(;i<pattern.length;i++)s[pattern.charAt(i)]|=1<<pattern.length-i-1;return s};
diff_match_patch.prototype.patch_addContext_=function(patch,text){if(text.length==0)return;if(patch.start2===null)throw Error("patch not initialized");var pattern=text.substring(patch.start2,patch.start2+patch.length1);var padding=0;for(;text.indexOf(pattern)!=text.lastIndexOf(pattern)&&pattern.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;){padding=padding+this.Patch_Margin;pattern=text.substring(patch.start2-padding,patch.start2+patch.length1+padding)}padding=padding+this.Patch_Margin;
var prefix=text.substring(patch.start2-padding,patch.start2);if(prefix)patch.diffs.unshift([DIFF_EQUAL,prefix]);var suffix=text.substring(patch.start2+patch.length1,patch.start2+patch.length1+padding);if(suffix)patch.diffs.push([DIFF_EQUAL,suffix]);patch.start1-=prefix.length;patch.start2-=prefix.length;patch.length1+=prefix.length+suffix.length;patch.length2+=prefix.length+suffix.length};
diff_match_patch.prototype.patch_make=function(a,opt_b,opt_c){var text1;var diffs;if(typeof a=="string"&&typeof opt_b=="string"&&typeof opt_c=="undefined"){text1=a;diffs=this.diff_main(text1,opt_b,true);if(diffs.length>2){this.diff_cleanupSemantic(diffs);this.diff_cleanupEfficiency(diffs)}}else if(a&&typeof a=="object"&&typeof opt_b=="undefined"&&typeof opt_c=="undefined"){diffs=a;text1=this.diff_text1(diffs)}else if(typeof a=="string"&&opt_b&&typeof opt_b=="object"&&typeof opt_c=="undefined"){text1=
a;diffs=opt_b}else if(typeof a=="string"&&typeof opt_b=="string"&&opt_c&&typeof opt_c=="object"){text1=a;diffs=opt_c}else throw new Error("Unknown call format to patch_make.");if(diffs.length===0)return[];var patches=[];var patch=new diff_match_patch.patch_obj;var patchDiffLength=0;var char_count1=0;var char_count2=0;var prepatch_text=text1;var postpatch_text=text1;var x=0;for(;x<diffs.length;x++){var diff_type=diffs[x][0];var diff_text=diffs[x][1];if(!patchDiffLength&&diff_type!==DIFF_EQUAL){patch.start1=
char_count1;patch.start2=char_count2}switch(diff_type){case DIFF_INSERT:patch.diffs[patchDiffLength++]=diffs[x];patch.length2+=diff_text.length;postpatch_text=postpatch_text.substring(0,char_count2)+diff_text+postpatch_text.substring(char_count2);break;case DIFF_DELETE:patch.length1+=diff_text.length;patch.diffs[patchDiffLength++]=diffs[x];postpatch_text=postpatch_text.substring(0,char_count2)+postpatch_text.substring(char_count2+diff_text.length);break;case DIFF_EQUAL:if(diff_text.length<=2*this.Patch_Margin&&
patchDiffLength&&diffs.length!=x+1){patch.diffs[patchDiffLength++]=diffs[x];patch.length1+=diff_text.length;patch.length2+=diff_text.length}else if(diff_text.length>=2*this.Patch_Margin)if(patchDiffLength){this.patch_addContext_(patch,prepatch_text);patches.push(patch);patch=new diff_match_patch.patch_obj;patchDiffLength=0;prepatch_text=postpatch_text;char_count1=char_count2}break}if(diff_type!==DIFF_INSERT)char_count1=char_count1+diff_text.length;if(diff_type!==DIFF_DELETE)char_count2=char_count2+
diff_text.length}if(patchDiffLength){this.patch_addContext_(patch,prepatch_text);patches.push(patch)}return patches};
diff_match_patch.prototype.patch_deepCopy=function(patches){var patchesCopy=[];var x=0;for(;x<patches.length;x++){var patch=patches[x];var patchCopy=new diff_match_patch.patch_obj;patchCopy.diffs=[];var y=0;for(;y<patch.diffs.length;y++)patchCopy.diffs[y]={0:patch.diffs[y][0],1:patch.diffs[y][1]};patchCopy.start1=patch.start1;patchCopy.start2=patch.start2;patchCopy.length1=patch.length1;patchCopy.length2=patch.length2;patchesCopy[x]=patchCopy}return patchesCopy};
diff_match_patch.prototype.patch_apply=function(patches,text){if(patches.length==0)return[text,[]];patches=this.patch_deepCopy(patches);var nullPadding=this.patch_addPadding(patches);text=nullPadding+text+nullPadding;this.patch_splitMax(patches);var delta=0;var results=[];var x=0;for(;x<patches.length;x++){var expected_loc=patches[x].start2+delta;var text1=this.diff_text1(patches[x].diffs);var start_loc;var end_loc=-1;if(text1.length>this.Match_MaxBits){start_loc=this.match_main(text,text1.substring(0,
this.Match_MaxBits),expected_loc);if(start_loc!=-1){end_loc=this.match_main(text,text1.substring(text1.length-this.Match_MaxBits),expected_loc+text1.length-this.Match_MaxBits);if(end_loc==-1||start_loc>=end_loc)start_loc=-1}}else start_loc=this.match_main(text,text1,expected_loc);if(start_loc==-1){results[x]=false;delta=delta-(patches[x].length2-patches[x].length1)}else{results[x]=true;delta=start_loc-expected_loc;var text2;if(end_loc==-1)text2=text.substring(start_loc,start_loc+text1.length);else text2=
text.substring(start_loc,end_loc+this.Match_MaxBits);if(text1==text2)text=text.substring(0,start_loc)+this.diff_text2(patches[x].diffs)+text.substring(start_loc+text1.length);else{var diffs=this.diff_main(text1,text2,false);if(text1.length>this.Match_MaxBits&&this.diff_levenshtein(diffs)/text1.length>this.Patch_DeleteThreshold)results[x]=false;else{this.diff_cleanupSemanticLossless(diffs);var index1=0;var index2;var y=0;for(;y<patches[x].diffs.length;y++){var mod=patches[x].diffs[y];if(mod[0]!==DIFF_EQUAL)index2=
this.diff_xIndex(diffs,index1);if(mod[0]===DIFF_INSERT)text=text.substring(0,start_loc+index2)+mod[1]+text.substring(start_loc+index2);else if(mod[0]===DIFF_DELETE)text=text.substring(0,start_loc+index2)+text.substring(start_loc+this.diff_xIndex(diffs,index1+mod[1].length));if(mod[0]!==DIFF_DELETE)index1=index1+mod[1].length}}}}}text=text.substring(nullPadding.length,text.length-nullPadding.length);return[text,results]};
diff_match_patch.prototype.patch_addPadding=function(patches){var paddingLength=this.Patch_Margin;var nullPadding="";var x=1;for(;x<=paddingLength;x++)nullPadding=nullPadding+String.fromCharCode(x);x=0;for(;x<patches.length;x++){patches[x].start1+=paddingLength;patches[x].start2+=paddingLength}var patch=patches[0];var diffs=patch.diffs;if(diffs.length==0||diffs[0][0]!=DIFF_EQUAL){diffs.unshift([DIFF_EQUAL,nullPadding]);patch.start1-=paddingLength;patch.start2-=paddingLength;patch.length1+=paddingLength;
patch.length2+=paddingLength}else if(paddingLength>diffs[0][1].length){var extraLength=paddingLength-diffs[0][1].length;diffs[0][1]=nullPadding.substring(diffs[0][1].length)+diffs[0][1];patch.start1-=extraLength;patch.start2-=extraLength;patch.length1+=extraLength;patch.length2+=extraLength}patch=patches[patches.length-1];diffs=patch.diffs;if(diffs.length==0||diffs[diffs.length-1][0]!=DIFF_EQUAL){diffs.push([DIFF_EQUAL,nullPadding]);patch.length1+=paddingLength;patch.length2+=paddingLength}else if(paddingLength>
diffs[diffs.length-1][1].length){extraLength=paddingLength-diffs[diffs.length-1][1].length;diffs[diffs.length-1][1]+=nullPadding.substring(0,extraLength);patch.length1+=extraLength;patch.length2+=extraLength}return nullPadding};
diff_match_patch.prototype.patch_splitMax=function(patches){var patch_size=this.Match_MaxBits;var x=0;for(;x<patches.length;x++){if(patches[x].length1<=patch_size)continue;var bigpatch=patches[x];patches.splice(x--,1);var start1=bigpatch.start1;var start2=bigpatch.start2;var precontext="";for(;bigpatch.diffs.length!==0;){var patch=new diff_match_patch.patch_obj;var empty=true;patch.start1=start1-precontext.length;patch.start2=start2-precontext.length;if(precontext!==""){patch.length1=patch.length2=
precontext.length;patch.diffs.push([DIFF_EQUAL,precontext])}for(;bigpatch.diffs.length!==0&&patch.length1<patch_size-this.Patch_Margin;){var diff_type=bigpatch.diffs[0][0];var diff_text=bigpatch.diffs[0][1];if(diff_type===DIFF_INSERT){patch.length2+=diff_text.length;start2=start2+diff_text.length;patch.diffs.push(bigpatch.diffs.shift());empty=false}else if(diff_type===DIFF_DELETE&&patch.diffs.length==1&&patch.diffs[0][0]==DIFF_EQUAL&&diff_text.length>2*patch_size){patch.length1+=diff_text.length;
start1=start1+diff_text.length;empty=false;patch.diffs.push([diff_type,diff_text]);bigpatch.diffs.shift()}else{diff_text=diff_text.substring(0,patch_size-patch.length1-this.Patch_Margin);patch.length1+=diff_text.length;start1=start1+diff_text.length;if(diff_type===DIFF_EQUAL){patch.length2+=diff_text.length;start2=start2+diff_text.length}else empty=false;patch.diffs.push([diff_type,diff_text]);if(diff_text==bigpatch.diffs[0][1])bigpatch.diffs.shift();else bigpatch.diffs[0][1]=bigpatch.diffs[0][1].substring(diff_text.length)}}precontext=
this.diff_text2(patch.diffs);precontext=precontext.substring(precontext.length-this.Patch_Margin);var postcontext=this.diff_text1(bigpatch.diffs).substring(0,this.Patch_Margin);if(postcontext!==""){patch.length1+=postcontext.length;patch.length2+=postcontext.length;if(patch.diffs.length!==0&&patch.diffs[patch.diffs.length-1][0]===DIFF_EQUAL)patch.diffs[patch.diffs.length-1][1]+=postcontext;else patch.diffs.push([DIFF_EQUAL,postcontext])}if(!empty)patches.splice(++x,0,patch)}}};
diff_match_patch.prototype.patch_toText=function(patches){var text=[];var x=0;for(;x<patches.length;x++)text[x]=patches[x];return text.join("")};
diff_match_patch.prototype.patch_fromText=function(textline){var patches=[];if(!textline)return patches;var text=textline.split("\n");var textPointer=0;var patchHeader=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;for(;textPointer<text.length;){var m=text[textPointer].match(patchHeader);if(!m)throw new Error("Invalid patch string: "+text[textPointer]);var patch=new diff_match_patch.patch_obj;patches.push(patch);patch.start1=parseInt(m[1],10);if(m[2]===""){patch.start1--;patch.length1=1}else if(m[2]=="0")patch.length1=
0;else{patch.start1--;patch.length1=parseInt(m[2],10)}patch.start2=parseInt(m[3],10);if(m[4]===""){patch.start2--;patch.length2=1}else if(m[4]=="0")patch.length2=0;else{patch.start2--;patch.length2=parseInt(m[4],10)}textPointer++;for(;textPointer<text.length;){var sign=text[textPointer].charAt(0);try{var line=decodeURI(text[textPointer].substring(1))}catch(ex){throw new Error("Illegal escape in patch_fromText: "+line);}if(sign=="-")patch.diffs.push([DIFF_DELETE,line]);else if(sign=="+")patch.diffs.push([DIFF_INSERT,
line]);else if(sign==" ")patch.diffs.push([DIFF_EQUAL,line]);else if(sign=="@")break;else if(sign==="");else throw new Error('Invalid patch mode "'+sign+'" in: '+line);textPointer++}}return patches};diff_match_patch.patch_obj=function(){this.diffs=[];this.start1=null;this.start2=null;this.length1=0;this.length2=0};
diff_match_patch.patch_obj.prototype.toString=function(){var coords1;var coords2;if(this.length1===0)coords1=this.start1+",0";else if(this.length1==1)coords1=this.start1+1;else coords1=this.start1+1+","+this.length1;if(this.length2===0)coords2=this.start2+",0";else if(this.length2==1)coords2=this.start2+1;else coords2=this.start2+1+","+this.length2;var text=["@@ -"+coords1+" +"+coords2+" @@\n"];var op;var x=0;for(;x<this.diffs.length;x++){switch(this.diffs[x][0]){case DIFF_INSERT:op="+";break;case DIFF_DELETE:op=
"-";break;case DIFF_EQUAL:op=" ";break}text[x+1]=op+encodeURI(this.diffs[x][1])+"\n"}return text.join("").replace(/%20/g," ")};this["diff_match_patch"]=diff_match_patch;this["DIFF_DELETE"]=DIFF_DELETE;this["DIFF_INSERT"]=DIFF_INSERT;this["DIFF_EQUAL"]=DIFF_EQUAL;(function(mod){if(typeof exports=="object"&&typeof module=="object")mod(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","diff_match_patch"],mod);else mod(CodeMirror)})(function(CodeMirror){function DiffView(mv,type){this.mv=mv;this.type=type;this.classes=type=="left"?LEFT_CLASSES:RIGHT_CLASSES}function ensureDiff(dv){if(dv.diffOutOfDate){dv.diff=getDiff(dv.orig.getValue(),dv.edit.getValue(),dv.mv.options.ignoreWhitespace);dv.chunks=getChunks(dv.diff);
dv.diffOutOfDate=false;CodeMirror.signal(dv.edit,"updateDiff",dv.diff)}}function registerUpdate(dv){function update(mode){updating=true;updatingFast=false;if(mode=="full"){if(dv.svg)clear(dv.svg);if(dv.copyButtons)clear(dv.copyButtons);clearMarks(dv.edit,edit.marked,dv.classes);clearMarks(dv.orig,orig.marked,dv.classes);edit.from=edit.to=orig.from=orig.to=0}ensureDiff(dv);if(dv.showDifferences){updateMarks(dv.edit,dv.diff,edit,DIFF_INSERT,dv.classes);updateMarks(dv.orig,dv.diff,orig,DIFF_DELETE,dv.classes)}if(dv.mv.options.connect==
"align")alignChunks(dv);makeConnections(dv);if(dv.needsScrollSync!=null)syncScroll(dv,dv.needsScrollSync);updating=false}function setDealign(fast){if(updating)return;dv.dealigned=true;set(fast)}function set(fast){if(updating||updatingFast)return;clearTimeout(debounceChange);if(fast===true)updatingFast=true;debounceChange=setTimeout(update,fast===true?20:30)}function change(_cm,change){if(!dv.diffOutOfDate){dv.diffOutOfDate=true;edit.from=edit.to=orig.from=orig.to=0}setDealign(change.text.length-1!=
change.to.line-change.from.line)}function swapDoc(){dv.diffOutOfDate=true;dv.dealigned=true;update("full")}var edit={from:0,to:0,marked:[]};var orig={from:0,to:0,marked:[]};var debounceChange;var updatingFast=false;dv.edit.on("change",change);dv.orig.on("change",change);dv.edit.on("swapDoc",swapDoc);dv.orig.on("swapDoc",swapDoc);if(dv.mv.options.connect=="align"){CodeMirror.on(dv.edit.state.trackAlignable,"realign",setDealign);CodeMirror.on(dv.orig.state.trackAlignable,"realign",setDealign)}dv.edit.on("viewportChange",
function(){set(false)});dv.orig.on("viewportChange",function(){set(false)});update();return update}function registerScroll(dv,otherDv){dv.edit.on("scroll",function(){syncScroll(dv,true)&&makeConnections(dv)});dv.orig.on("scroll",function(){syncScroll(dv,false)&&makeConnections(dv);if(otherDv)syncScroll(otherDv,true)&&makeConnections(otherDv)})}function syncScroll(dv,toOrig){if(dv.diffOutOfDate){if(dv.lockScroll&&dv.needsScrollSync==null)dv.needsScrollSync=toOrig;return false}dv.needsScrollSync=null;
if(!dv.lockScroll)return true;var editor;var other;var now=+new Date;if(toOrig){editor=dv.edit;other=dv.orig}else{editor=dv.orig;other=dv.edit}if(editor.state.scrollSetBy==dv&&(editor.state.scrollSetAt||0)+250>now)return false;var sInfo=editor.getScrollInfo();if(dv.mv.options.connect=="align")targetPos=sInfo.top;else{var halfScreen=.5*sInfo.clientHeight;var midY=sInfo.top+halfScreen;var mid=editor.lineAtHeight(midY,"local");var around=chunkBoundariesAround(dv.chunks,mid,toOrig);var off=getOffsets(editor,
toOrig?around.edit:around.orig);var offOther=getOffsets(other,toOrig?around.orig:around.edit);var ratio=(midY-off.top)/(off.bot-off.top);var targetPos=offOther.top-halfScreen+ratio*(offOther.bot-offOther.top);var botDist;var mix;if(targetPos>sInfo.top&&(mix=sInfo.top/halfScreen)<1)targetPos=targetPos*mix+sInfo.top*(1-mix);else if((botDist=sInfo.height-sInfo.clientHeight-sInfo.top)<halfScreen){var otherInfo=other.getScrollInfo();var botDistOther=otherInfo.height-otherInfo.clientHeight-targetPos;if(botDistOther>
botDist&&(mix=botDist/halfScreen)<1)targetPos=targetPos*mix+(otherInfo.height-otherInfo.clientHeight-botDist)*(1-mix)}}other.scrollTo(sInfo.left,targetPos);other.state.scrollSetAt=now;other.state.scrollSetBy=dv;return true}function getOffsets(editor,around){var bot=around.after;if(bot==null)bot=editor.lastLine()+1;return{top:editor.heightAtLine(around.before||0,"local"),bot:editor.heightAtLine(bot,"local")}}function setScrollLock(dv,val,action){dv.lockScroll=val;if(val&&action!=false)syncScroll(dv,
DIFF_INSERT)&&makeConnections(dv);(val?CodeMirror.addClass:CodeMirror.rmClass)(dv.lockButton,"CodeMirror-merge-scrolllock-enabled")}function removeClass(editor,line,classes){var locs=classes.classLocation;var i=0;for(;i<locs.length;i++){editor.removeLineClass(line,locs[i],classes.chunk);editor.removeLineClass(line,locs[i],classes.start);editor.removeLineClass(line,locs[i],classes.end)}}function clearMarks(editor,arr,classes){var i=0;for(;i<arr.length;++i){var mark=arr[i];if(mark instanceof CodeMirror.TextMarker)mark.clear();
else if(mark.parent)removeClass(editor,mark,classes)}arr.length=0}function updateMarks(editor,diff,state,type,classes){var vp=editor.getViewport();editor.operation(function(){if(state.from==state.to||vp.from-state.to>20||state.from-vp.to>20){clearMarks(editor,state.marked,classes);markChanges(editor,diff,type,state.marked,vp.from,vp.to,classes);state.from=vp.from;state.to=vp.to}else{if(vp.from<state.from){markChanges(editor,diff,type,state.marked,vp.from,state.from,classes);state.from=vp.from}if(vp.to>
state.to){markChanges(editor,diff,type,state.marked,state.to,vp.to,classes);state.to=vp.to}}})}function addClass(editor,lineNr,classes,main,start,end){var locs=classes.classLocation;var line=editor.getLineHandle(lineNr);var i=0;for(;i<locs.length;i++){if(main)editor.addLineClass(line,locs[i],classes.chunk);if(start)editor.addLineClass(line,locs[i],classes.start);if(end)editor.addLineClass(line,locs[i],classes.end)}return line}function markChanges(editor,diff,type,marks,from,to,classes){function markChunk(start,
end){var bfrom=Math.max(from,start);var bto=Math.min(to,end);var i=bfrom;for(;i<bto;++i)marks.push(addClass(editor,i,classes,true,i==start,i==end-1));if(start==end&&bfrom==end&&bto==end)if(bfrom)marks.push(addClass(editor,bfrom-1,classes,false,false,true));else marks.push(addClass(editor,bfrom,classes,false,true,false))}var pos=Pos(0,0);var top=Pos(from,0);var bot=editor.clipPos(Pos(to-1));var cls=type==DIFF_DELETE?classes.del:classes.insert;var chunkStart=0;var pending=false;var i=0;for(;i<diff.length;++i){var part=
diff[i];var tp=part[0];var str=part[1];if(tp==DIFF_EQUAL){var cleanFrom=pos.line+(startOfLineClean(diff,i)?0:1);moveOver(pos,str);var cleanTo=pos.line+(endOfLineClean(diff,i)?1:0);if(cleanTo>cleanFrom){if(pending){markChunk(chunkStart,cleanFrom);pending=false}chunkStart=cleanTo}}else{pending=true;if(tp==type){var end=moveOver(pos,str,true);var a=posMax(top,pos);var b=posMin(bot,end);if(!posEq(a,b))marks.push(editor.markText(a,b,{className:cls}));pos=end}}}if(pending)markChunk(chunkStart,pos.line+
1)}function makeConnections(dv){if(!dv.showDifferences)return;if(dv.svg){clear(dv.svg);var w=dv.gap.offsetWidth;dv.svg.setAttribute("width",w);dv.svg.setAttribute("height",dv.gap.offsetHeight)}if(dv.copyButtons)clear(dv.copyButtons);var vpEdit=dv.edit.getViewport();var vpOrig=dv.orig.getViewport();var outerTop=dv.mv.wrap.getBoundingClientRect().top;var sTopEdit=outerTop-dv.edit.getScrollerElement().getBoundingClientRect().top+dv.edit.getScrollInfo().top;var sTopOrig=outerTop-dv.orig.getScrollerElement().getBoundingClientRect().top+
dv.orig.getScrollInfo().top;var i=0;for(;i<dv.chunks.length;i++){var ch=dv.chunks[i];if(ch.editFrom<=vpEdit.to&&ch.editTo>=vpEdit.from&&ch.origFrom<=vpOrig.to&&ch.origTo>=vpOrig.from)drawConnectorsForChunk(dv,ch,sTopOrig,sTopEdit,w)}}function getMatchingOrigLine(editLine,chunks){var editStart=0;var origStart=0;var i=0;for(;i<chunks.length;i++){var chunk=chunks[i];if(chunk.editTo>editLine&&chunk.editFrom<=editLine)return null;if(chunk.editFrom>editLine)break;editStart=chunk.editTo;origStart=chunk.origTo}return origStart+
(editLine-editStart)}function alignableFor(cm,chunks,isOrig){var tracker=cm.state.trackAlignable;var start=cm.firstLine();var trackI=0;var result=[];var i=0;for(;;i++){var chunk=chunks[i];var chunkStart=!chunk?1E9:isOrig?chunk.origFrom:chunk.editFrom;for(;trackI<tracker.alignable.length;trackI=trackI+2){var n=tracker.alignable[trackI]+1;if(n<=start)continue;if(n<=chunkStart)result.push(n);else break}if(!chunk)break;result.push(start=isOrig?chunk.origTo:chunk.editTo)}return result}function mergeAlignable(result,
origAlignable,chunks,setIndex){var rI=0;var origI=0;var chunkI=0;var diff=0;outer:for(;;rI++){var nextR=result[rI];var nextO=origAlignable[origI];if(!nextR&&nextO==null)break;var rLine=nextR?nextR[0]:1E9;var oLine=nextO==null?1E9:nextO;for(;chunkI<chunks.length;){var chunk=chunks[chunkI];if(chunk.origFrom<=oLine&&chunk.origTo>oLine){origI++;rI--;continue outer}if(chunk.editTo>rLine){if(chunk.editFrom<=rLine)continue outer;break}diff=diff+(chunk.origTo-chunk.origFrom-(chunk.editTo-chunk.editFrom));
chunkI++}if(rLine==oLine-diff){nextR[setIndex]=oLine;origI++}else if(rLine<oLine-diff)nextR[setIndex]=rLine+diff;else{var record=[oLine-diff,null,null];record[setIndex]=oLine;result.splice(rI,0,record);origI++}}}function findAlignedLines(dv,other){var alignable=alignableFor(dv.edit,dv.chunks,false);var result=[];if(other){var i=0;var j=0;for(;i<other.chunks.length;i++){var n=other.chunks[i].editTo;for(;j<alignable.length&&alignable[j]<n;)j++;if(j==alignable.length||alignable[j]!=n)alignable.splice(j++,
0,n)}}i=0;for(;i<alignable.length;i++)result.push([alignable[i],null,null]);mergeAlignable(result,alignableFor(dv.orig,dv.chunks,true),dv.chunks,1);if(other)mergeAlignable(result,alignableFor(other.orig,other.chunks,true),other.chunks,2);return result}function alignChunks(dv,force){if(!dv.dealigned&&!force)return;if(!dv.orig.curOp)return dv.orig.operation(function(){alignChunks(dv,force)});dv.dealigned=false;var other=dv.mv.left==dv?dv.mv.right:dv.mv.left;if(other){ensureDiff(other);other.dealigned=
false}var linesToAlign=findAlignedLines(dv,other);var aligners=dv.mv.aligners;var i=0;for(;i<aligners.length;i++)aligners[i].clear();aligners.length=0;var cm=[dv.edit,dv.orig];var scroll=[];var offset=[];if(other)cm.push(other.orig);i=0;for(;i<cm.length;i++){scroll.push(cm[i].getScrollInfo().top);offset.push(-cm[i].getScrollerElement().getBoundingClientRect().top)}if(offset[0]!=offset[1]||cm.length==3&&offset[1]!=offset[2])alignLines(cm,offset,[0,0,0],aligners);var ln=0;for(;ln<linesToAlign.length;ln++)alignLines(cm,
offset,linesToAlign[ln],aligners);i=0;for(;i<cm.length;i++)cm[i].scrollTo(null,scroll[i])}function alignLines(cm,cmOffset,lines,aligners){var maxOffset=-1E8;var offset=[];var i=0;for(;i<cm.length;i++)if(lines[i]!=null){var off=cm[i].heightAtLine(lines[i],"local")-cmOffset[i];offset[i]=off;maxOffset=Math.max(maxOffset,off)}i=0;for(;i<cm.length;i++)if(lines[i]!=null){var diff=maxOffset-offset[i];if(diff>1)aligners.push(padAbove(cm[i],lines[i],diff))}}function padAbove(cm,line,size){var above=true;if(line>
cm.lastLine()){line--;above=false}var elt=document.createElement("div");elt.className="CodeMirror-merge-spacer";elt.style.height=size+"px";elt.style.minWidth="1px";return cm.addLineWidget(line,elt,{height:size,above:above,mergeSpacer:true,handleMouseEvents:true})}function drawConnectorsForChunk(dv,chunk,sTopOrig,sTopEdit,w){var flip=dv.type=="left";var top=dv.orig.heightAtLine(chunk.origFrom,"local",true)-sTopOrig;if(dv.svg){var topLpx=top;var topRpx=dv.edit.heightAtLine(chunk.editFrom,"local",true)-
sTopEdit;if(flip){var tmp=topLpx;topLpx=topRpx;topRpx=tmp}var botLpx=dv.orig.heightAtLine(chunk.origTo,"local",true)-sTopOrig;var botRpx=dv.edit.heightAtLine(chunk.editTo,"local",true)-sTopEdit;if(flip){tmp=botLpx;botLpx=botRpx;botRpx=tmp}var curveTop=" C "+w/2+" "+topRpx+" "+w/2+" "+topLpx+" "+(w+2)+" "+topLpx;var curveBot=" C "+w/2+" "+botLpx+" "+w/2+" "+botRpx+" -1 "+botRpx;var path=dv.svg.appendChild(document.createElementNS(svgNS,"path"));path.setAttribute("d","M -1 "+topRpx+curveTop+" L "+(w+
2)+" "+botLpx+curveBot+" z");path.setAttribute("class",dv.classes.connect)}if(dv.copyButtons){var copy=dv.copyButtons.appendChild(elt("div",dv.type=="left"?"\u27a1":"\u2b05","CodeMirror-merge-copy"));var editOriginals=dv.mv.options.allowEditingOriginals;copy.title=dv.edit.phrase(editOriginals?"Push to left":"Revert chunk");copy.chunk=chunk;copy.style.top=(chunk.origTo>chunk.origFrom?top:dv.edit.heightAtLine(chunk.editFrom,"local")-sTopEdit)+"px";copy.setAttribute("role","button");copy.setAttribute("tabindex",
"0");copy.setAttribute("aria-label",copy.title);if(editOriginals){var topReverse=dv.edit.heightAtLine(chunk.editFrom,"local")-sTopEdit;var copyReverse=dv.copyButtons.appendChild(elt("div",dv.type=="right"?"\u27a1":"\u2b05","CodeMirror-merge-copy-reverse"));copyReverse.title="Push to right";copyReverse.chunk={editFrom:chunk.origFrom,editTo:chunk.origTo,origFrom:chunk.editFrom,origTo:chunk.editTo};copyReverse.style.top=topReverse+"px";dv.type=="right"?copyReverse.style.left="2px":copyReverse.style.right=
"2px";copyReverse.setAttribute("role","button");copyReverse.setAttribute("tabindex","0");copyReverse.setAttribute("aria-label",copyReverse.title)}}}function copyChunk(dv,to,from,chunk){if(dv.diffOutOfDate)return;var origStart=chunk.origTo>from.lastLine()?Pos(chunk.origFrom-1):Pos(chunk.origFrom,0);var origEnd=Pos(chunk.origTo,0);var editStart=chunk.editTo>to.lastLine()?Pos(chunk.editFrom-1):Pos(chunk.editFrom,0);var editEnd=Pos(chunk.editTo,0);var handler=dv.mv.options.revertChunk;if(handler)handler(dv.mv,
from,origStart,origEnd,to,editStart,editEnd);else to.replaceRange(from.getRange(origStart,origEnd),editStart,editEnd)}function buildGap(dv){var lock=dv.lockButton=elt("div",null,"CodeMirror-merge-scrolllock");lock.setAttribute("role","button");lock.setAttribute("tabindex","0");var lockWrap=elt("div",[lock],"CodeMirror-merge-scrolllock-wrap");CodeMirror.on(lock,"click",function(){setScrollLock(dv,!dv.lockScroll)});CodeMirror.on(lock,"keyup",function(e){e.key==="Enter"&&setScrollLock(dv,!dv.lockScroll)});
var gapElts=[lockWrap];if(dv.mv.options.revertButtons!==false){var copyButtons=function(e){var node=e.target||e.srcElement;if(!node.chunk)return;if(node.className=="CodeMirror-merge-copy-reverse"){copyChunk(dv,dv.orig,dv.edit,node.chunk);return}copyChunk(dv,dv.edit,dv.orig,node.chunk)};dv.copyButtons=elt("div",null,"CodeMirror-merge-copybuttons-"+dv.type);CodeMirror.on(dv.copyButtons,"click",copyButtons);CodeMirror.on(dv.copyButtons,"keyup",function(e){e.key==="Enter"&&copyButtons(e)});gapElts.unshift(dv.copyButtons)}if(dv.mv.options.connect!=
"align"){var svg=document.createElementNS&&document.createElementNS(svgNS,"svg");if(svg&&!svg.createSVGRect)svg=null;dv.svg=svg;if(svg)gapElts.push(svg)}return dv.gap=elt("div",gapElts,"CodeMirror-merge-gap")}function asString(obj){if(typeof obj=="string")return obj;else return obj.getValue()}function getDiff(a,b,ignoreWhitespace){if(!dmp)dmp=new diff_match_patch;var diff=diffDriverFunction?diffDriverFunction(a,b):dmp.diff_main(a,b);if(diff==undefined)diff=dmp.diff_main(a,b);var i=0;for(;i<diff.length;++i){var part=
diff[i];if(ignoreWhitespace?!/[^ \t]/.test(part[1]):!part[1])diff.splice(i--,1);else if(i&&diff[i-1][0]==part[0]){diff.splice(i--,1);diff[i][1]+=part[1]}}return diff}function getChunks(diff){var chunks=[];if(!diff.length)return chunks;var startEdit=0;var startOrig=0;var edit=Pos(0,0);var orig=Pos(0,0);var i=0;for(;i<diff.length;++i){var part=diff[i];var tp=part[0];if(tp==DIFF_EQUAL){var startOff=!startOfLineClean(diff,i)||edit.line<startEdit||orig.line<startOrig?1:0;var cleanFromEdit=edit.line+startOff;
var cleanFromOrig=orig.line+startOff;moveOver(edit,part[1],null,orig);var endOff=endOfLineClean(diff,i)?1:0;var cleanToEdit=edit.line+endOff;var cleanToOrig=orig.line+endOff;if(cleanToEdit>cleanFromEdit){if(i)chunks.push({origFrom:startOrig,origTo:cleanFromOrig,editFrom:startEdit,editTo:cleanFromEdit});startEdit=cleanToEdit;startOrig=cleanToOrig}}else moveOver(tp==DIFF_INSERT?edit:orig,part[1])}if(startEdit<=edit.line||startOrig<=orig.line)chunks.push({origFrom:startOrig,origTo:orig.line+1,editFrom:startEdit,
editTo:edit.line+1});return chunks}function endOfLineClean(diff,i){if(i==diff.length-1)return true;var next=diff[i+1][1];if(next.length==1&&i<diff.length-2||next.charCodeAt(0)!=10)return false;if(i==diff.length-2)return true;next=diff[i+2][1];return(next.length>1||i==diff.length-3)&&next.charCodeAt(0)==10}function startOfLineClean(diff,i){if(i==0)return true;var last=diff[i-1][1];if(last.charCodeAt(last.length-1)!=10)return false;if(i==1)return true;last=diff[i-2][1];return last.charCodeAt(last.length-
1)==10}function chunkBoundariesAround(chunks,n,nInEdit){var beforeE;var afterE;var beforeO;var afterO;var i=0;for(;i<chunks.length;i++){var chunk=chunks[i];var fromLocal=nInEdit?chunk.editFrom:chunk.origFrom;var toLocal=nInEdit?chunk.editTo:chunk.origTo;if(afterE==null)if(fromLocal>n){afterE=chunk.editFrom;afterO=chunk.origFrom}else if(toLocal>n){afterE=chunk.editTo;afterO=chunk.origTo}if(toLocal<=n){beforeE=chunk.editTo;beforeO=chunk.origTo}else if(fromLocal<=n){beforeE=chunk.editFrom;beforeO=chunk.origFrom}}return{edit:{before:beforeE,
after:afterE},orig:{before:beforeO,after:afterO}}}function collapseSingle(cm,from,to){function clear(){mark.clear();cm.removeLineClass(from,"wrap","CodeMirror-merge-collapsed-line")}cm.addLineClass(from,"wrap","CodeMirror-merge-collapsed-line");var widget=document.createElement("span");widget.className="CodeMirror-merge-collapsed-widget";widget.title=cm.phrase("Identical text collapsed. Click to expand.");var mark=cm.markText(Pos(from,0),Pos(to-1),{inclusiveLeft:true,inclusiveRight:true,replacedWith:widget,
clearOnEnter:true});if(mark.explicitlyCleared)clear();CodeMirror.on(widget,"click",clear);mark.on("clear",clear);CodeMirror.on(widget,"click",clear);return{mark:mark,clear:clear}}function collapseStretch(size,editors){function clear(){var i=0;for(;i<marks.length;i++)marks[i].clear()}var marks=[];var i=0;for(;i<editors.length;i++){var editor=editors[i];var mark=collapseSingle(editor.cm,editor.line,editor.line+size);marks.push(mark);mark.mark.on("clear",clear)}return marks[0].mark}function unclearNearChunks(dv,
margin,off,clear){var i=0;for(;i<dv.chunks.length;i++){var chunk=dv.chunks[i];var l=chunk.editFrom-margin;for(;l<chunk.editTo+margin;l++){var pos=l+off;if(pos>=0&&pos<clear.length)clear[pos]=false}}}function collapseIdenticalStretches(mv,margin){if(typeof margin!="number")margin=2;var clear=[];var edit=mv.editor();var off=edit.firstLine();var l=off;var e=edit.lastLine();for(;l<=e;l++)clear.push(true);if(mv.left)unclearNearChunks(mv.left,margin,off,clear);if(mv.right)unclearNearChunks(mv.right,margin,
off,clear);var i=0;for(;i<clear.length;i++)if(clear[i]){var line=i+off;var size=1;for(;i<clear.length-1&&clear[i+1];i++,size++);if(size>margin){var editors=[{line:line,cm:edit}];if(mv.left)editors.push({line:getMatchingOrigLine(line,mv.left.chunks),cm:mv.left.orig});if(mv.right)editors.push({line:getMatchingOrigLine(line,mv.right.chunks),cm:mv.right.orig});var mark=collapseStretch(size,editors);if(mv.options.onCollapse)mv.options.onCollapse(mv,line,size,mark)}}}function elt(tag,content,className,
style){var e=document.createElement(tag);if(className)e.className=className;if(style)e.style.cssText=style;if(typeof content=="string")e.appendChild(document.createTextNode(content));else if(content){var i=0;for(;i<content.length;++i)e.appendChild(content[i])}return e}function clear(node){var count=node.childNodes.length;for(;count>0;--count)node.removeChild(node.firstChild)}function copyObj(obj,target){if(!target)target={};var prop;for(prop in obj)if(obj.hasOwnProperty(prop))target[prop]=obj[prop];
return target}function moveOver(pos,str,copy,other){var out=copy?Pos(pos.line,pos.ch):pos;var at=0;for(;;){var nl=str.indexOf("\n",at);if(nl==-1)break;++out.line;if(other)++other.line;at=nl+1}out.ch=(at?0:out.ch)+(str.length-at);if(other)other.ch=(at?0:other.ch)+(str.length-at);return out}function TrackAlignable(cm){this.cm=cm;this.alignable=[];this.height=cm.doc.height;var self=this;cm.on("markerAdded",function(_,marker){if(!marker.collapsed)return;var found=marker.find(1);if(found!=null)self.set(found.line,
F_MARKER)});cm.on("markerCleared",function(_,marker,_min,max){if(max!=null&&marker.collapsed)self.check(max,F_MARKER,self.hasMarker)});cm.on("markerChanged",this.signal.bind(this));cm.on("lineWidgetAdded",function(_,widget,lineNo){if(widget.mergeSpacer)return;if(widget.above)self.set(lineNo-1,F_WIDGET_BELOW);else self.set(lineNo,F_WIDGET)});cm.on("lineWidgetCleared",function(_,widget,lineNo){if(widget.mergeSpacer)return;if(widget.above)self.check(lineNo-1,F_WIDGET_BELOW,self.hasWidgetBelow);else self.check(lineNo,
F_WIDGET,self.hasWidget)});cm.on("lineWidgetChanged",this.signal.bind(this));cm.on("change",function(_,change){var start=change.from.line;var nBefore=change.to.line-change.from.line;var nAfter=change.text.length-1;var end=start+nAfter;if(nBefore||nAfter)self.map(start,nBefore,nAfter);self.check(end,F_MARKER,self.hasMarker);if(nBefore||nAfter)self.check(change.from.line,F_MARKER,self.hasMarker)});cm.on("viewportChange",function(){if(self.cm.doc.height!=self.height)self.signal()})}function posMin(a,
b){return(a.line-b.line||a.ch-b.ch)<0?a:b}function posMax(a,b){return(a.line-b.line||a.ch-b.ch)>0?a:b}function posEq(a,b){return a.line==b.line&&a.ch==b.ch}function findPrevDiff(chunks,start,isOrig){var i=chunks.length-1;for(;i>=0;i--){var chunk=chunks[i];var to=(isOrig?chunk.origTo:chunk.editTo)-1;if(to<start)return to}}function findNextDiff(chunks,start,isOrig){var i=0;for(;i<chunks.length;i++){var chunk=chunks[i];var from=isOrig?chunk.origFrom:chunk.editFrom;if(from>start)return from}}function goNearbyDiff(cm,
dir){var found=null;var views=cm.state.diffViews;var line=cm.getCursor().line;if(views){var i=0;for(;i<views.length;i++){var dv=views[i];var isOrig=cm==dv.orig;ensureDiff(dv);var pos=dir<0?findPrevDiff(dv.chunks,line,isOrig):findNextDiff(dv.chunks,line,isOrig);if(pos!=null&&(found==null||(dir<0?pos>found:pos<found)))found=pos}}if(found!=null)cm.setCursor(found,0);else return CodeMirror.Pass}function DiffBaseHighlighter(content,editor,options){function updateDisplay(){if(updateDiffTimeout)return;updateMarks(editor,
diff,state,DIFF_INSERT,RIGHT_CLASSES)}function debouncedUpdateDisplay(){if(updateDisplayTimeout)clearTimeout(updateDisplayTimeout);updateDisplayTimeout=setTimeout(function(){updateDisplayTimeout=0;updateDisplay()},20)}function updateDiff(){if(updateDiffTimeout){clearTimeout(updateDiffTimeout);updateDiffTimeout=0}var editorContent=editor.getValue();if(lastDiffContent==editorContent)return;lastDiffContent=editorContent;clearMarks(editor,state.marked,RIGHT_CLASSES);state={from:0,to:0,marked:[]};diff=
getDiff(content,editorContent,options.ignoreWhitespace);updateDisplay()}function debouncedUpdateDiff(){if(updateDiffTimeout)clearTimeout(updateDiffTimeout);updateDiffTimeout=setTimeout(function(){updateDiffTimeout=0;updateDiff()},20)}var state={from:0,to:0,marked:[]};var lastDiffContent=editor.getValue();var diff=getDiff(content,lastDiffContent,options.ignoreWhitespace);var updateDisplayTimeout=0;var updateDiffTimeout=0;this.forceUpdate=updateDiff;editor.on("viewportChange",debouncedUpdateDisplay);
editor.on("change",debouncedUpdateDiff);editor.on("swapDoc",updateDiff);updateDisplay()}var Pos=CodeMirror.Pos;var svgNS="http://www.w3.org/2000/svg";var LEFT_CLASSES={chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect",movedChunk:"CodeMirror-merge-l-chunk-moved",classLocation:"background"};var RIGHT_CLASSES={chunk:"CodeMirror-merge-r-chunk",
start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect",movedChunk:"CodeMirror-merge-r-chunk-moved",classLocation:"background"};DiffView.prototype={constructor:DiffView,init:function(pane,orig,options){this.edit=this.mv.edit;(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this);this.orig=CodeMirror(pane,copyObj({value:orig,readOnly:!this.mv.options.allowEditingOriginals},
copyObj(options)));if(this.mv.options.connect=="align"){if(!this.edit.state.trackAlignable)this.edit.state.trackAlignable=new TrackAlignable(this.edit);this.orig.state.trackAlignable=new TrackAlignable(this.orig)}this.lockButton.title=this.edit.phrase("Toggle locked scrolling");this.lockButton.setAttribute("aria-label",this.lockButton.title);this.orig.state.diffViews=[this];var classLocation=options.chunkClassLocation||"background";if(Object.prototype.toString.call(classLocation)!="[object Array]")classLocation=
[classLocation];this.classes.classLocation=classLocation;this.diff=getDiff(asString(orig),asString(options.value),this.mv.options.ignoreWhitespace);this.chunks=getChunks(this.diff);this.diffOutOfDate=this.dealigned=false;this.needsScrollSync=null;this.showDifferences=options.showDifferences!==false},registerEvents:function(otherDv){this.forceUpdate=registerUpdate(this);setScrollLock(this,true,false);registerScroll(this,otherDv)},setShowDifferences:function(val){val=val!==false;if(val!=this.showDifferences){this.showDifferences=
val;this.forceUpdate("full")}}};var updating=false;var diffDriverFunction;var MergeView=CodeMirror.MergeView=function(node,options){if(options.diffDriverFunction)diffDriverFunction=options.diffDriverFunction;if(!(this instanceof MergeView))return new MergeView(node,options);this.options=options;var origLeft=options.origLeft;var origRight=options.origRight==null?options.orig:options.origRight;var hasLeft=origLeft!=null;var hasRight=origRight!=null;var panes=1+(hasLeft?1:0)+(hasRight?1:0);var wrap=
[];var left=this.left=null;var right=this.right=null;var self=this;if(hasLeft){left=this.left=new DiffView(this,"left");var leftPane=elt("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");wrap.push(leftPane);wrap.push(buildGap(left))}var editPane=elt("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");wrap.push(editPane);if(hasRight){right=this.right=new DiffView(this,"right");wrap.push(buildGap(right));var rightPane=elt("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");wrap.push(rightPane)}(hasRight?
rightPane:editPane).className+=" CodeMirror-merge-pane-rightmost";wrap.push(elt("div",null,null,"height: 0; clear: both;"));var wrapElt=this.wrap=node.appendChild(elt("div",wrap,"CodeMirror-merge CodeMirror-merge-"+panes+"pane"));this.edit=CodeMirror(editPane,copyObj(options));if(left)left.init(leftPane,origLeft,options);if(right)right.init(rightPane,origRight,options);if(options.collapseIdentical)this.editor().operation(function(){collapseIdenticalStretches(self,options.collapseIdentical)});if(options.connect==
"align"){this.aligners=[];alignChunks(this.left||this.right,true)}if(left)left.registerEvents(right);if(right)right.registerEvents(left);if(options.diffHighlightBase!==undefined){if(left)new DiffBaseHighlighter(options.diffHighlightBase,left.orig,options);if(right)new DiffBaseHighlighter(options.diffHighlightBase,right.orig,options);this.editBaseHighlighter=new DiffBaseHighlighter(options.diffHighlightBase,this.edit,options)}var onResize=function(){if(left)makeConnections(left);if(right)makeConnections(right)};
CodeMirror.on(window,"resize",onResize);var resizeInterval=setInterval(function(){var p=wrapElt.parentNode;for(;p&&p!=document.body;p=p.parentNode);if(!p){clearInterval(resizeInterval);CodeMirror.off(window,"resize",onResize)}},5E3)};MergeView.prototype={constructor:MergeView,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(val){if(this.right)this.right.setShowDifferences(val);
if(this.left)this.left.setShowDifferences(val)},rightChunks:function(){if(this.right){ensureDiff(this.right);return this.right.chunks}},leftChunks:function(){if(this.left){ensureDiff(this.left);return this.left.chunks}},goNextDiff:function(){return goNearbyDiff(this.edit,1)},goPrevDiff:function(){return goNearbyDiff(this.edit,-1)}};var dmp;var F_WIDGET=1;var F_WIDGET_BELOW=2;var F_MARKER=4;TrackAlignable.prototype={signal:function(){CodeMirror.signal(this,"realign");this.height=this.cm.doc.height},
set:function(n,flags){var pos=-1;for(;pos<this.alignable.length;pos=pos+2){var diff=this.alignable[pos]-n;if(diff==0){if((this.alignable[pos+1]&flags)==flags)return;this.alignable[pos+1]|=flags;this.signal();return}if(diff>0)break}this.signal();this.alignable.splice(pos,0,n,flags)},find:function(n){var i=0;for(;i<this.alignable.length;i=i+2)if(this.alignable[i]==n)return i;return-1},check:function(n,flag,pred){var found=this.find(n);if(found==-1||!(this.alignable[found+1]&flag))return;if(!pred.call(this,
n)){this.signal();var flags=this.alignable[found+1]&~flag;if(flags)this.alignable[found+1]=flags;else this.alignable.splice(found,2)}},hasMarker:function(n){var handle=this.cm.getLineHandle(n);if(handle.markedSpans){var i=0;for(;i<handle.markedSpans.length;i++)if(handle.markedSpans[i].marker.collapsed&&handle.markedSpans[i].to!=null)return true}return false},hasWidget:function(n){var handle=this.cm.getLineHandle(n);if(handle.widgets){var i=0;for(;i<handle.widgets.length;i++)if(!handle.widgets[i].above&&
!handle.widgets[i].mergeSpacer)return true}return false},hasWidgetBelow:function(n){if(n==this.cm.lastLine())return false;var handle=this.cm.getLineHandle(n+1);if(handle.widgets){var i=0;for(;i<handle.widgets.length;i++)if(handle.widgets[i].above&&!handle.widgets[i].mergeSpacer)return true}return false},map:function(from,nBefore,nAfter){var diff=nAfter-nBefore;var to=from+nBefore;var widgetFrom=-1;var widgetTo=-1;var i=0;for(;i<this.alignable.length;i=i+2){var n=this.alignable[i];if(n==from&&this.alignable[i+
1]&F_WIDGET_BELOW)widgetFrom=i;if(n==to&&this.alignable[i+1]&F_WIDGET_BELOW)widgetTo=i;if(n<=from)continue;else if(n<to)this.alignable.splice(i--,2);else this.alignable[i]+=diff}if(widgetFrom>-1){var flags=this.alignable[widgetFrom+1];if(flags==F_WIDGET_BELOW)this.alignable.splice(widgetFrom,2);else this.alignable[widgetFrom+1]=flags&~F_WIDGET_BELOW}if(widgetTo>-1&&nAfter)this.set(from+nAfter,F_WIDGET_BELOW)}};CodeMirror.commands.goNextDiff=function(cm){return goNearbyDiff(cm,1)};CodeMirror.commands.goPrevDiff=
function(cm){return goNearbyDiff(cm,-1)};DiffView.prototype.copyChunkToEdit=function(chunk){copyChunk(this,this.edit,this.orig,chunk)}});}).call(this);
</script><script nonce="">/**
 * Diff Match and Patch
 * Copyright 2018 The diff-match-patch Authors.
 * https://github.com/google/diff-match-patch
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * @fileoverview Computes the difference between two texts to create a patch.
 * Applies the patch onto another text, allowing for errors.
 * @author fraser@google.com (Neil Fraser)
 */

/**
 * Class containing the diff, match and patch methods.
 * @constructor
 */
var diff_match_patch = function() {

  // Defaults.
  // Redefine these in your program to override the defaults.

  // Number of seconds to map a diff before giving up (0 for infinity).
  this.Diff_Timeout = 1.0;
  // Cost of an empty edit operation in terms of edit characters.
  this.Diff_EditCost = 4;
  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).
  this.Match_Threshold = 0.5;
  // How far to search for a match (0 = exact location, 1000+ = broad match).
  // A match this many characters away from the expected location will add
  // 1.0 to the score (0.0 is a perfect match).
  this.Match_Distance = 1000;
  // When deleting a large block of text (over ~64 characters), how close do
  // the contents have to be to match the expected contents. (0.0 = perfection,
  // 1.0 = very loose).  Note that Match_Threshold controls how closely the
  // end points of a delete need to match.
  this.Patch_DeleteThreshold = 0.5;
  // Chunk size for context length.
  this.Patch_Margin = 4;

  // The number of bits in an int.
  this.Match_MaxBits = 32;
};


//  DIFF FUNCTIONS


/**
 * The data structure representing a diff is an array of tuples:
 * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]
 * which means: delete 'Hello', add 'Goodbye' and keep ' world.'
 */
var DIFF_DELETE = -1;
var DIFF_INSERT = 1;
var DIFF_EQUAL = 0;

/** @typedef {{0: number, 1: string}} */
diff_match_patch.Diff;


/**
 * Find the differences between two texts.  Simplifies the problem by stripping
 * any common prefix or suffix off the texts before diffing.
 * @param {string} text1 Old string to be diffed.
 * @param {string} text2 New string to be diffed.
 * @param {boolean=} opt_checklines Optional speedup flag. If present and false,
 *     then don't run a line-level diff first to identify the changed areas.
 *     Defaults to true, which does a faster, slightly less optimal diff.
 * @param {number=} opt_deadline Optional time when the diff should be complete
 *     by.  Used internally for recursive calls.  Users should set DiffTimeout
 *     instead.
 * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.
 */
diff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,
    opt_deadline) {
  // Set a deadline by which time the diff must be complete.
  if (typeof opt_deadline == 'undefined') {
    if (this.Diff_Timeout <= 0) {
      opt_deadline = Number.MAX_VALUE;
    } else {
      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;
    }
  }
  var deadline = opt_deadline;

  // Check for null inputs.
  if (text1 == null || text2 == null) {
    throw new Error('Null input. (diff_main)');
  }

  // Check for equality (speedup).
  if (text1 == text2) {
    if (text1) {
      return [/** @type {diff_match_patch.Diff} */([DIFF_EQUAL, text1])];
    }
    return [];
  }

  if (typeof opt_checklines == 'undefined') {
    opt_checklines = true;
  }
  var checklines = opt_checklines;

  // Trim off common prefix (speedup).
  var commonlength = this.diff_commonPrefix(text1, text2);
  var commonprefix = text1.substring(0, commonlength);
  text1 = text1.substring(commonlength);
  text2 = text2.substring(commonlength);

  // Trim off common suffix (speedup).
  commonlength = this.diff_commonSuffix(text1, text2);
  var commonsuffix = text1.substring(text1.length - commonlength);
  text1 = text1.substring(0, text1.length - commonlength);
  text2 = text2.substring(0, text2.length - commonlength);

  // Compute the diff on the middle block.
  var diffs = this.diff_compute_(text1, text2, checklines, deadline);

  // Restore the prefix and suffix.
  if (commonprefix) {
    diffs.unshift(/** @type {diff_match_patch.Diff} */
        ([DIFF_EQUAL, commonprefix]));
  }
  if (commonsuffix) {
    diffs.push(/** @type {diff_match_patch.Diff} */
        ([DIFF_EQUAL, commonsuffix]));
  }
  this.diff_cleanupMerge(diffs);
  return diffs;
};


/**
 * Find the differences between two texts.  Assumes that the texts do not
 * have any common prefix or suffix.
 * @param {string} text1 Old string to be diffed.
 * @param {string} text2 New string to be diffed.
 * @param {boolean} checklines Speedup flag.  If false, then don't run a
 *     line-level diff first to identify the changed areas.
 *     If true, then run a faster, slightly less optimal diff.
 * @param {number} deadline Time when the diff should be complete by.
 * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.
 * @private
 */
diff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,
    deadline) {
  var diffs;

  if (!text1) {
    // Just add some text (speedup).
    return [/** @type {diff_match_patch.Diff} */([DIFF_INSERT, text2])];
  }

  if (!text2) {
    // Just delete some text (speedup).
    return [/** @type {diff_match_patch.Diff} */([DIFF_DELETE, text1])];
  }

  var longtext = text1.length > text2.length ? text1 : text2;
  var shorttext = text1.length > text2.length ? text2 : text1;
  var i = longtext.indexOf(shorttext);
  if (i != -1) {
    // Shorter text is inside the longer text (speedup).
    diffs = [/** @type {diff_match_patch.Diff} */
             ([DIFF_INSERT, longtext.substring(0, i)]),
             /** @type {diff_match_patch.Diff} */
             ([DIFF_EQUAL, shorttext]),
             /** @type {diff_match_patch.Diff} */
             ([DIFF_INSERT, longtext.substring(i + shorttext.length)])];
    // Swap insertions for deletions if diff is reversed.
    if (text1.length > text2.length) {
      diffs[0][0] = diffs[2][0] = DIFF_DELETE;
    }
    return diffs;
  }

  if (shorttext.length == 1) {
    // Single character string.
    // After the previous speedup, the character can't be an equality.
    return [/** @type {diff_match_patch.Diff} */([DIFF_DELETE, text1]),
            /** @type {diff_match_patch.Diff} */([DIFF_INSERT, text2])];
  }

  // Check to see if the problem can be split in two.
  var hm = this.diff_halfMatch_(text1, text2);
  if (hm) {
    // A half-match was found, sort out the return data.
    var text1_a = hm[0];
    var text1_b = hm[1];
    var text2_a = hm[2];
    var text2_b = hm[3];
    var mid_common = hm[4];
    // Send both pairs off for separate processing.
    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);
    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);
    // Merge the results.
    return diffs_a.concat(
        [/** @type {diff_match_patch.Diff} */([DIFF_EQUAL, mid_common])],
        diffs_b);
  }

  if (checklines && text1.length > 100 && text2.length > 100) {
    return this.diff_lineMode_(text1, text2, deadline);
  }

  return this.diff_bisect_(text1, text2, deadline);
};


/**
 * Do a quick line-level diff on both strings, then rediff the parts for
 * greater accuracy.
 * This speedup can produce non-minimal diffs.
 * @param {string} text1 Old string to be diffed.
 * @param {string} text2 New string to be diffed.
 * @param {number} deadline Time when the diff should be complete by.
 * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.
 * @private
 */
diff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {
  // Scan the text on a line-by-line basis first.
  var a = this.diff_linesToChars(text1, text2);
  text1 = a.chars1;
  text2 = a.chars2;
  var linearray = a.lineArray;

  var diffs = this.diff_main(text1, text2, false, deadline);

  // Convert the diff back to original text.
  this.diff_charsToLines(diffs, linearray);
  // Eliminate freak matches (e.g. blank lines)
  this.diff_cleanupSemantic(diffs);

  // Rediff any replacement blocks, this time character-by-character.
  // Add a dummy entry at the end.
  diffs.push(/** @type {diff_match_patch.Diff} */([DIFF_EQUAL, '']));
  var pointer = 0;
  var count_delete = 0;
  var count_insert = 0;
  var text_delete = '';
  var text_insert = '';
  while (pointer < diffs.length) {
    switch (diffs[pointer][0]) {
      case DIFF_INSERT:
        count_insert++;
        text_insert += diffs[pointer][1];
        break;
      case DIFF_DELETE:
        count_delete++;
        text_delete += diffs[pointer][1];
        break;
      case DIFF_EQUAL:
        // Upon reaching an equality, check for prior redundancies.
        if (count_delete >= 1 && count_insert >= 1) {
          // Delete the offending records and add the merged ones.
          diffs.splice(pointer - count_delete - count_insert,
                       count_delete + count_insert);
          pointer = pointer - count_delete - count_insert;
          var subDiff =
              this.diff_main(text_delete, text_insert, false, deadline);
          for (var j = subDiff.length - 1; j >= 0; j--) {
            diffs.splice(pointer, 0, subDiff[j]);
          }
          pointer = pointer + subDiff.length;
        }
        count_insert = 0;
        count_delete = 0;
        text_delete = '';
        text_insert = '';
        break;
    }
    pointer++;
  }
  diffs.pop();  // Remove the dummy entry at the end.

  return diffs;
};


/**
 * Find the 'middle snake' of a diff, split the problem in two
 * and return the recursively constructed diff.
 * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.
 * @param {string} text1 Old string to be diffed.
 * @param {string} text2 New string to be diffed.
 * @param {number} deadline Time at which to bail if not yet complete.
 * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.
 * @private
 */
diff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {
  // Cache the text lengths to prevent multiple calls.
  var text1_length = text1.length;
  var text2_length = text2.length;
  var max_d = Math.ceil((text1_length + text2_length) / 2);
  var v_offset = max_d;
  var v_length = 2 * max_d;
  var v1 = new Array(v_length);
  var v2 = new Array(v_length);
  // Setting all elements to -1 is faster in Chrome & Firefox than mixing
  // integers and undefined.
  for (var x = 0; x < v_length; x++) {
    v1[x] = -1;
    v2[x] = -1;
  }
  v1[v_offset + 1] = 0;
  v2[v_offset + 1] = 0;
  var delta = text1_length - text2_length;
  // If the total number of characters is odd, then the front path will collide
  // with the reverse path.
  var front = (delta % 2 != 0);
  // Offsets for start and end of k loop.
  // Prevents mapping of space beyond the grid.
  var k1start = 0;
  var k1end = 0;
  var k2start = 0;
  var k2end = 0;
  for (var d = 0; d < max_d; d++) {
    // Bail out if deadline is reached.
    if ((new Date()).getTime() > deadline) {
      break;
    }

    // Walk the front path one step.
    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {
      var k1_offset = v_offset + k1;
      var x1;
      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {
        x1 = v1[k1_offset + 1];
      } else {
        x1 = v1[k1_offset - 1] + 1;
      }
      var y1 = x1 - k1;
      while (x1 < text1_length && y1 < text2_length &&
             text1.charAt(x1) == text2.charAt(y1)) {
        x1++;
        y1++;
      }
      v1[k1_offset] = x1;
      if (x1 > text1_length) {
        // Ran off the right of the graph.
        k1end += 2;
      } else if (y1 > text2_length) {
        // Ran off the bottom of the graph.
        k1start += 2;
      } else if (front) {
        var k2_offset = v_offset + delta - k1;
        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {
          // Mirror x2 onto top-left coordinate system.
          var x2 = text1_length - v2[k2_offset];
          if (x1 >= x2) {
            // Overlap detected.
            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);
          }
        }
      }
    }

    // Walk the reverse path one step.
    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {
      var k2_offset = v_offset + k2;
      var x2;
      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {
        x2 = v2[k2_offset + 1];
      } else {
        x2 = v2[k2_offset - 1] + 1;
      }
      var y2 = x2 - k2;
      while (x2 < text1_length && y2 < text2_length &&
             text1.charAt(text1_length - x2 - 1) ==
             text2.charAt(text2_length - y2 - 1)) {
        x2++;
        y2++;
      }
      v2[k2_offset] = x2;
      if (x2 > text1_length) {
        // Ran off the left of the graph.
        k2end += 2;
      } else if (y2 > text2_length) {
        // Ran off the top of the graph.
        k2start += 2;
      } else if (!front) {
        var k1_offset = v_offset + delta - k2;
        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {
          var x1 = v1[k1_offset];
          var y1 = v_offset + x1 - k1_offset;
          // Mirror x2 onto top-left coordinate system.
          x2 = text1_length - x2;
          if (x1 >= x2) {
            // Overlap detected.
            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);
          }
        }
      }
    }
  }
  // Diff took too long and hit the deadline or
  // number of diffs equals number of characters, no commonality at all.
  return [/** @type {diff_match_patch.Diff} */([DIFF_DELETE, text1]),
          /** @type {diff_match_patch.Diff} */([DIFF_INSERT, text2])];
};


/**
 * Given the location of the 'middle snake', split the diff in two parts
 * and recurse.
 * @param {string} text1 Old string to be diffed.
 * @param {string} text2 New string to be diffed.
 * @param {number} x Index of split point in text1.
 * @param {number} y Index of split point in text2.
 * @param {number} deadline Time at which to bail if not yet complete.
 * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.
 * @private
 */
diff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,
    deadline) {
  var text1a = text1.substring(0, x);
  var text2a = text2.substring(0, y);
  var text1b = text1.substring(x);
  var text2b = text2.substring(y);

  // Compute both diffs serially.
  var diffs = this.diff_main(text1a, text2a, false, deadline);
  var diffsb = this.diff_main(text1b, text2b, false, deadline);

  return diffs.concat(diffsb);
};


/**
 * Split two texts into an array of strings.  Reduce the texts to a string of
 * hashes where each Unicode character represents one line.
 * @param {string} text1 First string.
 * @param {string} text2 Second string.
 * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}
 *     An object containing the encoded text1, the encoded text2 and
 *     the array of unique strings.
 *     The zeroth element of the array of unique strings is intentionally blank.
 */
diff_match_patch.prototype.diff_linesToChars = function(text1, text2) {
  var lineArray = [];  // e.g. lineArray[4] == 'Hello\n'
  var lineHash = {};   // e.g. lineHash['Hello\n'] == 4

  // '\x00' is a valid character, but various debuggers don't like it.
  // So we'll insert a junk entry to avoid generating a null character.
  lineArray[0] = '';

  /**
   * Split a text into an array of strings.  Reduce the texts to a string of
   * hashes where each Unicode character represents one line.
   * Modifies linearray and linehash through being a closure.
   * @param {string} text String to encode.
   * @return {string} Encoded string.
   * @private
   */
  function diff_linesToCharsMunge_(text) {
    var chars = '';
    // Walk the text, pulling out a substring for each line.
    // text.split('\n') would would temporarily double our memory footprint.
    // Modifying text would create many large strings to garbage collect.
    var lineStart = 0;
    var lineEnd = -1;
    // Keeping our own length variable is faster than looking it up.
    var lineArrayLength = lineArray.length;
    while (lineEnd < text.length - 1) {
      lineEnd = text.indexOf('\n', lineStart);
      if (lineEnd == -1) {
        lineEnd = text.length - 1;
      }
      var line = text.substring(lineStart, lineEnd + 1);

      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :
          (lineHash[line] !== undefined)) {
        chars += String.fromCharCode(lineHash[line]);
      } else {
        if (lineArrayLength == maxLines) {
          // Bail out at 65535 because
          // String.fromCharCode(65536) == String.fromCharCode(0)
          line = text.substring(lineStart);
          lineEnd = text.length;
        }
        chars += String.fromCharCode(lineArrayLength);
        lineHash[line] = lineArrayLength;
        lineArray[lineArrayLength++] = line;
      }
      lineStart = lineEnd + 1;
    }
    return chars;
  }
  // Allocate 2/3rds of the space for text1, the rest for text2.
  var maxLines = 40000;
  var chars1 = diff_linesToCharsMunge_(text1);
  maxLines = 65535;
  var chars2 = diff_linesToCharsMunge_(text2);
  return {chars1: chars1, chars2: chars2, lineArray: lineArray};
};


/**
 * Rehydrate the text in a diff from a string of line hashes to real lines of
 * text.
 * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.
 * @param {!Array.<string>} lineArray Array of unique strings.
 */
diff_match_patch.prototype.diff_charsToLines = function(diffs, lineArray) {
  for (var x = 0; x < diffs.length; x++) {
    var chars = diffs[x][1];
    var text = [];
    for (var y = 0; y < chars.length; y++) {
      text[y] = lineArray[chars.charCodeAt(y)];
    }
    diffs[x][1] = text.join('');
  }
};


/**
 * Determine the common prefix of two strings.
 * @param {string} text1 First string.
 * @param {string} text2 Second string.
 * @return {number} The number of characters common to the start of each
 *     string.
 */
diff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {
  // Quick check for common null cases.
  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {
    return 0;
  }
  // Binary search.
  // Performance analysis: https://neil.fraser.name/news/2007/10/09/
  var pointermin = 0;
  var pointermax = Math.min(text1.length, text2.length);
  var pointermid = pointermax;
  var pointerstart = 0;
  while (pointermin < pointermid) {
    if (text1.substring(pointerstart, pointermid) ==
        text2.substring(pointerstart, pointermid)) {
      pointermin = pointermid;
      pointerstart = pointermin;
    } else {
      pointermax = pointermid;
    }
    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
  }
  return pointermid;
};


/**
 * Determine the common suffix of two strings.
 * @param {string} text1 First string.
 * @param {string} text2 Second string.
 * @return {number} The number of characters common to the end of each string.
 */
diff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {
  // Quick check for common null cases.
  if (!text1 || !text2 ||
      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {
    return 0;
  }
  // Binary search.
  // Performance analysis: https://neil.fraser.name/news/2007/10/09/
  var pointermin = 0;
  var pointermax = Math.min(text1.length, text2.length);
  var pointermid = pointermax;
  var pointerend = 0;
  while (pointermin < pointermid) {
    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==
        text2.substring(text2.length - pointermid, text2.length - pointerend)) {
      pointermin = pointermid;
      pointerend = pointermin;
    } else {
      pointermax = pointermid;
    }
    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
  }
  return pointermid;
};


/**
 * Determine if the suffix of one string is the prefix of another.
 * @param {string} text1 First string.
 * @param {string} text2 Second string.
 * @return {number} The number of characters common to the end of the first
 *     string and the start of the second string.
 * @private
 */
diff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {
  // Cache the text lengths to prevent multiple calls.
  var text1_length = text1.length;
  var text2_length = text2.length;
  // Eliminate the null case.
  if (text1_length == 0 || text2_length == 0) {
    return 0;
  }
  // Truncate the longer string.
  if (text1_length > text2_length) {
    text1 = text1.substring(text1_length - text2_length);
  } else if (text1_length < text2_length) {
    text2 = text2.substring(0, text1_length);
  }
  var text_length = Math.min(text1_length, text2_length);
  // Quick check for the worst case.
  if (text1 == text2) {
    return text_length;
  }

  // Start by looking for a single character match
  // and increase length until no match is found.
  // Performance analysis: https://neil.fraser.name/news/2010/11/04/
  var best = 0;
  var length = 1;
  while (true) {
    var pattern = text1.substring(text_length - length);
    var found = text2.indexOf(pattern);
    if (found == -1) {
      return best;
    }
    length += found;
    if (found == 0 || text1.substring(text_length - length) ==
        text2.substring(0, length)) {
      best = length;
      length++;
    }
  }
};


/**
 * Do the two texts share a substring which is at least half the length of the
 * longer text?
 * This speedup can produce non-minimal diffs.
 * @param {string} text1 First string.
 * @param {string} text2 Second string.
 * @return {Array.<string>} Five element Array, containing the prefix of
 *     text1, the suffix of text1, the prefix of text2, the suffix of
 *     text2 and the common middle.  Or null if there was no match.
 * @private
 */
diff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {
  if (this.Diff_Timeout <= 0) {
    // Don't risk returning a non-optimal diff if we have unlimited time.
    return null;
  }
  var longtext = text1.length > text2.length ? text1 : text2;
  var shorttext = text1.length > text2.length ? text2 : text1;
  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {
    return null;  // Pointless.
  }
  var dmp = this;  // 'this' becomes 'window' in a closure.

  /**
   * Does a substring of shorttext exist within longtext such that the substring
   * is at least half the length of longtext?
   * Closure, but does not reference any external variables.
   * @param {string} longtext Longer string.
   * @param {string} shorttext Shorter string.
   * @param {number} i Start index of quarter length substring within longtext.
   * @return {Array.<string>} Five element Array, containing the prefix of
   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix
   *     of shorttext and the common middle.  Or null if there was no match.
   * @private
   */
  function diff_halfMatchI_(longtext, shorttext, i) {
    // Start with a 1/4 length substring at position i as a seed.
    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));
    var j = -1;
    var best_common = '';
    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;
    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {
      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),
                                               shorttext.substring(j));
      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),
                                               shorttext.substring(0, j));
      if (best_common.length < suffixLength + prefixLength) {
        best_common = shorttext.substring(j - suffixLength, j) +
            shorttext.substring(j, j + prefixLength);
        best_longtext_a = longtext.substring(0, i - suffixLength);
        best_longtext_b = longtext.substring(i + prefixLength);
        best_shorttext_a = shorttext.substring(0, j - suffixLength);
        best_shorttext_b = shorttext.substring(j + prefixLength);
      }
    }
    if (best_common.length * 2 >= longtext.length) {
      return [best_longtext_a, best_longtext_b,
              best_shorttext_a, best_shorttext_b, best_common];
    } else {
      return null;
    }
  }

  // First check if the second quarter is the seed for a half-match.
  var hm1 = diff_halfMatchI_(longtext, shorttext,
                             Math.ceil(longtext.length / 4));
  // Check again based on the third quarter.
  var hm2 = diff_halfMatchI_(longtext, shorttext,
                             Math.ceil(longtext.length / 2));
  var hm;
  if (!hm1 && !hm2) {
    return null;
  } else if (!hm2) {
    hm = hm1;
  } else if (!hm1) {
    hm = hm2;
  } else {
    // Both matched.  Select the longest.
    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;
  }

  // A half-match was found, sort out the return data.
  var text1_a, text1_b, text2_a, text2_b;
  if (text1.length > text2.length) {
    text1_a = hm[0];
    text1_b = hm[1];
    text2_a = hm[2];
    text2_b = hm[3];
  } else {
    text2_a = hm[0];
    text2_b = hm[1];
    text1_a = hm[2];
    text1_b = hm[3];
  }
  var mid_common = hm[4];
  return [text1_a, text1_b, text2_a, text2_b, mid_common];
};


/**
 * Reduce the number of edits by eliminating semantically trivial equalities.
 * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.
 */
diff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {
  var changes = false;
  var equalities = [];  // Stack of indices where equalities are found.
  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.
  /** @type {?string} */
  var lastequality = null;
  // Always equal to diffs[equalities[equalitiesLength - 1]][1]
  var pointer = 0;  // Index of current position.
  // Number of characters that changed prior to the equality.
  var length_insertions1 = 0;
  var length_deletions1 = 0;
  // Number of characters that changed after the equality.
  var length_insertions2 = 0;
  var length_deletions2 = 0;
  while (pointer < diffs.length) {
    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.
      equalities[equalitiesLength++] = pointer;
      length_insertions1 = length_insertions2;
      length_deletions1 = length_deletions2;
      length_insertions2 = 0;
      length_deletions2 = 0;
      lastequality = diffs[pointer][1];
    } else {  // An insertion or deletion.
      if (diffs[pointer][0] == DIFF_INSERT) {
        length_insertions2 += diffs[pointer][1].length;
      } else {
        length_deletions2 += diffs[pointer][1].length;
      }
      // Eliminate an equality that is smaller or equal to the edits on both
      // sides of it.
      if (lastequality && (lastequality.length <=
          Math.max(length_insertions1, length_deletions1)) &&
          (lastequality.length <= Math.max(length_insertions2,
                                           length_deletions2))) {
        // Duplicate record.
        diffs.splice(equalities[equalitiesLength - 1], 0,
                     /** @type {diff_match_patch.Diff} */
                     ([DIFF_DELETE, lastequality]));
        // Change second copy to insert.
        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;
        // Throw away the equality we just deleted.
        equalitiesLength--;
        // Throw away the previous equality (it needs to be reevaluated).
        equalitiesLength--;
        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;
        length_insertions1 = 0;  // Reset the counters.
        length_deletions1 = 0;
        length_insertions2 = 0;
        length_deletions2 = 0;
        lastequality = null;
        changes = true;
      }
    }
    pointer++;
  }

  // Normalize the diff.
  if (changes) {
    this.diff_cleanupMerge(diffs);
  }
  this.diff_cleanupSemanticLossless(diffs);

  // Find any overlaps between deletions and insertions.
  // e.g: <del>abcxxx</del><ins>xxxdef</ins>
  //   -> <del>abc</del>xxx<ins>def</ins>
  // e.g: <del>xxxabc</del><ins>defxxx</ins>
  //   -> <ins>def</ins>xxx<del>abc</del>
  // Only extract an overlap if it is as big as the edit ahead or behind it.
  pointer = 1;
  while (pointer < diffs.length) {
    if (diffs[pointer - 1][0] == DIFF_DELETE &&
        diffs[pointer][0] == DIFF_INSERT) {
      var deletion = diffs[pointer - 1][1];
      var insertion = diffs[pointer][1];
      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);
      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);
      if (overlap_length1 >= overlap_length2) {
        if (overlap_length1 >= deletion.length / 2 ||
            overlap_length1 >= insertion.length / 2) {
          // Overlap found.  Insert an equality and trim the surrounding edits.
          diffs.splice(pointer, 0,
              /** @type {diff_match_patch.Diff} */
              ([DIFF_EQUAL, insertion.substring(0, overlap_length1)]));
          diffs[pointer - 1][1] =
              deletion.substring(0, deletion.length - overlap_length1);
          diffs[pointer + 1][1] = insertion.substring(overlap_length1);
          pointer++;
        }
      } else {
        if (overlap_length2 >= deletion.length / 2 ||
            overlap_length2 >= insertion.length / 2) {
          // Reverse overlap found.
          // Insert an equality and swap and trim the surrounding edits.
          diffs.splice(pointer, 0,
              /** @type {diff_match_patch.Diff} */
              ([DIFF_EQUAL, deletion.substring(0, overlap_length2)]));
          diffs[pointer - 1][0] = DIFF_INSERT;
          diffs[pointer - 1][1] =
              insertion.substring(0, insertion.length - overlap_length2);
          diffs[pointer + 1][0] = DIFF_DELETE;
          diffs[pointer + 1][1] =
              deletion.substring(overlap_length2);
          pointer++;
        }
      }
      pointer++;
    }
    pointer++;
  }
};


/**
 * Look for single edits surrounded on both sides by equalities
 * which can be shifted sideways to align the edit to a word boundary.
 * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.
 * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.
 */
diff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {
  /**
   * Given two strings, compute a score representing whether the internal
   * boundary falls on logical boundaries.
   * Scores range from 6 (best) to 0 (worst).
   * Closure, but does not reference any external variables.
   * @param {string} one First string.
   * @param {string} two Second string.
   * @return {number} The score.
   * @private
   */
  function diff_cleanupSemanticScore_(one, two) {
    if (!one || !two) {
      // Edges are the best.
      return 6;
    }

    // Each port of this function behaves slightly differently due to
    // subtle differences in each language's definition of things like
    // 'whitespace'.  Since this function's purpose is largely cosmetic,
    // the choice has been made to use each language's native features
    // rather than force total conformity.
    var char1 = one.charAt(one.length - 1);
    var char2 = two.charAt(0);
    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);
    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);
    var whitespace1 = nonAlphaNumeric1 &&
        char1.match(diff_match_patch.whitespaceRegex_);
    var whitespace2 = nonAlphaNumeric2 &&
        char2.match(diff_match_patch.whitespaceRegex_);
    var lineBreak1 = whitespace1 &&
        char1.match(diff_match_patch.linebreakRegex_);
    var lineBreak2 = whitespace2 &&
        char2.match(diff_match_patch.linebreakRegex_);
    var blankLine1 = lineBreak1 &&
        one.match(diff_match_patch.blanklineEndRegex_);
    var blankLine2 = lineBreak2 &&
        two.match(diff_match_patch.blanklineStartRegex_);

    if (blankLine1 || blankLine2) {
      // Five points for blank lines.
      return 5;
    } else if (lineBreak1 || lineBreak2) {
      // Four points for line breaks.
      return 4;
    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {
      // Three points for end of sentences.
      return 3;
    } else if (whitespace1 || whitespace2) {
      // Two points for whitespace.
      return 2;
    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {
      // One point for non-alphanumeric.
      return 1;
    }
    return 0;
  }

  var pointer = 1;
  // Intentionally ignore the first and last element (don't need checking).
  while (pointer < diffs.length - 1) {
    if (diffs[pointer - 1][0] == DIFF_EQUAL &&
        diffs[pointer + 1][0] == DIFF_EQUAL) {
      // This is a single edit surrounded by equalities.
      var equality1 = diffs[pointer - 1][1];
      var edit = diffs[pointer][1];
      var equality2 = diffs[pointer + 1][1];

      // First, shift the edit as far left as possible.
      var commonOffset = this.diff_commonSuffix(equality1, edit);
      if (commonOffset) {
        var commonString = edit.substring(edit.length - commonOffset);
        equality1 = equality1.substring(0, equality1.length - commonOffset);
        edit = commonString + edit.substring(0, edit.length - commonOffset);
        equality2 = commonString + equality2;
      }

      // Second, step character by character right, looking for the best fit.
      var bestEquality1 = equality1;
      var bestEdit = edit;
      var bestEquality2 = equality2;
      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +
          diff_cleanupSemanticScore_(edit, equality2);
      while (edit.charAt(0) === equality2.charAt(0)) {
        equality1 += edit.charAt(0);
        edit = edit.substring(1) + equality2.charAt(0);
        equality2 = equality2.substring(1);
        var score = diff_cleanupSemanticScore_(equality1, edit) +
            diff_cleanupSemanticScore_(edit, equality2);
        // The >= encourages trailing rather than leading whitespace on edits.
        if (score >= bestScore) {
          bestScore = score;
          bestEquality1 = equality1;
          bestEdit = edit;
          bestEquality2 = equality2;
        }
      }

      if (diffs[pointer - 1][1] != bestEquality1) {
        // We have an improvement, save it back to the diff.
        if (bestEquality1) {
          diffs[pointer - 1][1] = bestEquality1;
        } else {
          diffs.splice(pointer - 1, 1);
          pointer--;
        }
        diffs[pointer][1] = bestEdit;
        if (bestEquality2) {
          diffs[pointer + 1][1] = bestEquality2;
        } else {
          diffs.splice(pointer + 1, 1);
          pointer--;
        }
      }
    }
    pointer++;
  }
};

// Define some regex patterns for matching boundaries.
diff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;
diff_match_patch.whitespaceRegex_ = /\s/;
diff_match_patch.linebreakRegex_ = /[\r\n]/;
diff_match_patch.blanklineEndRegex_ = /\n\r?\n$/;
diff_match_patch.blanklineStartRegex_ = /^\r?\n\r?\n/;

/**
 * Reduce the number of edits by eliminating operationally trivial equalities.
 * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.
 */
diff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {
  var changes = false;
  var equalities = [];  // Stack of indices where equalities are found.
  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.
  /** @type {?string} */
  var lastequality = null;
  // Always equal to diffs[equalities[equalitiesLength - 1]][1]
  var pointer = 0;  // Index of current position.
  // Is there an insertion operation before the last equality.
  var pre_ins = false;
  // Is there a deletion operation before the last equality.
  var pre_del = false;
  // Is there an insertion operation after the last equality.
  var post_ins = false;
  // Is there a deletion operation after the last equality.
  var post_del = false;
  while (pointer < diffs.length) {
    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.
      if (diffs[pointer][1].length < this.Diff_EditCost &&
          (post_ins || post_del)) {
        // Candidate found.
        equalities[equalitiesLength++] = pointer;
        pre_ins = post_ins;
        pre_del = post_del;
        lastequality = diffs[pointer][1];
      } else {
        // Not a candidate, and can never become one.
        equalitiesLength = 0;
        lastequality = null;
      }
      post_ins = post_del = false;
    } else {  // An insertion or deletion.
      if (diffs[pointer][0] == DIFF_DELETE) {
        post_del = true;
      } else {
        post_ins = true;
      }
      /*
       * Five types to be split:
       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>
       * <ins>A</ins>X<ins>C</ins><del>D</del>
       * <ins>A</ins><del>B</del>X<ins>C</ins>
       * <ins>A</del>X<ins>C</ins><del>D</del>
       * <ins>A</ins><del>B</del>X<del>C</del>
       */
      if (lastequality && ((pre_ins && pre_del && post_ins && post_del) ||
                           ((lastequality.length < this.Diff_EditCost / 2) &&
                            (pre_ins + pre_del + post_ins + post_del) == 3))) {
        // Duplicate record.
        diffs.splice(equalities[equalitiesLength - 1], 0,
                     /** @type {diff_match_patch.Diff} */
                     ([DIFF_DELETE, lastequality]));
        // Change second copy to insert.
        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;
        equalitiesLength--;  // Throw away the equality we just deleted;
        lastequality = null;
        if (pre_ins && pre_del) {
          // No changes made which could affect previous entry, keep going.
          post_ins = post_del = true;
          equalitiesLength = 0;
        } else {
          equalitiesLength--;  // Throw away the previous equality.
          pointer = equalitiesLength > 0 ?
              equalities[equalitiesLength - 1] : -1;
          post_ins = post_del = false;
        }
        changes = true;
      }
    }
    pointer++;
  }

  if (changes) {
    this.diff_cleanupMerge(diffs);
  }
};


/**
 * Reorder and merge like edit sections.  Merge equalities.
 * Any edit section can move as long as it doesn't cross an equality.
 * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.
 */
diff_match_patch.prototype.diff_cleanupMerge = function(diffs) {
  // Add a dummy entry at the end.
  diffs.push(/** @type {diff_match_patch.Diff} */([DIFF_EQUAL, '']));
  var pointer = 0;
  var count_delete = 0;
  var count_insert = 0;
  var text_delete = '';
  var text_insert = '';
  var commonlength;
  while (pointer < diffs.length) {
    switch (diffs[pointer][0]) {
      case DIFF_INSERT:
        count_insert++;
        text_insert += diffs[pointer][1];
        pointer++;
        break;
      case DIFF_DELETE:
        count_delete++;
        text_delete += diffs[pointer][1];
        pointer++;
        break;
      case DIFF_EQUAL:
        // Upon reaching an equality, check for prior redundancies.
        if (count_delete + count_insert > 1) {
          if (count_delete !== 0 && count_insert !== 0) {
            // Factor out any common prefixies.
            commonlength = this.diff_commonPrefix(text_insert, text_delete);
            if (commonlength !== 0) {
              if ((pointer - count_delete - count_insert) > 0 &&
                  diffs[pointer - count_delete - count_insert - 1][0] ==
                  DIFF_EQUAL) {
                diffs[pointer - count_delete - count_insert - 1][1] +=
                    text_insert.substring(0, commonlength);
              } else {
                diffs.splice(0, 0, /** @type {diff_match_patch.Diff} */
                    ([DIFF_EQUAL, text_insert.substring(0, commonlength)]));
                pointer++;
              }
              text_insert = text_insert.substring(commonlength);
              text_delete = text_delete.substring(commonlength);
            }
            // Factor out any common suffixies.
            commonlength = this.diff_commonSuffix(text_insert, text_delete);
            if (commonlength !== 0) {
              diffs[pointer][1] = text_insert.substring(text_insert.length -
                  commonlength) + diffs[pointer][1];
              text_insert = text_insert.substring(0, text_insert.length -
                  commonlength);
              text_delete = text_delete.substring(0, text_delete.length -
                  commonlength);
            }
          }
          // Delete the offending records and add the merged ones.
          if (count_delete === 0) {
            diffs.splice(pointer - count_insert, count_delete + count_insert,
                         /** @type {diff_match_patch.Diff} */
                         ([DIFF_INSERT, text_insert]));
          } else if (count_insert === 0) {
            diffs.splice(pointer - count_delete, count_delete + count_insert,
                         /** @type {diff_match_patch.Diff} */
                         ([DIFF_DELETE, text_delete]));
          } else {
            diffs.splice(pointer - count_delete - count_insert,
                         count_delete + count_insert,
                         /** @type {diff_match_patch.Diff} */
                         ([DIFF_DELETE, text_delete]),
                         /** @type {diff_match_patch.Diff} */
                         ([DIFF_INSERT, text_insert]));
          }
          pointer = pointer - count_delete - count_insert +
                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;
        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {
          // Merge this equality with the previous one.
          diffs[pointer - 1][1] += diffs[pointer][1];
          diffs.splice(pointer, 1);
        } else {
          pointer++;
        }
        count_insert = 0;
        count_delete = 0;
        text_delete = '';
        text_insert = '';
        break;
    }
  }
  if (diffs[diffs.length - 1][1] === '') {
    diffs.pop();  // Remove the dummy entry at the end.
  }

  // Second pass: look for single edits surrounded on both sides by equalities
  // which can be shifted sideways to eliminate an equality.
  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC
  var changes = false;
  pointer = 1;
  // Intentionally ignore the first and last element (don't need checking).
  while (pointer < diffs.length - 1) {
    if (diffs[pointer - 1][0] == DIFF_EQUAL &&
        diffs[pointer + 1][0] == DIFF_EQUAL) {
      // This is a single edit surrounded by equalities.
      if (diffs[pointer][1].substring(diffs[pointer][1].length -
          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {
        // Shift the edit over the previous equality.
        diffs[pointer][1] = diffs[pointer - 1][1] +
            diffs[pointer][1].substring(0, diffs[pointer][1].length -
                                        diffs[pointer - 1][1].length);
        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];
        diffs.splice(pointer - 1, 1);
        changes = true;
      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==
          diffs[pointer + 1][1]) {
        // Shift the edit over the next equality.
        diffs[pointer - 1][1] += diffs[pointer + 1][1];
        diffs[pointer][1] =
            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +
            diffs[pointer + 1][1];
        diffs.splice(pointer + 1, 1);
        changes = true;
      }
    }
    pointer++;
  }
  // If shifts were made, the diff needs reordering and another shift sweep.
  if (changes) {
    this.diff_cleanupMerge(diffs);
  }
};


/**
 * loc is a location in text1, compute and return the equivalent location in
 * text2.
 * e.g. 'The cat' vs 'The big cat', 1->1, 5->8
 * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.
 * @param {number} loc Location within text1.
 * @return {number} Location within text2.
 */
diff_match_patch.prototype.diff_xIndex = function(diffs, loc) {
  var chars1 = 0;
  var chars2 = 0;
  var last_chars1 = 0;
  var last_chars2 = 0;
  var x;
  for (x = 0; x < diffs.length; x++) {
    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.
      chars1 += diffs[x][1].length;
    }
    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.
      chars2 += diffs[x][1].length;
    }
    if (chars1 > loc) {  // Overshot the location.
      break;
    }
    last_chars1 = chars1;
    last_chars2 = chars2;
  }
  // Was the location was deleted?
  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {
    return last_chars2;
  }
  // Add the remaining character length.
  return last_chars2 + (loc - last_chars1);
};


/**
 * Convert a diff array into a pretty HTML report.
 * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.
 * @return {string} HTML representation.
 */
diff_match_patch.prototype.diff_prettyHtml = function(diffs) {
  var html = [];
  var pattern_amp = /&/g;
  var pattern_lt = /</g;
  var pattern_gt = />/g;
  var pattern_para = /\n/g;
  for (var x = 0; x < diffs.length; x++) {
    var op = diffs[x][0];    // Operation (insert, delete, equal)
    var data = diffs[x][1];  // Text of change.
    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')
        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');
    switch (op) {
      case DIFF_INSERT:
        html[x] = '<ins style="background:#e6ffe6;">' + text + '</ins>';
        break;
      case DIFF_DELETE:
        html[x] = '<del style="background:#ffe6e6;">' + text + '</del>';
        break;
      case DIFF_EQUAL:
        html[x] = '<span>' + text + '</span>';
        break;
    }
  }
  return html.join('');
};


/**
 * Compute and return the source text (all equalities and deletions).
 * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.
 * @return {string} Source text.
 */
diff_match_patch.prototype.diff_text1 = function(diffs) {
  var text = [];
  for (var x = 0; x < diffs.length; x++) {
    if (diffs[x][0] !== DIFF_INSERT) {
      text[x] = diffs[x][1];
    }
  }
  return text.join('');
};


/**
 * Compute and return the destination text (all equalities and insertions).
 * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.
 * @return {string} Destination text.
 */
diff_match_patch.prototype.diff_text2 = function(diffs) {
  var text = [];
  for (var x = 0; x < diffs.length; x++) {
    if (diffs[x][0] !== DIFF_DELETE) {
      text[x] = diffs[x][1];
    }
  }
  return text.join('');
};


/**
 * Compute the Levenshtein distance; the number of inserted, deleted or
 * substituted characters.
 * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.
 * @return {number} Number of changes.
 */
diff_match_patch.prototype.diff_levenshtein = function(diffs) {
  var levenshtein = 0;
  var insertions = 0;
  var deletions = 0;
  for (var x = 0; x < diffs.length; x++) {
    var op = diffs[x][0];
    var data = diffs[x][1];
    switch (op) {
      case DIFF_INSERT:
        insertions += data.length;
        break;
      case DIFF_DELETE:
        deletions += data.length;
        break;
      case DIFF_EQUAL:
        // A deletion and an insertion is one substitution.
        levenshtein += Math.max(insertions, deletions);
        insertions = 0;
        deletions = 0;
        break;
    }
  }
  levenshtein += Math.max(insertions, deletions);
  return levenshtein;
};


/**
 * Crush the diff into an encoded string which describes the operations
 * required to transform text1 into text2.
 * E.g. =3\t-2\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.
 * Operations are tab-separated.  Inserted text is escaped using %xx notation.
 * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.
 * @return {string} Delta text.
 */
diff_match_patch.prototype.diff_toDelta = function(diffs) {
  var text = [];
  for (var x = 0; x < diffs.length; x++) {
    switch (diffs[x][0]) {
      case DIFF_INSERT:
        text[x] = '+' + encodeURI(diffs[x][1]);
        break;
      case DIFF_DELETE:
        text[x] = '-' + diffs[x][1].length;
        break;
      case DIFF_EQUAL:
        text[x] = '=' + diffs[x][1].length;
        break;
    }
  }
  return text.join('\t').replace(/%20/g, ' ');
};


/**
 * Given the original text1, and an encoded string which describes the
 * operations required to transform text1 into text2, compute the full diff.
 * @param {string} text1 Source string for the diff.
 * @param {string} delta Delta text.
 * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.
 * @throws {!Error} If invalid input.
 */
diff_match_patch.prototype.diff_fromDelta = function(text1, delta) {
  var diffs = [];
  var diffsLength = 0;  // Keeping our own length var is faster in JS.
  var pointer = 0;  // Cursor in text1
  var tokens = delta.split(/\t/g);
  for (var x = 0; x < tokens.length; x++) {
    // Each token begins with a one character parameter which specifies the
    // operation of this token (delete, insert, equality).
    var param = tokens[x].substring(1);
    switch (tokens[x].charAt(0)) {
      case '+':
        try {
          diffs[diffsLength++] = /** @type {diff_match_patch.Diff} */
              ([DIFF_INSERT, decodeURI(param)]);
        } catch (ex) {
          // Malformed URI sequence.
          throw new Error('Illegal escape in diff_fromDelta: ' + param);
        }
        break;
      case '-':
        // Fall through.
      case '=':
        var n = parseInt(param, 10);
        if (isNaN(n) || n < 0) {
          throw new Error('Invalid number in diff_fromDelta: ' + param);
        }
        var text = text1.substring(pointer, pointer += n);
        if (tokens[x].charAt(0) == '=') {
          diffs[diffsLength++] = /** @type {diff_match_patch.Diff} */
              ([DIFF_EQUAL, text]);
        } else {
          diffs[diffsLength++] = /** @type {diff_match_patch.Diff} */
              ([DIFF_DELETE, text]);
        }
        break;
      default:
        // Blank tokens are ok (from a trailing \t).
        // Anything else is an error.
        if (tokens[x]) {
          throw new Error('Invalid diff operation in diff_fromDelta: ' +
                          tokens[x]);
        }
    }
  }
  if (pointer != text1.length) {
    throw new Error('Delta length (' + pointer +
        ') does not equal source text length (' + text1.length + ').');
  }
  return diffs;
};


//  MATCH FUNCTIONS


/**
 * Locate the best instance of 'pattern' in 'text' near 'loc'.
 * @param {string} text The text to search.
 * @param {string} pattern The pattern to search for.
 * @param {number} loc The location to search around.
 * @return {number} Best match index or -1.
 */
diff_match_patch.prototype.match_main = function(text, pattern, loc) {
  // Check for null inputs.
  if (text == null || pattern == null || loc == null) {
    throw new Error('Null input. (match_main)');
  }

  loc = Math.max(0, Math.min(loc, text.length));
  if (text == pattern) {
    // Shortcut (potentially not guaranteed by the algorithm)
    return 0;
  } else if (!text.length) {
    // Nothing to match.
    return -1;
  } else if (text.substring(loc, loc + pattern.length) == pattern) {
    // Perfect match at the perfect spot!  (Includes case of null pattern)
    return loc;
  } else {
    // Do a fuzzy compare.
    return this.match_bitap_(text, pattern, loc);
  }
};


/**
 * Locate the best instance of 'pattern' in 'text' near 'loc' using the
 * Bitap algorithm.
 * @param {string} text The text to search.
 * @param {string} pattern The pattern to search for.
 * @param {number} loc The location to search around.
 * @return {number} Best match index or -1.
 * @private
 */
diff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {
  if (pattern.length > this.Match_MaxBits) {
    throw new Error('Pattern too long for this browser.');
  }

  // Initialise the alphabet.
  var s = this.match_alphabet_(pattern);

  var dmp = this;  // 'this' becomes 'window' in a closure.

  /**
   * Compute and return the score for a match with e errors and x location.
   * Accesses loc and pattern through being a closure.
   * @param {number} e Number of errors in match.
   * @param {number} x Location of match.
   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).
   * @private
   */
  function match_bitapScore_(e, x) {
    var accuracy = e / pattern.length;
    var proximity = Math.abs(loc - x);
    if (!dmp.Match_Distance) {
      // Dodge divide by zero error.
      return proximity ? 1.0 : accuracy;
    }
    return accuracy + (proximity / dmp.Match_Distance);
  }

  // Highest score beyond which we give up.
  var score_threshold = this.Match_Threshold;
  // Is there a nearby exact match? (speedup)
  var best_loc = text.indexOf(pattern, loc);
  if (best_loc != -1) {
    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);
    // What about in the other direction? (speedup)
    best_loc = text.lastIndexOf(pattern, loc + pattern.length);
    if (best_loc != -1) {
      score_threshold =
          Math.min(match_bitapScore_(0, best_loc), score_threshold);
    }
  }

  // Initialise the bit arrays.
  var matchmask = 1 << (pattern.length - 1);
  best_loc = -1;

  var bin_min, bin_mid;
  var bin_max = pattern.length + text.length;
  var last_rd;
  for (var d = 0; d < pattern.length; d++) {
    // Scan for the best match; each iteration allows for one more error.
    // Run a binary search to determine how far from 'loc' we can stray at this
    // error level.
    bin_min = 0;
    bin_mid = bin_max;
    while (bin_min < bin_mid) {
      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {
        bin_min = bin_mid;
      } else {
        bin_max = bin_mid;
      }
      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);
    }
    // Use the result from this iteration as the maximum for the next.
    bin_max = bin_mid;
    var start = Math.max(1, loc - bin_mid + 1);
    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;

    var rd = Array(finish + 2);
    rd[finish + 1] = (1 << d) - 1;
    for (var j = finish; j >= start; j--) {
      // The alphabet (s) is a sparse hash, so the following line generates
      // warnings.
      var charMatch = s[text.charAt(j - 1)];
      if (d === 0) {  // First pass: exact match.
        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;
      } else {  // Subsequent passes: fuzzy match.
        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |
                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |
                last_rd[j + 1];
      }
      if (rd[j] & matchmask) {
        var score = match_bitapScore_(d, j - 1);
        // This match will almost certainly be better than any existing match.
        // But check anyway.
        if (score <= score_threshold) {
          // Told you so.
          score_threshold = score;
          best_loc = j - 1;
          if (best_loc > loc) {
            // When passing loc, don't exceed our current distance from loc.
            start = Math.max(1, 2 * loc - best_loc);
          } else {
            // Already passed loc, downhill from here on in.
            break;
          }
        }
      }
    }
    // No hope for a (better) match at greater error levels.
    if (match_bitapScore_(d + 1, loc) > score_threshold) {
      break;
    }
    last_rd = rd;
  }
  return best_loc;
};


/**
 * Initialise the alphabet for the Bitap algorithm.
 * @param {string} pattern The text to encode.
 * @return {!Object} Hash of character locations.
 * @private
 */
diff_match_patch.prototype.match_alphabet_ = function(pattern) {
  var s = {};
  for (var i = 0; i < pattern.length; i++) {
    s[pattern.charAt(i)] = 0;
  }
  for (var i = 0; i < pattern.length; i++) {
    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);
  }
  return s;
};


//  PATCH FUNCTIONS


/**
 * Increase the context until it is unique,
 * but don't let the pattern expand beyond Match_MaxBits.
 * @param {!diff_match_patch.patch_obj} patch The patch to grow.
 * @param {string} text Source text.
 * @private
 */
diff_match_patch.prototype.patch_addContext_ = function(patch, text) {
  if (text.length == 0) {
    return;
  }
  if (patch.start2 === null) {
    throw Error('patch not initialized');
  }
  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);
  var padding = 0;

  // Look for the first and last matches of pattern in text.  If two different
  // matches are found, increase the pattern length.
  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&
         pattern.length < this.Match_MaxBits - this.Patch_Margin -
         this.Patch_Margin) {
    padding += this.Patch_Margin;
    pattern = text.substring(patch.start2 - padding,
                             patch.start2 + patch.length1 + padding);
  }
  // Add one chunk for good luck.
  padding += this.Patch_Margin;

  // Add the prefix.
  var prefix = text.substring(patch.start2 - padding, patch.start2);
  if (prefix) {
    patch.diffs.unshift(/** @type {diff_match_patch.Diff} */
        ([DIFF_EQUAL, prefix]));
  }
  // Add the suffix.
  var suffix = text.substring(patch.start2 + patch.length1,
                              patch.start2 + patch.length1 + padding);
  if (suffix) {
    patch.diffs.push(/** @type {diff_match_patch.Diff} */
        ([DIFF_EQUAL, suffix]));
  }

  // Roll back the start points.
  patch.start1 -= prefix.length;
  patch.start2 -= prefix.length;
  // Extend the lengths.
  patch.length1 += prefix.length + suffix.length;
  patch.length2 += prefix.length + suffix.length;
};


/**
 * Compute a list of patches to turn text1 into text2.
 * Use diffs if provided, otherwise compute it ourselves.
 * There are four ways to call this function, depending on what data is
 * available to the caller:
 * Method 1:
 * a = text1, b = text2
 * Method 2:
 * a = diffs
 * Method 3 (optimal):
 * a = text1, b = diffs
 * Method 4 (deprecated, use method 3):
 * a = text1, b = text2, c = diffs
 *
 * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or
 * Array of diff tuples for text1 to text2 (method 2).
 * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or
 * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).
 * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples
 * for text1 to text2 (method 4) or undefined (methods 1,2,3).
 * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.
 */
diff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {
  var text1, diffs;
  if (typeof a == 'string' && typeof opt_b == 'string' &&
      typeof opt_c == 'undefined') {
    // Method 1: text1, text2
    // Compute diffs from text1 and text2.
    text1 = /** @type {string} */(a);
    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);
    if (diffs.length > 2) {
      this.diff_cleanupSemantic(diffs);
      this.diff_cleanupEfficiency(diffs);
    }
  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&
      typeof opt_c == 'undefined') {
    // Method 2: diffs
    // Compute text1 from diffs.
    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);
    text1 = this.diff_text1(diffs);
  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&
      typeof opt_c == 'undefined') {
    // Method 3: text1, diffs
    text1 = /** @type {string} */(a);
    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);
  } else if (typeof a == 'string' && typeof opt_b == 'string' &&
      opt_c && typeof opt_c == 'object') {
    // Method 4: text1, text2, diffs
    // text2 is not used.
    text1 = /** @type {string} */(a);
    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);
  } else {
    throw new Error('Unknown call format to patch_make.');
  }

  if (diffs.length === 0) {
    return [];  // Get rid of the null case.
  }
  var patches = [];
  var patch = new diff_match_patch.patch_obj();
  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.
  var char_count1 = 0;  // Number of characters into the text1 string.
  var char_count2 = 0;  // Number of characters into the text2 string.
  // Start with text1 (prepatch_text) and apply the diffs until we arrive at
  // text2 (postpatch_text).  We recreate the patches one by one to determine
  // context info.
  var prepatch_text = text1;
  var postpatch_text = text1;
  for (var x = 0; x < diffs.length; x++) {
    var diff_type = diffs[x][0];
    var diff_text = diffs[x][1];

    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {
      // A new patch starts here.
      patch.start1 = char_count1;
      patch.start2 = char_count2;
    }

    switch (diff_type) {
      case DIFF_INSERT:
        patch.diffs[patchDiffLength++] = diffs[x];
        patch.length2 += diff_text.length;
        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +
                         postpatch_text.substring(char_count2);
        break;
      case DIFF_DELETE:
        patch.length1 += diff_text.length;
        patch.diffs[patchDiffLength++] = diffs[x];
        postpatch_text = postpatch_text.substring(0, char_count2) +
                         postpatch_text.substring(char_count2 +
                             diff_text.length);
        break;
      case DIFF_EQUAL:
        if (diff_text.length <= 2 * this.Patch_Margin &&
            patchDiffLength && diffs.length != x + 1) {
          // Small equality inside a patch.
          patch.diffs[patchDiffLength++] = diffs[x];
          patch.length1 += diff_text.length;
          patch.length2 += diff_text.length;
        } else if (diff_text.length >= 2 * this.Patch_Margin) {
          // Time for a new patch.
          if (patchDiffLength) {
            this.patch_addContext_(patch, prepatch_text);
            patches.push(patch);
            patch = new diff_match_patch.patch_obj();
            patchDiffLength = 0;
            // Unlike Unidiff, our patch lists have a rolling context.
            // https://github.com/google/diff-match-patch/wiki/Unidiff
            // Update prepatch text & pos to reflect the application of the
            // just completed patch.
            prepatch_text = postpatch_text;
            char_count1 = char_count2;
          }
        }
        break;
    }

    // Update the current character count.
    if (diff_type !== DIFF_INSERT) {
      char_count1 += diff_text.length;
    }
    if (diff_type !== DIFF_DELETE) {
      char_count2 += diff_text.length;
    }
  }
  // Pick up the leftover patch if not empty.
  if (patchDiffLength) {
    this.patch_addContext_(patch, prepatch_text);
    patches.push(patch);
  }

  return patches;
};


/**
 * Given an array of patches, return another array that is identical.
 * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.
 * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.
 */
diff_match_patch.prototype.patch_deepCopy = function(patches) {
  // Making deep copies is hard in JavaScript.
  var patchesCopy = [];
  for (var x = 0; x < patches.length; x++) {
    var patch = patches[x];
    var patchCopy = new diff_match_patch.patch_obj();
    patchCopy.diffs = [];
    for (var y = 0; y < patch.diffs.length; y++) {
      patchCopy.diffs[y] = {
        0: patch.diffs[y][0],  // {{0: number, 1: string}}
        1: patch.diffs[y][1]
      };
    }
    patchCopy.start1 = patch.start1;
    patchCopy.start2 = patch.start2;
    patchCopy.length1 = patch.length1;
    patchCopy.length2 = patch.length2;
    patchesCopy[x] = patchCopy;
  }
  return patchesCopy;
};


/**
 * Merge a set of patches onto the text.  Return a patched text, as well
 * as a list of true/false values indicating which patches were applied.
 * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.
 * @param {string} text Old text.
 * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the
 *      new text and an array of boolean values.
 */
diff_match_patch.prototype.patch_apply = function(patches, text) {
  if (patches.length == 0) {
    return [text, []];
  }

  // Deep copy the patches so that no changes are made to originals.
  patches = this.patch_deepCopy(patches);

  var nullPadding = this.patch_addPadding(patches);
  text = nullPadding + text + nullPadding;

  this.patch_splitMax(patches);
  // delta keeps track of the offset between the expected and actual location
  // of the previous patch.  If there are patches expected at positions 10 and
  // 20, but the first patch was found at 12, delta is 2 and the second patch
  // has an effective expected position of 22.
  var delta = 0;
  var results = [];
  for (var x = 0; x < patches.length; x++) {
    var expected_loc = patches[x].start2 + delta;
    var text1 = this.diff_text1(patches[x].diffs);
    var start_loc;
    var end_loc = -1;
    if (text1.length > this.Match_MaxBits) {
      // patch_splitMax will only provide an oversized pattern in the case of
      // a monster delete.
      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),
                                  expected_loc);
      if (start_loc != -1) {
        end_loc = this.match_main(text,
            text1.substring(text1.length - this.Match_MaxBits),
            expected_loc + text1.length - this.Match_MaxBits);
        if (end_loc == -1 || start_loc >= end_loc) {
          // Can't find valid trailing context.  Drop this patch.
          start_loc = -1;
        }
      }
    } else {
      start_loc = this.match_main(text, text1, expected_loc);
    }
    if (start_loc == -1) {
      // No match found.  :(
      results[x] = false;
      // Subtract the delta for this failed patch from subsequent patches.
      delta -= patches[x].length2 - patches[x].length1;
    } else {
      // Found a match.  :)
      results[x] = true;
      delta = start_loc - expected_loc;
      var text2;
      if (end_loc == -1) {
        text2 = text.substring(start_loc, start_loc + text1.length);
      } else {
        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);
      }
      if (text1 == text2) {
        // Perfect match, just shove the replacement text in.
        text = text.substring(0, start_loc) +
               this.diff_text2(patches[x].diffs) +
               text.substring(start_loc + text1.length);
      } else {
        // Imperfect match.  Run a diff to get a framework of equivalent
        // indices.
        var diffs = this.diff_main(text1, text2, false);
        if (text1.length > this.Match_MaxBits &&
            this.diff_levenshtein(diffs) / text1.length >
            this.Patch_DeleteThreshold) {
          // The end points match, but the content is unacceptably bad.
          results[x] = false;
        } else {
          this.diff_cleanupSemanticLossless(diffs);
          var index1 = 0;
          var index2;
          for (var y = 0; y < patches[x].diffs.length; y++) {
            var mod = patches[x].diffs[y];
            if (mod[0] !== DIFF_EQUAL) {
              index2 = this.diff_xIndex(diffs, index1);
            }
            if (mod[0] === DIFF_INSERT) {  // Insertion
              text = text.substring(0, start_loc + index2) + mod[1] +
                     text.substring(start_loc + index2);
            } else if (mod[0] === DIFF_DELETE) {  // Deletion
              text = text.substring(0, start_loc + index2) +
                     text.substring(start_loc + this.diff_xIndex(diffs,
                         index1 + mod[1].length));
            }
            if (mod[0] !== DIFF_DELETE) {
              index1 += mod[1].length;
            }
          }
        }
      }
    }
  }
  // Strip the padding off.
  text = text.substring(nullPadding.length, text.length - nullPadding.length);
  return [text, results];
};


/**
 * Add some padding on text start and end so that edges can match something.
 * Intended to be called only from within patch_apply.
 * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.
 * @return {string} The padding string added to each side.
 */
diff_match_patch.prototype.patch_addPadding = function(patches) {
  var paddingLength = this.Patch_Margin;
  var nullPadding = '';
  for (var x = 1; x <= paddingLength; x++) {
    nullPadding += String.fromCharCode(x);
  }

  // Bump all the patches forward.
  for (var x = 0; x < patches.length; x++) {
    patches[x].start1 += paddingLength;
    patches[x].start2 += paddingLength;
  }

  // Add some padding on start of first diff.
  var patch = patches[0];
  var diffs = patch.diffs;
  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {
    // Add nullPadding equality.
    diffs.unshift(/** @type {diff_match_patch.Diff} */
        ([DIFF_EQUAL, nullPadding]));
    patch.start1 -= paddingLength;  // Should be 0.
    patch.start2 -= paddingLength;  // Should be 0.
    patch.length1 += paddingLength;
    patch.length2 += paddingLength;
  } else if (paddingLength > diffs[0][1].length) {
    // Grow first equality.
    var extraLength = paddingLength - diffs[0][1].length;
    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];
    patch.start1 -= extraLength;
    patch.start2 -= extraLength;
    patch.length1 += extraLength;
    patch.length2 += extraLength;
  }

  // Add some padding on end of last diff.
  patch = patches[patches.length - 1];
  diffs = patch.diffs;
  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {
    // Add nullPadding equality.
    diffs.push(/** @type {diff_match_patch.Diff} */
        ([DIFF_EQUAL, nullPadding]));
    patch.length1 += paddingLength;
    patch.length2 += paddingLength;
  } else if (paddingLength > diffs[diffs.length - 1][1].length) {
    // Grow last equality.
    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;
    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);
    patch.length1 += extraLength;
    patch.length2 += extraLength;
  }

  return nullPadding;
};


/**
 * Look through the patches and break up any which are longer than the maximum
 * limit of the match algorithm.
 * Intended to be called only from within patch_apply.
 * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.
 */
diff_match_patch.prototype.patch_splitMax = function(patches) {
  var patch_size = this.Match_MaxBits;
  for (var x = 0; x < patches.length; x++) {
    if (patches[x].length1 <= patch_size) {
      continue;
    }
    var bigpatch = patches[x];
    // Remove the big old patch.
    patches.splice(x--, 1);
    var start1 = bigpatch.start1;
    var start2 = bigpatch.start2;
    var precontext = '';
    while (bigpatch.diffs.length !== 0) {
      // Create one of several smaller patches.
      var patch = new diff_match_patch.patch_obj();
      var empty = true;
      patch.start1 = start1 - precontext.length;
      patch.start2 = start2 - precontext.length;
      if (precontext !== '') {
        patch.length1 = patch.length2 = precontext.length;
        patch.diffs.push(/** @type {diff_match_patch.Diff} */
            ([DIFF_EQUAL, precontext]));
      }
      while (bigpatch.diffs.length !== 0 &&
             patch.length1 < patch_size - this.Patch_Margin) {
        var diff_type = bigpatch.diffs[0][0];
        var diff_text = bigpatch.diffs[0][1];
        if (diff_type === DIFF_INSERT) {
          // Insertions are harmless.
          patch.length2 += diff_text.length;
          start2 += diff_text.length;
          patch.diffs.push(bigpatch.diffs.shift());
          empty = false;
        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&
                   patch.diffs[0][0] == DIFF_EQUAL &&
                   diff_text.length > 2 * patch_size) {
          // This is a large deletion.  Let it pass in one chunk.
          patch.length1 += diff_text.length;
          start1 += diff_text.length;
          empty = false;
          patch.diffs.push(/** @type {diff_match_patch.Diff} */
              ([diff_type, diff_text]));
          bigpatch.diffs.shift();
        } else {
          // Deletion or equality.  Only take as much as we can stomach.
          diff_text = diff_text.substring(0,
              patch_size - patch.length1 - this.Patch_Margin);
          patch.length1 += diff_text.length;
          start1 += diff_text.length;
          if (diff_type === DIFF_EQUAL) {
            patch.length2 += diff_text.length;
            start2 += diff_text.length;
          } else {
            empty = false;
          }
          patch.diffs.push(/** @type {diff_match_patch.Diff} */
              ([diff_type, diff_text]));
          if (diff_text == bigpatch.diffs[0][1]) {
            bigpatch.diffs.shift();
          } else {
            bigpatch.diffs[0][1] =
                bigpatch.diffs[0][1].substring(diff_text.length);
          }
        }
      }
      // Compute the head context for the next patch.
      precontext = this.diff_text2(patch.diffs);
      precontext =
          precontext.substring(precontext.length - this.Patch_Margin);
      // Append the end context for this patch.
      var postcontext = this.diff_text1(bigpatch.diffs)
                            .substring(0, this.Patch_Margin);
      if (postcontext !== '') {
        patch.length1 += postcontext.length;
        patch.length2 += postcontext.length;
        if (patch.diffs.length !== 0 &&
            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {
          patch.diffs[patch.diffs.length - 1][1] += postcontext;
        } else {
          patch.diffs.push(/** @type {diff_match_patch.Diff} */
              ([DIFF_EQUAL, postcontext]));
        }
      }
      if (!empty) {
        patches.splice(++x, 0, patch);
      }
    }
  }
};


/**
 * Take a list of patches and return a textual representation.
 * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.
 * @return {string} Text representation of patches.
 */
diff_match_patch.prototype.patch_toText = function(patches) {
  var text = [];
  for (var x = 0; x < patches.length; x++) {
    text[x] = patches[x];
  }
  return text.join('');
};


/**
 * Parse a textual representation of patches and return a list of Patch objects.
 * @param {string} textline Text representation of patches.
 * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.
 * @throws {!Error} If invalid input.
 */
diff_match_patch.prototype.patch_fromText = function(textline) {
  var patches = [];
  if (!textline) {
    return patches;
  }
  var text = textline.split('\n');
  var textPointer = 0;
  var patchHeader = /^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;
  while (textPointer < text.length) {
    var m = text[textPointer].match(patchHeader);
    if (!m) {
      throw new Error('Invalid patch string: ' + text[textPointer]);
    }
    var patch = new diff_match_patch.patch_obj();
    patches.push(patch);
    patch.start1 = parseInt(m[1], 10);
    if (m[2] === '') {
      patch.start1--;
      patch.length1 = 1;
    } else if (m[2] == '0') {
      patch.length1 = 0;
    } else {
      patch.start1--;
      patch.length1 = parseInt(m[2], 10);
    }

    patch.start2 = parseInt(m[3], 10);
    if (m[4] === '') {
      patch.start2--;
      patch.length2 = 1;
    } else if (m[4] == '0') {
      patch.length2 = 0;
    } else {
      patch.start2--;
      patch.length2 = parseInt(m[4], 10);
    }
    textPointer++;

    while (textPointer < text.length) {
      var sign = text[textPointer].charAt(0);
      try {
        var line = decodeURI(text[textPointer].substring(1));
      } catch (ex) {
        // Malformed URI sequence.
        throw new Error('Illegal escape in patch_fromText: ' + line);
      }
      if (sign == '-') {
        // Deletion.
        patch.diffs.push(/** @type {diff_match_patch.Diff} */
            ([DIFF_DELETE, line]));
      } else if (sign == '+') {
        // Insertion.
        patch.diffs.push(/** @type {diff_match_patch.Diff} */
            ([DIFF_INSERT, line]));
      } else if (sign == ' ') {
        // Minor equality.
        patch.diffs.push(/** @type {diff_match_patch.Diff} */
            ([DIFF_EQUAL, line]));
      } else if (sign == '@') {
        // Start of next patch.
        break;
      } else if (sign === '') {
        // Blank line?  Whatever.
      } else {
        // WTF?
        throw new Error('Invalid patch mode "' + sign + '" in: ' + line);
      }
      textPointer++;
    }
  }
  return patches;
};


/**
 * Class representing one patch operation.
 * @constructor
 */
diff_match_patch.patch_obj = function() {
  /** @type {!Array.<!diff_match_patch.Diff>} */
  this.diffs = [];
  /** @type {?number} */
  this.start1 = null;
  /** @type {?number} */
  this.start2 = null;
  /** @type {number} */
  this.length1 = 0;
  /** @type {number} */
  this.length2 = 0;
};


/**
 * Emulate GNU diff's format.
 * Header: @@ -382,8 +481,9 @@
 * Indices are printed as 1-based, not 0-based.
 * @return {string} The GNU diff string.
 * @override
 */
diff_match_patch.patch_obj.prototype.toString = function() {
  var coords1, coords2;
  if (this.length1 === 0) {
    coords1 = this.start1 + ',0';
  } else if (this.length1 == 1) {
    coords1 = this.start1 + 1;
  } else {
    coords1 = (this.start1 + 1) + ',' + this.length1;
  }
  if (this.length2 === 0) {
    coords2 = this.start2 + ',0';
  } else if (this.length2 == 1) {
    coords2 = this.start2 + 1;
  } else {
    coords2 = (this.start2 + 1) + ',' + this.length2;
  }
  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\n'];
  var op;
  // Escape the body of the patch with %xx notation.
  for (var x = 0; x < this.diffs.length; x++) {
    switch (this.diffs[x][0]) {
      case DIFF_INSERT:
        op = '+';
        break;
      case DIFF_DELETE:
        op = '-';
        break;
      case DIFF_EQUAL:
        op = ' ';
        break;
    }
    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\n';
  }
  return text.join('').replace(/%20/g, ' ');
};

// CLOSURE:begin_strip
// Lines below here will not be included in the Closure-compatible library.

// Export these global variables so that they survive Google's JS compiler.
// In a browser, 'this' will be 'window'.
// Users of node.js should 'require' the uncompressed version since Google's
// JS compiler may break the following exports for non-browser environments.
/** @suppress {globalThis} */
this['diff_match_patch'] = diff_match_patch;
/** @suppress {globalThis} */
this['DIFF_DELETE'] = DIFF_DELETE;
/** @suppress {globalThis} */
this['DIFF_INSERT'] = DIFF_INSERT;
/** @suppress {globalThis} */
this['DIFF_EQUAL'] = DIFF_EQUAL;
</script><script nonce="">(function(){/*
 Copyright (C) 2006 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
window.PR_SHOULD_USE_CONTINUATION=!0;window.PR_TAB_WIDTH=8;window.PR_normalizedHtml=void 0;window.PR=void 0;window.prettyPrintOne=void 0;window.prettyPrint=void 0;window._pr_isIE6=function(){var C=navigator&&navigator.userAgent&&navigator.userAgent.match(/\bMSIE ([678])\./);C=C?+C[1]:!1;window._pr_isIE6=function(){return C};return C};
(function(){function C(b){return b.replace(J,"&amp;").replace(K,"&lt;").replace(L,"&gt;")}function G(b,f,h){switch(b.nodeType){case 1:var m=b.tagName.toLowerCase();f.push("<",m);var p=b.attributes,x=p.length;if(x){if(h){for(var t=[],k=x;0<=--k;)t[k]=p[k];t.sort(function(l,u){return l.name<u.name?-1:l.name===u.name?0:1});p=t}for(k=0;k<x;++k)t=p[k],t.specified&&f.push(" ",t.name.toLowerCase(),'="',t.value.replace(J,"&amp;").replace(K,"&lt;").replace(L,"&gt;").replace(S,"&quot;"),'"')}f.push(">");for(p=
b.firstChild;p;p=p.nextSibling)G(p,f,h);!b.firstChild&&/^(?:br|link|img)$/.test(m)||f.push("</",m,">");break;case 3:case 4:f.push(C(b.nodeValue))}}function M(b){function f(c){if("\\"!==c.charAt(0))return c.charCodeAt(0);switch(c.charAt(1)){case "b":return 8;case "t":return 9;case "n":return 10;case "v":return 11;case "f":return 12;case "r":return 13;case "u":case "x":return parseInt(c.substring(2),16)||c.charCodeAt(1);case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":return parseInt(c.substring(1),
8);default:return c.charCodeAt(1)}}function h(c){if(32>c)return(16>c?"\\x0":"\\x")+c.toString(16);c=String.fromCharCode(c);if("\\"===c||"-"===c||"["===c||"]"===c)c="\\"+c;return c}function m(c){var d=c.substring(1,c.length-1).match(RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g"));c=[];for(var a=[],q="^"===d[0],e=q?1:0,n=d.length;e<n;++e){var g=d[e];switch(g){case "\\B":case "\\b":case "\\D":case "\\d":case "\\S":case "\\s":case "\\W":case "\\w":c.push(g);
continue}g=f(g);if(e+2<n&&"-"===d[e+1]){var w=f(d[e+2]);e+=2}else w=g;a.push([g,w]);65>w||122<g||(65>w||90<g||a.push([Math.max(65,g)|32,Math.min(w,90)|32]),97>w||122<g||a.push([Math.max(97,g)&-33,Math.min(w,122)&-33]))}a.sort(function(z,A){return z[0]-A[0]||A[1]-z[1]});d=[];g=[NaN,NaN];for(e=0;e<a.length;++e)n=a[e],n[0]<=g[1]+1?g[1]=Math.max(g[1],n[1]):d.push(g=n);a=["["];q&&a.push("^");a.push.apply(a,c);for(e=0;e<d.length;++e)n=d[e],a.push(h(n[0])),n[1]>n[0]&&(n[1]+1>n[0]&&a.push("-"),a.push(h(n[1])));
a.push("]");return a.join("")}function p(c){for(var d=c.source.match(RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),a=d.length,q=[],e=0,n=0;e<a;++e){var g=d[e];"("===g?++n:"\\"===g.charAt(0)&&(g=+g.substring(1))&&g<=n&&(q[g]=-1)}for(e=1;e<q.length;++e)-1===q[e]&&(q[e]=++x);for(n=e=0;e<a;++e)g=d[e],"("===g?(++n,void 0===q[n]&&(d[e]="(?:")):"\\"===g.charAt(0)&&(g=+g.substring(1))&&
g<=n&&(d[e]="\\"+q[n]);for(n=e=0;e<a;++e)"^"===d[e]&&"^"!==d[e+1]&&(d[e]="");if(c.ignoreCase&&t)for(e=0;e<a;++e)g=d[e],c=g.charAt(0),2<=g.length&&"["===c?d[e]=m(g):"\\"!==c&&(d[e]=g.replace(/[a-zA-Z]/g,function(w){w=w.charCodeAt(0);return"["+String.fromCharCode(w&-33,w|32)+"]"}));return d.join("")}for(var x=0,t=!1,k=!1,l=0,u=b.length;l<u;++l){var v=b[l];if(v.ignoreCase)k=!0;else if(/[a-z]/i.test(v.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){t=!0;k=!1;break}}var r=[];l=0;for(u=b.length;l<
u;++l){v=b[l];if(v.global||v.multiline)throw Error(""+v);r.push("(?:"+p(v)+")")}return new RegExp(r.join("|"),k?"gi":"g")}function T(b){var f=0;return function(h){for(var m=null,p=0,x=0,t=h.length;x<t;++x){var k=h.charAt(x);switch(k){case "\t":m||(m=[]);m.push(h.substring(p,x));p=b-f%b;for(f+=p;0<=p;p-=16)m.push("                ".substring(0,p));p=x+1;break;case "\n":f=0;break;default:++f}}if(!m)return h;m.push(h.substring(p));return m.join("")}}function H(b,f,h,m){f&&(b={source:f,basePos:b},h(b),
m.push.apply(m,b.decorations))}function D(b,f){var h={},m;(function(){for(var t=b.concat(f),k=[],l={},u=0,v=t.length;u<v;++u){var r=t[u],c=r[3];if(c)for(var d=c.length;0<=--d;)h[c.charAt(d)]=r;r=r[1];c=""+r;l.hasOwnProperty(c)||(k.push(r),l[c]=null)}k.push(/[\0-\uffff]/);m=M(k)})();var p=f.length,x=function(t){var k=t.source,l=t.basePos,u=[l,"pln"],v=0;k=k.match(m)||[];for(var r={},c=0,d=k.length;c<d;++c){var a=k[c],q=r[a],e=void 0;if("string"===typeof q)var n=!1;else{var g=h[a.charAt(0)];if(g)e=
a.match(g[1]),q=g[0];else{for(n=0;n<p;++n)if(g=f[n],e=a.match(g[1])){q=g[0];break}e||(q="pln")}!(n=5<=q.length&&"lang-"===q.substring(0,5))||e&&"string"===typeof e[1]||(n=!1,q="src");n||(r[a]=q)}g=v;v+=a.length;if(n){n=e[1];var w=a.indexOf(n),z=w+n.length;e[2]&&(z=a.length-e[2].length,w=z-n.length);q=q.substring(5);H(l+g,a.substring(0,w),x,u);H(l+g+w,n,N(q,n),u);H(l+g+z,a.substring(z),x,u)}else u.push(l+g,q)}t.decorations=u};return x}function B(b){var f=[],h=[];b.tripleQuotedStrings?f.push(["str",
/^(?:'''(?:[^'\\]|\\[\s\S]|'{1,2}(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\s\S]|"{1,2}(?=[^"]))*(?:"""|$)|'(?:[^\\']|\\[\s\S])*(?:'|$)|"(?:[^\\"]|\\[\s\S])*(?:"|$))/,null,"'\""]):b.multiLineStrings?f.push(["str",/^(?:'(?:[^\\']|\\[\s\S])*(?:'|$)|"(?:[^\\"]|\\[\s\S])*(?:"|$)|`(?:[^\\`]|\\[\s\S])*(?:`|$))/,null,"'\"`"]):f.push(["str",/^(?:'(?:[^\\'\r\n]|\\.)*(?:'|$)|"(?:[^\\"\r\n]|\\.)*(?:"|$))/,null,"\"'"]);b.verbatimStrings&&h.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,null]);var m=b.hashComments;m&&(b.cStyleComments?
(1<m?f.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]):f.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"]),h.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,null])):f.push(["com",/^#[^\r\n]*/,null,"#"]));b.cStyleComments&&(h.push(["com",/^\/\/[^\r\n]*/,null]),h.push(["com",/^\/\*[\s\S]*?(?:\*\/|$)/,null]));b.regexLiterals&&h.push(["lang-regex",new RegExp("^"+U+"(/(?=[^/*])(?:[^/\\x5B\\x5C]|\\x5C[\\s\\S]|\\x5B(?:[^\\x5C\\x5D]|\\x5C[\\s\\S])*(?:\\x5D|$))+/)")]);
b=b.keywords.replace(/^\s+|\s+$/g,"");b.length&&h.push(["kwd",new RegExp("^(?:"+b.replace(/\s+/g,"|")+")\\b"),null]);f.push(["pln",/^\s+/,null," \r\n\t\u00a0"]);h.push(["lit",/^@[a-z_$][a-z_$@0-9]*/i,null],["typ",/^@?[A-Z]+[a-z][A-Za-z_$@0-9]*/,null],["pln",/^[a-z_$][a-z_$@0-9]*/i,null],["lit",RegExp("^(?:0x[a-f0-9]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+\\-]?\\d+)?)[a-z]*","i"),null,"0123456789"],["pun",/^.[^\s\w\.$@'"`\/#]*/,null]);return D(f,h)}function V(b){function f(E){if(E>l){u&&
u!==v&&(k.push("</span>"),u=null);!u&&v&&(u=v,k.push('<span class="',u,'">'));var O=C(d(h.substring(l,E))).replace(g?q:a,"$1&#160;");g=n.test(O);k.push(O.replace(e,P));l=E}}var h=b.source,m=b.extractedTags,p=b.decorations,x=b.numberLines,t=b.sourceNode,k=[],l=0,u=null,v=null,r=0,c=0,d=T(window.PR_TAB_WIDTH),a=/([\r\n ]) /g,q=/(^| ) /gm,e=/\r\n?|\n/g,n=/[ \r\n]$/,g=!0,w=window._pr_isIE6();t=w?t&&"PRE"===t.tagName?6===w?"&#160;\r\n":7===w?"&#160;<br />\r":8===w?"&#160;<br />":"&#160;\r":"&#160;<br />":
"<br />";if(x){var z=[];for(w=0;10>w;++w)z[w]=t+'</li><li class="L'+w+'">';var A="number"===typeof x?x-1:0;k.push('<ol class="linenums"><li class="L',A%10,'"');A&&k.push(' value="',A+1,'"');k.push(">");var P=function(){var E=z[++A%10];return u?"</span>"+E+'<span class="'+u+'">':E}}else P=t;for(;;)if(t=r<m.length?c<p.length?m[r]<=p[c]:!0:!1)f(m[r]),u&&(k.push("</span>"),u=null),k.push(m[r+1]),r+=2;else if(c<p.length)f(p[c]),v=p[c+1],c+=2;else break;f(h.length);u&&k.push("</span>");x&&k.push("</li></ol>");
b.prettyPrintedHtml=k.join("")}function y(b,f){for(var h=f.length;0<=--h;){var m=f[h];F.hasOwnProperty(m)?"console"in window&&console.warn("cannot override language handler %s",m):F[m]=b}}function N(b,f){b&&F.hasOwnProperty(b)||(b=/^\s*</.test(f)?"default-markup":"default-code");return F[b]}function Q(b){var f=b.sourceCodeHtml,h=b.langExtension;b.prettyPrintedHtml=f;try{var m=f.match(W);f=[];var p=0,x=[];if(m)for(var t=0,k=m.length;t<k;++t){var l=m[t];if(1<l.length&&"<"===l.charAt(0)){if(!X.test(l))if(Y.test(l))f.push(l.substring(9,
l.length-3)),p+=l.length-12;else if(Z.test(l))f.push("\n"),++p;else if(0<=l.indexOf("nocode")&&l.replace(/\s(\w+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\S+))/g,' $1="$2$3$4"').match(/[cC][lL][aA][sS][sS]="[^"]*\bnocode\b/)){var u=l.match(R)[2],v=1;var r=t+1;a:for(;r<k;++r){var c=m[r].match(R);if(c&&c[2]===u)if("/"===c[1]){if(0===--v)break a}else++v}r<k?(x.push(p,m.slice(t,r+1).join("")),t=r):x.push(p,l)}else x.push(p,l)}else{v=l;var d=v.indexOf("&");if(0>d)var a=v;else{for(--d;0<=(d=v.indexOf("&#",d+1));){var q=
v.indexOf(";",d);if(0<=q){var e=v.substring(d+3,q),n=10;e&&"x"===e.charAt(0)&&(e=e.substring(1),n=16);var g=parseInt(e,n);isNaN(g)||(v=v.substring(0,d)+String.fromCharCode(g)+v.substring(q+1))}}a=v.replace(aa,"<").replace(ba,">").replace(ca,"'").replace(da,'"').replace(ea," ").replace(fa,"&")}f.push(a);p+=a.length}}var w={source:f.join(""),tags:x};var z=w.source;b.source=z;b.basePos=0;b.extractedTags=w.tags;N(h,z)(b);V(b)}catch(A){"console"in window&&console.log(A&&A.stack?A.stack:A)}}function ha(b,
f,h){b={sourceCodeHtml:b,langExtension:f,numberLines:h};Q(b);return b.prettyPrintedHtml}function ia(b){function f(){for(var v=window.PR_SHOULD_USE_CONTINUATION?k.now()+250:Infinity;l<m.length&&k.now()<v;l++){var r=m[l];if(r.className&&0<=r.className.indexOf("prettyprint")){var c=r.className.match(/\blang-(\w+)\b/);c&&(c=c[1]);for(var d=!1,a=r.parentNode;a;a=a.parentNode)if(("pre"===a.tagName||"code"===a.tagName||"xmp"===a.tagName)&&a.className&&0<=a.className.indexOf("prettyprint")){d=!0;break}if(!d){a=
r;null===I&&(d=document.createElement("PRE"),d.appendChild(document.createTextNode('<!DOCTYPE foo PUBLIC "foo bar">\n<foo />')),I=!/</.test(d.innerHTML));if(I)if(d=a.innerHTML,"XMP"===a.tagName)d=C(d);else{if("PRE"!==a.tagName&&ja.test(d)){var q="";a.currentStyle?q=a.currentStyle.whiteSpace:window.getComputedStyle&&(q=window.getComputedStyle(a,null).whiteSpace);a=!q||"pre"===q}else a=!0;a||(d=d.replace(/(<br\s*\/?>)[\r\n]+/g,"$1").replace(/(?:[\r\n]+[ \t]*)+/g," "))}else{d=[];for(a=a.firstChild;a;a=
a.nextSibling)G(a,d);d=d.join("")}d=d.replace(/(?:\r\n?|\n)$/,"");a=r.className.match(/\blinenums\b(?::(\d+))?/);u={sourceCodeHtml:d,langExtension:c,sourceNode:r,numberLines:a?a[1]&&a[1].length?+a[1]:!0:!1};Q(u);if(r=u.prettyPrintedHtml)if(c=u.sourceNode,"XMP"===c.tagName){d=document.createElement("PRE");for(a=0;a<c.attributes.length;++a)if(q=c.attributes[a],q.specified){var e=q.name.toLowerCase();"class"===e?d.className=q.value:d.setAttribute(q.name,q.value)}d.innerHTML=r;c.parentNode.replaceChild(d,
c)}else c.innerHTML=r}}}l<m.length?setTimeout(f,250):b&&b()}for(var h=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],m=[],p=0;p<h.length;++p)for(var x=0,t=h[p].length;x<t;++x)m.push(h[p][x]);h=null;var k=Date;k.now||(k={now:function(){return(new Date).getTime()}});var l=0,u;f()}var U=function(){for(var b="! != !== # % %= & && &&= &= ( * *= += , -= -> / /= : :: ; < << <<= <= = == === > >= >> >>= >>> >>>= ? @ [ ^ ^= ^^ ^^= { | |= || ||= ~ break case continue delete do else finally instanceof return throw try typeof".split(" "),
f="(?:^^|[+-]",h=0;h<b.length;++h)f+="|"+b[h].replace(/([^=<>:&a-z])/g,"\\$1");return f+=")\\s*"}(),J=/&/g,K=/</g,L=/>/g,S=/"/g,aa=/&lt;/g,ba=/&gt;/g,ca=/&apos;/g,da=/&quot;/g,fa=/&amp;/g,ea=/&nbsp;/g,ja=/[\r\n]/g,I=null,W=RegExp("[^<]+|\x3c!--[\\s\\S]*?--\x3e|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>|</?[a-zA-Z](?:[^>\"']|'[^']*'|\"[^\"]*\")*>|<","g"),X=/^\x3c!--/,Y=/^<!\[CDATA\[/,Z=/^<br\b/i,R=/^<(\/?)([a-zA-Z][a-zA-Z0-9]*)/,ka=B({keywords:"break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof alignof align_union asm axiom bool concept concept_map const_cast constexpr decltype dynamic_cast explicit export friend inline late_check mutable namespace nullptr reinterpret_cast static_assert static_cast template typeid typename using virtual wchar_t where break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof abstract boolean byte extends final finally implements import instanceof null native package strictfp super synchronized throws transient as base by checked decimal delegate descending dynamic event fixed foreach from group implicit in interface internal into is lock object out override orderby params partial readonly ref sbyte sealed stackalloc string select uint ulong unchecked unsafe ushort var break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof debugger eval export function get null set undefined var with Infinity NaN caller delete die do dump elsif eval exit foreach for goto if import last local my next no our print package redo require sub undef unless until use wantarray while BEGIN END break continue do else for if return while and as assert class def del elif except exec finally from global import in is lambda nonlocal not or pass print raise try with yield False True None break continue do else for if return while alias and begin case class def defined elsif end ensure false in module next nil not or redo rescue retry self super then true undef unless until when yield BEGIN END break continue do else for if return while case done elif esac eval fi function in local set then until ",
hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),F={};y(ka,["default-code"]);y(D([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^\x3c!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),
"default-markup htm html mxml xhtml xml xsl".split(" "));y(D([["pln",/^[\s]+/,null," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,null,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>'"\s]*(?:[^>'"\s\/]|\/(?=\s)))/],["pun",/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^"'>\s]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],
["lang-css",/^style\s*=\s*([^"'>\s]+)/i]]),["in.tag"]);y(D([],[["atv",/^[\s\S]+/]]),["uq.val"]);y(B({keywords:"break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof alignof align_union asm axiom bool concept concept_map const_cast constexpr decltype dynamic_cast explicit export friend inline late_check mutable namespace nullptr reinterpret_cast static_assert static_cast template typeid typename using virtual wchar_t where ",
hashComments:!0,cStyleComments:!0}),"c cc cpp cxx cyc m".split(" "));y(B({keywords:"null true false"}),["json"]);y(B({keywords:"break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof abstract boolean byte extends final finally implements import instanceof null native package strictfp super synchronized throws transient as base by checked decimal delegate descending dynamic event fixed foreach from group implicit in interface internal into is lock object out override orderby params partial readonly ref sbyte sealed stackalloc string select uint ulong unchecked unsafe ushort var ",
hashComments:!0,cStyleComments:!0,verbatimStrings:!0}),["cs"]);y(B({keywords:"break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof abstract boolean byte extends final finally implements import instanceof null native package strictfp super synchronized throws transient ",
cStyleComments:!0}),["java"]);y(B({keywords:"break continue do else for if return while case done elif esac eval fi function in local set then until ",hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]);y(B({keywords:"break continue do else for if return while and as assert class def del elif except exec finally from global import in is lambda nonlocal not or pass print raise try with yield False True None ",hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]);y(B({keywords:"caller delete die do dump elsif eval exit foreach for goto if import last local my next no our print package redo require sub undef unless until use wantarray while BEGIN END ",
hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]);y(B({keywords:"break continue do else for if return while alias and begin case class def defined elsif end ensure false in module next nil not or redo rescue retry self super then true undef unless until when yield BEGIN END ",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]);y(B({keywords:"break continue do else for if return while auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile catch class delete false import new operator private protected public this throw true try typeof debugger eval export function get null set undefined var with Infinity NaN ",
cStyleComments:!0,regexLiterals:!0}),["js"]);y(B({keywords:"all and by catch class else extends false finally for if in is isnt loop new no not null of off on or return super then true try unless until when while yes ",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);y(D([],[["str",/^[\s\S]+/]]),["regex"]);window.PR_normalizedHtml=G;window.prettyPrintOne=ha;window.prettyPrint=ia;window.PR={combinePrefixPatterns:M,createSimpleLexer:D,registerLangHandler:y,
sourceDecorator:B,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}})();/*
 Copyright (C) 2009 Onno Hommes.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_COMMENT,/^#[^\r\n]*/,null,"#"],[window.PR.PR_PLAIN,/^[\t\n\r \xA0]+/,null,"\t\n\r \u00a0"],[window.PR.PR_STRING,/^"(?:[^"\\]|\\[\s\S])*(?:"|$)/,null,'"']],[[window.PR.PR_KEYWORD,/^(?:ADS|AD|AUG|BZF|BZMF|CAE|CAF|CA|CCS|COM|CS|DAS|DCA|DCOM|DCS|DDOUBL|DIM|DOUBLE|DTCB|DTCF|DV|DXCH|EDRUPT|EXTEND|INCR|INDEX|NDX|INHINT|LXCH|MASK|MSK|MP|MSU|NOOP|OVSK|QXCH|RAND|READ|RELINT|RESUME|RETURN|ROR|RXOR|SQUARE|SU|TCR|TCAA|OVSK|TCF|TC|TS|WAND|WOR|WRITE|XCH|XLQ|XXALQ|ZL|ZQ|ADD|ADZ|SUB|SUZ|MPY|MPR|MPZ|DVP|COM|ABS|CLA|CLZ|LDQ|STO|STQ|ALS|LLS|LRS|TRA|TSQ|TMI|TOV|AXT|TIX|DLY|INP|OUT)\s/,
null],[window.PR.PR_TYPE,/^(?:-?GENADR|=MINUS|2BCADR|VN|BOF|MM|-?2CADR|-?[1-6]DNADR|ADRES|BBCON|[SE]?BANK=?|BLOCK|BNKSUM|E?CADR|COUNT\*?|2?DEC\*?|-?DNCHAN|-?DNPTR|EQUALS|ERASE|MEMORY|2?OCT|REMADR|SETLOC|SUBRO|ORG|BSS|BES|SYN|EQU|DEFINE|END)\s/,null],[window.PR.PR_LITERAL,/^'(?:-*(?:\w|\\[\x21-\x7e])(?:[\w-]*|\\[\x21-\x7e])[=!?]?)?/],[window.PR.PR_PLAIN,/^-*(?:[!-z_]|\\[\x21-\x7e])(?:[\w-]*|\\[\x21-\x7e])[=!?]?/i],[window.PR.PR_PUNCTUATION,/^[^\w\t\n\r \xA0()"\\';]+/]]),["apollo","agc","aea"]);/*
 Copyright (C) 2011 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
window.PR.registerLangHandler(window.PR.createSimpleLexer([["opn",/^[\(\{\[]+/,null,"([{"],["clo",/^[\)\}\]]+/,null,")]}"],[window.PR.PR_COMMENT,/^;[^\r\n]*/,null,";"],[window.PR.PR_PLAIN,/^[\t\n\r \xA0]+/,null,"\t\n\r \u00a0"],[window.PR.PR_STRING,/^"(?:[^"\\]|\\[\s\S])*(?:"|$)/,null,'"']],[[window.PR.PR_KEYWORD,/^(?:def|if|do|let|quote|var|fn|loop|recur|throw|try|monitor-enter|monitor-exit|defmacro|defn|defn-|macroexpand|macroexpand-1|for|doseq|dosync|dotimes|and|or|when|not|assert|doto|proxy|defstruct|first|rest|cons|defprotocol|deftype|defrecord|reify|defmulti|defmethod|meta|with-meta|ns|in-ns|create-ns|import|intern|refer|alias|namespace|resolve|ref|deref|refset|new|set!|memfn|to-array|into-array|aset|gen-class|reduce|map|filter|find|nil?|empty?|hash-map|hash-set|vec|vector|seq|flatten|reverse|assoc|dissoc|list|list?|disj|get|union|difference|intersection|extend|extend-type|extend-protocol|prn)\b/,
null],[window.PR.PR_TYPE,/^:[0-9a-zA-Z\-]+/]]),["clj"]);/*
 Copyright (C) 2009 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[ \t\r\n\f]+/,null," \t\r\n\f"]],[[window.PR.PR_STRING,/^"(?:[^\n\r\f\\"]|\\(?:\r\n?|\n|\f)|\\[\s\S])*"/,null],[window.PR.PR_STRING,/^'(?:[^\n\r\f\\']|\\(?:\r\n?|\n|\f)|\\[\s\S])*'/,null],["lang-css-str",/^url\(([^\)"']*)\)/i],[window.PR.PR_KEYWORD,/^(?:url|rgb|!important|@import|@page|@media|@charset|inherit)(?=[^\-\w]|$)/i,null],["lang-css-kw",/^(-?(?:[_a-z]|(?:\\[0-9a-f]+ ?))(?:[_a-z0-9\-]|\\(?:\\[0-9a-f]+ ?))*)\s*:/i],
[window.PR.PR_COMMENT,/^\/\*[^*]*\*+(?:[^\/*][^*]*\*+)*\//],[window.PR.PR_COMMENT,/^(?:\x3c!--|--\x3e)/],[window.PR.PR_LITERAL,/^(?:\d+|\d*\.\d+)(?:%|[a-z]+)?/i],[window.PR.PR_LITERAL,/^#(?:[0-9a-f]{3}){1,2}/i],[window.PR.PR_PLAIN,/^-?(?:[_a-z]|(?:\\[\da-f]+ ?))(?:[_a-z\d\-]|\\(?:\\[\da-f]+ ?))*/i],[window.PR.PR_PUNCTUATION,/^[^\s\w'"]+/]]),["css"]);
window.PR.registerLangHandler(window.PR.createSimpleLexer([],[[window.PR.PR_KEYWORD,/^-?(?:[_a-z]|(?:\\[\da-f]+ ?))(?:[_a-z\d\-]|\\(?:\\[\da-f]+ ?))*/i]]),["css-kw"]);window.PR.registerLangHandler(window.PR.createSimpleLexer([],[[window.PR.PR_STRING,/^[^\)"']+/]]),["css-str"]);/*
 Copyright (C) 2010 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[\t\n\r \xA0]+/,null,"\t\n\r \u00a0"],[window.PR.PR_PLAIN,/^(?:"(?:[^"\\]|\\[\s\S])*(?:"|$)|'(?:[^'\\]|\\[\s\S])+(?:'|$))/,null,"\"'"]],[[window.PR.PR_COMMENT,/^(?:\/\/[^\r\n]*|\/\*[\s\S]*?\*\/)/],[window.PR.PR_PLAIN,/^(?:[^\/"']|\/(?![\/\*]))+/i]]),["go"]);window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[\t\n\x0B\x0C\r ]+/,null,"\t\n\v\f\r "],[window.PR.PR_STRING,/^"(?:[^"\\\n\x0C\r]|\\[\s\S])*(?:"|$)/,null,'"'],[window.PR.PR_STRING,/^'(?:[^'\\\n\x0C\r]|\\[^&])'?/,null,"'"],[window.PR.PR_LITERAL,/^(?:0o[0-7]+|0x[\da-f]+|\d+(?:\.\d+)?(?:e[+\-]?\d+)?)/i,null,"0123456789"]],[[window.PR.PR_COMMENT,/^(?:(?:--+(?:[^\r\n\x0C]*)?)|(?:\{-(?:[^-]|-+[^-\}])*-\}))/],[window.PR.PR_KEYWORD,/^(?:case|class|data|default|deriving|do|else|if|import|in|infix|infixl|infixr|instance|let|module|newtype|of|then|type|where|_)(?=[^a-zA-Z0-9']|$)/,
null],[window.PR.PR_PLAIN,/^(?:[A-Z][\w']*\.)*[a-zA-Z][\w']*/],[window.PR.PR_PUNCTUATION,/^[^\t\n\x0B\x0C\r a-zA-Z0-9'"]+/]]),["hs"]);/*

 Copyright (C) 2017 Micha? B?czkowski

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[\t\n\r \xA0]+/,null,"\t\n\r \u00a0"],[window.PR.PR_PUNCTUATION,/^[.!%&()*+,\-;<=>?\[\\\]^{|}:]+/,null,".!%&()*+,-;<=>?[\\]^{|}:"]],[[window.PR.PR_KEYWORD,/^\b(package|public|protected|private|open|abstract|constructor|final|override|import|for|while|as|typealias|get|set|((data|enum|annotation|sealed) )?class|this|super|val|var|fun|is|in|throw|return|break|continue|(companion )?object|if|try|else|do|when|init|interface|typeof|suspend)\b/],
[window.PR.PR_LITERAL,/^(?:true|false|null)\b/],[window.PR.PR_LITERAL,/^(0[xX][0-9a-fA-F_]+L?|0[bB][0-1]+L?|[0-9_.]+([eE]-?[0-9]+)?[fFL]?)/],[window.PR.PR_TYPE,/^(\b[A-Z]+[a-z][a-zA-Z0-9_$@]*|`.*`)/,null],[window.PR.PR_COMMENT,/^\/\/.*/],[window.PR.PR_COMMENT,/^\/\*[\s\S]*?(?:\*\/|$)/],[window.PR.PR_STRING,/'.'/],[window.PR.PR_STRING,/^"([^"\\]|\\[\s\S])*"/],[window.PR.PR_STRING,/^"{3}[\s\S]*?[^\\]"{3}/],[window.PR.PR_LITERAL,/^@([a-zA-Z0-9_$@]*|`.*`)/],[window.PR.PR_LITERAL,/^[a-zA-Z0-9_]+@/]]),
["kotlin"]);/*
 Copyright (C) 2008 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
window.PR.registerLangHandler(window.PR.createSimpleLexer([["opn",/^\(+/,null,"("],["clo",/^\)+/,null,")"],[window.PR.PR_COMMENT,/^;[^\r\n]*/,null,";"],[window.PR.PR_PLAIN,/^[\t\n\r \xA0]+/,null,"\t\n\r \u00a0"],[window.PR.PR_STRING,/^"(?:[^"\\]|\\[\s\S])*(?:"|$)/,null,'"']],[[window.PR.PR_KEYWORD,/^(?:block|c[ad]+r|catch|con[ds]|def(?:ine|un)|do|eq|eql|equal|equalp|eval-when|flet|format|go|if|labels|lambda|let|load-time-value|locally|macrolet|multiple-value-call|nil|progn|progv|quote|require|return-from|setq|symbol-macrolet|t|tagbody|the|throw|unwind)\b/,
null],[window.PR.PR_LITERAL,/^[+\-]?(?:[0#]x[0-9a-f]+|\d+\/\d+|(?:\.\d+|\d+(?:\.\d*)?)(?:[ed][+\-]?\d+)?)/i],[window.PR.PR_LITERAL,/^'(?:-*(?:\w|\\[\x21-\x7e])(?:[\w-]*|\\[\x21-\x7e])[=!?]?)?/],[window.PR.PR_PLAIN,/^-*(?:[a-z_]|\\[\x21-\x7e])(?:[\w-]*|\\[\x21-\x7e])[=!?]?/i],[window.PR.PR_PUNCTUATION,/^[^\w\t\n\r \xA0()"\\';]+/]]),["cl","el","lisp","scm"]);window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[\t\n\r \xA0]+/,null,"\t\n\r \u00a0"],[window.PR.PR_STRING,/^(?:"(?:[^"\\]|\\[\s\S])*(?:"|$)|'(?:[^'\\]|\\[\s\S])*(?:'|$))/,null,"\"'"]],[[window.PR.PR_COMMENT,/^--(?:\[(=*)\[[\s\S]*?(?:\]\1\]|$)|[^\r\n]*)/],[window.PR.PR_STRING,/^\[(=*)\[[\s\S]*?(?:\]\1\]|$)/],[window.PR.PR_KEYWORD,/^(?:and|break|do|else|elseif|end|false|for|function|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,null],[window.PR.PR_LITERAL,
/^[+-]?(?:0x[\da-f]+|(?:(?:\.\d+|\d+(?:\.\d*)?)(?:e[+\-]?\d+)?))/i],[window.PR.PR_PLAIN,/^[a-z_]\w*/i],[window.PR.PR_PUNCTUATION,/^[^\w\t\n\r \xA0][^\w\t\n\r \xA0"'\-\+=]*/]]),["lua"]);window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[\t\n\r \xA0]+/,null,"\t\n\r \u00a0"],[window.PR.PR_COMMENT,/^#(?:if[\t\n\r \xA0]+(?:[a-z_$][\w']*|``[^\r\n\t`]*(?:``|$))|else|endif|light)/i,null,"#"],[window.PR.PR_STRING,/^(?:"(?:[^"\\]|\\[\s\S])*(?:"|$)|'(?:[^'\\]|\\[\s\S])(?:'|$))/,null,"\"'"]],[[window.PR.PR_COMMENT,/^(?:\/\/[^\r\n]*|\(\*[\s\S]*?\*\))/],[window.PR.PR_KEYWORD,/^(?:abstract|and|as|assert|begin|class|default|delegate|do|done|downcast|downto|elif|else|end|exception|extern|false|finally|for|fun|function|if|in|inherit|inline|interface|internal|lazy|let|match|member|module|mutable|namespace|new|null|of|open|or|override|private|public|rec|return|static|struct|then|to|true|try|type|upcast|use|val|void|when|while|with|yield|asr|land|lor|lsl|lsr|lxor|mod|sig|atomic|break|checked|component|const|constraint|constructor|continue|eager|event|external|fixed|functor|global|include|method|mixin|object|parallel|process|protected|pure|sealed|trait|virtual|volatile)\b/],
[window.PR.PR_LITERAL,/^[+\-]?(?:0x[\da-f]+|(?:(?:\.\d+|\d+(?:\.\d*)?)(?:e[+\-]?\d+)?))/i],[window.PR.PR_PLAIN,/^(?:[a-z_][\w']*[!?#]?|``[^\r\n\t`]*(?:``|$))/i],[window.PR.PR_PUNCTUATION,/^[^\t\n\r \xA0"'\w]+/]]),["fs","ml"]);window.PR.registerLangHandler(window.PR.sourceDecorator({keywords:"bool bytes default double enum extend extensions false fixed32 fixed64 float group import int32 int64 max message option optional package repeated required returns rpc service sfixed32 sfixed64 sint32 sint64 string syntax to true uint32 uint64",cStyleComments:!0}),["proto"]);/*

 Copyright (C) 2015 Chris Morgan

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
PR.registerLangHandler(PR.createSimpleLexer([],[[PR.PR_PLAIN,/^[\t\n\r \xA0]+/],[PR.PR_COMMENT,/^\/\/.*/],[PR.PR_COMMENT,/^\/\*[\s\S]*?(?:\*\/|$)/],[PR.PR_STRING,/^b"(?:[^\\]|\\(?:.|x[\da-fA-F]{2}))*?"/],[PR.PR_STRING,/^"(?:[^\\]|\\(?:.|x[\da-fA-F]{2}|u\{\[\da-fA-F]{1,6}\}))*?"/],[PR.PR_STRING,/^b?r(#*)"[\s\S]*?"\1/],[PR.PR_STRING,/^b'([^\\]|\\(.|x[\da-fA-F]{2}))'/],[PR.PR_STRING,/^'([^\\]|\\(.|x[\da-fA-F]{2}|u\{[\da-fA-F]{1,6}\}))'/],[PR.PR_TAG,/^'\w+?\b/],[PR.PR_KEYWORD,/^(?:match|if|else|as|break|box|continue|extern|fn|for|in|if|impl|dyn|let|loop|pub|return|super|unsafe|where|while|use|mod|trait|struct|enum|type|move|mut|ref|static|const|crate)\b/],
[PR.PR_KEYWORD,/^(?:alignof|become|do|offsetof|priv|pure|sizeof|typeof|unsized|yield|async|await|try|abstract|virtual|final|override|macro)\b/],[PR.PR_TYPE,/^(?:[iu](8|16|32|64|128|size)|char|bool|f32|f64|str|Self)\b/],[PR.PR_TYPE,/^(?:Copy|Send|Sized|Sync|Drop|Fn|FnMut|FnOnce|Box|ToOwned|Clone|PartialEq|PartialOrd|Eq|Ord|AsRef|AsMut|Into|From|Default|Iterator|Extend|IntoIterator|DoubleEndedIterator|ExactSizeIterator|Option|Some|None|Result|Ok|Err|SliceConcatExt|String|ToString|Vec)\b/],[PR.PR_LITERAL,
/^(self|true|false|null)\b/],[PR.PR_LITERAL,/^\d[0-9_]*(?:[iu](?:size|8|16|32|64|128))?/],[PR.PR_LITERAL,/^0x[a-fA-F0-9_]+(?:[iu](?:size|8|16|32|64|128))?/],[PR.PR_LITERAL,/^0o[0-7_]+(?:[iu](?:size|8|16|32|64|128))?/],[PR.PR_LITERAL,/^0b[01_]+(?:[iu](?:size|8|16|32|64|128))?/],[PR.PR_LITERAL,/^\d[0-9_]*\.(?![^\s\d.])/],[PR.PR_LITERAL,/^\d[0-9_]*(?:\.\d[0-9_]*)(?:[eE][+-]?[0-9_]+)?(?:f32|f64)?/],[PR.PR_LITERAL,/^\d[0-9_]*(?:\.\d[0-9_]*)?(?:[eE][+-]?[0-9_]+)(?:f32|f64)?/],[PR.PR_LITERAL,/^\d[0-9_]*(?:\.\d[0-9_]*)?(?:[eE][+-]?[0-9_]+)?(?:f32|f64)/],
[PR.PR_ATTRIB_NAME,/^[a-z_]\w*!/i],[PR.PR_PLAIN,/^[a-z_]\w*/i],[PR.PR_ATTRIB_VALUE,/^#!?\[[\s\S]*?\]/],[PR.PR_PUNCTUATION,/^[+\-/*=^&|!<>%[\](){}?:.,;]/],[PR.PR_PLAIN,/./]]),["rust"]);window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[\t\n\r \xA0]+/,null,"\t\n\r \u00a0"],[window.PR.PR_STRING,/^(?:"(?:(?:""(?:""?(?!")|[^\\"]|\\.)*"{0,3})|(?:[^"\r\n\\]|\\.)*"?))/,null,'"'],[window.PR.PR_LITERAL,/^`(?:[^\r\n\\`]|\\.)*`?/,null,"`"],[window.PR.PR_PUNCTUATION,/^[!#%&()*+,\-:;<=>?@\[\\\]^{|}~]+/,null,"!#%&()*+,-:;<=>?@[\\]^{|}~"]],[[window.PR.PR_STRING,/^'(?:[^\r\n\\']|\\(?:'|[^\r\n']+))'/],[window.PR.PR_LITERAL,/^'[a-zA-Z_$][\w$]*(?!['$\w])/],[window.PR.PR_KEYWORD,
/^(?:abstract|case|catch|class|def|do|else|extends|final|finally|for|forSome|if|implicit|import|lazy|match|new|object|override|package|private|protected|requires|return|sealed|super|throw|trait|try|type|val|var|while|with|yield)\b/],[window.PR.PR_LITERAL,/^(?:true|false|null|this)\b/],[window.PR.PR_LITERAL,/^(?:(?:0(?:[0-7]+|X[0-9A-F]+))L?|(?:(?:0|[1-9][0-9]*)(?:(?:\.[0-9]+)?(?:E[+\-]?[0-9]+)?F?|L?))|\\.[0-9]+(?:E[+\-]?[0-9]+)?F?)/i],[window.PR.PR_TYPE,/^[$_]*[A-Z][_$A-Z0-9]*[a-z][\w$]*/],[window.PR.PR_PLAIN,
/^[$a-zA-Z_][\w$]*/],[window.PR.PR_COMMENT,/^\/(?:\/.*|\*(?:\/|\**[^*/])*(?:\*+\/?)?)/],[window.PR.PR_PUNCTUATION,/^(?:\.+|\/)/]]),["scala"]);window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[\t\n\r \xA0]+/,null,"\t\n\r \u00a0"],[window.PR.PR_STRING,/^(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,null,"\"'"]],[[window.PR.PR_COMMENT,/^(?:--[^\r\n]*|\/\*[\s\S]*?(?:\*\/|$))/],[window.PR.PR_KEYWORD,/^(?:ADD|ALL|ALTER|AND|ANY|AS|ASC|AUTHORIZATION|BACKUP|BEGIN|BETWEEN|BREAK|BROWSE|BULK|BY|CASCADE|CASE|CHECK|CHECKPOINT|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMN|COMMIT|COMPUTE|CONSTRAINT|CONTAINS|CONTAINSTABLE|CONTINUE|CONVERT|CREATE|CROSS|CURRENT|CURRENT_DATE|CURRENT_TIME|CURRENT_TIMESTAMP|CURRENT_USER|CURSOR|DATABASE|DBCC|DEALLOCATE|DECLARE|DEFAULT|DELETE|DENY|DESC|DISK|DISTINCT|DISTRIBUTED|DOUBLE|DROP|DUMMY|DUMP|ELSE|END|ERRLVL|ESCAPE|EXCEPT|EXEC|EXECUTE|EXISTS|EXIT|FETCH|FILE|FILLFACTOR|FOR|FOREIGN|FREETEXT|FREETEXTTABLE|FROM|FULL|FUNCTION|GOTO|GRANT|GROUP|HAVING|HOLDLOCK|IDENTITY|IDENTITYCOL|IDENTITY_INSERT|IF|IN|INDEX|INNER|INSERT|INTERSECT|INTO|IS|JOIN|KEY|KILL|LEFT|LIKE|LINENO|LOAD|NATIONAL|NOCHECK|NONCLUSTERED|NOT|NULL|NULLIF|OF|OFF|OFFSETS|ON|OPEN|OPENDATASOURCE|OPENQUERY|OPENROWSET|OPENXML|OPTION|OR|ORDER|OUTER|OVER|PERCENT|PLAN|PRECISION|PRIMARY|PRINT|PROC|PROCEDURE|PUBLIC|RAISERROR|READ|READTEXT|RECONFIGURE|REFERENCES|REPLICATION|RESTORE|RESTRICT|RETURN|REVOKE|RIGHT|ROLLBACK|ROWCOUNT|ROWGUIDCOL|RULE|SAVE|SCHEMA|SELECT|SESSION_USER|SET|SETUSER|SHUTDOWN|SOME|STATISTICS|SYSTEM_USER|TABLE|TEXTSIZE|THEN|TO|TOP|TRAN|TRANSACTION|TRIGGER|TRUNCATE|TSEQUAL|UNION|UNIQUE|UPDATE|UPDATETEXT|USE|USER|VALUES|VARYING|VIEW|WAITFOR|WHEN|WHERE|WHILE|WITH|WRITETEXT)(?=[^\w-]|$)/i,
null],[window.PR.PR_LITERAL,/^[+-]?(?:0x[\da-f]+|(?:(?:\.\d+|\d+(?:\.\d*)?)(?:e[+\-]?\d+)?))/i],[window.PR.PR_PLAIN,/^[a-z_][\w-]*/i],[window.PR.PR_PUNCTUATION,/^[^\w\t\n\r \xA0"'][^\w\t\n\r \xA0+\-"']*/]]),["sql"]);/*
 Copyright (C) 2015 Google Inc.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[ \n\r\t\v\f\0]+/,null," \n\r\t\v\f\x00"],[window.PR.PR_STRING,/^"(?:[^"\\]|(?:\\.)|(?:\\\((?:[^"\\)]|\\.)*\)))*"/,null,'"']],[[window.PR.PR_LITERAL,/^(?:(?:0x[\da-fA-F][\da-fA-F_]*\.[\da-fA-F][\da-fA-F_]*[pP]?)|(?:\d[\d_]*\.\d[\d_]*[eE]?))[+-]?\d[\d_]*/,null],[window.PR.PR_LITERAL,/^-?(?:(?:0(?:(?:b[01][01_]*)|(?:o[0-7][0-7_]*)|(?:x[\da-fA-F][\da-fA-F_]*)))|(?:\d[\d_]*))/,null],[window.PR.PR_LITERAL,/^(?:true|false|nil)\b/,
null],[window.PR.PR_KEYWORD,/^\b(?:__COLUMN__|__FILE__|__FUNCTION__|__LINE__|associativity|as|break|case|class|continue|convenience|default|deinit|didSet|do|dynamic|dynamicType|else|enum|fallthrough|final|for|func|get|import|infix|init|inout|internal|if|in|is|lazy|left|let|mutating|none|nonmutating|operator|optional|override|postfix|precedence|prefix|private|protocol|Protocol|public|required|return|right|safe|self|set|static|struct|subscript|super|switch|Type|typealias|unowned|unsafe|var|weak|while|willSet)\b/,
null],[window.PR.PR_COMMENT,/^\/\/.*?[\n\r]/,null],[window.PR.PR_COMMENT,/^\/\*[\s\S]*?(?:\*\/|$)/,null],[window.PR.PR_PUNCTUATION,/^<<=|<=|<<|>>=|>=|>>|===|==|\.\.\.|&&=|\.\.<|!==|!=|&=|~=|~|\(|\)|\[|\]|{|}|@|#|;|\.|,|:|\|\|=|\?\?|\|\||&&|&\*|&\+|&-|&=|\+=|-=|\/=|\*=|\^=|%=|\|=|->|`|==|\+\+|--|\/|\+|!|\*|%|<|>|&|\||\^|\?|=|-|_/,null],[window.PR.PR_TYPE,/^\b(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null]]),["swift"]);window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[\t\n\r \xA0\u2028\u2029]+/,null,"\t\n\r \u00a0\u2028\u2029"],[window.PR.PR_STRING,/^(?:["\u201C\u201D](?:[^"\u201C\u201D]|["\u201C\u201D]{2})(?:["\u201C\u201D]c|$)|["\u201C\u201D](?:[^"\u201C\u201D]|["\u201C\u201D]{2})*(?:["\u201C\u201D]|$))/i,null,'"\u201c\u201d'],[window.PR.PR_COMMENT,/^['\u2018\u2019][^\r\n\u2028\u2029]*/,null,"'\u2018\u2019"]],[[window.PR.PR_KEYWORD,/^(?:AddHandler|AddressOf|Alias|And|AndAlso|Ansi|As|Assembly|Auto|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|CBool|CByte|CChar|CDate|CDbl|CDec|Char|CInt|Class|CLng|CObj|Const|CShort|CSng|CStr|CType|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else|ElseIf|End|EndIf|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get|GetType|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|Let|Lib|Like|Long|Loop|Me|Mod|Module|MustInherit|MustOverride|MyBase|MyClass|Namespace|New|Next|Not|NotInheritable|NotOverridable|Object|On|Option|Optional|Or|OrElse|Overloads|Overridable|Overrides|ParamArray|Preserve|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|Select|Set|Shadows|Shared|Short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TypeOf|Unicode|Until|Variant|Wend|When|While|With|WithEvents|WriteOnly|Xor|EndIf|GoSub|Let|Variant|Wend)\b/i,
null],[window.PR.PR_COMMENT,/^REM[^\r\n\u2028\u2029]*/i],[window.PR.PR_LITERAL,/^(?:True\b|False\b|Nothing\b|\d+(?:E[+\-]?\d+[FRD]?|[FRDSIL])?|(?:&H[0-9A-F]+|&O[0-7]+)[SIL]?|\d*\.\d+(?:E[+\-]?\d+)?[FRD]?|#\s+(?:\d+[\-\/]\d+[\-\/]\d+(?:\s+\d+:\d+(?::\d+)?(\s*(?:AM|PM))?)?|\d+:\d+(?::\d+)?(\s*(?:AM|PM))?)\s+#)/i],[window.PR.PR_PLAIN,/^(?:(?:[a-z]|_\w)\w*|\[(?:[a-z]|_\w)\w*\])/i],[window.PR.PR_PUNCTUATION,/^[^\w\t\n\r "'\[\]\xA0\u2018\u2019\u201C\u201D\u2028\u2029]+/],[window.PR.PR_PUNCTUATION,/^(?:\[|\])/]]),
["vb","vbs"]);window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[\t\n\r \xA0]+/,null,"\t\n\r \u00a0"]],[[window.PR.PR_STRING,/^(?:[BOX]?"(?:[^"]|"")*"|'.')/i],[window.PR.PR_COMMENT,/^--[^\r\n]*/],[window.PR.PR_KEYWORD,/^(?:abs|access|after|alias|all|and|architecture|array|assert|attribute|begin|block|body|buffer|bus|case|component|configuration|constant|disconnect|downto|else|elsif|end|entity|exit|file|for|function|generate|generic|group|guarded|if|impure|in|inertial|inout|is|label|library|linkage|literal|loop|map|mod|nand|new|next|nor|not|null|of|on|open|or|others|out|package|port|postponed|procedure|process|pure|range|record|register|reject|rem|report|return|rol|ror|select|severity|shared|signal|sla|sll|sra|srl|subtype|then|to|transport|type|unaffected|units|until|use|variable|wait|when|while|with|xnor|xor)(?=[^\w-]|$)/i,
null],[window.PR.PR_TYPE,/^(?:bit|bit_vector|character|boolean|integer|real|time|string|severity_level|positive|natural|signed|unsigned|line|text|std_u?logic(?:_vector)?)(?=[^\w-]|$)/i,null],[window.PR.PR_TYPE,/^'(?:ACTIVE|ASCENDING|BASE|DELAYED|DRIVING|DRIVING_VALUE|EVENT|HIGH|IMAGE|INSTANCE_NAME|LAST_ACTIVE|LAST_EVENT|LAST_VALUE|LEFT|LEFTOF|LENGTH|LOW|PATH_NAME|POS|PRED|QUIET|RANGE|REVERSE_RANGE|RIGHT|RIGHTOF|SIMPLE_NAME|STABLE|SUCC|TRANSACTION|VAL|VALUE)(?=[^\w-]|$)/i,null],[window.PR.PR_LITERAL,
/^\d+(?:_\d+)*(?:#[\w\\.]+#(?:[+\-]?\d+(?:_\d+)*)?|(?:\.\d+(?:_\d+)*)?(?:E[+\-]?\d+(?:_\d+)*)?)/i],[window.PR.PR_PLAIN,/^(?:[a-z]\w*|\\[^\\]*\\)/i],[window.PR.PR_PUNCTUATION,/^[^\w\t\n\r \xA0"'][^\w\t\n\r \xA0\-"']*/]]),["vhdl","vhd"]);window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PLAIN,/^[\t \xA0a-gi-z0-9]+/,null,"\t \u00a0abcdefgijklmnopqrstuvwxyz0123456789"],[window.PR.PR_PUNCTUATION,/^[=*~\^\[\]]+/,null,"=*~^[]"]],[["lang-wiki.meta",/(?:^^|\r\n?|\n)(#[a-z]+)\b/],[window.PR.PR_LITERAL,/^(?:[A-Z][a-z][a-z0-9]+[A-Z][a-z][a-zA-Z0-9]+)\b/],["lang-",/^\{\{\{([\s\S]+?)\}\}\}/],["lang-",/^`([^\r\n`]+)`/],[window.PR.PR_STRING,/^https?:\/\/[^\/?#\s]*(?:\/[^?#\s]*)?(?:\?[^#\s]*)?(?:#\S*)?/i],[window.PR.PR_PLAIN,
/^(?:\r\n|[\s\S])[^#=*~^A-Zh\{`\[\r\n]*/]]),["wiki"]);window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_KEYWORD,/^#[a-z]+/i,null,"#"]],[]),["wiki.meta"]);window.PR.registerLangHandler(window.PR.createSimpleLexer([[window.PR.PR_PUNCTUATION,/^[:|>?]+/,null,":|>?"],[window.PR.PR_DECLARATION,/^%(?:YAML|TAG)[^#\r\n]+/,null,"%"],[window.PR.PR_TYPE,/^[&]\S+/,null,"&"],[window.PR.PR_TYPE,/^!\S*/,null,"!"],[window.PR.PR_STRING,/^"(?:[^\\"]|\\.)*(?:"|$)/,null,'"'],[window.PR.PR_STRING,/^'(?:[^']|'')*(?:'|$)/,null,"'"],[window.PR.PR_COMMENT,/^#[^\r\n]*/,null,"#"],[window.PR.PR_PLAIN,/^\s+/,null," \t\r\n"]],[[window.PR.PR_DECLARATION,/^(?:---|\.\.\.)(?:[\r\n]|$)/],
[window.PR.PR_PUNCTUATION,/^-/],[window.PR.PR_KEYWORD,/^\w+:[ \r\n]/],[window.PR.PR_PLAIN,/^\w+/]]),["yaml","yml"]);}).call(this);
</script><script async="" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/lazy.min.js" nonce=""></script><script nonce="">(function(){
var __firestore_exports__=function(t){"use strict";const n=function(n){const r=[];let s=0;for(let e=0;e<n.length;e++){let t=n.charCodeAt(e);t<128?r[s++]=t:(t<2048?r[s++]=t>>6|192:(55296==(64512&t)&&e+1<n.length&&56320==(64512&n.charCodeAt(e+1))?(t=65536+((1023&t)<<10)+(1023&n.charCodeAt(++e)),r[s++]=t>>18|240,r[s++]=t>>12&63|128):r[s++]=t>>12|224,r[s++]=t>>6&63|128),r[s++]=63&t|128)}return r},e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();var s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;const i=[];for(let n=0;n<r.length;n+=3){var a=r[n],o=n+1<r.length,u=o?r[n+1]:0,c=n+2<r.length,h=c?r[n+2]:0;let t=(15&u)<<2|h>>6,e=63&h;c||(e=64,o||(t=64)),i.push(s[a>>2],s[(3&a)<<4|u>>4],s[t],s[e])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){var s,i,a=t[n++];a<128?e[r++]=String.fromCharCode(a):191<a&&a<224?(s=t[n++],e[r++]=String.fromCharCode((31&a)<<6|63&s)):239<a&&a<365?(i=((7&a)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(s=t[n++],i=t[n++],e[r++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&i))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(e,t){this.init_();var n=t?this.charToByteMapWebSafe_:this.charToByteMap_;const r=[];for(let t=0;t<e.length;){var s=n[e.charAt(t++)],i=t<e.length?n[e.charAt(t)]:0;++t;var a=t<e.length?n[e.charAt(t)]:64;++t;var o=t<e.length?n[e.charAt(t)]:64;if(++t,null==s||null==i||null==a||null==o)throw new u;r.push(s<<2|i>>4),64!==a&&(r.push(i<<4&240|a>>2),64!==o&&r.push(a<<6&192|o))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class u extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(t){return function(t){t=n(t);return e.encodeByteArray(t,!0)}(t).replace(/\./g,"")};class i extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r.prototype.create)}}class r{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){var r,n=e[0]||{},e=`${this.service}/${t}`,t=this.errors[t],t=t?(r=n,t.replace(s,(t,e)=>{var n=r[e];return null!=n?String(n):`<${e}?>`})):"Error",t=`${this.serviceName}: ${t} (${e}).`;return new i(e,t,n)}}const s=/\{\$([^}]+)}/g;function d(t){return t&&t._delegate?t._delegate:t}class o{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}var c,h;(Be=c=c||{})[Be.DEBUG=0]="DEBUG",Be[Be.VERBOSE=1]="VERBOSE",Be[Be.INFO=2]="INFO",Be[Be.WARN=3]="WARN",Be[Be.ERROR=4]="ERROR",Be[Be.SILENT=5]="SILENT";const l={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},f=c.INFO,g={[c.DEBUG]:"log",[c.VERBOSE]:"log",[c.INFO]:"info",[c.WARN]:"warn",[c.ERROR]:"error"},m=(t,e,...n)=>{if(!(e<t.logLevel)){var r=(new Date).toISOString(),s=g[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${r}]  ${t.name}:`,...n)}};class p{constructor(t){this.name=t,this._logLevel=f,this._logHandler=m,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in c))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?l[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,c.DEBUG,...t),this._logHandler(this,c.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,c.VERBOSE,...t),this._logHandler(this,c.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,c.INFO,...t),this._logHandler(this,c.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,c.WARN,...t),this._logHandler(this,c.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,c.ERROR,...t),this._logHandler(this,c.ERROR,...t)}}const y=(e,t)=>t.some(t=>e instanceof t);let v,w;const _=new WeakMap,E=new WeakMap,b=new WeakMap,T=new WeakMap,I=new WeakMap;let S={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return E.get(t);if("objectStoreNames"===e)return t.objectStoreNames||b.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return D(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function A(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(w=w||[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]).includes(n)?function(...t){return n.apply(N(this),t),D(_.get(this))}:function(...t){return D(n.apply(N(this),t))}:function(t,...e){e=n.call(N(this),t,...e);return b.set(e,t.sort?t.sort():[t]),D(e)}}function C(t){return"function"==typeof t?A(t):(t instanceof IDBTransaction&&(i=t,E.has(i)||(e=new Promise((t,e)=>{const n=()=>{i.removeEventListener("complete",r),i.removeEventListener("error",s),i.removeEventListener("abort",s)},r=()=>{t(),n()},s=()=>{e(i.error||new DOMException("AbortError","AbortError")),n()};i.addEventListener("complete",r),i.addEventListener("error",s),i.addEventListener("abort",s)}),E.set(i,e))),y(t,v=v||[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])?new Proxy(t,S):t);var i,e}function D(t){if(t instanceof IDBRequest)return function(i){const t=new Promise((t,e)=>{const n=()=>{i.removeEventListener("success",r),i.removeEventListener("error",s)},r=()=>{t(D(i.result)),n()},s=()=>{e(i.error),n()};i.addEventListener("success",r),i.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&_.set(t,i)}).catch(()=>{}),I.set(t,i),t}(t);if(T.has(t))return T.get(t);var e=C(t);return e!==t&&(T.set(t,e),I.set(e,t)),e}const N=t=>I.get(t);const k=["get","getKey","getAll","getAllKeys","count"],R=["put","add","delete","clear"],x=new Map;function L(t,e){if(t instanceof IDBDatabase&&!(e in t)&&"string"==typeof e){if(x.get(e))return x.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,i=R.includes(r);if(r in(s?IDBIndex:IDBObjectStore).prototype&&(i||k.includes(r))){t=async function(t,...e){t=this.transaction(t,i?"readwrite":"readonly");let n=t.store;return s&&(n=n.index(e.shift())),(await Promise.all([n[r](...e),i&&t.done]))[0]};return x.set(e,t),t}}}S={...h=S,get:(t,e,n)=>L(t,e)||h.get(t,e,n),has:(t,e)=>!!L(t,e)||h.has(t,e)};class M{constructor(t){this.container=t}getPlatformInfoString(){const t=this.container.getProviders();return t.map(t=>{if(function(t){t=t.getComponent();return"VERSION"===(null==t?void 0:t.type)}(t)){t=t.getImmediate();return`${t.library}/${t.version}`}return null}).filter(t=>t).join(" ")}}const F="@firebase/app",O="0.9.3",V=new p("@firebase/app");var P;const U={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},q=new Map,B=new Map;function j(t){var e=t.name;if(!B.has(e)){B.set(e,t);for(const n of q.values())!function(e,n){try{e.container.addComponent(n)}catch(t){V.debug(`Component ${n.name} failed to register with FirebaseApp ${e.name}`,t)}}(n,t);return 1}V.debug(`There were multiple attempts to register component ${e}.`)}const G=new r("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});function K(t,e,n){var r;let s=null!==(r=U[t])&&void 0!==r?r:t;n&&(s+=`-${n}`);t=s.match(/\s|\//),n=e.match(/\s|\//);if(t||n){const i=[`Unable to register library "${s}" with version "${e}":`];return t&&i.push(`library name "${s}" contains illegal characters (whitespace or "/")`),t&&n&&i.push("and"),n&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void V.warn(i.join(" "))}j(new o(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const $="firebase-heartbeat-database",Q=1,W="firebase-heartbeat-store";let H=null;function z(){return H=H||function(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}){const a=indexedDB.open(t,e),o=D(a);return r&&a.addEventListener("upgradeneeded",t=>{r(D(a.result),t.oldVersion,t.newVersion,D(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(t=>{i&&t.addEventListener("close",()=>i()),s&&t.addEventListener("versionchange",()=>s())}).catch(()=>{}),o}($,Q,{upgrade:(t,e)=>{0===e&&t.createObjectStore(W)}}).catch(t=>{throw G.create("idb-open",{originalErrorMessage:t.message})}),H}async function Y(e,t){try{const n=await z(),r=n.transaction(W,"readwrite"),s=r.objectStore(W);return await s.put(t,X(e)),r.done}catch(t){t instanceof i?V.warn(t.message):(e=G.create("idb-set",{originalErrorMessage:null==t?void 0:t.message}),V.warn(e.message))}}function X(t){return`${t.name}!${t.options.appId}`}class J{constructor(t){this.container=t,this._heartbeatsCache=null;t=this.container.getProvider("app").getImmediate();this._storage=new tt(t),this._heartbeatsCachePromise=this._storage.read().then(t=>this._heartbeatsCache=t)}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate();var e=t.getPlatformInfoString();const n=Z();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some(t=>t.date===n))return this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(t=>{t=new Date(t.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";var t=Z(),{heartbeatsToSend:e,unsentEntries:n}=function(t,e=1024){const n=[];let r=t.slice();for(const s of t){const i=n.find(t=>t.agent===s.agent);if(i){if(i.dates.push(s.date),et(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),et(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),e=a(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,0<n.length?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),e}}function Z(){const t=new Date;return t.toISOString().substring(0,10)}class tt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(t){return}}()&&new Promise((e,n)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var t;n((null===(t=s.error)||void 0===t?void 0:t.message)||"")}}catch(t){n(t)}}).then(()=>!0).catch(()=>!1)}async read(){return await this._canUseIndexedDBPromise&&await async function(e){try{const t=await z();return t.transaction(W).objectStore(W).get(X(e))}catch(t){t instanceof i?V.warn(t.message):(e=G.create("idb-get",{originalErrorMessage:null==t?void 0:t.message}),V.warn(e.message))}}(this.app)||{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){var n=await this.read();return Y(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){var n=await this.read();return Y(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function et(t){return a(JSON.stringify({version:2,heartbeats:t})).length}P="",j(new o("platform-logger",t=>new M(t),"PRIVATE")),j(new o("heartbeat",t=>new J(t),"PRIVATE")),K(F,O,P),K(F,O,"esm2017"),K("fire-js","");var nt,rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},st={},it=rt||self;function at(){}function ot(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ut(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ct="closure_uid_"+(1e9*Math.random()>>>0),ht=0;function lt(t,e,n){return t.call.apply(t.bind,arguments)}function dt(e,n,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function ft(t,e,n){return(ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lt:dt).apply(null,arguments)}function gt(e){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function mt(t,i){function e(){}e.prototype=i.prototype,t.X=i.prototype,t.prototype=new e,(t.prototype.constructor=t).Wb=function(t,e,n){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return i.prototype[e].apply(t,r)}}function pt(){this.s=this.s,this.o=this.o}pt.prototype.s=!1,pt.prototype.na=function(){var t;!this.s&&(this.s=!0,this.M(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,ct)&&t[ct]||(t[ct]=++ht))},pt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(e,n){if("string"==typeof e)return"string"!=typeof n||1!=n.length?-1:e.indexOf(n,0);for(let t=0;t<e.length;t++)if(t in e&&e[t]===n)return t;return-1};function vt(e){var n=e.length;if(0<n){const r=Array(n);for(let t=0;t<n;t++)r[t]=e[t];return r}return[]}function wt(e){for(let t=1;t<arguments.length;t++){var n=arguments[t];if(ot(n)){var r=e.length||0,s=n.length||0;e.length=r+s;for(let t=0;t<s;t++)e[r+t]=n[t]}else e.push(n)}}function _t(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var Et=function(){if(!it.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{it.addEventListener("test",at,e),it.removeEventListener("test",at,e)}catch(t){}return t}();function bt(t){return/^[\s\xa0]*$/.test(t)}var Tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function It(t,e){return t<e?-1:e<t?1:0}function St(){var t=it.navigator;return(t=t&&t.userAgent)?t:""}function At(t){return-1!=St().indexOf(t)}function Ct(t){return Ct[" "](t),t}Ct[" "]=at;var Dt,Nt=At("Opera"),kt=At("Trident")||At("MSIE"),Rt=At("Edge"),xt=Rt||kt,Lt=At("Gecko")&&!(-1!=St().toLowerCase().indexOf("webkit")&&!At("Edge"))&&!(At("Trident")||At("MSIE"))&&!At("Edge"),Mt=-1!=St().toLowerCase().indexOf("webkit")&&!At("Edge");function Ft(){var t=it.document;return t?t.documentMode:void 0}t:{var Ot="",Vt=(Vt=St(),Lt?/rv:([^\);]+)(\)|;)/.exec(Vt):Rt?/Edge\/([\d\.]+)/.exec(Vt):kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Vt):Mt?/WebKit\/(\S+)/.exec(Vt):Nt?/(?:Version)[ \/]?(\S+)/.exec(Vt):void 0);if(Vt&&(Ot=Vt?Vt[1]:""),kt){Vt=Ft();if(null!=Vt&&Vt>parseFloat(Ot)){Dt=String(Vt);break t}}Dt=Ot}var Pt={};function Ut(){return t=function(){let e=0;var n=Tt(String(Dt)).split("."),r=Tt("9").split("."),s=Math.max(n.length,r.length);for(let t=0;0==e&&t<s;t++)for(var i=n[t]||"",a=r[t]||"";i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],(0!=i[0].length||0!=a[0].length)&&(e=It(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||It(0==i[2].length,0==a[2].length)||It(i[2],a[2]),i=i[3],a=a[3],0==e););return 0<=e},e=Pt,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9);var t,e}var qt=it.document&&kt&&(Ft()||parseInt(Dt,10))||void 0;function Bt(t,e){if(_t.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Lt){t:{try{Ct(e.nodeName);var s=!0;break t}catch(t){}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:jt[t.pointerType]||"",this.state=t.state,(this.i=t).defaultPrevented&&Bt.X.h.call(this)}}mt(Bt,_t);var jt={2:"touch",3:"pen",4:"mouse"};Bt.prototype.h=function(){Bt.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function $t(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=s,this.key=++Kt,this.ba=this.ea=!1}function Qt(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Wt(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Ht(t){const e={};for(const n in t)e[n]=t[n];return e}const zt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yt(e){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<zt.length;t++)n=zt[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xt(t){this.src=t,this.g={},this.h=0}function Jt(t,e){var n,r,s,i=e.type;i in t.g&&(n=t.g[i],(s=0<=(r=yt(n,e)))&&Array.prototype.splice.call(n,r,1),s&&(Qt(e),0==t.g[i].length&&(delete t.g[i],t.h--)))}function Zt(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.ba&&i.listener==e&&i.capture==!!n&&i.ha==r)return s}return-1}Xt.prototype.add=function(t,e,n,r,s){var i=t.toString();(t=this.g[i])||(t=this.g[i]=[],this.h++);var a=Zt(t,e,r,s);return-1<a?(e=t[a],n||(e.ea=!1)):((e=new $t(e,this.src,i,!!r,s)).ea=n,t.push(e)),e};var te="closure_lm_"+(1e6*Math.random()|0),ee={};function ne(t,e,n,r,s){if(r&&r.once)return function t(e,n,r,s,i){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,s,i);return null}r=ce(r);return e&&e[Gt]?e.O(n,r,ut(s)?!!s.capture:!!s,i):re(e,n,r,!0,s,i)}(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)ne(t,e[i],n,r,s);return null}return n=ce(n),t&&t[Gt]?t.N(e,n,ut(r)?!!r.capture:!!r,s):re(t,e,n,!1,r,s)}function re(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var a=ut(s)?!!s.capture:!!s,o=oe(t);if(o||(t[te]=o=new Xt(t)),(n=o.add(e,n,r,a,i)).proxy)return n;if(r=function(){const n=ae;return function t(e){return n.call(t.src,t.listener,e)}}(),(n.proxy=r).src=t,r.listener=n,t.addEventListener)void 0===(s=!Et?a:s)&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(ie(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function se(t){var e,n,r;"number"!=typeof t&&t&&!t.ba&&((e=t.src)&&e[Gt]?Jt(e.i,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ie(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=oe(e))?(Jt(n,t),0==n.h&&(n.src=null,e[te]=null)):Qt(t)))}function ie(t){return t in ee?ee[t]:ee[t]="on"+t}function ae(t,e){var n,r;return t=!!t.ba||(e=new Bt(e,this),n=t.listener,r=t.ha||t.src,t.ea&&se(t),n.call(r,e))}function oe(t){return(t=t[te])instanceof Xt?t:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function ce(e){return"function"==typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function he(){pt.call(this),this.i=new Xt(this),(this.P=this).I=null}function le(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e?e=new _t(e,t):e instanceof _t?e.target=e.target||t:(a=e,Yt(e=new _t(r,t),a)),a=!0,n)for(var s=n.length-1;0<=s;s--)var i=e.g=n[s],a=de(i,r,!0,e)&&a;if(a=de(i=e.g=t,r,!0,e)&&a,a=de(i,r,!1,e)&&a,n)for(s=0;s<n.length;s++)a=de(i=e.g=n[s],r,!1,e)&&a}function de(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var a,o,u=e[i];u&&!u.ba&&u.capture==n&&(a=u.listener,o=u.ha||u.src,u.ea&&Jt(t.i,u),s=!1!==a.call(o,r)&&s)}return s&&!r.defaultPrevented}mt(he,pt),he.prototype[Gt]=!0,he.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,s,i){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,s,i);else s=ut(s)?!!s.capture:!!s,r=ce(r),e&&e[Gt]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=Zt(a=e.g[n],r,s,i))&&(Qt(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.g[n],e.h--))):(e=e&&oe(e))&&(n=e.g[n.toString()],(r=(e=-1)<(e=n?Zt(n,r,s,i):e)?n[e]:null)&&se(r))}(this,t,e,n,r)},he.prototype.M=function(){if(he.X.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Qt(n[r]);delete e.g[t],e.h--}}this.I=null},he.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},he.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var fe=it.JSON.stringify;var ge,me=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new pe,t=>t.reset());class pe{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function ye(t,e){var n;ge||(n=it.Promise.resolve(void 0),ge=function(){n.then(_e)}),ve||(ge(),ve=!0),we.add(t,e)}var ve=!1,we=new class{constructor(){this.h=this.g=null}add(t,e){const n=me.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function _e(){for(var t;t=function(){var t=we;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}();){try{t.h.call(t.g)}catch(t){!function(t){it.setTimeout(()=>{throw t},0)}(t)}var e=me;e.j(t),e.h<100&&(e.h++,t.next=e.g,e.g=t)}ve=!1}function Ee(t,e){he.call(this),this.h=t||1,this.g=e||it,this.j=ft(this.lb,this),this.l=Date.now()}function be(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function Te(t,e,n){if("function"==typeof t)n&&(t=ft(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ft(t.handleEvent,t)}return 2147483647<Number(e)?-1:it.setTimeout(t,e||0)}mt(Ee,he),(nt=Ee.prototype).ca=!1,nt.R=null,nt.lb=function(){var t;this.ca&&(0<(t=Date.now()-this.l)&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),le(this,"tick"),this.ca&&(be(this),this.start())))},nt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){Ee.X.M.call(this),be(this),delete this.g};class Ie extends pt{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:function t(e){e.g=Te(()=>{e.g=null,e.i&&(e.i=!1,t(e))},e.j);var n=e.h;e.h=null,e.m.apply(null,n)}(this)}M(){super.M(),this.g&&(it.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Se(t){pt.call(this),this.h=t,this.g={}}mt(Se,pt);var Ae=[];function Ce(t,e,n,r){Array.isArray(n)||(n&&(Ae[0]=n.toString()),n=Ae);for(var s=0;s<n.length;s++){var i=ne(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function De(t){Wt(t.g,function(t,e){this.g.hasOwnProperty(e)&&se(t)},t),t.g={}}function Ne(){this.g=!0}function ke(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var s=r[1];if(Array.isArray(s)&&!(s.length<1)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return fe(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}Se.prototype.M=function(){Se.X.M.call(this),De(this)},Se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ne.prototype.Aa=function(){this.g=!1},Ne.prototype.info=function(){};var Re={},xe=null;function Le(){return xe=xe||new he}function Me(t){_t.call(this,Re.Pa,t)}function Fe(){var t=Le();le(t,new Me(t))}function Oe(t,e){_t.call(this,Re.STAT_EVENT,t),this.stat=e}function Ve(t){var e=Le();le(e,new Oe(e,t))}function Pe(t,e){_t.call(this,Re.Qa,t),this.size=e}function Ue(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return it.setTimeout(function(){t()},e)}Re.Pa="serverreachability",mt(Me,_t),Re.STAT_EVENT="statevent",mt(Oe,_t),Re.Qa="timingevent",mt(Pe,_t);var qe={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Be={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function je(){}function Ge(t){return t.h||(t.h=t.i())}function Ke(){}je.prototype.h=null;rt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function $e(){_t.call(this,"d")}function Qe(){_t.call(this,"c")}function We(){}function He(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Se(this),this.O=Xe,this.T=new Ee(t=xt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}mt($e,_t),mt(Qe,_t),mt(We,je),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}};var Ye=new We,Xe=45e3,Je={},Ze={};function tn(t,e,n){t.K=1,t.v=wn(gn(e)),t.s=n,t.P=!0,en(t,null)}function en(t,e){t.F=Date.now(),sn(t),t.A=gn(t.v);var a,o,u,c,h,l,n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),xn(n.i,"t",r),t.C=0,n=t.l.H,t.h=new ze,t.g=Rr(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Ie(ft(t.La,t,t.g),t.N)),Ce(t.S,t.g,"readystatechange",t.ib),e=t.H?Ht(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Fe(),a=t.j,o=t.u,u=t.A,c=t.m,h=t.U,l=t.s,a.info(function(){if(a.g)if(l)for(var t="",e=l.split("&"),n=0;n<e.length;n++){var r,s,i=e[n].split("=");1<i.length&&(r=i[0],i=i[1],t=2<=(s=r.split("_")).length&&"type"==s[1]?t+(r+"=")+i+"&":t+(r+"=redacted&"))}else t=null;else t=l;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+o+"\n"+u+"\n"+t})}function nn(t){return t.g&&("GET"==t.u&&2!=t.K&&t.l.Da)}function rn(t,e,n){let r=!0,s;for(;!t.I&&t.C<n.length;){if(s=(a=n,u=o=void 0,o=(i=t).C,-1==(u=a.indexOf("\n",o))?Ze:(o=Number(a.substring(o,u)),isNaN(o)?Je:(u+=1)+o>a.length?Ze:(a=a.substr(u,o),i.C=u+o,a))),s==Ze){4==e&&(t.o=4,Ve(14),r=!1),ke(t.j,t.m,null,"[Incomplete Response]");break}if(s==Je){t.o=4,Ve(15),ke(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ke(t.j,t.m,s,null),hn(t,s)}var i,a,o,u;nn(t)&&s!=Ze&&s!=Je&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ve(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Tr(e),e.K=!0,Ve(11))):(ke(t.j,t.m,n,"[Invalid Chunked Response]"),cn(t),un(t))}function sn(t){t.V=Date.now()+t.O,an(t,t.O)}function an(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ue(ft(t.gb,t),e)}function on(t){t.B&&(it.clearTimeout(t.B),t.B=null)}function un(t){0==t.l.G||t.I||Ar(t.l,t)}function cn(t){on(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,be(t.T),De(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function hn(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Un(n.h,t)))if(!t.J&&Un(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Sr(n),mr(n)}br(n),Ve(18)}}else n.Ba=s[1],0<n.Ba-n.T&&s[2]<37500&&n.L&&0==n.A&&!n.v&&(n.v=Ue(ft(n.cb,n),6e3));if(Pn(n.h)<=1&&n.ja){try{n.ja()}catch(t){}n.ja=void 0}}else Dr(n,11)}else if(!t.J&&n.g!=t||Sr(n),!bt(e))for(s=n.Fa.g.parse(e),e=0;e<s.length;e++){var i=s[e];if(n.T=i[0],i=i[1],2==n.G)if("c"==i[0]){n.I=i[1],n.ka=i[2];var a=i[3];null!=a&&(n.ma=a,n.j.info("VER="+n.ma));var o=i[4];null!=o&&(n.Ca=o,n.j.info("SVER="+n.Ca));var u,c,h=i[5];null!=h&&"number"==typeof h&&0<h&&(r=1.5*h,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const m=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;m&&((u=r.h).g||-1==m.indexOf("spdy")&&-1==m.indexOf("quic")&&-1==m.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(qn(u,u.h),u.h=null))),!r.D||(c=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null)&&(r.za=c,vn(r.F,r.D,c))}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var l,d,f=t;(r=n).sa=kr(r,r.H?r.ka:null,r.V),f.J?(Bn(r.h,f),l=f,(d=r.J)&&l.setTimeout(d),l.B&&(on(l),sn(l)),r.g=f):Er(r),0<n.i.length&&yr(n)}else"stop"!=i[0]&&"close"!=i[0]||Dr(n,7);else 3==n.G&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Dr(n,7):gr(n):"noop"!=i[0]&&n.l&&n.l.wa(i),n.A=0)}Fe()}catch(t){}}function ln(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ot(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(ot(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.W&&"function"==typeof t.W)return t.W();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(ot(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}(nt=He.prototype).setTimeout=function(t){this.O=t},nt.ib=function(t){t=t.target;const e=this.L;e&&3==ur(t)?e.l():this.La(t)},nt.La=function(t){try{if(t==this.g)t:{var e=ur(this.g),n=this.g.Ea();this.g.aa();if(!(e<3)&&(3!=e||xt||this.g&&(this.h.h||this.g.fa()||cr(this.g)))){this.I||4!=e||7==n||Fe(),on(this);var r=this.g.aa();this.Y=r;e:if(nn(this)){var s=cr(this.g);t="";var i=s.length,a=4==ur(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){cn(this),un(this);var o="";break e}this.h.i=new it.TextDecoder}for(n=0;n<i;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:a&&n==i-1});s.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==r,l=this.j,d=this.u,f=this.A,g=this.m,m=this.U,p=e,y=r,l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+m+"]: "+d+"\n"+f+"\n"+p+" "+y}),this.i){if(this.Z&&!this.J){e:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bt(u)){var h=u;break e}}h=null}if(!(r=h)){this.i=!1,this.o=3,Ve(12),cn(this),un(this);break t}ke(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hn(this,r)}this.P?(rn(this,e,o),xt&&this.i&&3==e&&(Ce(this.S,this.T,"tick",this.hb),this.T.start())):(ke(this.j,this.m,o,null),hn(this,o)),4==e&&cn(this),this.i&&!this.I&&(4==e?Ar(this.l,this):(this.i=!1,sn(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.o=3,Ve(12)):(this.o=0,Ve(13)),cn(this),un(this)}}}catch(t){}var l,d,f,g,m,p,y},nt.hb=function(){var t,e;this.g&&(t=ur(this.g),e=this.g.fa(),this.C<e.length&&(on(this),rn(this,t,e),this.i&&4!=t&&sn(this)))},nt.cancel=function(){this.I=!0,cn(this)},nt.gb=function(){this.B=null;var t,e,n=Date.now();0<=n-this.V?(t=this.j,e=this.A,t.info(function(){return"TIMEOUT: "+e}),2!=this.K&&(Fe(),Ve(17)),cn(this),this.o=2,un(this)):an(this,this.V-n)};var dn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fn(t,e){var n;this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fn?(this.h=void 0!==e?e:t.h,mn(this,t.j),this.s=t.s,this.g=t.g,pn(this,t.m),this.l=t.l,e=t.i,(n=new Dn).i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),yn(this,n),this.o=t.o):t&&(n=String(t).match(dn))?(this.h=!!e,mn(this,n[1]||"",!0),this.s=_n(n[2]||""),this.g=_n(n[3]||"",!0),pn(this,n[4]),this.l=_n(n[5]||"",!0),yn(this,n[6]||"",!0),this.o=_n(n[7]||"")):(this.h=!!e,this.i=new Dn(null,this.h))}function gn(t){return new fn(t)}function mn(t,e,n){t.j=n?_n(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.m=e}else t.m=null}function yn(t,e,n){var r,s;e instanceof Dn?(t.i=e,r=t.i,(s=t.h)&&!r.j&&(Nn(r),r.i=null,r.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(kn(this,e),xn(this,n,t))},r)),r.j=s):(n||(e=En(e,An)),t.i=new Dn(e,t.h))}function vn(t,e,n){t.i.set(e,n)}function wn(t){return vn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _n(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function En(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,bn),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}fn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(En(e,Tn,!0),":");var n=this.g;return!n&&"file"!=e||(t.push("//"),(e=this.s)&&t.push(En(e,Tn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(En(n,"/"==n.charAt(0)?Sn:In,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",En(n,Cn)),t.join("")};var Tn=/[#\/\?@]/g,In=/[#\?:]/g,Sn=/[#\?]/g,An=/[#\?@]/g,Cn=/#/g;function Dn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Nn(n){n.g||(n.g=new Map,n.h=0,n.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,s=t[n].indexOf("="),i=null;0<=s?(r=t[n].substring(0,s),i=t[n].substring(s+1)):r=t[n],e(r,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function kn(t,e){Nn(t),e=Ln(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Rn(t,e){return Nn(t),e=Ln(t,e),t.g.has(e)}function xn(t,e,n){kn(t,e),0<n.length&&(t.i=null,t.g.set(Ln(t,e),vt(n)),t.h+=n.length)}function Ln(t,e){return e=String(e),e=t.j?e.toLowerCase():e}(nt=Dn.prototype).add=function(t,e){Nn(this),this.i=null,t=Ln(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},nt.forEach=function(n,r){Nn(this),this.g.forEach(function(t,e){t.forEach(function(t){n.call(r,t,e,this)},this)},this)},nt.oa=function(){Nn(this);const t=Array.from(this.g.values()),n=Array.from(this.g.keys()),r=[];for(let e=0;e<n.length;e++){var s=t[e];for(let t=0;t<s.length;t++)r.push(n[e])}return r},nt.W=function(e){Nn(this);let n=[];if("string"==typeof e)Rn(this,e)&&(n=n.concat(this.g.get(Ln(this,e))));else{e=Array.from(this.g.values());for(let t=0;t<e.length;t++)n=n.concat(e[t])}return n},nt.set=function(t,e){return Nn(this),this.i=null,Rn(this,t=Ln(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},nt.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++)for(var r=e[n],s=encodeURIComponent(String(r)),i=this.W(r),r=0;r<i.length;r++){var a=s;""!==i[r]&&(a+="="+encodeURIComponent(String(i[r]))),t.push(a)}return this.i=t.join("&")};var Mn=class{constructor(t,e){this.h=t,this.g=e}};function Fn(t){this.l=t||10,t=it.PerformanceNavigationTiming?0<(t=it.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(it.g&&it.g.Ga&&it.g.Ga()&&it.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var On;function Vn(t){return t.h||t.g&&t.g.size>=t.j}function Pn(t){return t.h?1:t.g?t.g.size:0}function Un(t,e){return t.h?t.h==e:t.g&&t.g.has(e)}function qn(t,e){t.g?t.g.add(e):t.h=e}function Bn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function jn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null==e.g||0===e.g.size)return vt(e.i);{let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}}function Gn(){}function Kn(){this.g=new Gn}function $n(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(t){}}function Qn(t){this.l=t.ac||null,this.j=t.jb||!1}function Wn(t,e){he.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Hn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fn.prototype.cancel=function(){if(this.i=jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Gn.prototype.stringify=function(t){return it.JSON.stringify(t,void 0)},Gn.prototype.parse=function(t){return it.JSON.parse(t,void 0)},mt(Qn,je),Qn.prototype.g=function(){return new Wn(this.l,this.j)},Qn.prototype.i=(On={},function(){return On}),mt(Wn,he);var Hn=0;function zn(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function Yn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xn(t)}function Xn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(nt=Wn.prototype).open=function(t,e){if(this.readyState!=Hn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xn(this)},nt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||it).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yn(this)),this.readyState=Hn},nt.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==it.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zn(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},nt.Ta=function(t){var e;this.g&&(this.u&&t.value?this.response.push(t.value):this.u||(e=t.value||new Uint8Array(0),(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)),(t.done?Yn:Xn)(this),3==this.readyState&&zn(this))},nt.Va=function(t){this.g&&(this.response=this.responseText=t,Yn(this))},nt.Ua=function(t){this.g&&(this.response=t,Yn(this))},nt.ga=function(){this.g&&Yn(this)},nt.setRequestHeader=function(t,e){this.v.append(t,e)},nt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Wn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Jn=it.JSON.parse;function Zn(t){he.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tr,this.K=this.L=!1}mt(Zn,he);var tr="",er=/^https?$/i,nr=["POST","PUT"];function rr(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,sr(t),ar(t)}function sr(t){t.D||(t.D=!0,le(t,"complete"),le(t,"error"))}function ir(t){if(t.h&&void 0!==st&&(!t.C[1]||4!=ur(t)||2!=t.aa()))if(t.v&&4==ur(t))Te(t.Ha,0,t);else if(le(t,"readystatechange"),4==ur(t)){t.h=!1;try{var e,n,r,s,i=t.aa();t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}if((e=a)||((n=0===i)&&(!(s=String(t.H).match(dn)[1]||null)&&it.self&&it.self.location&&(s=(r=it.self.location.protocol).substr(0,r.length-1)),n=!er.test(s?s.toLowerCase():"")),e=n),e)le(t,"complete"),le(t,"success");else{t.m=6;try{var o=2<ur(t)?t.g.statusText:""}catch(t){o=""}t.j=o+" ["+t.aa()+"]",sr(t)}}finally{ar(t)}}}function ar(t,e){if(t.g){or(t);const n=t.g,r=t.C[0]?at:null;t.g=null,t.C=null,e||le(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function or(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(it.clearTimeout(t.A),t.A=null)}function ur(t){return t.g?t.g.readyState:0}function cr(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case tr:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function hr(t){let n="";return Wt(t,function(t,e){n+=e,n+=":",n+=t,n+="\r\n"}),n}function lr(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=hr(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):vn(t,e,n))}function dr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fr(t){this.Ca=0,this.i=[],this.j=new Ne,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=dr("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=dr("baseRetryDelayMs",5e3,t),this.bb=dr("retryDelaySeedMs",1e4,t),this.$a=dr("forwardChannelMaxRetries",2,t),this.ta=dr("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Fn(t&&t.concurrentRequestLimit),this.Fa=new Kn,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function gr(t){var e,n;pr(t),3==t.G&&(e=t.U++,vn(n=gn(t.F),"SID",t.I),vn(n,"RID",e),vn(n,"TYPE","terminate"),wr(t,n),(e=new He(t,t.j,e,void 0)).K=2,e.v=wn(gn(n)),n=!1,!(n=it.navigator&&it.navigator.sendBeacon?it.navigator.sendBeacon(e.v.toString(),""):n)&&it.Image&&((new Image).src=e.v,n=!0),n||(e.g=Rr(e.l,null),e.g.da(e.v)),e.F=Date.now(),sn(e)),Nr(t)}function mr(t){t.g&&(Tr(t),t.g.cancel(),t.g=null)}function pr(t){mr(t),t.u&&(it.clearTimeout(t.u),t.u=null),Sr(t),t.h.cancel(),t.m&&("number"==typeof t.m&&it.clearTimeout(t.m),t.m=null)}function yr(t){Vn(t.h)||t.m||(t.m=!0,ye(t.Ja,t),t.C=0)}function vr(t,e){var n=e?e.m:t.U++,r=gn(t.F);vn(r,"SID",t.I),vn(r,"RID",n),vn(r,"AID",t.T),wr(t,r),t.o&&t.s&&lr(r,t.o,t.s),n=new He(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=_r(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),qn(t.h,n),tn(n,r,e)}function wr(t,n){t.ia&&Wt(t.ia,function(t,e){vn(n,e,t)}),t.l&&ln({},function(t,e){vn(n,e,t)})}function _r(t,e,r){r=Math.min(t.i.length,r);var s=t.l?ft(t.l.Ra,t.l,t):null;t:{var i=t.i;let n=-1;for(;;){const u=["count="+r];-1==n?0<r?(n=i[0].h,u.push("ofs="+n)):n=0:u.push("ofs="+n);let e=!0;for(let t=0;t<r;t++){var a=i[t].h,o=i[t].g;if((a-=n)<0)n=Math.max(0,i[t].h-100),e=!1;else try{!function(t,r,e){const s=e||"";try{ln(t,function(t,e){let n=t;ut(t)&&(n=fe(t)),r.push(s+e+"="+encodeURIComponent(n))})}catch(t){throw r.push(s+"type="+encodeURIComponent("_badmap")),t}}(o,u,"req"+a+"_")}catch(t){s&&s(o)}}if(e){s=u.join("&");break t}}}return t=t.i.splice(0,r),e.D=t,s}function Er(t){t.g||t.u||(t.Z=1,ye(t.Ia,t),t.A=0)}function br(t){return!(t.g||t.u||3<=t.A)&&(t.Z++,t.u=Ue(ft(t.Ia,t),Cr(t,t.A)),t.A++,1)}function Tr(t){null!=t.B&&(it.clearTimeout(t.B),t.B=null)}function Ir(t){t.g=new He(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=gn(t.sa);vn(e,"RID","rpc"),vn(e,"SID",t.I),vn(e,"CI",t.L?"0":"1"),vn(e,"AID",t.T),vn(e,"TYPE","xmlhttp"),wr(t,e),t.o&&t.s&&lr(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=wn(gn(e)),n.s=null,n.P=!0,en(n,t)}function Sr(t){null!=t.v&&(it.clearTimeout(t.v),t.v=null)}function Ar(t,e){var n,r,s,i=null;if(t.g==e){Sr(t),Tr(t),t.g=null;var a=2}else{if(!Un(t.h,e))return;i=e.D,Bn(t.h,e),a=1}if(0!=t.G)if(t.pa=e.Y,e.i)1==a?(i=e.s?e.s.length:0,e=Date.now()-e.F,n=t.C,le(a=Le(),new Pe(a,i)),yr(t)):Er(t);else if(3==(n=e.o)||0==n&&0<t.pa||(1!=a||(s=e,Pn((r=t).h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=s.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=Ue(ft(r.Ja,r,s),Cr(r,r.C)),r.C++,0))))&&(2!=a||!br(t)))switch(i&&0<i.length&&(e=t.h,e.i=e.i.concat(i)),n){case 1:Dr(t,5);break;case 4:Dr(t,10);break;case 3:Dr(t,6);break;default:Dr(t,2)}}function Cr(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Dr(t,e){var n,r;t.j.info("Error code "+e),2==e?(n=null,t.l&&(n=null),r=ft(t.kb,t),n||(n=new fn("//www.google.com/images/cleardot.gif"),it.location&&"http"==it.location.protocol||mn(n,"https"),wn(n)),function(t,e){var n=new Ne;if(it.Image){const r=new Image;r.onload=gt($n,n,r,"TestLoadImage: loaded",!0,e),r.onerror=gt($n,n,r,"TestLoadImage: error",!1,e),r.onabort=gt($n,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=gt($n,n,r,"TestLoadImage: timeout",!1,e),it.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)):Ve(2),t.G=0,t.l&&t.l.va(e),Nr(t),pr(t)}function Nr(t){var e;t.G=0,t.la=[],t.l&&(0==(e=jn(t.h)).length&&0==t.i.length||(wt(t.la,e),wt(t.la,t.i),t.h.i.length=0,vt(t.i),t.i.length=0),t.l.ua())}function kr(t,e,n){var r,s,i=n instanceof fn?gn(n):new fn(n,void 0);return""!=i.g?(e&&(i.g=e+"."+i.g),pn(i,i.m)):(i=(r=it.location).protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port,s=new fn(null,void 0),i&&mn(s,i),e&&(s.g=e),r&&pn(s,r),n&&(s.l=n),i=s),n=t.D,e=t.za,n&&e&&vn(i,n,e),vn(i,"VER",t.ma),wr(t,i),i}function Rr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Da&&!t.ra?new Zn(new Qn({jb:!0})):new Zn(t.ra)).Ka(t.H),e}function xr(){}function Lr(){if(kt&&!(10<=Number(qt)))throw Error("Environmental error: no available transport.")}function Mr(t,e){he.call(this),this.g=new fr(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!bt(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bt(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Vr(this)}function Fr(t){$e.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Or(){Qe.call(this),this.status=1}function Vr(t){this.g=t}(nt=Zn.prototype).Ka=function(t){this.L=t},nt.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=(this.u||Ye).g(),this.C=this.u?Ge(this.u):Ge(Ye),this.g.onreadystatechange=ft(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void rr(this,t)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())n.set(u,r.get(u))}r=Array.from(n.keys()).find(t=>"content-type"==t.toLowerCase()),s=it.FormData&&t instanceof it.FormData,0<=yt(nr,e)&&!r&&!s&&n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(var[i,a]of n)this.g.setRequestHeader(i,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{or(this),0<this.B&&((this.K=(o=this.g,kt&&Ut()&&"number"==typeof o.timeout&&void 0!==o.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=ft(this.qa,this)):this.A=Te(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){rr(this,t)}var o},nt.qa=function(){void 0!==st&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,le(this,"timeout"),this.abort(8))},nt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,le(this,"complete"),le(this,"abort"),ar(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ar(this,!0)),Zn.X.M.call(this)},nt.Ha=function(){this.s||(this.F||this.v||this.l?ir(this):this.fb())},nt.fb=function(){ir(this)},nt.aa=function(){try{return 2<ur(this)?this.g.status:-1}catch(t){return-1}},nt.fa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},nt.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Jn(e)}},nt.Ea=function(){return this.m},nt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=fr.prototype).ma=8,nt.G=1,nt.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new He(this,this.j,e,void 0);let t=this.s;if(this.S&&(t?(t=Ht(t),Yt(t,this.S)):t=this.S),null!==this.o||this.N||(i.H=t,t=null),this.O)t:{for(var n=0,r=0;r<this.i.length;r++){var s=this.i[r];if("__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s=s.length:s=void 0,void 0===s)break;if(4096<(n+=s)){n=r;break t}if(4096===n||r===this.i.length-1){n=r+1;break t}}n=1e3}else n=1e3;n=_r(this,i,n),vn(r=gn(this.F),"RID",e),vn(r,"CVER",22),this.D&&vn(r,"X-HTTP-Session-Id",this.D),wr(this,r),t&&(this.N?n="headers="+encodeURIComponent(String(hr(t)))+"&"+n:this.o&&lr(r,this.o,t)),qn(this.h,i),this.Ya&&vn(r,"TYPE","init"),this.O?(vn(r,"$req",n),vn(r,"SID","null"),i.Z=!0,tn(i,r,null)):tn(i,r,n),this.G=2}}else 3==this.G&&(e?vr(this,e):0==this.i.length||Vn(this.h)||vr(this))},nt.Ia=function(){var t;this.u=null,Ir(this),this.$&&!(this.K||null==this.g||this.P<=0)&&(t=2*this.P,this.j.info("BP detection timer enabled: "+t),this.B=Ue(ft(this.eb,this),t))},nt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ve(10),mr(this),Ir(this))},nt.cb=function(){null!=this.v&&(this.v=null,mr(this),br(this),Ve(19))},nt.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))},(nt=xr.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Ra=function(){},Lr.prototype.g=function(t,e){return new Mr(t,e)},mt(Mr,he),Mr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Ve(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=kr(t,null,t.V),yr(t)},Mr.prototype.close=function(){gr(this.g)},Mr.prototype.u=function(t){var e,n=this.g;"string"==typeof t?((e={}).__data__=t,t=e):this.v&&((e={}).__data__=fe(t),t=e),n.i.push(new Mn(n.ab++,t)),3==n.G&&yr(n)},Mr.prototype.M=function(){this.g.l=null,delete this.j,gr(this.g),delete this.g,Mr.X.M.call(this)},mt(Fr,$e),mt(Or,Qe),mt(Vr,xr),Vr.prototype.xa=function(){le(this.g,"a")},Vr.prototype.wa=function(t){le(this.g,new Fr(t))},Vr.prototype.va=function(t){le(this.g,new Or)},Vr.prototype.ua=function(){le(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,Mr.prototype.send=Mr.prototype.u,Mr.prototype.open=Mr.prototype.m,qe.NO_ERROR=0,qe.TIMEOUT=8,qe.HTTP_ERROR=6,Be.COMPLETE="complete",(Ke.EventType=rt).OPEN="a",rt.CLOSE="b",rt.ERROR="c",rt.MESSAGE="d",he.prototype.listen=he.prototype.N,Zn.prototype.listenOnce=Zn.prototype.O,Zn.prototype.getLastError=Zn.prototype.Oa,Zn.prototype.getLastErrorCode=Zn.prototype.Ea,Zn.prototype.getStatus=Zn.prototype.aa,Zn.prototype.getResponseJson=Zn.prototype.Sa,Zn.prototype.getResponseText=Zn.prototype.fa,Zn.prototype.send=Zn.prototype.da,Zn.prototype.setWithCredentials=Zn.prototype.Ka;var Pr,Ur=Le,qr=qe,Br=Be,jr=Re,Gr=10,Kr=11,$r=Qn,Qr=Ke,Wr=Zn;const Hr="@firebase/firestore";class zr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let Yr="9.17.1";const Xr=new p("@firebase/firestore");function Jr(){return Xr.logLevel}function Zr(t,...e){Xr.logLevel<=c.DEBUG&&(e=e.map(ns),Xr.debug(`Firestore (${Yr}): ${t}`,...e))}function ts(t,...e){Xr.logLevel<=c.ERROR&&(e=e.map(ns),Xr.error(`Firestore (${Yr}): ${t}`,...e))}function es(t,...e){Xr.logLevel<=c.WARN&&(e=e.map(ns),Xr.warn(`Firestore (${Yr}): ${t}`,...e))}function ns(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function rs(t="Unexpected state"){t=`FIRESTORE (${Yr}) INTERNAL ASSERTION FAILED: `+t;throw ts(t),new Error(t)}function ss(t){t||rs()}const is={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class as extends i{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class os{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class us{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(zr.UNAUTHENTICATED))}shutdown(){}}class hs{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ls{constructor(t){this.t=t,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=t=>this.i!==r?(r=this.i,n(t)):Promise.resolve();let i=new os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new os,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await s(this.currentUser)})},o=t=>{Zr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(t=>o(t)),setTimeout(()=>{var t;this.auth||((t=this.t.getImmediate({optional:!0}))?o(t):(Zr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new os))},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Zr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ss("string"==typeof t.accessToken),new us(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){var t=this.auth&&this.auth.getUid();return ss(null===t||"string"==typeof t),new zr(t)}}class ds{constructor(t,e,n,r){this.h=t,this.l=e,this.m=n,this.g=r,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ss(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);var t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class fs{constructor(t,e,n,r){this.h=t,this.l=e,this.m=n,this.g=r}getToken(){return Promise.resolve(new ds(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gs{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&0<t.length&&this.headers.set("x-firebase-appcheck",this.value)}}class ms{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=t=>{null!=t.error&&Zr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);var e=t.token!==this.A;return this.A=t.token,Zr("FirebaseAppCheckTokenProvider",`Received ${e?"new":"existing"} token.`),e?n(t.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>r(t))};const s=t=>{Zr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.T.onInit(t=>s(t)),setTimeout(()=>{var t;this.appCheck||((t=this.T.getImmediate({optional:!0}))?s(t):Zr("FirebaseAppCheckTokenProvider","AppCheck not yet detected"))},0)}getToken(){var t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(ss("string"==typeof t.token),this.A=t.token,new gs(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ps{getToken(){return Promise.resolve(new gs(""))}invalidateToken(){}start(t,e){}shutdown(){}}class ys{static R(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){var s=function(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}(40);for(let t=0;t<s.length;++t)r.length<20&&s[t]<n&&(r+=e.charAt(s[t]%e.length))}return r}}function vs(t,e){return t<e?-1:e<t?1:0}function ws(t,n,r){return t.length===n.length&&t.every((t,e)=>r(t,n[e]))}class _s{constructor(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new as(is.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new as(is.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new as(is.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new as(is.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return _s.fromMillis(Date.now())}static fromDate(t){return _s.fromMillis(t.getTime())}static fromMillis(t){var e=Math.floor(t/1e3),t=Math.floor(1e6*(t-1e3*e));return new _s(e,t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?vs(this.nanoseconds,t.nanoseconds):vs(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Es{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Es(t)}static min(){return new Es(new _s(0,0))}static max(){return new Es(new _s(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bs{constructor(t,e,n){void 0===e?e=0:e>t.length&&rs(),void 0===n?n=t.length-e:n>t.length-e&&rs(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===bs.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof bs?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(n){for(let t=this.offset,e=this.limit();t<e;t++)n(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let t=0;t<r;t++){const r=e.get(t),s=n.get(t);if(r<s)return-1;if(r>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ts extends bs{construct(t,e,n){return new Ts(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(0<=n.indexOf("//"))throw new as(is.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>0<t.length))}return new Ts(e)}static emptyPath(){return new Ts([])}}const Is=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ss extends bs{construct(t,e,n){return new Ss(t,e,n)}static isValidIdentifier(t){return Is.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t=!Ss.isValidIdentifier(t)?"`"+t+"`":t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ss(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;var s=()=>{if(0===n.length)throw new as(is.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let i=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new as(is.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new as(is.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?i=!i:"."!==e||i?n+=e:s(),r++}if(s(),i)throw new as(is.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ss(e)}static emptyPath(){return new Ss([])}}class As{constructor(t){this.path=t}static fromPath(t){return new As(Ts.fromString(t))}static fromName(t){return new As(Ts.fromString(t).popFirst(5))}static empty(){return new As(Ts.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Ts.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Ts.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new As(new Ts(t.slice()))}}class Cs{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Cs(Es.min(),As.empty(),-1)}static max(){return new Cs(Es.max(),As.empty(),-1)}}async function Ds(t){if(t.code!==is.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==t.message)throw t;Zr("LocalStore","Unexpectedly lost primary lease")}class Ns{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(r,s){return this.callbackAttached&&rs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(r,this.result):new Ns((e,n)=>{this.nextCallback=t=>{this.wrapSuccess(r,t).next(e,n)},this.catchCallback=t=>{this.wrapFailure(s,t).next(e,n)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{var e=t();return e instanceof Ns?e:Ns.resolve(e)}catch(t){return Ns.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ns.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ns.reject(e)}static resolve(n){return new Ns((t,e)=>{t(n)})}static reject(n){return new Ns((t,e)=>{e(n)})}static waitFor(t){return new Ns((e,n)=>{let r=0,s=0,i=!1;t.forEach(t=>{++r,t.next(()=>{++s,i&&s===r&&e()},t=>n(t))}),i=!0,s===r&&e()})}static or(t){let e=Ns.resolve(!1);for(const n of t)e=e.next(t=>t?Ns.resolve(t):n());return e}static forEach(t,n){const r=[];return t.forEach((t,e)=>{r.push(n.call(this,t,e))}),this.waitFor(r)}static mapArray(o,u){return new Ns((e,n)=>{const r=o.length,s=new Array(r);let i=0;for(let t=0;t<r;t++){const a=t;u(o[a]).next(t=>{s[a]=t,++i,i===r&&e(s)},t=>n(t))}})}static doWhile(r,s){return new Ns((t,e)=>{const n=()=>{!0===r()?s().next(()=>{n()},e):t()};n()})}}function ks(t){return"IndexedDbTransactionError"===t.name}class Rs{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ut(t),this.ct=t=>e.writeSequenceNumber(t))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){var t=++this.previousValue;return this.ct&&this.ct(t),t}}Rs.ht=-1;const xs=/^[_a-zA-Z][_a-zA-Z0-9]*(?:\.[_a-zA-Z][_a-zA-Z0-9]*)*$/;class Ls{constructor(t){this.alias=t}static lt(t){return xs.test(t)}canonicalString(){let t=this.alias.replace(/\\/g,"\\\\").replace(/`/g,"\\`");return Ls.lt(t)||(t="`"+t+"`"),t}}class Ms{constructor(t,e,n){this.alias=t,this.ft=e,this.fieldPath=n}}class Fs{constructor(t,e,n,r,s,i,a,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class Os{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Os("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Os&&t.projectId===this.projectId&&t.database===this.database}}function Vs(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Us(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qs(t){return null==t}function Bs(t){return 0===t&&1/t==-1/0}class js extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gs{constructor(t){this.binaryString=t}static fromBase64String(t){t=function(t){try{return atob(t)}catch(t){throw t instanceof DOMException?new js("Invalid base64 string: "+t):t}}(t);return new Gs(t)}static fromUint8Array(t){t=function(e){let n="";for(let t=0;t<e.length;++t)n+=String.fromCharCode(e[t]);return n}(t);return new Gs(t)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return vs(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Gs.EMPTY_BYTE_STRING=new Gs("");const Ks=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(e){if(ss(!!e),"string"!=typeof e)return{seconds:Qs(e.seconds),nanos:Qs(e.nanos)};{let t=0;var n=Ks.exec(e);ss(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),t=Number(n));const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}}function Qs(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ws(t){return"string"==typeof t?Gs.fromBase64String(t):Gs.fromUint8Array(t)}function Hs(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function zs(t){t=$s(t.mapValue.fields.__local_write_time__.timestampValue);return new _s(t.seconds,t.nanos)}const Ys={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hs(t)?4:"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue?9007199254740991:10:rs()}function Js(n,r){if(n===r)return!0;var t,e,s=Xs(n);if(s!==Xs(r))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===r.booleanValue;case 4:return zs(n).isEqual(zs(r));case 3:return function(t){if("string"==typeof n.timestampValue&&"string"==typeof t.timestampValue&&n.timestampValue.length===t.timestampValue.length)return n.timestampValue===t.timestampValue;var e=$s(n.timestampValue),t=$s(t.timestampValue);return e.seconds===t.seconds&&e.nanos===t.nanos}(r);case 5:return n.stringValue===r.stringValue;case 6:return e=r,Ws(n.bytesValue).isEqual(Ws(e.bytesValue));case 7:return n.referenceValue===r.referenceValue;case 8:return t=r,Qs((e=n).geoPointValue.latitude)===Qs(t.geoPointValue.latitude)&&Qs(e.geoPointValue.longitude)===Qs(t.geoPointValue.longitude);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Qs(t.integerValue)===Qs(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){t=Qs(t.doubleValue),e=Qs(e.doubleValue);return t===e?Bs(t)===Bs(e):isNaN(t)&&isNaN(e)}return!1}(n,r);case 9:return ws(n.arrayValue.values||[],r.arrayValue.values||[],Js);case 10:return function(t){const e=t.mapValue.fields||{},n=r.mapValue.fields||{};if(Vs(e)!==Vs(n))return!1;for(const t in e)if(e.hasOwnProperty(t)&&(void 0===n[t]||!Js(e[t],n[t])))return!1;return!0}(n);default:return rs()}}function Zs(t,e){return void 0!==(t.values||[]).find(t=>Js(t,e))}function ti(t,e){if(t===e)return 0;var n,r,s,i=Xs(t),a=Xs(e);if(i!==a)return vs(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return vs(t.booleanValue,e.booleanValue);case 2:return r=e,s=Qs(t.integerValue||t.doubleValue),r=Qs(r.integerValue||r.doubleValue),s<r?-1:r<s?1:s===r?0:isNaN(s)?isNaN(r)?0:-1:1;case 3:return ei(t.timestampValue,e.timestampValue);case 4:return ei(zs(t),zs(e));case 5:return vs(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Ws(t),r=Ws(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){var n=t.split("/"),r=e.split("/");for(let t=0;t<n.length&&t<r.length;t++){const e=vs(n[t],r[t]);if(0!==e)return e}return vs(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,s=e.geoPointValue,0!==(r=vs(Qs(n.latitude),Qs(s.latitude)))?r:vs(Qs(n.longitude),Qs(s.longitude));case 9:return function(t,e){var n=t.values||[],r=e.values||[];for(let t=0;t<n.length&&t<r.length;++t){const e=ti(n[t],r[t]);if(e)return e}return vs(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===Ys.mapValue&&e===Ys.mapValue)return 0;if(t===Ys.mapValue)return 1;if(e===Ys.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),s=e.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let t=0;t<r.length&&t<i.length;++t){const e=vs(r[t],i[t]);if(0!==e)return e;var a=ti(n[r[t]],s[i[t]]);if(0!==a)return a}return vs(r.length,i.length)}(t.mapValue,e.mapValue);default:throw rs()}}function ei(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return vs(t,e);var n=$s(t),t=$s(e),e=vs(n.seconds,t.seconds);return 0!==e?e:vs(n.nanos,t.nanos)}function ni(t){return function i(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=$s(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ws(t.bytesValue).toBase64():"referenceValue"in t?(e=t.referenceValue,As.fromName(e).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=i(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const s of e)r?r=!1:n+=",",n+=`${s}:${i(t.fields[s])}`;return n+"}"}(t.mapValue):rs();var e}(t)}function ri(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function si(t){return t&&"integerValue"in t}function ii(t){return!!t&&"arrayValue"in t}function ai(t){return t&&"nullValue"in t}function oi(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ui(t){return t&&"mapValue"in t}function ci(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const n={mapValue:{fields:{}}};return Ps(e.mapValue.fields,(t,e)=>n.mapValue.fields[t]=ci(e)),n}if(e.arrayValue){const r={arrayValue:{values:[]}};for(let t=0;t<(e.arrayValue.values||[]).length;++t)r.arrayValue.values[t]=ci(e.arrayValue.values[t]);return r}return Object.assign({},e)}class hi{constructor(t,e){this.position=t,this.inclusive=e}}function li(e,n,r){let s=0;for(let t=0;t<e.position.length;t++){const i=n[t],a=e.position[t];if(s=i.field.isKeyField()?As.comparator(As.fromName(a.referenceValue),r.key):ti(a,r.data.field(i.field)),"desc"===i.dir&&(s*=-1),0!==s)break}return s}function di(e,n){if(null===e)return null===n;if(null===n)return!1;if(e.inclusive!==n.inclusive||e.position.length!==n.position.length)return!1;for(let t=0;t<e.position.length;t++)if(!Js(e.position[t],n.position[t]))return!1;return!0}class fi{}class gi extends fi{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new wi(t,e,n):"array-contains"===e?new Ti(t,n):"in"===e?new Ii(t,n):"not-in"===e?new Si(t,n):"array-contains-any"===e?new Ai(t,n):new gi(t,e,n)}static createKeyFieldInFilter(t,e,n){return new("in"===e?_i:Ei)(t,n)}matches(t){t=t.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ti(t,this.value)):null!==t&&Xs(this.value)===Xs(t)&&this.matchesComparison(ti(t,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return rs()}}isInequality(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mi extends fi{constructor(t,e){super(),this.filters=t,this.op=e,this.dt=null}static create(t,e){return new mi(t,e)}matches(e){return pi(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.dt||(this.dt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.dt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){var t=this._t(t=>t.isInequality());return null!==t?t.field:null}_t(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function pi(t){return"and"===t.op}function yi(t){return function(t){for(const e of t.filters)if(e instanceof mi)return;return 1}(t)&&pi(t)}function vi(t){return t instanceof gi?`${(e=t).field.canonicalString()} ${e.op} ${ni(e.value)}`:t instanceof mi?(t=t).op.toString()+" {"+t.getFilters().map(vi).join(" ,")+"}":"Filter";var e}class wi extends gi{constructor(t,e,n){super(t,e,n),this.key=As.fromName(n.referenceValue)}matches(t){t=As.comparator(t.key,this.key);return this.matchesComparison(t)}}class _i extends gi{constructor(t,e){super(t,"in",e),this.keys=bi(0,e)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ei extends gi{constructor(t,e){super(t,"not-in",e),this.keys=bi(0,e)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bi(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map(t=>As.fromName(t.referenceValue))}class Ti extends gi{constructor(t,e){super(t,"array-contains",e)}matches(t){t=t.data.field(this.field);return ii(t)&&Zs(t.arrayValue,this.value)}}class Ii extends gi{constructor(t,e){super(t,"in",e)}matches(t){t=t.data.field(this.field);return null!==t&&Zs(this.value.arrayValue,t)}}class Si extends gi{constructor(t,e){super(t,"not-in",e)}matches(t){if(Zs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;t=t.data.field(this.field);return null!==t&&!Zs(this.value.arrayValue,t)}}class Ai extends gi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ii(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>Zs(this.value.arrayValue,t))}}class Ci{constructor(t,e="asc"){this.field=t,this.dir=e}}class Di{constructor(t,e){this.comparator=t,this.root=e||ki.EMPTY}insert(t,e){return new Di(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(t){return new Di(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ki.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(n){this.inorderTraversal((t,e)=>(n(t,e),!1))}toString(){const n=[];return this.inorderTraversal((t,e)=>(n.push(`${t}:${e}`),!1)),`{${n.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ni(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ni(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ni(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ni(this.root,t,this.comparator,!0)}}class Ni{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();var e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return 0<this.nodeStack.length}peek(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ki{constructor(t,e,n,r,s){this.key=t,this.value=e,this.color=null!=n?n:ki.RED,this.left=null!=r?r:ki.EMPTY,this.right=null!=s?s:ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,s){return new ki(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;var s=n(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ki.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){var t=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){var t=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){var t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rs();if(this.right.isRed())throw rs();var t=this.left.check();if(t!==this.right.check())throw rs();return t+(this.isRed()?0:1)}}ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1,ki.EMPTY=new class{constructor(){this.size=0}get key(){throw rs()}get value(){throw rs()}get color(){throw rs()}get left(){throw rs()}get right(){throw rs()}copy(t,e,n,r,s){return this}insert(t,e,n){return new ki(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(t){this.comparator=t,this.data=new Di(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(n){this.data.inorderTraversal((t,e)=>(n(t),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,t[1]))return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new xi(this.data.getIterator())}getIteratorFrom(t){return new xi(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof Ri))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(t){const e=new Ri(this.comparator);return e.data=t,e}}class xi{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Li{constructor(t){(this.fields=t).sort(Ss.comparator)}static empty(){return new Li([])}unionWith(t){let e=new Ri(Ss.comparator);for(const t of this.fields)e=e.add(t);for(const n of t)e=e.add(n);return new Li(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ws(this.fields,t.fields,(t,e)=>t.isEqual(e))}}class Mi{constructor(t){this.value=t}static empty(){return new Mi({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let e=this.value;for(let t=0;t<n.length-1;++t)if(e=(e.mapValue.fields||{})[n.get(t)],!ui(e))return null;return e=(e.mapValue.fields||{})[n.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ci(e)}setAll(t){let n=Ss.emptyPath(),r={},s=[];t.forEach((t,e)=>{if(!n.isImmediateParentOf(e)){const t=this.getFieldsMap(n);this.applyChanges(t,r,s),r={},s=[],n=e.popLast()}t?r[e.lastSegment()]=ci(t):s.push(e.lastSegment())});t=this.getFieldsMap(n);this.applyChanges(t,r,s)}delete(t){const e=this.field(t.popLast());ui(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Js(this.value,t.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let e=0;e<n.length;++e){let t=r.mapValue.fields[n.get(e)];ui(t)&&t.mapValue.fields||(t={mapValue:{fields:{}}},r.mapValue.fields[n.get(e)]=t),r=t}return r.mapValue.fields}applyChanges(n,t,e){Ps(t,(t,e)=>n[t]=e);for(const t of e)delete n[t]}clone(){return new Mi(ci(this.value))}}class Fi{constructor(t,e,n,r,s,i,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(t){return new Fi(t,0,Es.min(),Es.min(),Es.min(),Mi.empty(),0)}static newFoundDocument(t,e,n,r){return new Fi(t,1,e,Es.min(),n,r,0)}static newNoDocument(t,e){return new Fi(t,2,e,Es.min(),Es.min(),Mi.empty(),0)}static newUnknownDocument(t,e){return new Fi(t,3,e,Es.min(),Es.min(),Mi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Es.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Es.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Fi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Fi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oi{constructor(t,e=null,n=[],r=[],s=null,i=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.wt=null}}function Vi(t,e=null,n=[],r=[],s=null,i=null,a=null){return new Oi(t,e,n,r,s,i,a)}function Pi(t){const e=t;if(null===e.wt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>function e(t){if(t instanceof gi)return t.field.canonicalString()+t.op.toString()+ni(t.value);if(yi(t))return t.filters.map(t=>e(t)).join(",");var n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),qs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(t=>ni(t)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(t=>ni(t)).join(",")),e.wt=t}return e.wt}function Ui(e,n){if(e.limit!==n.limit)return!1;if(e.orderBy.length!==n.orderBy.length)return!1;for(let t=0;t<e.orderBy.length;t++)if(r=e.orderBy[t],s=n.orderBy[t],r.dir!==s.dir||!r.field.isEqual(s.field))return!1;var r,s;if(e.filters.length!==n.filters.length)return!1;for(let t=0;t<e.filters.length;t++)if(!function r(t,e){return t instanceof gi?(n=t,(i=e)instanceof gi&&n.op===i.op&&n.field.isEqual(i.field)&&Js(n.value,i.value)):t instanceof mi?(s=e)instanceof mi&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((t,e,n)=>t&&r(e,s.filters[n]),!0):void rs();var s,n,i}(e.filters[t],n.filters[t]))return!1;return e.collectionGroup===n.collectionGroup&&!!e.path.isEqual(n.path)&&!!di(e.startAt,n.startAt)&&di(e.endAt,n.endAt)}function qi(t){return As.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Bi{constructor(t,e=null,n=[],r=[],s=null,i="F",a=null,o=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.gt=null,this.yt=null,this.startAt,this.endAt}}function ji(t){return new Bi(t)}function Gi(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Ki(t){return 0<t.explicitOrderBy.length?t.explicitOrderBy[0].field:null}function $i(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Qi(t){return null!==t.collectionGroup}function Wi(e){const n=e;if(null===n.gt){n.gt=[];const e=$i(n),t=Ki(n);if(null!==e&&null===t)e.isKeyField()||n.gt.push(new Ci(e)),n.gt.push(new Ci(Ss.keyField(),"asc"));else{let t=!1;for(const r of n.explicitOrderBy)n.gt.push(r),r.field.isKeyField()&&(t=!0);if(!t){const e=0<n.explicitOrderBy.length?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.gt.push(new Ci(Ss.keyField(),e))}}}return n.gt}function Hi(t){const e=t;if(!e.yt)if("F"===e.limitType)e.yt=Vi(e.path,e.collectionGroup,Wi(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const s of Wi(e)){const e="desc"===s.dir?"asc":"desc";r.push(new Ci(s.field,e))}var n=e.endAt?new hi(e.endAt.position,e.endAt.inclusive):null,t=e.startAt?new hi(e.startAt.position,e.startAt.inclusive):null;e.yt=Vi(e.path,e.collectionGroup,r,e.filters,e.limit,n,t)}return e.yt}function zi(t,e){e.getFirstInequalityField(),$i(t);e=t.filters.concat([e]);return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),e,t.limit,t.limitType,t.startAt,t.endAt)}function Yi(t,e,n){return new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xi(t,e){return Ui(Hi(t),Hi(e))&&t.limitType===e.limitType}function Ji(t){return`${Pi(Hi(t))}|lt:${t.limitType}`}function Zi(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),0<t.filters.length&&(e+=`, filters: [${t.filters.map(t=>vi(t)).join(", ")}]`),qs(t.limit)||(e+=", limit: "+t.limit),0<t.orderBy.length&&(e+=`, orderBy: [${t.orderBy.map(t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(t=>ni(t)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(t=>ni(t)).join(",")),`Target(${e})`}(Hi(t))}; limitType=${t.limitType})`}function ta(n,t){return t.isFoundDocument()&&(r=n,i=(s=t).key.path,null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):As.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i))&&function(t){for(const e of Wi(n))if(!e.field.isKeyField()&&null===t.data.field(e.field))return;return 1}(t)&&function(t){for(const e of n.filters)if(!e.matches(t))return;return 1}(t)&&(r=t,(!(i=n).startAt||(t=i.startAt,e=li(t,Wi(i),r),t.inclusive?e<=0:e<0))&&(!i.endAt||(e=i.endAt,r=li(e,Wi(i),r),e.inclusive?0<=r:0<r)));var e,r,s,i}function ea(s){return(t,e)=>{let n=!1;for(const r of Wi(s)){const s=function(t,r,e){var n=t.field.isKeyField()?As.comparator(r.key,e.key):function(t,e){var n=r.data.field(t),t=e.data.field(t);return null!==n&&null!==t?ti(n,t):rs()}(t.field,e);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return rs()}}(r,t,e);if(0!==s)return s;n=n||r.field.isKeyField()}return 0}}function na(t,e){if(t.It){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bs(e)?"-0":e}}function ra(t){return{integerValue:""+t}}function sa(t,e){return"number"==typeof(n=e)&&Number.isInteger(n)&&!Bs(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER?ra(e):na(t,e);var n}class ia{constructor(){this._=void 0}}function aa(t,e){return t instanceof da?si(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}class oa extends ia{}class ua extends ia{constructor(t){super(),this.elements=t}}function ca(t,e){const n=ga(e);for(const e of t.elements)n.some(t=>Js(t,e))||n.push(e);return{arrayValue:{values:n}}}class ha extends ia{constructor(t){super(),this.elements=t}}function la(t,e){let n=ga(e);for(const e of t.elements)n=n.filter(t=>!Js(t,e));return{arrayValue:{values:n}}}class da extends ia{constructor(t,e){super(),this.Et=t,this.Tt=e}}function fa(t){return Qs(t.integerValue||t.doubleValue)}function ga(t){return ii(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ma{constructor(t,e){this.field=t,this.transform=e}}class pa{constructor(t,e){this.version=t,this.transformResults=e}}class ya{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ya}static exists(t){return new ya(void 0,t)}static updateTime(t){return new ya(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function va(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class wa{}function _a(t,n){if(!t.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return t.isNoDocument()?new Na(t.key,ya.none()):new Ia(t.key,t.data,ya.none());{const s=t.data,i=Mi.empty();let e=new Ri(Ss.comparator);for(var r of n.fields)if(!e.has(r)){let t=s.field(r);null===t&&1<r.length&&(r=r.popLast(),t=s.field(r)),null===t?i.delete(r):i.set(r,t),e=e.add(r)}return new Sa(t.key,i,new Li(e.toArray()),ya.none())}}function Ea(t,e,n){t instanceof Ia?function(t,e,n){const r=t.value.clone(),s=Ca(t.fieldTransforms,e,n.transformResults);r.setAll(s),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Sa?function(t,e,n){if(!va(t.precondition,e))return e.convertToUnknownDocument(n.version);const r=Ca(t.fieldTransforms,e,n.transformResults),s=e.data;s.setAll(Aa(t)),s.setAll(r),e.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ba(t,e,n,r){return t instanceof Ia?function(t,e,n,r){if(!va(t.precondition,e))return n;const s=t.value.clone(),i=Da(t.fieldTransforms,r,e);return s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null}(t,e,n,r):t instanceof Sa?function(t,e,n,r){if(!va(t.precondition,e))return n;const s=Da(t.fieldTransforms,r,e),i=e.data;return i.setAll(Aa(t)),i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(t=>t.field))}(t,e,n,r):(e=e,n=n,va(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n)}function Ta(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&ws(n,r,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof ua&&e instanceof ua||t instanceof ha&&e instanceof ha?ws(t.elements,e.elements,Js):t instanceof da&&e instanceof da?Js(t.Tt,e.Tt):t instanceof oa&&e instanceof oa)}(t,e)))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask)));var n,r}class Ia extends wa{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sa extends wa{constructor(t,e,n,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Aa(n){const r=new Map;return n.fieldMask.fields.forEach(t=>{var e;t.isEmpty()||(e=n.data.field(t),r.set(t,e))}),r}function Ca(e,n,r){const s=new Map;ss(e.length===r.length);for(let t=0;t<r.length;t++){var i=e[t],a=i.transform,o=n.data.field(i.field);s.set(i.field,(i=a,a=o,o=r[t],i instanceof ua?ca(i,a):i instanceof ha?la(i,a):o))}return s}function Da(t,e,n){const r=new Map;for(const c of t){const t=c.transform,h=n.data.field(c.field);r.set(c.field,(s=t,i=h,a=e,u=o=void 0,s instanceof oa?function(){const t={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&(t.fields.__previous_value__=i),{mapValue:t}}():s instanceof ua?ca(s,i):s instanceof ha?la(s,i):(u=aa(o=s,i),s=fa(u)+fa(o.Tt),si(u)&&si(o.Tt)?ra(s):na(o.Et,s))))}var s,i,a,o,u;return r}class Na extends wa{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ka extends wa{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ra{constructor(t){this.count=t}}function xa(t){switch(t){default:return rs(),0;case is.CANCELLED:case is.UNKNOWN:case is.DEADLINE_EXCEEDED:case is.RESOURCE_EXHAUSTED:case is.INTERNAL:case is.UNAVAILABLE:case is.UNAUTHENTICATED:return;case is.INVALID_ARGUMENT:case is.NOT_FOUND:case is.ALREADY_EXISTS:case is.PERMISSION_DENIED:case is.FAILED_PRECONDITION:case is.ABORTED:case is.OUT_OF_RANGE:case is.UNIMPLEMENTED:case is.DATA_LOSS:return 1}}function La(t){if(void 0===t)return ts("GRPC error has no .code"),is.UNKNOWN;switch(t){case Pr.OK:return is.OK;case Pr.CANCELLED:return is.CANCELLED;case Pr.UNKNOWN:return is.UNKNOWN;case Pr.DEADLINE_EXCEEDED:return is.DEADLINE_EXCEEDED;case Pr.RESOURCE_EXHAUSTED:return is.RESOURCE_EXHAUSTED;case Pr.INTERNAL:return is.INTERNAL;case Pr.UNAVAILABLE:return is.UNAVAILABLE;case Pr.UNAUTHENTICATED:return is.UNAUTHENTICATED;case Pr.INVALID_ARGUMENT:return is.INVALID_ARGUMENT;case Pr.NOT_FOUND:return is.NOT_FOUND;case Pr.ALREADY_EXISTS:return is.ALREADY_EXISTS;case Pr.PERMISSION_DENIED:return is.PERMISSION_DENIED;case Pr.FAILED_PRECONDITION:return is.FAILED_PRECONDITION;case Pr.ABORTED:return is.ABORTED;case Pr.OUT_OF_RANGE:return is.OUT_OF_RANGE;case Pr.UNIMPLEMENTED:return is.UNIMPLEMENTED;case Pr.DATA_LOSS:return is.DATA_LOSS;default:return rs()}}(Be=Pr=Pr||{})[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";class Ma{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[e,r]of n)if(this.equalsFn(e,t))return r}has(t){return void 0!==this.get(t)}set(e,n){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return this.inner[t]=[[e,n]],void this.innerSize++;for(let t=0;t<r.length;t++)if(this.equalsFn(r[t][0],e))return void(r[t]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let t=0;t<r.length;t++)if(this.equalsFn(r[t][0],e))return 1===r.length?delete this.inner[n]:r.splice(t,1),this.innerSize--,!0;return!1}forEach(r){Ps(this.inner,(t,e)=>{for(const[t,n]of e)r(t,n)})}isEmpty(){return Us(this.inner)}size(){return this.innerSize}}const Fa=new Di(As.comparator);const Oa=new Di(As.comparator);function Va(...t){let e=Oa;for(const n of t)e=e.insert(n.key,n);return e}function Pa(t){let n=Oa;return t.forEach((t,e)=>n=n.insert(t,e.overlayedDocument)),n}function Ua(){return new Ma(t=>t.toString(),(t,e)=>t.isEqual(e))}const qa=new Di(As.comparator),Ba=new Ri(As.comparator);function ja(...t){let e=Ba;for(const n of t)e=e.add(n);return e}const Ga=new Ri(vs);class Ka{constructor(t,e,n,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,$a.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Ka(Es.min(),r,Ga,Fa,ja())}}class $a{constructor(t,e,n,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new $a(n,e,ja(),ja(),ja())}}class Qa{constructor(t,e,n,r){this.At=t,this.removedTargetIds=e,this.key=n,this.Rt=r}}class Wa{constructor(t,e){this.targetId=t,this.bt=e}}class Ha{constructor(t,e,n=Gs.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class za{constructor(){this.vt=0,this.Pt=Ja(),this.Vt=Gs.EMPTY_BYTE_STRING,this.St=!1,this.Dt=!0}get current(){return this.St}get resumeToken(){return this.Vt}get Ct(){return 0!==this.vt}get xt(){return this.Dt}Nt(t){0<t.approximateByteSize()&&(this.Dt=!0,this.Vt=t)}kt(){let n=ja(),r=ja(),s=ja();return this.Pt.forEach((t,e)=>{switch(e){case 0:n=n.add(t);break;case 2:r=r.add(t);break;case 1:s=s.add(t);break;default:rs()}}),new $a(this.Vt,this.St,n,r,s)}Ot(){this.Dt=!1,this.Pt=Ja()}Mt(t,e){this.Dt=!0,this.Pt=this.Pt.insert(t,e)}Ft(t){this.Dt=!0,this.Pt=this.Pt.remove(t)}$t(){this.vt+=1}Bt(){--this.vt}Lt(){this.Dt=!0,this.St=!0}}class Ya{constructor(t){this.qt=t,this.Ut=new Map,this.Kt=Fa,this.Gt=Xa(),this.Qt=new Ri(vs)}jt(t){for(const e of t.At)t.Rt&&t.Rt.isFoundDocument()?this.zt(e,t.Rt):this.Wt(e,t.key,t.Rt);for(const n of t.removedTargetIds)this.Wt(n,t.key,t.Rt)}Ht(n){this.forEachTarget(n,t=>{const e=this.Jt(t);switch(n.state){case 0:this.Yt(t)&&e.Nt(n.resumeToken);break;case 1:e.Bt(),e.Ct||e.Ot(),e.Nt(n.resumeToken);break;case 2:e.Bt(),e.Ct||this.removeTarget(t);break;case 3:this.Yt(t)&&(e.Lt(),e.Nt(n.resumeToken));break;case 4:this.Yt(t)&&(this.Zt(t),e.Nt(n.resumeToken));break;default:rs()}})}forEachTarget(t,n){0<t.targetIds.length?t.targetIds.forEach(n):this.Ut.forEach((t,e)=>{this.Yt(e)&&n(e)})}Xt(t){const e=t.targetId,n=t.bt.count,r=this.te(e);if(r){const t=r.target;if(qi(t))if(0===n){const n=new As(t.path);this.Wt(e,n,Fi.newNoDocument(n,Es.min()))}else ss(1===n);else this.ee(e)!==n&&(this.Zt(e),this.Qt=this.Qt.add(e))}}ne(r){const s=new Map;this.Ut.forEach((t,e)=>{var n=this.te(e);if(n){if(t.current&&qi(n.target)){const s=new As(n.target.path);null!==this.Kt.get(s)||this.se(e,s)||this.Wt(e,s,Fi.newNoDocument(s,r))}t.xt&&(s.set(e,t.kt()),t.Ot())}});let i=ja();this.Gt.forEach((t,e)=>{let n=!0;e.forEachWhile(t=>{t=this.te(t);return!t||2===t.purpose||(n=!1)}),n&&(i=i.add(t))}),this.Kt.forEach((t,e)=>e.setReadTime(r));var t=new Ka(r,s,this.Qt,this.Kt,i);return this.Kt=Fa,this.Gt=Xa(),this.Qt=new Ri(vs),t}zt(t,e){var n;this.Yt(t)&&(n=this.se(t,e.key)?2:0,this.Jt(t).Mt(e.key,n),this.Kt=this.Kt.insert(e.key,e),this.Gt=this.Gt.insert(e.key,this.ie(e.key).add(t)))}Wt(t,e,n){if(this.Yt(t)){const r=this.Jt(t);this.se(t,e)?r.Mt(e,1):r.Ft(e),this.Gt=this.Gt.insert(e,this.ie(e).delete(t)),n&&(this.Kt=this.Kt.insert(e,n))}}removeTarget(t){this.Ut.delete(t)}ee(t){var e=this.Jt(t).kt();return this.qt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$t(t){this.Jt(t).$t()}Jt(t){let e=this.Ut.get(t);return e||(e=new za,this.Ut.set(t,e)),e}ie(t){let e=this.Gt.get(t);return e||(e=new Ri(vs),this.Gt=this.Gt.insert(t,e)),e}Yt(t){var e=null!==this.te(t);return e||Zr("WatchChangeAggregator","Detected inactive target",t),e}te(t){var e=this.Ut.get(t);return e&&e.Ct?null:this.qt.re(t)}Zt(e){this.Ut.set(e,new za),this.qt.getRemoteKeysForTarget(e).forEach(t=>{this.Wt(e,t,null)})}se(t,e){return this.qt.getRemoteKeysForTarget(t).has(e)}}function Xa(){return new Di(As.comparator)}function Ja(){return new Di(As.comparator)}const Za={asc:"ASCENDING",desc:"DESCENDING"},to={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eo={and:"AND",or:"OR"};class no{constructor(t,e){this.databaseId=t,this.It=e}}function ro(t,e){return t.It?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function so(t,e){return t.It?e.toBase64():e.toUint8Array()}function io(t){return ss(!!t),Es.fromTimestamp((t=$s(t),new _s(t.seconds,t.nanos)))}function ao(t,e){return t=t,new Ts(["projects",t.projectId,"databases",t.database]).child("documents").child(e).canonicalString()}function oo(t){t=Ts.fromString(t);return ss(bo(t)),t}function uo(t,e){return ao(t.databaseId,e.path)}function co(t,e){const n=oo(e);if(n.get(1)!==t.databaseId.projectId)throw new as(is.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new as(is.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new As(fo(n))}function ho(t,e){return ao(t.databaseId,e)}function lo(t){return new Ts(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fo(t){return ss(4<t.length&&"documents"===t.get(4)),t.popFirst(5)}function go(t,e,n){return{name:uo(t,e),fields:n.value.mapValue.fields}}function mo(t,e){let n;if(e instanceof Ia)n={update:go(t,e.key,e.value)};else if(e instanceof Na)n={delete:uo(t,e.key)};else if(e instanceof Sa)n={update:go(t,e.key,e.data),updateMask:function(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}(e.fieldMask)};else{if(!(e instanceof ka))return rs();n={verify:uo(t,e.key)}}return 0<e.fieldTransforms.length&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t){var e=t.transform;if(e instanceof oa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(e instanceof ua)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:e.elements}};if(e instanceof ha)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:e.elements}};if(e instanceof da)return{fieldPath:t.field.canonicalString(),increment:e.Tt};throw rs()}(t))),e.precondition.isNone||(n.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:(e=r.updateTime,ro(t,e.toTimestamp()))}:void 0!==r.exists?{exists:r.exists}:rs()),n;var r}function po(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ho(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ho(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var s=function(t){if(0!==t.length)return function n(t){return t instanceof gi?function(t){if("=="===t.op){if(oi(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NAN"}};if(ai(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(oi(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NAN"}};if(ai(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(t.field),op:vo(t.op),value:t.value}}}(t):t instanceof mi?function(t){const e=t.getFilters().map(t=>n(t));return 1===e.length?e[0]:{compositeFilter:{op:wo(t.op),filters:e}}}(t):rs()}(mi.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);s=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:_o(t.field),direction:(t=t.dir,Za[t])}}(t))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);s=e.limit,s=t.It||qs(s)?s:{value:s};return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(s=e.startAt).inclusive,values:s.position}),e.endAt&&(n.structuredQuery.endAt={before:!(e=e.endAt).inclusive,values:e.position}),n}function yo(t){let e=4===(s=oo(s=t.parent)).length?Ts.emptyPath():fo(s);var n,r,s,i,a,o,u;const c=t.structuredQuery,h=c.from?c.from.length:0;let l=null;if(0<h){ss(1===h);const y=c.from[0];y.allDescendants?l=y.collectionId:e=e.child(y.collectionId)}let d=[];c.where&&(d=function(){const t=function e(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Eo(t.unaryFilter.field);return gi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Eo(t.unaryFilter.field);return gi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Eo(t.unaryFilter.field);return gi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Eo(t.unaryFilter.field);return gi.create(s,"!=",{nullValue:"NULL_VALUE"});default:return rs()}}(t):void 0!==t.fieldFilter?function(t){return gi.create(Eo(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rs()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return mi.create(t.compositeFilter.filters.map(t=>e(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rs()}}(t.compositeFilter.op))}(t):rs()}(c.where);return t instanceof mi&&yi(t)?t.getFilters():[t]}());let f=[];c.orderBy&&(f=c.orderBy.map(t=>function(t){return new Ci(Eo(t.field),function(){switch(t.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}())}(t)));let g=null;c.limit&&(g=function(t){t="object"==typeof t?t.value:t;return qs(t)?null:t}(c.limit));let m=null;c.startAt&&(m=(i=c.startAt,a=!!i.before,i=i.values||[],new hi(i,a)));let p=null;return c.endAt&&(p=(o=c.endAt,u=!o.before,o=o.values||[],new hi(o,u))),n=e,r=l,s=f,t=d,i=g,a="F",o=m,u=p,new Bi(n,r,s,t,i,a,o,u)}function vo(t){return to[t]}function wo(t){return eo[t]}function _o(t){return{fieldPath:t.canonicalString()}}function Eo(t){return Ss.fromServerFormat(t.fieldPath)}function bo(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}class To{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){var n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Ea(r,e,n[t])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=ba(n,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=ba(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(i,a){const o=Ua();return this.mutations.forEach(t=>{const e=i.get(t.key),n=e.overlayedDocument;let r=this.applyToLocalView(n,e.mutatedFields);r=a.has(t.key)?null:r;var s=_a(n,r);null!==s&&o.set(t.key,s),n.isValidDocument()||n.convertToNoDocument(Es.min())}),o}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ja())}isEqual(t){return this.batchId===t.batchId&&ws(this.mutations,t.mutations,(t,e)=>Ta(t,e))&&ws(this.baseMutations,t.baseMutations,(t,e)=>Ta(t,e))}}class Io{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){ss(t.mutations.length===n.length);let r=qa;var s=t.mutations;for(let t=0;t<s.length;t++)r=r.insert(s[t].key,n[t].version);return new Io(t,e,n,r)}}class So{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ao{constructor(t,e,n,r,s=Es.min(),i=Es.min(),a=Gs.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a}withSequenceNumber(t){return new Ao(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Co{constructor(t){this.ue=t}}function Do(t){var e=yo({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Yi(e,e.limit,"L"):e}class No{constructor(){this.Xe=new ko}addToCollectionParentIndex(t,e){return this.Xe.add(e),Ns.resolve()}getCollectionParents(t,e){return Ns.resolve(this.Xe.getEntries(e))}addFieldIndex(t,e){return Ns.resolve()}deleteFieldIndex(t,e){return Ns.resolve()}getDocumentsMatchingTarget(t,e){return Ns.resolve(null)}getIndexType(t,e){return Ns.resolve(0)}getFieldIndexes(t,e){return Ns.resolve([])}getNextCollectionGroupToUpdate(t){return Ns.resolve(null)}getMinOffset(t,e){return Ns.resolve(Cs.min())}getMinOffsetFromCollectionGroup(t,e){return Ns.resolve(Cs.min())}updateCollectionGroup(t,e,n){return Ns.resolve()}updateIndexEntries(t,e){return Ns.resolve()}}class ko{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ri(Ts.comparator),s=!r.has(n);return this.index[e]=r.add(n),s}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Ri(Ts.comparator)).toArray()}}class Ro{constructor(t){this.Vn=t}next(){return this.Vn+=2,this.Vn}static Sn(){return new Ro(0)}static Dn(){return new Ro(-1)}}class xo{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Lo{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(t=>(r=t,this.remoteDocumentCache.getEntry(e,n))).next(t=>(null!==r&&ba(r.mutation,t,Li.empty(),_s.now()),t))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ja()).next(()=>t))}getLocalViewOfDocuments(t,e,n=ja()){const r=Ua();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,n).next(t=>{let n=Va();return t.forEach((t,e)=>{n=n.insert(t,e.overlayedDocument)}),n}))}getOverlayedDocuments(t,e){const n=Ua();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,ja()))}populateOverlays(t,n,e){const r=[];return e.forEach(t=>{n.has(t)||r.push(t)}),this.documentOverlayCache.getOverlays(t,r).next(t=>{t.forEach((t,e)=>{n.set(t,e)})})}computeViews(t,e,r,s){let i=Fa;const a=Ua(),n=Ua();return e.forEach((t,e)=>{const n=r.get(e.key);s.has(e.key)&&(void 0===n||n.mutation instanceof Sa)?i=i.insert(e.key,e):void 0!==n?(a.set(e.key,n.mutation.getFieldMask()),ba(n.mutation,e,n.mutation.getFieldMask(),_s.now())):a.set(e.key,Li.empty())}),this.recalculateAndSaveOverlays(t,i).next(t=>(t.forEach((t,e)=>a.set(t,e)),e.forEach((t,e)=>{return n.set(t,new xo(e,null!==(t=a.get(t))&&void 0!==t?t:null))}),n))}recalculateAndSaveOverlays(i,a){const o=Ua();let u=new Di((t,e)=>t-e),c=ja();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,a).next(t=>{for(const r of t)r.keys().forEach(t=>{var e,n=a.get(t);null!==n&&(e=o.get(t)||Li.empty(),e=r.applyToLocalView(n,e),o.set(t,e),t=(u.get(r.batchId)||ja()).add(t),u=u.insert(r.batchId,t))})}).next(()=>{const t=[],e=u.getReverseIterator();for(;e.hasNext();){const u=e.getNext(),n=u.key,r=u.value,s=Ua();r.forEach(t=>{var e;c.has(t)||(null!==(e=_a(a.get(t),o.get(t)))&&s.set(t,e),c=c.add(t))}),t.push(this.documentOverlayCache.saveOverlays(i,n,s))}return Ns.waitFor(t)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(t,e,n){return r=e,As.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Qi(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n);var r}getNextDocuments(i,e,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(i,e,a,o).next(n=>{const t=0<o-n.size?this.documentOverlayCache.getOverlaysForCollectionGroup(i,e,a.largestBatchId,o-n.size):Ns.resolve(Ua());let r=-1,s=n;return t.next(t=>Ns.forEach(t,(e,t)=>(r<t.largestBatchId&&(r=t.largestBatchId),n.get(e)?Ns.resolve():this.remoteDocumentCache.getEntry(i,e).next(t=>{s=s.insert(e,t)}))).next(()=>this.populateOverlays(i,t,n)).next(()=>this.computeViews(i,s,t,ja())).next(t=>({batchId:r,changes:Pa(t)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new As(e)).next(t=>{let e=Va();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}getDocumentsMatchingCollectionGroupQuery(n,r,s){const i=r.collectionGroup;let a=Va();return this.indexManager.getCollectionParents(n,i).next(t=>Ns.forEach(t,t=>{var e,e=(e=r,t=t.child(i),new Bi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt));return this.getDocumentsMatchingCollectionQuery(n,e,s).next(t=>{t.forEach((t,e)=>{a=a.insert(t,e)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,s,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,n.largestBatchId).next(t=>(i=t,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,n,i))).next(n=>{i.forEach((t,e)=>{e=e.getKey();null===n.get(e)&&(n=n.insert(e,Fi.newInvalidDocument(e)))});let r=Va();return n.forEach((t,e)=>{var n=i.get(t);void 0!==n&&ba(n.mutation,e,Li.empty(),_s.now()),ta(s,e)&&(r=r.insert(t,e))}),r})}}class Mo{constructor(t){this.Et=t,this.ns=new Map,this.ss=new Map}getBundleMetadata(t,e){return Ns.resolve(this.ns.get(e))}saveBundleMetadata(t,e){return this.ns.set(e.id,{id:e.id,version:e.version,createTime:io(e.createTime)}),Ns.resolve()}getNamedQuery(t,e){return Ns.resolve(this.ss.get(e))}saveNamedQuery(t,e){return this.ss.set(e.name,{name:(e=e).name,query:Do(e.bundledQuery),readTime:io(e.readTime)}),Ns.resolve()}}class Fo{constructor(){this.overlays=new Di(As.comparator),this.rs=new Map}getOverlay(t,e){return Ns.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Ua();return Ns.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&n.set(e,t)})).next(()=>n)}saveOverlays(n,r,t){return t.forEach((t,e)=>{this.ae(n,r,e)}),Ns.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.rs.get(n);return void 0!==r&&(r.forEach(t=>this.overlays=this.overlays.remove(t)),this.rs.delete(n)),Ns.resolve()}getOverlaysForCollection(t,e,n){const r=Ua(),s=e.length+1,i=new As(e.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const t=a.getNext().value,i=t.getKey();if(!e.isPrefixOf(i.path))break;i.path.length===s&&t.largestBatchId>n&&r.set(t.getKey(),t)}return Ns.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Di((t,e)=>t-e);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Ua(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ua(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((t,e)=>a.set(t,e)),!(a.size()>=r)););return Ns.resolve(a)}ae(t,e,n){var r=this.overlays.get(n.key);if(null!==r){const t=this.rs.get(r.largestBatchId).delete(n.key);this.rs.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new So(e,n));let s=this.rs.get(e);void 0===s&&(s=ja(),this.rs.set(e,s)),this.rs.set(e,s.add(n.key))}}class Oo{constructor(){this.os=new Ri(Vo.us),this.cs=new Ri(Vo.hs)}isEmpty(){return this.os.isEmpty()}addReference(t,e){e=new Vo(t,e);this.os=this.os.add(e),this.cs=this.cs.add(e)}ls(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.fs(new Vo(t,e))}ds(t,e){t.forEach(t=>this.removeReference(t,e))}_s(t){const e=new As(new Ts([])),n=new Vo(e,t),r=new Vo(e,t+1),s=[];return this.cs.forEachInRange([n,r],t=>{this.fs(t),s.push(t.key)}),s}ws(){this.os.forEach(t=>this.fs(t))}fs(t){this.os=this.os.delete(t),this.cs=this.cs.delete(t)}gs(t){var e=new As(new Ts([])),n=new Vo(e,t),t=new Vo(e,t+1);let r=ja();return this.cs.forEachInRange([n,t],t=>{r=r.add(t.key)}),r}containsKey(t){var e=new Vo(t,0),e=this.os.firstAfterOrEqual(e);return null!==e&&t.isEqual(e.key)}}class Vo{constructor(t,e){this.key=t,this.ys=e}static us(t,e){return As.comparator(t.key,e.key)||vs(t.ys,e.ys)}static hs(t,e){return vs(t.ys,e.ys)||As.comparator(t.key,e.key)}}class Po{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ps=1,this.Is=new Ri(Vo.us)}checkEmpty(t){return Ns.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){var s=this.ps;this.ps++,0<this.mutationQueue.length&&this.mutationQueue[this.mutationQueue.length-1];n=new To(s,e,n,r);this.mutationQueue.push(n);for(const e of r)this.Is=this.Is.add(new Vo(e.key,s)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return Ns.resolve(n)}lookupMutationBatch(t,e){return Ns.resolve(this.Ts(e))}getNextMutationBatchAfterBatchId(t,e){e=this.Es(e+1),e=e<0?0:e;return Ns.resolve(this.mutationQueue.length>e?this.mutationQueue[e]:null)}getHighestUnacknowledgedBatchId(){return Ns.resolve(0===this.mutationQueue.length?-1:this.ps-1)}getAllMutationBatches(t){return Ns.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Vo(e,0),r=new Vo(e,Number.POSITIVE_INFINITY),s=[];return this.Is.forEachInRange([n,r],t=>{t=this.Ts(t.ys);s.push(t)}),Ns.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Ri(vs);return e.forEach(t=>{var e=new Vo(t,0),t=new Vo(t,Number.POSITIVE_INFINITY);this.Is.forEachInRange([e,t],t=>{n=n.add(t.ys)})}),Ns.resolve(this.As(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let s=n;As.isDocumentKey(s)||(s=s.child(""));e=new Vo(new As(s),0);let i=new Ri(vs);return this.Is.forEachWhile(t=>{var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(i=i.add(t.ys)),!0)},e),Ns.resolve(this.As(i))}As(t){const e=[];return t.forEach(t=>{t=this.Ts(t);null!==t&&e.push(t)}),e}removeMutationBatch(n,r){ss(0===this.Rs(r.batchId,"removed")),this.mutationQueue.shift();let s=this.Is;return Ns.forEach(r.mutations,t=>{var e=new Vo(t.key,r.batchId);return s=s.delete(e),this.referenceDelegate.markPotentiallyOrphaned(n,t.key)}).next(()=>{this.Is=s})}vn(t){}containsKey(t,e){var n=new Vo(e,0),n=this.Is.firstAfterOrEqual(n);return Ns.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ns.resolve()}Rs(t,e){return this.Es(t)}Es(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ts(t){t=this.Es(t);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Uo{constructor(t){this.bs=t,this.docs=new Di(As.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),s=r?r.size:0,i=this.bs(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Ns.resolve(n?n.document.mutableCopy():Fi.newInvalidDocument(e))}getEntries(t,e){let n=Fa;return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Fi.newInvalidDocument(t))}),Ns.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let s=Fa;const i=e.path,a=new As(i.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:t,value:{document:a}}=o.getNext();if(!i.isPrefixOf(t.path))break;t.path.length>i.length+1||function(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=As.comparator(t.documentKey,e.documentKey),0!==n?n:vs(t.largestBatchId,e.largestBatchId))}((u=a,new Cs(u.readTime,u.key,-1)),n)<=0||(r.has(a.key)||ta(e,a))&&(s=s.insert(a.key,a.mutableCopy()))}var u;return Ns.resolve(s)}getAllFromCollectionGroup(t,e,n,r){rs()}vs(t,e){return Ns.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new qo(this)}getSize(t){return Ns.resolve(this.size)}}class qo extends class{constructor(){this.changes=new Ma(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Fi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ns.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}{constructor(t){super(),this.ts=t}applyChanges(n){const r=[];return this.changes.forEach((t,e)=>{e.isValidDocument()?r.push(this.ts.addEntry(n,e)):this.ts.removeEntry(t)}),Ns.waitFor(r)}getFromCache(t,e){return this.ts.getEntry(t,e)}getAllFromCache(t,e){return this.ts.getEntries(t,e)}}class Bo{constructor(t){this.persistence=t,this.Ps=new Ma(t=>Pi(t),Ui),this.lastRemoteSnapshotVersion=Es.min(),this.highestTargetId=0,this.Vs=0,this.Ss=new Oo,this.targetCount=0,this.Ds=Ro.Sn()}forEachTarget(t,n){return this.Ps.forEach((t,e)=>n(e)),Ns.resolve()}getLastRemoteSnapshotVersion(t){return Ns.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ns.resolve(this.Vs)}allocateTargetId(t){return this.highestTargetId=this.Ds.next(),Ns.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Vs&&(this.Vs=e),Ns.resolve()}Nn(t){this.Ps.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Ds=new Ro(e),this.highestTargetId=e),t.sequenceNumber>this.Vs&&(this.Vs=t.sequenceNumber)}addTargetData(t,e){return this.Nn(e),this.targetCount+=1,Ns.resolve()}updateTargetData(t,e){return this.Nn(e),Ns.resolve()}removeTargetData(t,e){return this.Ps.delete(e.target),this.Ss._s(e.targetId),--this.targetCount,Ns.resolve()}removeTargets(n,r,s){let i=0;const a=[];return this.Ps.forEach((t,e)=>{e.sequenceNumber<=r&&null===s.get(e.targetId)&&(this.Ps.delete(t),a.push(this.removeMatchingKeysForTargetId(n,e.targetId)),i++)}),Ns.waitFor(a).next(()=>i)}getTargetCount(t){return Ns.resolve(this.targetCount)}getTargetData(t,e){e=this.Ps.get(e)||null;return Ns.resolve(e)}addMatchingKeys(t,e,n){return this.Ss.ls(e,n),Ns.resolve()}removeMatchingKeys(e,t,n){this.Ss.ds(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),Ns.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ss._s(e),Ns.resolve()}getMatchingKeysForTargetId(t,e){e=this.Ss.gs(e);return Ns.resolve(e)}containsKey(t,e){return Ns.resolve(this.Ss.containsKey(e))}}class jo{constructor(t,e){this.Cs={},this.overlays={},this.xs=new Rs(0),this.Ns=!1,this.Ns=!0,this.referenceDelegate=t(this),this.ks=new Bo(this),this.indexManager=new No,this.remoteDocumentCache=(t=t=>this.referenceDelegate.Os(t),new Uo(t)),this.Et=new Co(e),this.Ms=new Mo(this.Et)}start(){return Promise.resolve()}shutdown(){return this.Ns=!1,Promise.resolve()}get started(){return this.Ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Fo,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Cs[t.toKey()];return n||(n=new Po(e,this.referenceDelegate),this.Cs[t.toKey()]=n),n}getTargetCache(){return this.ks}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ms}runTransaction(t,e,n){Zr("MemoryPersistence","Starting transaction:",t);const r=new Go(this.xs.next());return this.referenceDelegate.Fs(),n(r).next(t=>this.referenceDelegate.$s(r).next(()=>t)).toPromise().then(t=>(r.raiseOnCommittedEvent(),t))}Bs(e,n){return Ns.or(Object.values(this.Cs).map(t=>()=>t.containsKey(e,n)))}}class Go extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}{constructor(t){super(),this.currentSequenceNumber=t}}class Ko{constructor(t){this.persistence=t,this.Ls=new Oo,this.qs=null}static Us(t){return new Ko(t)}get Ks(){if(this.qs)return this.qs;throw rs()}addReference(t,e,n){return this.Ls.addReference(n,e),this.Ks.delete(n.toString()),Ns.resolve()}removeReference(t,e,n){return this.Ls.removeReference(n,e),this.Ks.add(n.toString()),Ns.resolve()}markPotentiallyOrphaned(t,e){return this.Ks.add(e.toString()),Ns.resolve()}removeTarget(t,e){this.Ls._s(e.targetId).forEach(t=>this.Ks.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.Ks.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}Fs(){this.qs=new Set}$s(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ns.forEach(this.Ks,t=>{const e=As.fromPath(t);return this.Gs(n,e).next(t=>{t||r.removeEntry(e,Es.min())})}).next(()=>(this.qs=null,r.apply(n)))}updateLimboDocument(t,e){return this.Gs(t,e).next(t=>{t?this.Ks.delete(e.toString()):this.Ks.add(e.toString())})}Os(t){return 0}Gs(t,e){return Ns.or([()=>Ns.resolve(this.Ls.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Bs(t,e)])}}class $o{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.xi=n,this.Ni=r}static ki(t,e){let n=ja(),r=ja();for(const t of e.docChanges)switch(t.type){case 0:n=n.add(t.doc.key);break;case 1:r=r.add(t.doc.key)}return new $o(t,e.fromCache,n,r)}}class Qo{constructor(){this.Oi=!1}initialize(t,e){this.Mi=t,this.indexManager=e,this.Oi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Fi(e,n).next(t=>t||this.$i(e,n,s,r)).next(t=>t||this.Bi(e,n))}Fi(s,i){if(Gi(i))return Ns.resolve(null);let e=Hi(i);return this.indexManager.getIndexType(s,e).next(t=>0===t?null:(null!==i.limit&&1===t&&(i=Yi(i,null,"F"),e=Hi(i)),this.indexManager.getDocumentsMatchingTarget(s,e).next(t=>{const r=ja(...t);return this.Mi.getDocuments(s,r).next(n=>this.indexManager.getMinOffset(s,e).next(t=>{var e=this.Li(i,n);return this.qi(i,e,r,t.readTime)?this.Fi(s,Yi(i,null,"F")):this.Ui(s,e,i,t)}))})))}$i(r,s,i,a){return Gi(s)||a.isEqual(Es.min())?this.Bi(r,s):this.Mi.getDocuments(r,i).next(t=>{var e,n=this.Li(s,t);return this.qi(s,n,i,a)?this.Bi(r,s):(Jr()<=c.DEBUG&&Zr("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Zi(s)),this.Ui(r,n,s,(e=-1,n=(t=a).toTimestamp().seconds,t=t.toTimestamp().nanoseconds+1,t=Es.fromTimestamp(1e9===t?new _s(n+1,0):new _s(n,t)),new Cs(t,As.empty(),e))))})}Li(n,t){let r=new Ri(ea(n));return t.forEach((t,e)=>{ta(n,e)&&(r=r.add(e))}),r}qi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||0<s.version.compareTo(r))}Bi(t,e){return Jr()<=c.DEBUG&&Zr("QueryEngine","Using full collection scan to execute query:",Zi(e)),this.Mi.getDocumentsMatchingQuery(t,e,Cs.min())}Ui(t,n,e,r){return this.Mi.getDocumentsMatchingQuery(t,e,r).next(e=>(n.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Wo{constructor(t,e,n,r){this.persistence=t,this.Ki=e,this.Et=r,this.Gi=new Di(vs),this.Qi=new Ma(t=>Pi(t),Ui),this.ji=new Map,this.zi=t.getRemoteDocumentCache(),this.ks=t.getTargetCache(),this.Ms=t.getBundleCache(),this.Wi(n)}Wi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Lo(this.zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.zi.setIndexManager(this.indexManager),this.Ki.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Gi))}}async function Ho(t,e){const a=t;return a.persistence.runTransaction("Handle user change","readonly",s=>{let i;return a.mutationQueue.getAllMutationBatches(s).next(t=>(i=t,a.Wi(e),a.mutationQueue.getAllMutationBatches(s))).next(t=>{const e=[],n=[];let r=ja();for(const s of i){e.push(s.batchId);for(const t of s.mutations)r=r.add(t.key)}for(const s of t){n.push(s.batchId);for(const t of s.mutations)r=r.add(t.key)}return a.localDocuments.getDocuments(s,r).next(t=>({Hi:t,removedBatchIds:e,addedBatchIds:n}))})})}function zo(t){const e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ks.getLastRemoteSnapshotVersion(t))}function Yo(t,c){const h=t,l=c.snapshotVersion;let d=h.Gi;return h.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const t=h.zi.newChangeBuffer({trackRemovals:!0});d=h.Gi;const u=[];c.targetChanges.forEach((e,n)=>{const r=d.get(n);if(r){u.push(h.ks.removeMatchingKeys(o,e.removedDocuments,n).next(()=>h.ks.addMatchingKeys(o,e.addedDocuments,n)));let t=r.withSequenceNumber(o.currentSequenceNumber);var s,i,a;c.targetMismatches.has(n)?t=t.withResumeToken(Gs.EMPTY_BYTE_STRING,Es.min()).withLastLimboFreeSnapshotVersion(Es.min()):0<e.resumeToken.approximateByteSize()&&(t=t.withResumeToken(e.resumeToken,l)),d=d.insert(n,t),s=r,i=t,a=e,0!==s.resumeToken.approximateByteSize()&&!(3e8<=i.snapshotVersion.toMicroseconds()-s.snapshotVersion.toMicroseconds()||0<a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size)||u.push(h.ks.updateTargetData(o,t))}});let e=Fa,n=ja();if(c.documentUpdates.forEach(t=>{c.resolvedLimboDocuments.has(t)&&u.push(h.persistence.referenceDelegate.updateLimboDocument(o,t))}),u.push(Xo(o,t,c.documentUpdates).next(t=>{e=t.Ji,n=t.Yi})),!l.isEqual(Es.min())){const c=h.ks.getLastRemoteSnapshotVersion(o).next(t=>h.ks.setTargetsMetadata(o,o.currentSequenceNumber,l));u.push(c)}return Ns.waitFor(u).next(()=>t.apply(o)).next(()=>h.localDocuments.getLocalViewOfDocuments(o,e,n)).next(()=>e)}).then(t=>(h.Gi=d,t))}function Xo(t,i,e){let n=ja(),a=ja();return e.forEach(t=>n=n.add(t)),i.getEntries(t,n).next(r=>{let s=Fa;return e.forEach((t,e)=>{const n=r.get(t);e.isFoundDocument()!==n.isFoundDocument()&&(a=a.add(t)),e.isNoDocument()&&e.version.isEqual(Es.min())?(i.removeEntry(t,e.readTime),s=s.insert(t,e)):!n.isValidDocument()||0<e.version.compareTo(n.version)||0===e.version.compareTo(n.version)&&n.hasPendingWrites?(i.addEntry(e),s=s.insert(t,e)):Zr("LocalStore","Ignoring outdated watch update for ",t,". Current version:",n.version," Watch version:",e.version)}),{Ji:s,Yi:a}})}function Jo(t,r){const s=t;return s.persistence.runTransaction("Allocate target","readwrite",e=>{let n;return s.ks.getTargetData(e,r).next(t=>t?(n=t,Ns.resolve(n)):s.ks.allocateTargetId(e).next(t=>(n=new Ao(r,t,0,e.currentSequenceNumber),s.ks.addTargetData(e,n).next(()=>n))))}).then(t=>{var e=s.Gi.get(t.targetId);return(null===e||0<t.snapshotVersion.compareTo(e.snapshotVersion))&&(s.Gi=s.Gi.insert(t.targetId,t),s.Qi.set(r,t.targetId)),t})}async function Zo(t,e,n){const r=t,s=r.Gi.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,t=>r.persistence.referenceDelegate.removeTarget(t,s))}catch(t){if(!ks(t))throw t;Zr("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.Gi=r.Gi.remove(e),r.Qi.delete(s.target)}function tu(t,n,r){const s=t;let i=Es.min(),a=ja();return s.persistence.runTransaction("Execute query","readonly",e=>function(t,e,n){const r=t,s=r.Qi.get(n);return void 0!==s?Ns.resolve(r.Gi.get(s)):r.ks.getTargetData(e,n)}(s,e,Hi(n)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,s.ks.getMatchingKeysForTargetId(e,t.targetId).next(t=>{a=t})}).next(()=>s.Ki.getDocumentsMatchingQuery(e,n,r?i:Es.min(),r?a:ja())).next(t=>(function(t,e,n){let r=t.ji.get(e)||Es.min();n.forEach((t,e)=>{0<e.readTime.compareTo(r)&&(r=e.readTime)}),t.ji.set(e,r)}(s,function(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(n),t),{documents:t,Zi:a})))}class eu{constructor(){this.activeTargetIds=Ga}ir(t){this.activeTargetIds=this.activeTargetIds.add(t)}rr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}sr(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nu{constructor(){this.Kr=new eu,this.Gr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Kr.ir(t),this.Gr[t]||"not-current"}updateQueryState(t,e,n){this.Gr[t]=e}removeLocalQueryTarget(t){this.Kr.rr(t)}isLocalQueryTarget(t){return this.Kr.activeTargetIds.has(t)}clearQueryState(t){delete this.Gr[t]}getAllActiveQueryTargets(){return this.Kr.activeTargetIds}isActiveQueryTarget(t){return this.Kr.activeTargetIds.has(t)}start(){return this.Kr=new eu,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ru{Qr(t){}shutdown(){}}class su{constructor(){this.jr=()=>this.zr(),this.Wr=()=>this.Hr(),this.Jr=[],this.Yr()}Qr(t){this.Jr.push(t)}shutdown(){window.removeEventListener("online",this.jr),window.removeEventListener("offline",this.Wr)}Yr(){window.addEventListener("online",this.jr),window.addEventListener("offline",this.Wr)}zr(){Zr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Jr)t(0)}Hr(){Zr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Jr)t(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const iu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class au{constructor(t){this.Zr=t.Zr,this.Xr=t.Xr}eo(t){this.no=t}so(t){this.io=t}onMessage(t){this.ro=t}close(){this.Xr()}send(t){this.Zr(t)}oo(){this.no()}uo(t){this.io(t)}co(t){this.ro(t)}}class ou extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.ao=e+"://"+t.host,this.ho="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get lo(){return!1}fo(e,t,n,r,s){const i=this._o(e,t);Zr("RestConnection","Sending: ",i,n);t={};return this.wo(t,r,s),this.mo(e,i,t,n).then(t=>(Zr("RestConnection","Received: ",t),t),t=>{throw es("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}yo(t,e,n,r,s,i){return this.fo(t,e,n,r,s)}wo(n,t,e){n["X-Goog-Api-Client"]="gl-js/ fire/"+Yr,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,e)=>n[e]=t),e&&e.headers.forEach((t,e)=>n[e]=t)}_o(t,e){t=iu[t];return`${this.ao}/v1/${e}:${t}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}mo(o,e,n,r){return new Promise((s,i)=>{const a=new Wr;a.setWithCredentials(!0),a.listenOnce(Br.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case qr.NO_ERROR:var t=a.getResponseJson();Zr("Connection","XHR received:",JSON.stringify(t)),s(t);break;case qr.TIMEOUT:Zr("Connection",'RPC "'+o+'" timed out'),i(new as(is.DEADLINE_EXCEEDED,"Request time out"));break;case qr.HTTP_ERROR:var e=a.getStatus();if(Zr("Connection",'RPC "'+o+'" failed with status:',e,"response text:",a.getResponseText()),0<e){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);var n=null==t?void 0:t.error;if(n&&n.status&&n.message){const o=(r=n.status.toLowerCase().replace(/_/g,"-"),0<=Object.values(is).indexOf(r)?r:is.UNKNOWN);i(new as(o,n.message))}else i(new as(is.UNKNOWN,"Server responded with status "+a.getStatus()))}else i(new as(is.UNAVAILABLE,"Connection failed."));break;default:rs()}}finally{Zr("Connection",'RPC "'+o+'" completed.')}var r});var t=JSON.stringify(r);a.send(e,"POST",t,n,15)})}po(t,e,n){const r=[this.ao,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=new Lr,i=Ur(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new $r({})),this.wo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;n=r.join("");Zr("Connection","Creating WebChannel: "+n,a);const o=s.createWebChannel(n,a);let u=!1,c=!1;const h=new au({Zr:t=>{c?Zr("Connection","Not sending because WebChannel is closed:",t):(u||(Zr("Connection","Opening WebChannel transport."),o.open(),u=!0),Zr("Connection","WebChannel sending:",t),o.send(t))},Xr:()=>o.close()}),l=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};return l(o,Qr.EventType.OPEN,()=>{c||Zr("Connection","WebChannel transport opened.")}),l(o,Qr.EventType.CLOSE,()=>{c||(c=!0,Zr("Connection","WebChannel transport closed"),h.uo())}),l(o,Qr.EventType.ERROR,t=>{c||(c=!0,es("Connection","WebChannel transport errored:",t),h.uo(new as(is.UNAVAILABLE,"The operation could not be completed")))}),l(o,Qr.EventType.MESSAGE,t=>{if(!c){t=t.data[0];ss(!!t);var n=t.error||(null===(n=t[0])||void 0===n?void 0:n.error);if(n){Zr("Connection","WebChannel received error:",n);const r=n.status;let t=function(t){t=Pr[t];if(void 0!==t)return La(t)}(r),e=n.message;void 0===t&&(t=is.INTERNAL,e="Unknown error status: "+r+" with message "+n.message),c=!0,h.uo(new as(t,e)),o.close()}else Zr("Connection","WebChannel received:",t),h.co(t)}}),l(i,jr.STAT_EVENT,t=>{t.stat===Gr?Zr("Connection","Detected buffering proxy"):t.stat===Kr&&Zr("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.oo()},0),h}}function uu(){return"undefined"!=typeof document?document:null}function cu(t){return new no(t,!0)}class hu{constructor(t,e,n=1e3,r=1.5,s=6e4){this.Zs=t,this.timerId=e,this.Io=n,this.To=r,this.Eo=s,this.Ao=0,this.Ro=null,this.bo=Date.now(),this.reset()}reset(){this.Ao=0}vo(){this.Ao=this.Eo}Po(t){this.cancel();var e=Math.floor(this.Ao+this.Vo()),n=Math.max(0,Date.now()-this.bo),r=Math.max(0,e-n);0<r&&Zr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ao} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Ro=this.Zs.enqueueAfterDelay(this.timerId,r,()=>(this.bo=Date.now(),t())),this.Ao*=this.To,this.Ao<this.Io&&(this.Ao=this.Io),this.Ao>this.Eo&&(this.Ao=this.Eo)}So(){null!==this.Ro&&(this.Ro.skipDelay(),this.Ro=null)}cancel(){null!==this.Ro&&(this.Ro.cancel(),this.Ro=null)}Vo(){return(Math.random()-.5)*this.Ao}}class lu{constructor(t,e,n,r,s,i,a,o){this.Zs=t,this.Do=n,this.Co=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.xo=0,this.No=null,this.ko=null,this.stream=null,this.Oo=new hu(t,e)}Mo(){return 1===this.state||5===this.state||this.Fo()}Fo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.$o()}async stop(){this.Mo()&&await this.close(0)}Bo(){this.state=0,this.Oo.reset()}Lo(){this.Fo()&&null===this.No&&(this.No=this.Zs.enqueueAfterDelay(this.Do,6e4,()=>this.qo()))}Uo(t){this.Ko(),this.stream.send(t)}async qo(){if(this.Fo())return this.close(0)}Ko(){this.No&&(this.No.cancel(),this.No=null)}Go(){this.ko&&(this.ko.cancel(),this.ko=null)}async close(t,e){this.Ko(),this.Go(),this.Oo.cancel(),this.xo++,4!==t?this.Oo.reset():e&&e.code===is.RESOURCE_EXHAUSTED?(ts(e.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.Oo.vo()):e&&e.code===is.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.so(e)}Qo(){}auth(){this.state=1;const t=this.jo(this.xo),n=this.xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,e])=>{this.xo===n&&this.zo(t,e)},e=>{t(()=>{var t=new as(is.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Wo(t)})})}zo(t,e){const n=this.jo(this.xo);this.stream=this.Ho(t,e),this.stream.eo(()=>{n(()=>(this.state=2,this.ko=this.Zs.enqueueAfterDelay(this.Co,1e4,()=>(this.Fo()&&(this.state=3),Promise.resolve())),this.listener.eo()))}),this.stream.so(t=>{n(()=>this.Wo(t))}),this.stream.onMessage(t=>{n(()=>this.onMessage(t))})}$o(){this.state=5,this.Oo.Po(async()=>{this.state=0,this.start()})}Wo(t){return Zr("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}jo(e){return t=>{this.Zs.enqueueAndForget(()=>this.xo===e?t():(Zr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class du extends lu{constructor(t,e,n,r,s,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,i),this.Et=s}Ho(t,e){return this.connection.po("Listen",t,e)}onMessage(t){this.Oo.reset();var e=function(t,e){let n;if("targetChange"in e){e.targetChange;var r="NO_CHANGE"===(i=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===i?1:"REMOVE"===i?2:"CURRENT"===i?3:"RESET"===i?4:rs(),s=e.targetChange.targetIds||[],i=(a=e.targetChange.resumeToken,t.It?(ss(void 0===a||"string"==typeof a),Gs.fromBase64String(a||"")):(ss(void 0===a||a instanceof Uint8Array),Gs.fromUint8Array(a||new Uint8Array))),a=e.targetChange.cause,o=a&&(a=void 0===(o=a).code?is.UNKNOWN:La(o.code),new as(a,o.message||""));n=new Ha(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var s=co(t,u.document.name),i=io(u.document.updateTime),c=u.document.createTime?io(u.document.createTime):Es.min(),o=new Mi({mapValue:{fields:u.document.fields}}),c=Fi.newFoundDocument(s,i,c,o),o=u.targetIds||[],u=u.removedTargetIds||[];n=new Qa(o,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;u=e.documentDelete;u.document;var c=co(t,u.document),h=u.readTime?io(u.readTime):Es.min(),h=Fi.newNoDocument(c,h),u=u.removedTargetIds||[];n=new Qa([],u,h.key,h)}else if("documentRemove"in e){e.documentRemove;h=e.documentRemove;h.document;var l=co(t,h.document),h=h.removedTargetIds||[];n=new Qa([],h,l,null)}else{if(!("filter"in e))return rs();{e.filter;const t=e.filter;t.targetId;l=t.count||0,e=new Ra(l),l=t.targetId;n=new Wa(l,e)}}var o,i;return n}(this.Et,t),t=function(t){if(!("targetChange"in t))return Es.min();t=t.targetChange;return(!t.targetIds||!t.targetIds.length)&&t.readTime?io(t.readTime):Es.min()}(t);return this.listener.Jo(e,t)}Yo(t){const e={};e.database=lo(this.Et),e.addTarget=function(t,e){let n;var r=e.target;return n=qi(r)?{documents:{documents:[ho(t,r.path)]}}:{query:po(t,r)},n.targetId=e.targetId,0<e.resumeToken.approximateByteSize()?n.resumeToken=so(t,e.resumeToken):0<e.snapshotVersion.compareTo(Es.min())&&(n.readTime=ro(t,e.snapshotVersion.toTimestamp())),n}(this.Et,t);var n,t=(this.Et,n=t,null==(t=function(){switch(n.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rs()}}())?null:{"goog-listen-tags":t});t&&(e.labels=t),this.Uo(e)}Zo(t){const e={};e.database=lo(this.Et),e.removeTarget=t,this.Uo(e)}}class fu extends lu{constructor(t,e,n,r,s,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,i),this.Et=s,this.Xo=!1}get tu(){return this.Xo}start(){this.Xo=!1,this.lastStreamToken=void 0,super.start()}Qo(){this.Xo&&this.eu([])}Ho(t,e){return this.connection.po("Write",t,e)}onMessage(t){if(ss(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Xo){this.Oo.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?(ss(void 0!==r),n.map(t=>function(t,e){let n=t.updateTime?io(t.updateTime):io(e);return n.isEqual(Es.min())&&(n=io(e)),new pa(n,t.transformResults||[])}(t,r))):[]),n=io(t.commitTime);return this.listener.nu(n,e)}var n,r;return ss(!t.writeResults||0===t.writeResults.length),this.Xo=!0,this.listener.su()}iu(){const t={};t.database=lo(this.Et),this.Uo(t)}eu(t){t={streamToken:this.lastStreamToken,writes:t.map(t=>mo(this.Et,t))};this.Uo(t)}}class gu extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.Et=r,this.ru=!1}ou(){if(this.ru)throw new as(is.FAILED_PRECONDITION,"The client has already been terminated.")}fo(n,r,s){return this.ou(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([t,e])=>this.connection.fo(n,r,s,t,e)).catch(t=>{throw"FirebaseError"===t.name?(t.code===is.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new as(is.UNKNOWN,t.toString())})}yo(n,r,s,i){return this.ou(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([t,e])=>this.connection.yo(n,r,s,t,e,i)).catch(t=>{throw"FirebaseError"===t.name?(t.code===is.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new as(is.UNKNOWN,t.toString())})}terminate(){this.ru=!0}}class mu{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.uu=0,this.cu=null,this.au=!0}hu(){0===this.uu&&(this.lu("Unknown"),this.cu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.cu=null,this.fu("Backend didn't respond within 10 seconds."),this.lu("Offline"),Promise.resolve())))}du(t){"Online"===this.state?this.lu("Unknown"):(this.uu++,1<=this.uu&&(this._u(),this.fu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.lu("Offline")))}set(t){this._u(),this.uu=0,"Online"===t&&(this.au=!1),this.lu(t)}lu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}fu(t){t=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.au?(ts(t),this.au=!1):Zr("OnlineStateTracker",t)}_u(){null!==this.cu&&(this.cu.cancel(),this.cu=null)}}class pu{constructor(t,e,n,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.wu=[],this.mu=new Map,this.gu=new Set,this.yu=[],this.pu=s,this.pu.Qr(t=>{n.enqueueAndForget(async()=>{Su(this)&&(Zr("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=t;e.gu.add(4),await vu(e),e.Iu.set("Unknown"),e.gu.delete(4),await yu(e)}(this))})}),this.Iu=new mu(n,r)}}async function yu(t){if(Su(t))for(const e of t.yu)await e(!0)}async function vu(t){for(const e of t.yu)await e(!1)}function wu(t,e){const n=t;n.mu.has(e.targetId)||(n.mu.set(e.targetId,e),Iu(n)?Tu(n):Lu(n).Fo()&&Eu(n,e))}function _u(t,e){const n=t,r=Lu(n);n.mu.delete(e),r.Fo()&&bu(n,e),0===n.mu.size&&(r.Fo()?r.Lo():Su(n)&&n.Iu.set("Unknown"))}function Eu(t,e){t.Tu.$t(e.targetId),Lu(t).Yo(e)}function bu(t,e){t.Tu.$t(e),Lu(t).Zo(e)}function Tu(e){e.Tu=new Ya({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),re:t=>e.mu.get(t)||null}),Lu(e).start(),e.Iu.hu()}function Iu(t){return Su(t)&&!Lu(t).Mo()&&0<t.mu.size}function Su(t){return 0===t.gu.size}function Au(t){t.Tu=void 0}async function Cu(t,e,n){if(!ks(e))throw e;t.gu.add(1),await vu(t),t.Iu.set("Offline"),n=n||(()=>zo(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Zr("RemoteStore","Retrying IndexedDB access"),await n(),t.gu.delete(1),await yu(t)})}function Du(e,n){return n().catch(t=>Cu(e,t,n))}async function Nu(t){const e=t,n=Mu(e);let r=0<e.wu.length?e.wu[e.wu.length-1].batchId:-1;for(;Su(s=e)&&s.wu.length<10;)try{const t=await function(t,e){const n=t;return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}(e.localStore,r);if(null===t){0===e.wu.length&&n.Lo();break}r=t.batchId,function(t,e){t.wu.push(e);const n=Mu(t);n.Fo()&&n.tu&&n.eu(e.mutations)}(e,t)}catch(t){await Cu(e,t)}var s;ku(e)&&Ru(e)}function ku(t){return Su(t)&&!Mu(t).Mo()&&0<t.wu.length}function Ru(t){Mu(t).start()}async function xu(t,e){const n=t;n.asyncQueue.verifyOperationInProgress(),Zr("RemoteStore","RemoteStore received new credentials");t=Su(n);n.gu.add(3),await vu(n),t&&n.Iu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.gu.delete(3),await yu(n)}function Lu(e){return e.Eu||(e.Eu=function(t,e,n){const r=t;return r.ou(),new du(e,r.connection,r.authCredentials,r.appCheckCredentials,r.Et,n)}(e.datastore,e.asyncQueue,{eo:async function(n){n.mu.forEach((t,e)=>{Eu(n,t)})}.bind(null,e),so:async function(t,e){Au(t),Iu(t)?(t.Iu.du(e),Tu(t)):t.Iu.set("Unknown")}.bind(null,e),Jo:async function(t,r,e){if(t.Iu.set("Online"),r instanceof Ha&&2===r.state&&r.cause)try{await async function(t){var e=r.cause;for(const n of r.targetIds)t.mu.has(n)&&(await t.remoteSyncer.rejectListen(n,e),t.mu.delete(n),t.Tu.removeTarget(n))}(t)}catch(e){Zr("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),e),await Cu(t,e)}else if(r instanceof Qa?t.Tu.jt(r):r instanceof Wa?t.Tu.Xt(r):t.Tu.Ht(r),!e.isEqual(Es.min()))try{const r=await zo(t.localStore);0<=e.compareTo(r)&&await function(r,s){const t=r.Tu.ne(s);return t.targetChanges.forEach((t,e)=>{if(0<t.resumeToken.approximateByteSize()){const n=r.mu.get(e);n&&r.mu.set(e,n.withResumeToken(t.resumeToken,s))}}),t.targetMismatches.forEach(t=>{const e=r.mu.get(t);e&&(r.mu.set(t,e.withResumeToken(Gs.EMPTY_BYTE_STRING,e.snapshotVersion)),bu(r,t),t=new Ao(e.target,t,1,e.sequenceNumber),Eu(r,t))}),r.remoteSyncer.applyRemoteEvent(t)}(t,e)}catch(r){Zr("RemoteStore","Failed to raise snapshot:",r),await Cu(t,r)}}.bind(null,e)}),e.yu.push(async t=>{t?(e.Eu.Bo(),Iu(e)?Tu(e):e.Iu.set("Unknown")):(await e.Eu.stop(),Au(e))})),e.Eu}function Mu(e){return e.Au||(e.Au=function(t,e,n){const r=t;return r.ou(),new fu(e,r.connection,r.authCredentials,r.appCheckCredentials,r.Et,n)}(e.datastore,e.asyncQueue,{eo:async function(t){Mu(t).iu()}.bind(null,e),so:async function(t,e){e&&Mu(t).tu&&await async function(t,e){if(xa(n=e.code)&&n!==is.ABORTED){const n=t.wu.shift();Mu(t).Bo(),await Du(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),await Nu(t)}var n}(t,e),ku(t)&&Ru(t)}.bind(null,e),su:async function(t){const e=Mu(t);for(const n of t.wu)e.eu(n.mutations)}.bind(null,e),nu:async function(t,e,n){const r=t.wu.shift(),s=Io.from(r,e,n);await Du(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Nu(t)}.bind(null,e)}),e.yu.push(async t=>{t?(e.Au.Bo(),await Nu(e)):(await e.Au.stop(),0<e.wu.length&&(Zr("RemoteStore",`Stopping write stream with ${e.wu.length} pending writes`),e.wu=[]))})),e.Au}class Fu{constructor(t,e,n,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}static createAndSchedule(t,e,n,r,s){const i=Date.now()+n,a=new Fu(t,e,i,r,s);return a.start(n),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new as(is.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ou(t,e){if(ts("AsyncQueue",`${e}: ${t}`),ks(t))return new as(is.UNAVAILABLE,`${e}: ${t}`);throw t}class Vu{constructor(n){this.comparator=n?(t,e)=>n(t,e)||As.comparator(t.key,e.key):(t,e)=>As.comparator(t.key,e.key),this.keyedMap=Va(),this.sortedSet=new Di(this.comparator)}static emptySet(t){return new Vu(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){t=this.keyedMap.get(t);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((t,e)=>(n(t),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Vu))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(t,e){const n=new Vu;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class Pu{constructor(){this.Ru=new Di(As.comparator)}track(t){var e=t.doc.key,n=this.Ru.get(e);!n||0!==t.type&&3===n.type?this.Ru=this.Ru.insert(e,t):3===t.type&&1!==n.type?this.Ru=this.Ru.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Ru=this.Ru.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Ru=this.Ru.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Ru=this.Ru.remove(e):1===t.type&&2===n.type?this.Ru=this.Ru.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Ru=this.Ru.insert(e,{type:2,doc:t.doc}):rs()}bu(){const n=[];return this.Ru.inorderTraversal((t,e)=>{n.push(e)}),n}}class Uu{constructor(t,e,n,r,s,i,a,o,u){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=u}static fromInitialDocuments(t,e,n,r,s){const i=[];return e.forEach(t=>{i.push({type:0,doc:t})}),new Uu(t,e,Vu.emptySet(e),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xi(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==n[t].type||!e[t].doc.isEqual(n[t].doc))return!1;return!0}}class qu{constructor(){this.vu=void 0,this.listeners=[]}}class Bu{constructor(){this.queries=new Ma(t=>Ji(t),Xi),this.onlineState="Unknown",this.Pu=new Set}}async function ju(t,e){const n=t,r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new qu),s)try{i.vu=await n.onListen(r)}catch(t){const n=Ou(t,`Initialization of query '${Zi(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,i),i.listeners.push(e),e.Vu(n.onlineState),!i.vu||e.Su(i.vu)&&Ku(n)}async function Gu(t,e){const n=t,r=e.query;let s=!1;const i=n.queries.get(r);if(i){const t=i.listeners.indexOf(e);0<=t&&(i.listeners.splice(t,1),s=0===i.listeners.length)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function Ku(t){t.Pu.forEach(t=>{t.next()})}class $u{constructor(t,e,n){this.query=t,this.Du=e,this.Cu=!1,this.xu=null,this.onlineState="Unknown",this.options=n||{}}Su(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Uu(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Cu?this.Nu(t)&&(this.Du.next(t),e=!0):this.ku(t,this.onlineState)&&(this.Ou(t),e=!0),this.xu=t,e}onError(t){this.Du.error(t)}Vu(t){this.onlineState=t;let e=!1;return this.xu&&!this.Cu&&this.ku(this.xu,t)&&(this.Ou(this.xu),e=!0),e}ku(t,e){return!t.fromCache||(!this.options.Mu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Nu(t){if(0<t.docChanges.length)return!0;var e=this.xu&&this.xu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}Ou(t){t=Uu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Cu=!0,this.Du.next(t)}}class Qu{constructor(t,e){this.Fu=t,this.byteLength=e}$u(){return"metadata"in this.Fu}}class Wu{constructor(t){this.Et=t}Xi(t){return co(this.Et,t)}tr(t){return t.metadata.exists?function(t,e,n){const r=co(t,e.name),s=io(e.updateTime),i=e.createTime?io(e.createTime):Es.min(),a=new Mi({mapValue:{fields:e.fields}}),o=Fi.newFoundDocument(r,s,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}(this.Et,t.document,!1):Fi.newNoDocument(this.Xi(t.metadata.name),this.er(t.metadata.readTime))}er(t){return io(t)}}class Hu{constructor(t,e,n){this.Bu=t,this.localStore=e,this.Et=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zu(t)}Lu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Fu.namedQuery)this.queries.push(t.Fu.namedQuery);else if(t.Fu.documentMetadata){this.documents.push({metadata:t.Fu.documentMetadata}),t.Fu.documentMetadata.exists||++e;const n=Ts.fromString(t.Fu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.Fu.document&&(this.documents[this.documents.length-1].document=t.Fu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}qu(t){const e=new Map,n=new Wu(this.Et);for(const s of t)if(s.metadata.queries){const t=n.Xi(s.metadata.name);for(const n of s.metadata.queries){var r=(e.get(n)||ja()).add(t);e.set(n,r)}}return e}async complete(){const t=await async function(t,e,n,r){const s=t;let i=ja(),a=Fa;for(const t of n){const n=e.Xi(t.metadata.name);t.document&&(i=i.add(n));const c=e.tr(t);c.setReadTime(e.er(t.metadata.readTime)),a=a.insert(n,c)}const o=s.zi.newChangeBuffer({trackRemovals:!0}),u=await Jo(s,(r=r,Hi(ji(Ts.fromString(`__bundle__/docs/${r}`)))));return s.persistence.runTransaction("Apply bundle documents","readwrite",e=>Xo(e,o,a).next(t=>(o.apply(e),t)).next(t=>s.ks.removeMatchingKeysForTargetId(e,u.targetId).next(()=>s.ks.addMatchingKeys(e,i,u.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(e,t.Ji,t.Yi)).next(()=>t.Ji)))}(this.localStore,new Wu(this.Et),this.documents,this.Bu.id),e=this.qu(this.documents);for(const t of this.queries)await async function(t,n,r=ja()){const s=await Jo(t,Hi(Do(n.bundledQuery))),i=t;return i.persistence.runTransaction("Save named query","readwrite",t=>{var e=io(n.readTime);if(0<=s.snapshotVersion.compareTo(e))return i.Ms.saveNamedQuery(t,n);e=s.withResumeToken(Gs.EMPTY_BYTE_STRING,e);return i.Gi=i.Gi.insert(e.targetId,e),i.ks.updateTargetData(t,e).next(()=>i.ks.removeMatchingKeysForTargetId(t,s.targetId)).next(()=>i.ks.addMatchingKeys(t,r,s.targetId)).next(()=>i.Ms.saveNamedQuery(t,n))})}(this.localStore,t,e.get(t.name));return this.progress.taskState="Success",{progress:this.progress,Uu:this.collectionGroups,Ku:t}}}function zu(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class Yu{constructor(t){this.key=t}}class Xu{constructor(t){this.key=t}}class Ju{constructor(t,e){this.query=t,this.Gu=e,this.Qu=null,this.hasCachedResults=!1,this.current=!1,this.ju=ja(),this.mutatedKeys=ja(),this.zu=ea(t),this.Wu=new Vu(this.zu)}get Hu(){return this.Gu}Ju(t,e){const o=e?e.Yu:new Pu,u=(e||this).Wu;let c=(e||this).mutatedKeys,h=u,l=!1;const d="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,f="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((t,e)=>{const n=u.get(t),r=ta(this.query,e)?e:null,s=!!n&&this.mutatedKeys.has(n.key),i=!!r&&(r.hasLocalMutations||this.mutatedKeys.has(r.key)&&r.hasCommittedMutations);let a=!1;n&&r?n.data.isEqual(r.data)?s!==i&&(o.track({type:3,doc:r}),a=!0):this.Zu(n,r)||(o.track({type:2,doc:r}),a=!0,(d&&0<this.zu(r,d)||f&&this.zu(r,f)<0)&&(l=!0)):!n&&r?(o.track({type:0,doc:r}),a=!0):n&&!r&&(o.track({type:1,doc:n}),a=!0,(d||f)&&(l=!0)),a&&(c=r?(h=h.add(r),i?c.add(t):c.delete(t)):(h=h.delete(t),c.delete(t)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const t="F"===this.query.limitType?h.last():h.first();h=h.delete(t.key),c=c.delete(t.key),o.track({type:1,doc:t})}return{Wu:h,Yu:o,qi:l,mutatedKeys:c}}Zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){var r=this.Wu;this.Wu=t.Wu,this.mutatedKeys=t.mutatedKeys;const s=t.Yu.bu();s.sort((t,e)=>function(t,e){var n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rs()}};return n(t)-n(e)}(t.type,e.type)||this.zu(t.doc,e.doc)),this.Xu(n);var i=e?this.tc():[],a=0===this.ju.size&&this.current?1:0,e=a!==this.Qu;return this.Qu=a,0!==s.length||e?{snapshot:new Uu(this.query,t.Wu,r,s,t.mutatedKeys,0==a,e,!1,!!n&&0<n.resumeToken.approximateByteSize()),ec:i}:{ec:i}}Vu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Wu:this.Wu,Yu:new Pu,mutatedKeys:this.mutatedKeys,qi:!1},!1)):{ec:[]}}nc(t){return!this.Gu.has(t)&&!!this.Wu.has(t)&&!this.Wu.get(t).hasLocalMutations}Xu(t){t&&(t.addedDocuments.forEach(t=>this.Gu=this.Gu.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.Gu=this.Gu.delete(t)),this.current=t.current)}tc(){if(!this.current)return[];const e=this.ju;this.ju=ja(),this.Wu.forEach(t=>{this.nc(t.key)&&(this.ju=this.ju.add(t.key))});const n=[];return e.forEach(t=>{this.ju.has(t)||n.push(new Xu(t))}),this.ju.forEach(t=>{e.has(t)||n.push(new Yu(t))}),n}sc(t){this.Gu=t.Zi,this.ju=ja();t=this.Ju(t.documents);return this.applyChanges(t,!0)}ic(){return Uu.fromInitialDocuments(this.query,this.Wu,this.mutatedKeys,0===this.Qu,this.hasCachedResults)}}class Zu{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class tc{constructor(t){this.key=t,this.rc=!1}}class ec{constructor(t,e,n,r,s,i){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.oc={},this.uc=new Ma(t=>Ji(t),Xi),this.cc=new Map,this.ac=new Set,this.hc=new Di(As.comparator),this.lc=new Map,this.fc=new Oo,this.dc={},this._c=new Map,this.wc=Ro.Dn(),this.onlineState="Unknown",this.mc=void 0}get isPrimaryClient(){return!0===this.mc}}async function nc(t,e){const n=function(t){const e=t;return e.remoteStore.remoteSyncer.applyRemoteEvent=sc.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(t,e){const n=t,r=n.lc.get(e);if(r&&r.rc)return ja().add(r.key);{let t=ja();const r=n.cc.get(e);if(!r)return t;for(const e of r){const r=n.uc.get(e);t=t.unionWith(r.view.Hu)}return t}}.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=async function(t,e,n){const r=t;r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.lc.get(e),i=s&&s.key;if(i){let t=new Di(As.comparator);t=t.insert(i,Fi.newNoDocument(i,Es.min()));const n=ja().add(i),s=new Ka(Es.min(),new Map,new Ri(vs),t,n);await sc(r,s),r.hc=r.hc.remove(i),r.lc.delete(e),lc(r)}else await Zo(r.localStore,e,!1).then(()=>uc(r,e,n)).catch(Ds)}.bind(null,e),e.oc.Jo=function(t,e){const n=t;let r=!1;for(const t of e){const e=t.query,s=n.queries.get(e);if(s){for(const e of s.listeners)e.Su(t)&&(r=!0);s.vu=t}}r&&Ku(n)}.bind(null,e.eventManager),e.oc.yc=function(t,e,n){const r=t,s=r.queries.get(e);if(s)for(const t of s.listeners)t.onError(n);r.queries.delete(e)}.bind(null,e.eventManager),e}(t);let r,s;const i=n.uc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.ic();else{const t=await Jo(n.localStore,Hi(e));n.isPrimaryClient&&wu(n.remoteStore,t);const i=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,s=await async function(n,t,e,r,s){n.gc=(t,s,e)=>async function(t,e,n){let r=e.view.Ju(s);r.qi&&(r=await tu(t.localStore,e.query,!1).then(({documents:t})=>e.view.Ju(t,r)));n=n&&n.targetChanges.get(e.targetId),n=e.view.applyChanges(r,t.isPrimaryClient,n);return hc(t,e.targetId,n.ec),n.snapshot}(n,t,e);const i=await tu(n.localStore,t,!0),a=new Ju(t,i.Zi),o=a.Ju(i.documents),u=$a.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState,s),c=a.applyChanges(o,n.isPrimaryClient,u);hc(n,e,c.ec);s=new Zu(t,e,a);return n.uc.set(t,s),n.cc.has(e)?n.cc.get(e).push(t):n.cc.set(e,[t]),c.snapshot}(n,e,r,"current"===i,t.resumeToken)}return s}async function rc(t,e,n){const r=function(t){const e=t;return e.remoteStore.remoteSyncer.applySuccessfulWrite=async function(t,e){const n=t,r=e.batch.batchId;try{const t=await function(t,r){const s=t;return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const e=r.batch.keys(),n=s.zi.newChangeBuffer({trackRemovals:!0});return function(t,e,r,s){const i=r.batch,n=i.keys();let a=Ns.resolve();return n.forEach(n=>{a=a.next(()=>s.getEntry(e,n)).next(t=>{var e=r.docVersions.get(n);ss(null!==e),t.version.compareTo(e)<0&&(i.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),s.addEntry(t)))})}),a.next(()=>t.mutationQueue.removeMutationBatch(e,i))}(s,t,r,n).next(()=>n.apply(t)).next(()=>s.mutationQueue.performConsistencyCheck(t)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(t,e,r.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(e){let n=ja();for(let t=0;t<e.mutationResults.length;++t)0<e.mutationResults[t].transformResults.length&&(n=n.add(e.batch.mutations[t].key));return n}(r))).next(()=>s.localDocuments.getDocuments(t,e))})}(n.localStore,e);oc(n,r,null),ac(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dc(n,t)}catch(t){await Ds(t)}}.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=async function(t,e,n){const r=t;try{const t=await function(t,r){const s=t;return s.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return s.mutationQueue.lookupMutationBatch(e,r).next(t=>(ss(null!==t),n=t.keys(),s.mutationQueue.removeMutationBatch(e,t))).next(()=>s.mutationQueue.performConsistencyCheck(e)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(e,n,r)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>s.localDocuments.getDocuments(e,n))})}(r.localStore,e);oc(r,e,n),ac(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dc(r,t)}catch(n){await Ds(n)}}.bind(null,e),e}(t);try{const t=await function(t,s){const i=t,a=_s.now(),o=s.reduce((t,e)=>t.add(e.key),ja());let u,c;return i.persistence.runTransaction("Locally write mutations","readwrite",n=>{let e=Fa,r=ja();return i.zi.getEntries(n,o).next(t=>{e=t,e.forEach((t,e)=>{e.isValidDocument()||(r=r.add(t))})}).next(()=>i.localDocuments.getOverlayedDocuments(n,e)).next(t=>{u=t;const e=[];for(const n of s){const s=function(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),s=aa(r.transform,t||null);null!=s&&(null===n&&(n=Mi.empty()),n.set(r.field,s))}return n||null}(n,u.get(n.key).overlayedDocument);null!=s&&e.push(new Sa(n.key,s,function r(t){const s=[];return Ps(t.fields,(t,e)=>{const n=new Ss([t]);if(ui(e)){const t=r(e.mapValue).fields;if(0===t.length)s.push(n);else for(const e of t)s.push(n.child(e))}else s.push(n)}),new Li(s)}(s.value.mapValue),ya.exists(!0)))}return i.mutationQueue.addMutationBatch(n,a,e,s)}).next(t=>{var e=(c=t).applyToLocalDocumentSet(u,r);return i.documentOverlayCache.saveOverlays(n,t.batchId,e)})}).then(()=>({batchId:c.batchId,changes:Pa(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.dc[t.currentUser.toKey()];r=r||new Di(vs),r=r.insert(e,n),t.dc[t.currentUser.toKey()]=r}(r,t.batchId,n),await dc(r,t.changes),await Nu(r.remoteStore)}catch(t){const e=Ou(t,"Failed to persist write");n.reject(e)}}async function sc(t,e){const r=t;try{const t=await Yo(r.localStore,e);e.targetChanges.forEach((t,e)=>{const n=r.lc.get(e);n&&(ss(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),0<t.addedDocuments.size?n.rc=!0:0<t.modifiedDocuments.size?ss(n.rc):0<t.removedDocuments.size&&(ss(n.rc),n.rc=!1))}),await dc(r,t,e)}catch(t){await Ds(t)}}function ic(n,r,t){const e=n;if(e.isPrimaryClient&&0===t||!e.isPrimaryClient&&1===t){const n=[];e.uc.forEach((t,e)=>{e=e.view.Vu(r);e.snapshot&&n.push(e.snapshot)}),function(t,n){const e=t;e.onlineState=n;let r=!1;e.queries.forEach((t,e)=>{for(const t of e.listeners)t.Vu(n)&&(r=!0)}),r&&Ku(e)}(e.eventManager,r),n.length&&e.oc.Jo(n),e.onlineState=r,e.isPrimaryClient&&e.sharedClientState.setOnlineState(r)}}function ac(t,e){(t._c.get(e)||[]).forEach(t=>{t.resolve()}),t._c.delete(e)}function oc(t,e,n){const r=t;let s=r.dc[r.currentUser.toKey()];if(s){const t=s.get(e);t&&(n?t.reject(n):t.resolve(),s=s.remove(e)),r.dc[r.currentUser.toKey()]=s}}function uc(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.cc.get(t))e.uc.delete(r),n&&e.oc.yc(r,n);e.cc.delete(t),e.isPrimaryClient&&e.fc._s(t).forEach(t=>{e.fc.containsKey(t)||cc(e,t)})}function cc(t,e){t.ac.delete(e.path.canonicalString());var n=t.hc.get(e);null!==n&&(_u(t.remoteStore,n),t.hc=t.hc.remove(e),t.lc.delete(n),lc(t))}function hc(t,e,n){for(const r of n)r instanceof Yu?(t.fc.addReference(r.key,e),function(t,e){const n=e.key,r=n.path.canonicalString();t.hc.get(n)||t.ac.has(r)||(Zr("SyncEngine","New document in limbo: "+n),t.ac.add(r),lc(t))}(t,r)):r instanceof Xu?(Zr("SyncEngine","Document no longer in limbo: "+r.key),t.fc.removeReference(r.key,e),t.fc.containsKey(r.key)||cc(t,r.key)):rs()}function lc(t){for(;0<t.ac.size&&t.hc.size<t.maxConcurrentLimboResolutions;){var e=t.ac.values().next().value;t.ac.delete(e);var n=new As(Ts.fromString(e)),e=t.wc.next();t.lc.set(e,new tc(n)),t.hc=t.hc.insert(n,e),wu(t.remoteStore,new Ao(Hi(ji(n.path)),e,2,Rs.ht))}}async function dc(t,n,r){const s=t,i=[],a=[],o=[];s.uc.isEmpty()||(s.uc.forEach((t,e)=>{o.push(s.gc(e,n,r).then(t=>{(t||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(e.targetId,null!=t&&t.fromCache?"not-current":"current"),t&&(i.push(t),t=$o.ki(e.targetId,t),a.push(t))}))}),await Promise.all(o),s.oc.Jo(i),await async function(t,e){const r=t;try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>Ns.forEach(e,e=>Ns.forEach(e.xi,t=>r.persistence.referenceDelegate.addReference(n,e.targetId,t)).next(()=>Ns.forEach(e.Ni,t=>r.persistence.referenceDelegate.removeReference(n,e.targetId,t)))))}catch(t){if(!ks(t))throw t;Zr("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=r.Gi.get(e),n=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(n);r.Gi=r.Gi.insert(e,s)}}}(s.localStore,a))}class fc{constructor(){this.synchronizeTabs=!1}async initialize(t){this.Et=cu(t.databaseInfo.databaseId),this.sharedClientState=this.Tc(t),this.persistence=this.Ec(t),await this.persistence.start(),this.localStore=this.Ac(t),this.gcScheduler=this.Rc(t,this.localStore),this.indexBackfillerScheduler=this.bc(t,this.localStore)}Rc(t,e){return null}bc(t,e){return null}Ac(t){return e=this.persistence,n=new Qo,r=t.initialUser,t=this.Et,new Wo(e,n,r,t);var e,n,r}Ec(t){return new jo(Ko.Us,this.Et)}Tc(t){return new nu}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gc{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>ic(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=async function(t,e){const n=t;if(!n.currentUser.isEqual(e)){Zr("SyncEngine","User change. New user:",e.toKey());const r=await Ho(n.localStore,e);n.currentUser=e,(t=n)._c.forEach(t=>{t.forEach(t=>{t.reject(new as(is.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t._c.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dc(n,r.Hi)}}.bind(null,this.syncEngine),await async function(t,e){const n=t;e?(n.gu.delete(2),await yu(n)):(n.gu.add(2),await vu(n),n.Iu.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Bu}createDatastore(t){var e,n=cu(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new ou(e));return e=t.authCredentials,t=t.appCheckCredentials,r=r,n=n,new gu(e,t,r,n)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,s=t=>ic(this.syncEngine,t,0),t=new(su.C()?su:ru),new pu(e,n,r,s,t);var e,n,r,s}createSyncEngine(t,e){return function(t,e,n,r,s,i,a){const o=new ec(t,e,n,r,s,i);return a&&(o.mc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=t;Zr("RemoteStore","RemoteStore shutting down."),e.gu.add(5),await vu(e),e.pu.shutdown(),e.Iu.set("Unknown")}(this.remoteStore)}}function mc(e,n=10240){let r=0;return{async read(){if(r<e.byteLength){var t={value:e.slice(r,r+n),done:!1};return r+=n,t}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class pc{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Pc(this.observer.next,t)}error(t){this.observer.error?this.Pc(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString())}Vc(){this.muted=!0}Pc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class yc{constructor(t,e){this.Sc=t,this.Et=e,this.metadata=new os,this.buffer=new Uint8Array,this.Dc=new TextDecoder("utf-8"),this.Cc().then(t=>{t&&t.$u()?this.metadata.resolve(t.Fu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.Fu)}`))},t=>this.metadata.reject(t))}close(){return this.Sc.cancel()}async getMetadata(){return this.metadata.promise}async Ic(){return await this.getMetadata(),this.Cc()}async Cc(){var t=await this.xc();if(null===t)return null;var e=this.Dc.decode(t),n=Number(e);isNaN(n)&&this.Nc(`length string (${e}) is not valid number`);e=await this.kc(n);return new Qu(JSON.parse(e),t.length+n)}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}async xc(){for(;this.Oc()<0&&!await this.Mc(););if(0===this.buffer.length)return null;var t=this.Oc();t<0&&this.Nc("Reached the end of bundle when a length string is expected.");var e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e}async kc(t){for(;this.buffer.length<t;)await this.Mc()&&this.Nc("Reached the end of bundle when more is expected.");var e=this.Dc.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e}Nc(t){throw this.Sc.cancel(),new Error(`Invalid bundle format: ${t}`)}async Mc(){var t=await this.Sc.read();if(!t.done){const e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done}}class vc{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new as(is.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const e=await async function(t,e){const r=t,n=lo(r.Et)+"/documents",s={documents:e.map(t=>uo(r.Et,t))},i=await r.yo("BatchGetDocuments",n,s,e.length),a=new Map;i.forEach(t=>{const e=(n=r.Et,"found"in(t=t)?function(t,e){ss(!!e.found),e.found.name,e.found.updateTime;var n=co(t,e.found.name),r=io(e.found.updateTime),t=e.found.createTime?io(e.found.createTime):Es.min(),e=new Mi({mapValue:{fields:e.found.fields}});return Fi.newFoundDocument(n,r,t,e)}(n,t):"missing"in t?function(t,e){ss(!!e.missing),ss(!!e.readTime);t=co(t,e.missing),e=io(e.readTime);return Fi.newNoDocument(t,e)}(n,t):rs());var n;a.set(e.key.toString(),e)});const o=[];return e.forEach(t=>{t=a.get(t.toString());ss(!!t),o.push(t)}),o}(this.datastore,t);return e.forEach(t=>this.recordVersion(t)),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new Na(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,e)=>{e=As.fromPath(e);this.mutations.push(new ka(e,this.precondition(e)))}),await async function(t,e){const n=t,r=lo(n.Et)+"/documents",s={writes:e.map(t=>mo(n.Et,t))};await n.fo("Commit",r,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw rs();e=Es.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new as(is.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Es.min())?ya.exists(!1):ya.updateTime(e):ya.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(this.writtenDocs.has(t.toString())||!e)return ya.exists(!0);if(e.isEqual(Es.min()))throw new as(is.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ya.updateTime(e)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class wc{constructor(t,e,n,r,s){this.asyncQueue=t,this.datastore=e,this.options=n,this.updateFunction=r,this.deferred=s,this.Fc=n.maxAttempts,this.Oo=new hu(this.asyncQueue,"transaction_retry")}run(){--this.Fc,this.$c()}$c(){this.Oo.Po(async()=>{const e=new vc(this.datastore),t=this.Bc(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(t=>{this.Lc(t)}))}).catch(t=>{this.Lc(t)})})}Bc(t){try{var e=this.updateFunction(t);return!qs(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Lc(t){0<this.Fc&&this.qc(t)?(--this.Fc,this.asyncQueue.enqueueAndForget(()=>(this.$c(),Promise.resolve()))):this.deferred.reject(t)}qc(t){if("FirebaseError"!==t.name)return!1;t=t.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!xa(t)}}class _c{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=zr.UNAUTHENTICATED,this.clientId=ys.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async t=>{Zr("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t}),this.appCheckCredentials.start(n,t=>(Zr("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new as(is.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const n=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(t){var e=Ou(t,"Failed to shutdown persistence");n.reject(e)}}),n.promise}}async function Ec(t){return t.offlineComponents||(Zr("FirestoreClient","Using default OfflineComponentProvider"),await async function(t,e){t.asyncQueue.verifyOperationInProgress(),Zr("FirestoreClient","Initializing OfflineComponentProvider");var n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async t=>{r.isEqual(t)||(await Ho(e.localStore,t),r=t)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}(t,new fc)),t.offlineComponents}async function bc(t){return t.onlineComponents||(Zr("FirestoreClient","Using default OnlineComponentProvider"),await async function(t,n){t.asyncQueue.verifyOperationInProgress();var e=await Ec(t);Zr("FirestoreClient","Initializing OnlineComponentProvider");var r=await t.getConfiguration();await n.initialize(e,r),t.setCredentialChangeListener(t=>xu(n.remoteStore,t)),t.setAppCheckTokenChangeListener((t,e)=>xu(n.remoteStore,e)),t.onlineComponents=n}(t,new gc)),t.onlineComponents}function Tc(t){return Ec(t).then(t=>t.persistence)}function Ic(t){return Ec(t).then(t=>t.localStore)}function Sc(t){return bc(t).then(t=>t.remoteStore)}function Ac(t){return bc(t).then(t=>t.syncEngine)}function Cc(t){return bc(t).then(t=>t.datastore)}async function Dc(t){const e=await bc(t),n=e.eventManager;return n.onListen=nc.bind(null,e.syncEngine),n.onUnlisten=async function(t,e){const n=t,r=n.uc.get(e),s=n.cc.get(r.targetId);if(1<s.length)return n.cc.set(r.targetId,s.filter(t=>!Xi(t,e))),void n.uc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Zo(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_u(n.remoteStore,r.targetId),uc(n,r.targetId)}).catch(Ds)):(uc(n,r.targetId),await Zo(n.localStore,r.targetId,!0))}.bind(null,e.syncEngine),n}function Nc(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget(async()=>function(n,r,s,i,a){const t=new pc({next:t=>{r.enqueueAndForget(()=>Gu(n,o));var e=t.docs.has(s);!e&&t.fromCache?a.reject(new as(is.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&i&&"server"===i.source?a.reject(new as(is.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(t)},error:t=>a.reject(t)}),o=new $u(ji(s.path),t,{includeMetadataChanges:!0,Mu:!0});return ju(n,o)}(await Dc(t),t.asyncQueue,e,n,r)),r.promise}function kc(t,e,n={}){const r=new os;return t.asyncQueue.enqueueAndForget(async()=>function(e,n,t,r,s){const i=new pc({next:t=>{n.enqueueAndForget(()=>Gu(e,a)),t.fromCache&&"server"===r.source?s.reject(new as(is.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(t)},error:t=>s.reject(t)}),a=new $u(t,i,{includeMetadataChanges:!0,Mu:!0});return ju(e,a)}(await Dc(t),t.asyncQueue,e,n,r)),r.promise}function Rc(t,e,n,r){const s=function(t,e){t="string"==typeof t?(new TextEncoder).encode(t):t;return t=function(t){if(t instanceof Uint8Array)return mc(t,void 0);if(t instanceof ArrayBuffer)return mc(new Uint8Array(t),void 0);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(t),e=e,new yc(t,e)}(n,cu(e));t.asyncQueue.enqueueAndForget(async()=>{!function(t,e,n){const r=t;!async function(e,n,r){try{var s=await n.getMetadata();if(await function(t,e){const n=t,r=io(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",t=>n.Ms.getBundleMetadata(t,e.id)).then(t=>!!t&&0<=t.createTime.compareTo(r))}(e.localStore,s))return await n.close(),r._completeWith({taskState:"Success",documentsLoaded:s.totalDocuments,bytesLoaded:s.totalBytes,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}),Promise.resolve(new Set);r._updateProgress(zu(s));const a=new Hu(s,e.localStore,n.Et);let t=await n.Ic();for(;t;){const e=await a.Lu(t);e&&r._updateProgress(e),t=await n.Ic()}var i=await a.complete();return await dc(e,i.Ku,void 0),await function(t,e){const n=t;return n.persistence.runTransaction("Save bundle","readwrite",t=>n.Ms.saveBundleMetadata(t,e))}(e.localStore,s),r._completeWith(i.progress),Promise.resolve(i.Uu)}catch(e){return es("SyncEngine",`Loading bundle failed with ${e}`),r._failWith(e),Promise.resolve(new Set)}}(r,e,n).then(t=>{r.sharedClientState.notifyBundleLoaded(t)})}(await Ac(t),s,r)})}const xc=new Map;function Lc(t,e,n){if(!n)throw new as(is.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Mc(t,e,n,r){if(!0===e&&!0===r)throw new as(is.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fc(t){if(!As.isDocumentKey(t))throw new as(is.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Oc(t){if(As.isDocumentKey(t))throw new as(is.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vc(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":rs();if(t instanceof Array)return"an array";t=(t=t).constructor?t.constructor.name:null;return t?`a custom ${t} object`:"an object"}function Pc(t,e){if((t="_delegate"in t?t._delegate:t)instanceof e)return t;if(e.name===t.constructor.name)throw new as(is.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");t=Vc(t);throw new as(is.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}function Uc(t,e){if(e<=0)throw new as(is.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class qc{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new as(is.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new as(is.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Mc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bc{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new as(is.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new as(is.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qc(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new cs;switch(t.type){case"gapi":var e=t.client;return new fs(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new as(is.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=xc.get(t);e&&(Zr("ComponentProvider","Removing Datastore"),xc.delete(t),e.terminate())}(this),Promise.resolve()}}function jc(n,t,r,s={}){const i=(n=Pc(n,Bc))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&es("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},i),{host:`${t}:${r}`,ssl:!1})),s.mockUserToken){let t,e;if("string"==typeof s.mockUserToken)t=s.mockUserToken,e=zr.MOCK_USER;else{t=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0;if(!(e=t.sub||t.user_id))throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");return t=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:e,user_id:e,firebase:{sign_in_provider:"custom",identities:{}}},t),[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(t)),""].join(".")}(s.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const i=s.mockUserToken.sub||s.mockUserToken.user_id;if(!i)throw new as(is.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e=new zr(i)}n._authCredentials=new hs(new us(t,e))}}class Gc{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $c(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gc(this.firestore,t,this._key)}}class Kc{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Kc(this.firestore,t,this._query)}}class $c extends Kc{constructor(t,e,n){super(t,e,ji(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gc(this.firestore,null,new As(t))}withConverter(t){return new $c(this.firestore,t,this._path)}}function Qc(t,e,...n){if(t=d(t),Lc("collection","path",e),t instanceof Bc){var r=Ts.fromString(e,...n);return Oc(r),new $c(t,null,r)}if(!(t instanceof Gc||t instanceof $c))throw new as(is.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");n=t._path.child(Ts.fromString(e,...n));return Oc(n),new $c(t.firestore,null,n)}function Wc(t,e,...n){if(t=d(t),Lc("doc","path",e=1===arguments.length?ys.R():e),t instanceof Bc){var r=Ts.fromString(e,...n);return Fc(r),new Gc(t,null,new As(r))}if(!(t instanceof Gc||t instanceof $c))throw new as(is.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");n=t._path.child(Ts.fromString(e,...n));return Fc(n),new Gc(t.firestore,t instanceof $c?t.converter:null,new As(n))}function Hc(t,e){return t=d(t),e=d(e),(t instanceof Gc||t instanceof $c)&&(e instanceof Gc||e instanceof $c)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function zc(t,e){return t=d(t),e=d(e),t instanceof Kc&&e instanceof Kc&&t.firestore===e.firestore&&Xi(t._query,e._query)&&t.converter===e.converter}class Yc{constructor(){this.Uc=Promise.resolve(),this.Kc=[],this.Gc=!1,this.Qc=[],this.jc=null,this.zc=!1,this.Wc=!1,this.Hc=[],this.Oo=new hu(this,"async_queue_retry"),this.Jc=()=>{var t=uu();t&&Zr("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Oo.So()};const t=uu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Jc)}get isShuttingDown(){return this.Gc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Yc(),this.Zc(t)}enterRestrictedMode(t){if(!this.Gc){this.Gc=!0,this.Wc=t||!1;const e=uu();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Jc)}}enqueue(t){if(this.Yc(),this.Gc)return new Promise(()=>{});const e=new os;return this.Zc(()=>this.Gc&&this.Wc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Kc.push(t),this.Xc()))}async Xc(){if(0!==this.Kc.length){try{await this.Kc[0](),this.Kc.shift(),this.Oo.reset()}catch(t){if(!ks(t))throw t;Zr("AsyncQueue","Operation failed with retryable error: "+t)}0<this.Kc.length&&this.Oo.Po(()=>this.Xc())}}Zc(t){var e=this.Uc.then(()=>(this.zc=!0,t().catch(t=>{throw this.jc=t,this.zc=!1,ts("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(t=>(this.zc=!1,t))));return this.Uc=e}enqueueAfterDelay(t,e,n){this.Yc(),-1<this.Hc.indexOf(t)&&(e=0);n=Fu.createAndSchedule(this,t,e,n,t=>this.ta(t));return this.Qc.push(n),n}Yc(){this.jc&&rs()}verifyOperationInProgress(){}async ea(){for(var t;await(t=this.Uc),t!==this.Uc;);}na(t){for(const e of this.Qc)if(e.timerId===t)return!0;return!1}sa(e){return this.ea().then(()=>{this.Qc.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const t of this.Qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ea()})}ia(t){this.Hc.push(t)}ta(t){t=this.Qc.indexOf(t);this.Qc.splice(t,1)}}function Xc(t){return function(t){if("object"==typeof t&&null!==t){var e=t;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return 1}}(t)}class Jc{constructor(){this._progressObserver={},this._taskCompletionResolver=new os,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Zc extends Bc{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new Yc,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eh(this),this._firestoreClient.terminate()}}function th(t){return t._firestoreClient||eh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eh(t){var e,n,r,s=t._freezeSettings(),s=(e=t._databaseId,n=(null===(r=t._app)||void 0===r?void 0:r.options.appId)||"",r=t._persistenceKey,s=s,new Fs(e,n,r,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams));t._firestoreClient=new _c(t._authCredentials,t._appCheckCredentials,t._queue,s)}function nh(t){return function(t){const e=new os;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e){const n=t;Su(n.remoteStore)||Zr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=await function(){const e=n.localStore;return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",t=>e.mutationQueue.getHighestUnacknowledgedBatchId(t))}();if(-1===t)return void e.resolve();const r=n._c.get(t)||[];r.push(e),n._c.set(t,r)}catch(t){const n=Ou(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}}(await Ac(t),e)),e.promise}(th(t=Pc(t,Zc)))}function rh(t){return(n=th(t=Pc(t,Zc))).asyncQueue.enqueue(async()=>{const t=await Tc(n),e=await Sc(n);return t.setNetworkEnabled(!0),function(){const t=e;return t.gu.delete(0),yu(t)}()});var n}function sh(t){return(n=th(t=Pc(t,Zc))).asyncQueue.enqueue(async()=>{const t=await Tc(n),e=await Sc(n);return t.setNetworkEnabled(!1),async function(){const t=e;t.gu.add(0),await vu(t),t.Iu.set("Offline")}()});var n}function ih(e,t){return n=th(e=Pc(e,Zc)),r=t,n.asyncQueue.enqueue(async()=>function(t,e){const n=t;return n.persistence.runTransaction("Get named query","readonly",t=>n.Ms.getNamedQuery(t,e))}(await Ic(n),r)).then(t=>t?new Kc(e,null,t.query):null);var n,r}class ah{constructor(t="count",e){this._aggregateType=t,this._internalFieldPath=e,this.type="AggregateField"}}class oh{constructor(t,e,n){this._userDataWriter=e,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertValue(this._data.value)}}class uh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new uh(Gs.fromBase64String(t))}catch(t){throw new as(is.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new uh(Gs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ch{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new as(is.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ss(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class hh{constructor(t){this._methodName=t}}class lh{constructor(t,e){if(!isFinite(t)||t<-90||90<t)throw new as(is.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new as(is.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return vs(this._lat,t._lat)||vs(this._long,t._long)}}const dh=/^__.*__$/;class fh{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Sa(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ia(t,this.data,e,this.fieldTransforms)}}class gh{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Sa(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function mh(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw rs()}}class ph{constructor(t,e,n,r,s,i){this.settings=t,this.databaseId=e,this.Et=n,this.ignoreUndefinedProperties=r,void 0===s&&this.ra(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get oa(){return this.settings.oa}ua(t){return new ph(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Et,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ca(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ua({path:n,aa:!1});return r.ha(t),r}la(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ua({path:n,aa:!1});return r.ra(),r}fa(t){return this.ua({path:void 0,aa:!0})}da(t){return Oh(t,this.settings.methodName,this.settings._a||!1,this.path,this.settings.wa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ra(){if(this.path)for(let t=0;t<this.path.length;t++)this.ha(this.path.get(t))}ha(t){if(0===t.length)throw this.da("Document fields must not be empty");if(mh(this.oa)&&dh.test(t))throw this.da('Document fields cannot begin and end with "__"')}}class yh{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.Et=n||cu(t)}ma(t,e,n,r=!1){return new ph({oa:t,methodName:e,wa:n,path:Ss.emptyPath(),aa:!1,_a:r},this.databaseId,this.Et,this.ignoreUndefinedProperties)}}function vh(t){var e=t._freezeSettings(),n=cu(t._databaseId);return new yh(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wh(t,e,n,r,s,i={}){const a=t.ma(i.merge||i.mergeFields?2:0,e,n,s);xh("Data must be an object, but it was:",a,r);r=kh(r,a);let o,u;if(i.merge)o=new Li(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const t=[];for(const c of i.mergeFields){const s=Lh(e,c,n);if(!a.contains(s))throw new as(is.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);Vh(t,s)||t.push(s)}o=new Li(t),u=a.fieldTransforms.filter(t=>o.covers(t.field))}else o=null,u=a.fieldTransforms;return new fh(new Mi(r),o,u)}class _h extends hh{_toFieldTransform(t){if(2!==t.oa)throw 1===t.oa?t.da(`${this._methodName}() can only appear at the top level of your update data`):t.da(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _h}}function Eh(t,e,n){return new ph({oa:3,wa:e.settings.wa,methodName:t._methodName,aa:n},e.databaseId,e.Et,e.ignoreUndefinedProperties)}class bh extends hh{_toFieldTransform(t){return new ma(t.path,new oa)}isEqual(t){return t instanceof bh}}class Th extends hh{constructor(t,e){super(t),this.ga=e}_toFieldTransform(t){const e=Eh(this,t,!0),n=this.ga.map(t=>Nh(t,e)),r=new ua(n);return new ma(t.path,r)}isEqual(t){return this===t}}class Ih extends hh{constructor(t,e){super(t),this.ga=e}_toFieldTransform(t){const e=Eh(this,t,!0),n=this.ga.map(t=>Nh(t,e)),r=new ha(n);return new ma(t.path,r)}isEqual(t){return this===t}}class Sh extends hh{constructor(t,e){super(t),this.ya=e}_toFieldTransform(t){var e=new da(t.Et,sa(t.Et,this.ya));return new ma(t.path,e)}isEqual(t){return this===t}}function Ah(t,s,i,e){const a=t.ma(1,s,i);xh("Data must be an object, but it was:",a,e);const o=[],u=Mi.empty();Ps(e,(t,e)=>{var n=Fh(s,t,i);e=d(e);t=a.la(n);if(e instanceof _h)o.push(n);else{const r=Nh(e,t);null!=r&&(o.push(n),u.set(n,r))}});e=new Li(o);return new gh(u,e,a.fieldTransforms)}function Ch(e,n,t,r,s,i){const a=e.ma(1,n,t),o=[Lh(n,r,t)],u=[s];if(i.length%2!=0)throw new as(is.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let t=0;t<i.length;t+=2)o.push(Lh(n,i[t])),u.push(i[t+1]);const c=[],h=Mi.empty();for(let t=o.length-1;0<=t;--t)if(!Vh(c,o[t])){const n=o[t];var l=d(l=u[t]);const r=a.la(n);if(l instanceof _h)c.push(n);else{const e=Nh(l,r);null!=e&&(c.push(n),h.set(n,e))}}s=new Li(c);return new gh(h,s,a.fieldTransforms)}function Dh(t,e,n,r=!1){return Nh(n,t.ma(r?4:3,e))}function Nh(i,t){if(Rh(i=d(i)))return xh("Unsupported field value:",t,i),kh(i,t);if(i instanceof hh)return function(t,e){if(!mh(e.oa))throw e.da(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.da(`${t._methodName}() is not currently supported inside arrays`);t=t._toFieldTransform(e);t&&e.fieldTransforms.push(t)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.aa&&4!==t.oa)throw t.da("Nested arrays are not supported");return function(e){const n=[];let r=0;for(const s of i){let t=Nh(s,e.fa(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t)}return function(t,e){if(null===(t=d(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sa(e.Et,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=_s.fromDate(t);return{timestampValue:ro(e.Et,n)}}if(t instanceof _s){n=new _s(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ro(e.Et,n)}}if(t instanceof lh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uh)return{bytesValue:so(e.Et,t._byteString)};if(t instanceof Gc){const r=e.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw e.da(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ao(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.da(`Unsupported field value: ${Vc(t)}`)}(0,t)}function kh(t,n){const r={};return Us(t)?n.path&&0<n.path.length&&n.fieldMask.push(n.path):Ps(t,(t,e)=>{e=Nh(e,n.ca(t));null!=e&&(r[t]=e)}),{mapValue:{fields:r}}}function Rh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _s||t instanceof lh||t instanceof uh||t instanceof Gc||t instanceof hh)}function xh(t,e,n){if(!Rh(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){n=Vc(n);throw"an object"===n?e.da(t+" a custom object"):e.da(t+" "+n)}var r}function Lh(t,e,n){if((e=d(e))instanceof ch)return e._internalPath;if("string"==typeof e)return Fh(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Mh=new RegExp("[~\\*/\\[\\]]");function Fh(e,n,r){if(0<=n.search(Mh))throw Oh(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new ch(...n.split("."))._internalPath}catch(t){throw Oh(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Oh(t,e,n,r,s){var i=r&&!r.isEmpty(),a=void 0!==s;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${r}`),a&&(u+=` in document ${s}`),u+=")"),new as(is.INVALID_ARGUMENT,o+t+u)}function Vh(t,e){return t.some(t=>t.isEqual(e))}class Ph{constructor(t,e,n,r,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){var t=new Uh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){t=this._document.data.field(qh("DocumentSnapshot.get",t));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Uh extends Ph{data(){return super.data()}}function qh(t,e){return"string"==typeof e?Fh(t,e):(e instanceof ch?e:e._delegate)._internalPath}function Bh(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new as(is.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jh{}class Gh extends jh{}function Kh(t,e,...n){let r=[];e instanceof jh&&r.push(e),r=r.concat(n),function(t){var e=t.filter(t=>t instanceof Qh).length,t=t.filter(t=>t instanceof $h).length;if(1<e||0<e&&0<t)throw new as(is.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const e of r)t=e._apply(t);return t}class $h extends Gh{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new $h(t,e,n)}_apply(t){var e=this._parse(t);return tl(t._query,e),new Kc(t.firestore,t.converter,zi(t._query,e))}_parse(t){var e=vh(t.firestore);return function(t,e,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new as(is.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){Zh(a,i);const e=[];for(const n of a)e.push(Jh(r,t,n));o={arrayValue:{values:e}}}else o=Jh(r,t,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Zh(a,i),o=Dh(n,e,a,"in"===i||"not-in"===i);return gi.create(s,i,o)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Qh extends jh{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Qh(t,e)}_parse(e){var t=this._queryConstraints.map(t=>t._parse(e)).filter(t=>0<t.getFilters().length);return 1===t.length?t[0]:mi.create(t,this._getOperator())}_apply(t){const n=this._parse(t);return 0===n.getFilters().length?t:(function(t){let e=t;for(const t of n.getFlattenedFilters())tl(e,t),e=zi(e,t)}(t._query),new Kc(t.firestore,t.converter,zi(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Wh extends Gh{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Wh(t,e)}_apply(t){var e=function(t,e,n){if(null!==t.startAt)throw new as(is.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new as(is.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ci(e,n);return e=r,null!==Ki(n=t)||null!==(t=$i(n))&&el(0,t,e.field),r}(t._query,this._field,this._direction);return new Kc(t.firestore,t.converter,(t=t._query,e=t.explicitOrderBy.concat([e]),new Bi(t.path,t.collectionGroup,e,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))}}class Hh extends Gh{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new Hh(t,e,n)}_apply(t){return new Kc(t.firestore,t.converter,Yi(t._query,this._limit,this._limitType))}}class zh extends Gh{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new zh(t,e,n)}_apply(t){var e=Xh(t,this.type,this._docOrFields,this._inclusive);return new Kc(t.firestore,t.converter,(t=t._query,e=e,new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)))}}class Yh extends Gh{constructor(t,e,n){super(),this.type=t,this._docOrFields=e,this._inclusive=n}static _create(t,e,n){return new Yh(t,e,n)}_apply(t){var e=Xh(t,this.type,this._docOrFields,this._inclusive);return new Kc(t.firestore,t.converter,(t=t._query,e=e,new Bi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)))}}function Xh(t,e,n,r){if(n[0]=d(n[0]),n[0]instanceof Ph)return function(t,e,n,r,s){if(!r)throw new as(is.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const i=[];for(const n of Wi(t))if(n.field.isKeyField())i.push(ri(e,r.key));else{const t=r.data.field(n.field);if(Hs(t))throw new as(is.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=n.field.canonicalString();throw new as(is.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}i.push(t)}return new hi(i,s)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var s=vh(t.firestore);return function(e,n,r,s,i,t){const a=e.explicitOrderBy;if(i.length>a.length)throw new as(is.INVALID_ARGUMENT,`Too many arguments provided to ${s}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const o=[];for(let t=0;t<i.length;t++){const u=i[t];if(a[t].field.isKeyField()){if("string"!=typeof u)throw new as(is.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${s}(), but got a ${typeof u}`);if(!Qi(e)&&-1!==u.indexOf("/"))throw new as(is.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${s}() must be a plain document ID, but '${u}' contains a slash.`);const r=e.path.child(Ts.fromString(u));if(!As.isDocumentKey(r))throw new as(is.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${s}() must result in a valid document path, but '${r}' is not because it contains an odd number of segments.`);const i=new As(r);o.push(ri(n,i))}else{const e=Dh(r,s,u);o.push(e)}}return new hi(o,t)}(t._query,t.firestore._databaseId,s,e,n,r)}function Jh(t,e,n){if("string"==typeof(n=d(n))){if(""===n)throw new as(is.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qi(e)&&-1!==n.indexOf("/"))throw new as(is.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);e=e.path.child(Ts.fromString(n));if(!As.isDocumentKey(e))throw new as(is.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${e}' is not because it has an odd number of segments (${e.length}).`);return ri(t,new As(e))}if(n instanceof Gc)return ri(t,n._key);throw new as(is.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vc(n)}.`)}function Zh(t,e){if(!Array.isArray(t)||0===t.length)throw new as(is.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tl(t,e){if(e.isInequality()){const r=$i(t),s=e.field;if(null!==r&&!r.isEqual(s))throw new as(is.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);var n=Ki(t);null!==n&&el(0,s,n)}const r=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(0<=e.indexOf(t.op))return t.op;return null}(t.filters,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}());if(null!==r)throw r===e.op?new as(is.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new as(is.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function el(t,e,n){if(!n.isEqual(e))throw new as(is.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class nl{convertValue(t,e="none"){switch(Xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ws(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw rs()}}convertObject(t,n){const r={};return Ps(t.fields,(t,e)=>{r[t]=this.convertValue(e,n)}),r}convertGeoPoint(t){return new lh(Qs(t.latitude),Qs(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":var n=function t(e){e=e.mapValue.fields.__previous_value__;return Hs(e)?t(e):e}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(zs(t));default:return null}}convertTimestamp(t){t=$s(t);return new _s(t.seconds,t.nanos)}convertDocumentKey(t,e){const n=Ts.fromString(t);ss(bo(n));const r=new Os(n.get(1),n.get(3)),s=new As(n.popFirst(5));return r.isEqual(e)||ts(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function rl(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}class sl extends nl{constructor(t){super(),this.firestore=t}convertBytes(t){return new uh(t)}convertReference(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return new Gc(this.firestore,null,t)}}class il{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class al extends Ph{constructor(t,e,n,r,s,i){super(t,e,n,r,i),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){var e=new ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){t=this._document.data.field(qh("DocumentSnapshot.get",t));if(null!==t)return this._userDataWriter.convertValue(t,e.serverTimestamps)}}}class ol extends al{data(t={}){return super.data(t)}}class ul{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new il(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(t=>{e.call(n,new ol(this._firestore,this._userDataWriter,t.key,t,new il(this._snapshot.mutatedKeys.has(t.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){t=!!t.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new as(is.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,e){if(i._snapshot.oldDocs.isEmpty()){let n=0;return i._snapshot.docChanges.map(t=>{var e=new ol(i._firestore,i._userDataWriter,t.doc.key,t.doc,new il(i._snapshot.mutatedKeys.has(t.doc.key),i._snapshot.fromCache),i.query.converter);return t.doc,{type:"added",doc:e,oldIndex:-1,newIndex:n++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(t=>e||3!==t.type).map(t=>{var e=new ol(i._firestore,i._userDataWriter,t.doc.key,t.doc,new il(i._snapshot.mutatedKeys.has(t.doc.key),i._snapshot.fromCache),i.query.converter);let n=-1,r=-1;return 0!==t.type&&(n=s.indexOf(t.doc.key),s=s.delete(t.doc.key)),1!==t.type&&(s=s.add(t.doc),r=s.indexOf(t.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rs()}}(t.type),doc:e,oldIndex:n,newIndex:r}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cl(t,e){return t instanceof al&&e instanceof al?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ul&&e instanceof ul&&t._firestore===e._firestore&&zc(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class hl extends nl{constructor(t){super(),this.firestore=t}convertBytes(t){return new uh(t)}convertReference(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return new Gc(this.firestore,null,t)}}function ll(e){e=Pc(e,Gc);const n=Pc(e.firestore,Zc),t=th(n),r=new hl(n);return function(t,e){const n=new os;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){try{const r=await function(e){const n=t;return n.persistence.runTransaction("read document","readonly",t=>n.localDocuments.getDocument(t,e))}(e);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new as(is.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){e=Ou(t,`Failed to get document '${e} from cache`);n.reject(e)}}(await Ic(t),e,n)),n.promise}(t,e._key).then(t=>new al(n,r,e._key,t,new il(null!==t&&t.hasLocalMutations,!0),e.converter))}function dl(e){e=Pc(e,Kc);const n=Pc(e.firestore,Zc),t=th(n),r=new hl(n);return function(t,e){const n=new os;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){try{const r=await tu(t,e,!0),s=new Ju(e,r.Zi),i=s.Ju(r.documents),a=s.applyChanges(i,!1);n.resolve(a.snapshot)}catch(t){e=Ou(t,`Failed to execute query '${e} against cache`);n.reject(e)}}(await Ic(t),e,n)),n.promise}(t,e._query).then(t=>new ul(n,r,e,t))}function fl(t,e,n){t=Pc(t,Gc);var r=Pc(t.firestore,Zc),e=rl(t.converter,e,n);return yl(r,[wh(vh(r),"setDoc",t._key,e,null!==t.converter,n).toMutation(t._key,ya.none())])}function gl(t,e,n,...r){t=Pc(t,Gc);var s=Pc(t.firestore,Zc),i=vh(s);let a;return a="string"==typeof(e=d(e))||e instanceof ch?Ch(i,"updateDoc",t._key,e,n,r):Ah(i,"updateDoc",t._key,e),yl(s,[a.toMutation(t._key,ya.exists(!0))])}function ml(e,...n){var t;e=d(e);let r={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Xc(n[s])||(r=n[s],s++);var i={includeMetadataChanges:r.includeMetadataChanges};if(Xc(n[s])){const e=n[s];n[s]=null===(t=e.next)||void 0===t?void 0:t.bind(e),n[s+1]=null===(t=e.error)||void 0===t?void 0:t.bind(e),n[s+2]=null===(t=e.complete)||void 0===t?void 0:t.bind(e)}let a,o,u;if(e instanceof Gc)o=Pc(e.firestore,Zc),u=ji(e._key.path),a={next:t=>{n[s]&&n[s](vl(o,e,t))},error:n[s+1],complete:n[s+2]};else{const c=Pc(e,Kc);o=Pc(c.firestore,Zc),u=c._query;const h=new hl(o);a={next:t=>{n[s]&&n[s](new ul(o,h,c,t))},error:n[s+1],complete:n[s+2]},Bh(e._query)}return function(t,e,n,r){const s=new pc(r),i=new $u(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>ju(await Dc(t),i)),()=>{s.Vc(),t.asyncQueue.enqueueAndForget(async()=>Gu(await Dc(t),i))}}(th(o),u,i,a)}function pl(t,e){return function(t,e){const n=new pc(e);return t.asyncQueue.enqueueAndForget(async()=>function(t,e){t.Pu.add(e),e.next()}(await Dc(t),n)),()=>{n.Vc(),t.asyncQueue.enqueueAndForget(async()=>function(t,e){t.Pu.delete(e)}(await Dc(t),n))}}(th(t=Pc(t,Zc)),Xc(e)?e:{next:e})}function yl(t,e){return function(t,e){const n=new os;return t.asyncQueue.enqueueAndForget(async()=>rc(await Ac(t),e,n)),n.promise}(th(t),e)}function vl(t,e,n){var r=n.docs.get(e._key),s=new hl(t);return new al(t,s,e._key,r,new il(n.hasPendingWrites,n.fromCache),e.converter)}function wl(t){return function(e,t){const n=Pc(e.firestore,Zc),r=th(n),s=function(t){const e=[];for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.push((n=t[s],r=s,new Ms(new Ls(r),n._aggregateType,n._internalFieldPath)));var n,r;return e}(t);return function(e,n,r){const s=new os;return e.asyncQueue.enqueueAndForget(async()=>{try{var t;Su(await Sc(e))?(t=await Cc(e),s.resolve(async function(t,e,n){const r=t,s=function(t,e,n){const r=po(t,e),s=[];return n.forEach(t=>{"count"===t.ft?s.push({alias:t.alias.canonicalString(),count:{}}):"avg"===t.ft?s.push({alias:t.alias.canonicalString(),avg:{field:_o(t.fieldPath)}}):"sum"===t.ft&&s.push({alias:t.alias.canonicalString(),sum:{field:_o(t.fieldPath)}})}),{structuredAggregationQuery:{aggregations:s,structuredQuery:r.structuredQuery},parent:r.parent}}(r.Et,Hi(e),n),i=s.parent;return r.connection.lo||delete s.parent,ss(1===(n=(await r.yo("RunAggregationQuery",i,s,1)).filter(t=>!!t.result)).length),(n=n[0]).result,n.result.aggregateFields,new Mi({mapValue:{fields:null===(n=n.result)||void 0===n?void 0:n.aggregateFields}})}(t,n,r))):s.reject(new as(is.UNAVAILABLE,"Failed to get aggregate result because the client is offline."))}catch(t){s.reject(t)}}),s.promise}(r,e._query,s).then(t=>function(t,e,n){t=new hl(t);return new oh(e,t,n)}(n,e,t))}(t,{count:new ah("count")})}const _l={maxAttempts:5};class El{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=vh(t)}set(t,e,n){this._verifyNotCommitted();const r=bl(t,this._firestore),s=rl(r.converter,e,n),i=wh(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,ya.none())),this}update(t,e,n,...r){this._verifyNotCommitted();t=bl(t,this._firestore);let s;return s="string"==typeof(e=d(e))||e instanceof ch?Ch(this._dataReader,"WriteBatch.update",t._key,e,n,r):Ah(this._dataReader,"WriteBatch.update",t._key,e),this._mutations.push(s.toMutation(t._key,ya.exists(!0))),this}delete(t){this._verifyNotCommitted();t=bl(t,this._firestore);return this._mutations=this._mutations.concat(new Na(t._key,ya.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new as(is.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bl(t,e){if((t=d(t)).firestore!==e)throw new as(is.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Tl extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=vh(t)}get(t){const n=bl(t,this._firestore),r=new sl(this._firestore);return this._transaction.lookup([n._key]).then(t=>{if(!t||1!==t.length)return rs();const e=t[0];if(e.isFoundDocument())return new Ph(this._firestore,r,e.key,e,n.converter);if(e.isNoDocument())return new Ph(this._firestore,r,n._key,null,n.converter);throw rs()})}set(t,e,n){t=bl(t,this._firestore),e=rl(t.converter,e,n),n=wh(this._dataReader,"Transaction.set",t._key,e,null!==t.converter,n);return this._transaction.set(t._key,n),this}update(t,e,n,...r){t=bl(t,this._firestore),e="string"==typeof(e=d(e))||e instanceof ch?Ch(this._dataReader,"Transaction.update",t._key,e,n,r):Ah(this._dataReader,"Transaction.update",t._key,e);return this._transaction.update(t._key,e),this}delete(t){t=bl(t,this._firestore);return this._transaction.delete(t._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=bl(t,this._firestore),n=new hl(this._firestore);return super.get(t).then(t=>new al(this._firestore,n,e._key,t._document,new il(!1,!1),e.converter))}}function Il(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new as("invalid-argument",`Invalid options passed to function ${t}(): You cannot `+'specify both "merge" and "mergeFields".');return e}function Sl(){if("undefined"==typeof Uint8Array)throw new as("unimplemented","Uint8Arrays are not available in this environment.")}function Al(){if("undefined"==typeof atob)throw new as("unimplemented","Blobs are unavailable in Firestore in this environment.")}Yr="9.17.1",j(new o("firestore",(t,{instanceIdentifier:e,options:n})=>{const r=t.getProvider("app").getImmediate(),s=new Zc(new ls(t.getProvider("auth-internal")),new ms(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new as(is.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Os(t.options.projectId,e)}(r,e),r);return n=Object.assign({useFetchStreams:!0},n),s._setSettings(n),s},"PUBLIC").setMultipleInstances(!0)),K(Hr,"3.8.3",void 0),K(Hr,"3.8.3","esm2017");class Cl{constructor(t){this._delegate=t}static fromBase64String(t){return Al(),new Cl(uh.fromBase64String(t))}static fromUint8Array(t){return Sl(),new Cl(uh.fromUint8Array(t))}toBase64(){return Al(),this._delegate.toBase64()}toUint8Array(){return Sl(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Dl(t){return function(t,e){if("object"!=typeof t||null===t)return;var n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return 1;return}(t,["next","error","complete"])}class Nl{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof Os||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||es("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,n={}){jc(this._delegate,t,e,n)}enableNetwork(){return rh(this._delegate)}disableNetwork(){return sh(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,Mc("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return nh(this._delegate)}onSnapshotsInSync(t){return pl(this._delegate,t)}get app(){if(!this._appCompat)throw new as("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Gl(this,Qc(this._delegate,t))}catch(t){throw Fl(t,"collection()","Firestore.collection()")}}doc(t){try{return new Ml(this,Wc(this._delegate,t))}catch(t){throw Fl(t,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ql(this,function(t,e){if(t=Pc(t,Bc),Lc("collectionGroup","collection id",e),0<=e.indexOf("/"))throw new as(is.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kc(t,null,(e=e,new Bi(Ts.emptyPath(),e)))}(this._delegate,t))}catch(t){throw Fl(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,n,t){e=Pc(e,Zc);var r=Object.assign(Object.assign({},_l),t);return function(){if(r.maxAttempts<1)throw new as(is.INVALID_ARGUMENT,"Max attempts must be at least 1")}(),function(e,n,r){const s=new os;return e.asyncQueue.enqueueAndForget(async()=>{var t=await Cc(e);new wc(e.asyncQueue,t,r,n,s).run()}),s.promise}(th(e),t=>n(new Tl(e,t)),r)}(this._delegate,t=>e(new Rl(this,t)))}batch(){return th(this._delegate),new xl(new El(this._delegate,t=>yl(this._delegate,t)))}loadBundle(t){return e=this._delegate,n=t,r=th(e=Pc(e,Zc)),t=new Jc,Rc(r,e._databaseId,n,t),t;var e,n,r}namedQuery(t){return ih(this._delegate,t).then(t=>t?new ql(this,t):null)}}class kl extends nl{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cl(new uh(t))}convertReference(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return Ml.forKey(t,this.firestore,null)}}class Rl{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new kl(t)}get(t){const e=Kl(t);return this._delegate.get(e).then(t=>new Pl(this._firestore,new al(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter)))}set(t,e,n){t=Kl(t);return n?(Il("Transaction.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this}update(t,e,n,...r){t=Kl(t);return 2===arguments.length?this._delegate.update(t,e):this._delegate.update(t,e,n,...r),this}delete(t){t=Kl(t);return this._delegate.delete(t),this}}class xl{constructor(t){this._delegate=t}set(t,e,n){t=Kl(t);return n?(Il("WriteBatch.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this}update(t,e,n,...r){t=Kl(t);return 2===arguments.length?this._delegate.update(t,e):this._delegate.update(t,e,n,...r),this}delete(t){t=Kl(t);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ll{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){t=new ol(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ul(this._firestore,t),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=Ll.INSTANCES;let r=n.get(t);r||(r=new WeakMap,n.set(t,r));let s=r.get(e);return s||(s=new Ll(t,new kl(t),e),r.set(e,s)),s}}Ll.INSTANCES=new WeakMap;class Ml{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new kl(t)}static forPath(t,e,n){if(t.length%2!=0)throw new as("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+`${t.canonicalString()} has ${t.length}`);return new Ml(e,new Gc(e._delegate,n,new As(t)))}static forKey(t,e,n){return new Ml(e,new Gc(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new Gl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Gl(this.firestore,Qc(this._delegate,t))}catch(t){throw Fl(t,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=d(t))instanceof Gc&&Hc(this._delegate,t)}set(t,e){e=Il("DocumentReference.set",e);try{return e?fl(this._delegate,t,e):fl(this._delegate,t)}catch(t){throw Fl(t,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?gl(this._delegate,t):gl(this._delegate,t,e,...n)}catch(t){throw Fl(t,"updateDoc()","DocumentReference.update()")}}delete(){return yl(Pc((t=this._delegate).firestore,Zc),[new Na(t._key,ya.none())]);var t}onSnapshot(...t){var e=Ol(t),t=Vl(t,t=>new Pl(this.firestore,new al(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)));return ml(this._delegate,e,t)}get(t){let e;return e=("cache"===(null==t?void 0:t.source)?ll:"server"===(null==t?void 0:t.source)?function(e){e=Pc(e,Gc);const n=Pc(e.firestore,Zc);return Nc(th(n),e._key,{source:"server"}).then(t=>vl(n,e,t))}:function(e){e=Pc(e,Gc);const n=Pc(e.firestore,Zc);return Nc(th(n),e._key).then(t=>vl(n,e,t))})(this._delegate),e.then(t=>new Pl(this.firestore,new al(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)))}withConverter(t){return new Ml(this.firestore,t?this._delegate.withConverter(Ll.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function Fl(t,e,n){return t.message=t.message.replace(e,n),t}function Ol(t){for(const e of t)if("object"==typeof e&&!Dl(e))return e;return{}}function Vl(t,e){let n;return n=Dl(t[0])?t[0]:Dl(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{n.next&&n.next(e(t))},error:null===(t=n.error)||void 0===t?void 0:t.bind(n),complete:null===(t=n.complete)||void 0===t?void 0:t.bind(n)}}class Pl{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ml(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return cl(this._delegate,t._delegate)}}class Ul extends Pl{data(t){t=this._delegate.data(t);return void 0!==t||rs(),t}}class ql{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new kl(t)}where(t,e,n){try{return new ql(this.firestore,Kh(this._delegate,(s=e,i=n,r=qh("where",r=t),$h._create(r,s,i))))}catch(t){throw Fl(t,/(orderBy|where)\(\)/,"Query.$1()")}var r,s,i}orderBy(t,e){try{return new ql(this.firestore,Kh(this._delegate,([n,r="asc"]=[t,e],n=qh("orderBy",n),Wh._create(n,r))))}catch(t){throw Fl(t,/(orderBy|where)\(\)/,"Query.$1()")}var n,r}limit(t){try{return new ql(this.firestore,Kh(this._delegate,(Uc("limit",e=t),Hh._create("limit",e,"F"))))}catch(t){throw Fl(t,"limit()","Query.limit()")}var e}limitToLast(t){try{return new ql(this.firestore,Kh(this._delegate,(Uc("limitToLast",e=t),Hh._create("limitToLast",e,"L"))))}catch(t){throw Fl(t,"limitToLast()","Query.limitToLast()")}var e}startAt(...t){try{return new ql(this.firestore,Kh(this._delegate,function(...t){return zh._create("startAt",t,!0)}(...t)))}catch(t){throw Fl(t,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ql(this.firestore,Kh(this._delegate,function(...t){return zh._create("startAfter",t,!1)}(...t)))}catch(t){throw Fl(t,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ql(this.firestore,Kh(this._delegate,function(...t){return Yh._create("endBefore",t,!1)}(...t)))}catch(t){throw Fl(t,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ql(this.firestore,Kh(this._delegate,function(...t){return Yh._create("endAt",t,!0)}(...t)))}catch(t){throw Fl(t,"endAt()","Query.endAt()")}}isEqual(t){return zc(this._delegate,t._delegate)}get(t){let e;return e=("cache"===(null==t?void 0:t.source)?dl:"server"===(null==t?void 0:t.source)?function(e){e=Pc(e,Kc);const n=Pc(e.firestore,Zc),t=th(n),r=new hl(n);return kc(t,e._query,{source:"server"}).then(t=>new ul(n,r,e,t))}:function(e){e=Pc(e,Kc);const n=Pc(e.firestore,Zc),t=th(n),r=new hl(n);return Bh(e._query),kc(t,e._query).then(t=>new ul(n,r,e,t))})(this._delegate),e.then(t=>new jl(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)))}onSnapshot(...t){var e=Ol(t),t=Vl(t,t=>new jl(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)));return ml(this._delegate,e,t)}withConverter(t){return new ql(this.firestore,t?this._delegate.withConverter(Ll.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}class Bl{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Ul(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jl{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ql(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Ul(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(t=>new Bl(this._firestore,t))}forEach(e,n){this._delegate.forEach(t=>{e.call(n,new Ul(this._firestore,t))})}isEqual(t){return cl(this._delegate,t._delegate)}}class Gl extends ql{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){var t=this._delegate.parent;return t?new Ml(this.firestore,t):null}doc(t){try{return void 0===t?new Ml(this.firestore,Wc(this._delegate)):new Ml(this.firestore,Wc(this._delegate,t))}catch(t){throw Fl(t,"doc()","CollectionReference.doc()")}}add(t){return function(t,e){const n=Pc(t.firestore,Zc),r=Wc(t),s=rl(t.converter,e);return yl(n,[wh(vh(t.firestore),"addDoc",r._key,s,null!==t.converter,{}).toMutation(r._key,ya.exists(!1))]).then(()=>r)}(this._delegate,t).then(t=>new Ml(this.firestore,t))}isEqual(t){return Hc(this._delegate,t._delegate)}withConverter(t){return new Gl(this.firestore,t?this._delegate.withConverter(Ll.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}function Kl(t){return Pc(t,Gc)}const $l="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.";class Ql{enableIndexedDbPersistence(t,e){throw new as("failed-precondition",$l)}enableMultiTabIndexedDbPersistence(t){throw new as("failed-precondition",$l)}clearIndexedDbPersistence(t){throw new as("failed-precondition",$l)}}function Wl(t){if(!t.projectId)throw new as("invalid-argument","Must provide projectId");return new Os(t.projectId,t.database)}return t.Blob=Cl,t.CollectionReference=Gl,t.DocumentReference=Ml,t.DocumentSnapshot=Pl,t.FieldPath=class Hl{constructor(...t){this._delegate=new ch(...t)}static documentId(){return new Hl(Ss.keyField().canonicalString())}isEqual(t){return(t=d(t))instanceof ch&&this._delegate._internalPath.isEqual(t._internalPath)}},t.FieldValue=class zl{constructor(t){this._delegate=t}static serverTimestamp(){const t=new bh("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new zl(t)}static delete(){const t=new _h("deleteField");return t._methodName="FieldValue.delete",new zl(t)}static arrayUnion(...t){const e=function(...t){return new Th("arrayUnion",t)}(...t);return e._methodName="FieldValue.arrayUnion",new zl(e)}static arrayRemove(...t){const e=function(...t){return new Ih("arrayRemove",t)}(...t);return e._methodName="FieldValue.arrayRemove",new zl(e)}static increment(t){const e=new Sh("increment",t);return e._methodName="FieldValue.increment",new zl(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}},t.Firestore=class extends Nl{constructor(t,e){super(Wl(t),new Zc(new cs,new ps,Wl(t)),new Ql),this.INTERNAL={delete:()=>this.terminate(),count:t=>wl(t._delegate).then(t=>t.data().count).catch(t=>{throw new as(t.code,t.message)})}}},t.GeoPoint=lh,t.MemoryPersistenceProvider=Ql,t.QuerySnapshot=jl,t.Timestamp=_s,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
window['__firestore_exports__']=__firestore_exports__;
}).call(this);
</script><script nonce="">/*

 Copyright 2017 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 Copyright 2022 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 Copyright 2019 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 Copyright 2021 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 Copyright 2020 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 Copyright 2023 Google LLC.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';const stringToByteArray$1$$module$third_party$javascript$firebase$dist$firebase_app=function(str){const out=[];let p=0;for(let i=0;i<str.length;i++){let c=str.charCodeAt(i);if(c<128)out[p++]=c;else if(c<2048){out[p++]=c>>6|192;out[p++]=c&63|128}else if((c&64512)===55296&&i+1<str.length&&(str.charCodeAt(i+1)&64512)===56320){c=65536+((c&1023)<<10)+(str.charCodeAt(++i)&1023);out[p++]=c>>18|240;out[p++]=c>>12&63|128;out[p++]=c>>6&63|128;out[p++]=c&63|128}else{out[p++]=c>>12|224;out[p++]=
c>>6&63|128;out[p++]=c&63|128}}return out};
const byteArrayToString$$module$third_party$javascript$firebase$dist$firebase_app=function(bytes){const out=[];let pos=0;let c=0;for(;pos<bytes.length;){const c1=bytes[pos++];if(c1<128)out[c++]=String.fromCharCode(c1);else if(c1>191&&c1<224){const c2=bytes[pos++];out[c++]=String.fromCharCode((c1&31)<<6|c2&63)}else if(c1>239&&c1<365){const c2=bytes[pos++];const c3=bytes[pos++];const c4=bytes[pos++];const u=((c1&7)<<18|(c2&63)<<12|(c3&63)<<6|c4&63)-65536;out[c++]=String.fromCharCode(55296+(u>>10));
out[c++]=String.fromCharCode(56320+(u&1023))}else{const c2=bytes[pos++];const c3=bytes[pos++];out[c++]=String.fromCharCode((c1&15)<<12|(c2&63)<<6|c3&63)}}return out.join("")};
const base64$$module$third_party$javascript$firebase$dist$firebase_app={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(input,webSafe){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");
this.init_();const byteToCharMap=webSafe?this.byteToCharMapWebSafe_:this.byteToCharMap_;const output=[];for(let i=0;i<input.length;i=i+3){const byte1=input[i];const haveByte2=i+1<input.length;const byte2=haveByte2?input[i+1]:0;const haveByte3=i+2<input.length;const byte3=haveByte3?input[i+2]:0;const outByte1=byte1>>2;const outByte2=(byte1&3)<<4|byte2>>4;let outByte3=(byte2&15)<<2|byte3>>6;let outByte4=byte3&63;if(!haveByte3){outByte4=64;if(!haveByte2)outByte3=64}output.push(byteToCharMap[outByte1],
byteToCharMap[outByte2],byteToCharMap[outByte3],byteToCharMap[outByte4])}return output.join("")},encodeString(input,webSafe){if(this.HAS_NATIVE_SUPPORT&&!webSafe)return btoa(input);return this.encodeByteArray(stringToByteArray$1$$module$third_party$javascript$firebase$dist$firebase_app(input),webSafe)},decodeString(input,webSafe){if(this.HAS_NATIVE_SUPPORT&&!webSafe)return atob(input);return byteArrayToString$$module$third_party$javascript$firebase$dist$firebase_app(this.decodeStringToByteArray(input,
webSafe))},decodeStringToByteArray(input,webSafe){this.init_();const charToByteMap=webSafe?this.charToByteMapWebSafe_:this.charToByteMap_;const output=[];for(let i=0;i<input.length;){const byte1=charToByteMap[input.charAt(i++)];const haveByte2=i<input.length;const byte2=haveByte2?charToByteMap[input.charAt(i)]:0;++i;const haveByte3=i<input.length;const byte3=haveByte3?charToByteMap[input.charAt(i)]:64;++i;const haveByte4=i<input.length;const byte4=haveByte4?charToByteMap[input.charAt(i)]:64;++i;if(byte1==
null||byte2==null||byte3==null||byte4==null)throw new DecodeBase64StringError$$module$third_party$javascript$firebase$dist$firebase_app;const outByte1=byte1<<2|byte2>>4;output.push(outByte1);if(byte3!==64){const outByte2=byte2<<4&240|byte3>>2;output.push(outByte2);if(byte4!==64){const outByte3=byte3<<6&192|byte4;output.push(outByte3)}}}return output},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(let i=
0;i<this.ENCODED_VALS.length;i++){this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i);this.charToByteMap_[this.byteToCharMap_[i]]=i;this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i;if(i>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i}}}}};
class DecodeBase64StringError$$module$third_party$javascript$firebase$dist$firebase_app extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}const base64Encode$$module$third_party$javascript$firebase$dist$firebase_app=function(str){const utf8Bytes=stringToByteArray$1$$module$third_party$javascript$firebase$dist$firebase_app(str);return base64$$module$third_party$javascript$firebase$dist$firebase_app.encodeByteArray(utf8Bytes,true)};
const base64urlEncodeWithoutPadding$$module$third_party$javascript$firebase$dist$firebase_app=function(str){return base64Encode$$module$third_party$javascript$firebase$dist$firebase_app(str).replace(/\./g,"")};const base64Decode$$module$third_party$javascript$firebase$dist$firebase_app=function(str){try{return base64$$module$third_party$javascript$firebase$dist$firebase_app.decodeString(str,true)}catch(e){console.error("base64Decode failed: ",e)}return null};
function getGlobal$$module$third_party$javascript$firebase$dist$firebase_app(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("Unable to locate global object.");}const getDefaultsFromGlobal$$module$third_party$javascript$firebase$dist$firebase_app=()=>{return getGlobal$$module$third_party$javascript$firebase$dist$firebase_app().__FIREBASE_DEFAULTS__};
const getDefaultsFromEnvVariable$$module$third_party$javascript$firebase$dist$firebase_app=()=>{if(typeof process==="undefined"||typeof process.env==="undefined")return;const defaultsJsonString=process.env.__FIREBASE_DEFAULTS__;if(defaultsJsonString)return JSON.parse(defaultsJsonString)};
const getDefaultsFromCookie$$module$third_party$javascript$firebase$dist$firebase_app=()=>{if(typeof document==="undefined")return;let match;try{match=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const decoded=match&&base64Decode$$module$third_party$javascript$firebase$dist$firebase_app(match[1]);return decoded&&JSON.parse(decoded)};
const getDefaults$$module$third_party$javascript$firebase$dist$firebase_app=()=>{try{return getDefaultsFromGlobal$$module$third_party$javascript$firebase$dist$firebase_app()||getDefaultsFromEnvVariable$$module$third_party$javascript$firebase$dist$firebase_app()||getDefaultsFromCookie$$module$third_party$javascript$firebase$dist$firebase_app()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};
const getDefaultAppConfig$$module$third_party$javascript$firebase$dist$firebase_app=()=>{var _a;return(_a=getDefaults$$module$third_party$javascript$firebase$dist$firebase_app())===null||_a===void 0?void 0:_a.config};
class Deferred$$module$third_party$javascript$firebase$dist$firebase_app{constructor(){this.reject=()=>{};this.resolve=()=>{};this.promise=new Promise((resolve,reject)=>{this.resolve=resolve;this.reject=reject})}wrapCallback(callback){return(error,value)=>{if(error)this.reject(error);else this.resolve(value);if(typeof callback==="function"){this.promise.catch(()=>{});if(callback.length===1)callback(error);else callback(error,value)}}}}
function isIndexedDBAvailable$$module$third_party$javascript$firebase$dist$firebase_app(){try{return typeof indexedDB==="object"}catch(e){return false}}
function validateIndexedDBOpenable$$module$third_party$javascript$firebase$dist$firebase_app(){return new Promise((resolve,reject)=>{try{let preExist=true;const DB_CHECK_NAME="validate-browser-context-for-indexeddb-analytics-module";const request=self.indexedDB.open(DB_CHECK_NAME);request.onsuccess=()=>{request.result.close();if(!preExist)self.indexedDB.deleteDatabase(DB_CHECK_NAME);resolve(true)};request.onupgradeneeded=()=>{preExist=false};request.onerror=()=>{var _a;reject(((_a=request.error)===
null||_a===void 0?void 0:_a.message)||"")}}catch(error){reject(error)}})}const ERROR_NAME$$module$third_party$javascript$firebase$dist$firebase_app="FirebaseError";
class FirebaseError$$module$third_party$javascript$firebase$dist$firebase_app extends Error{constructor(code,message,customData){super(message);this.code=code;this.customData=customData;this.name=ERROR_NAME$$module$third_party$javascript$firebase$dist$firebase_app;Object.setPrototypeOf(this,FirebaseError$$module$third_party$javascript$firebase$dist$firebase_app.prototype);if(Error.captureStackTrace)Error.captureStackTrace(this,ErrorFactory$$module$third_party$javascript$firebase$dist$firebase_app.prototype.create)}}
class ErrorFactory$$module$third_party$javascript$firebase$dist$firebase_app{constructor(service,serviceName,errors){this.service=service;this.serviceName=serviceName;this.errors=errors}create(code,...data){const customData=data[0]||{};const fullCode=`${this.service}/${code}`;const template=this.errors[code];const message=template?replaceTemplate$$module$third_party$javascript$firebase$dist$firebase_app(template,customData):"Error";const fullMessage=`${this.serviceName}: ${message} (${fullCode}).`;
const error=new FirebaseError$$module$third_party$javascript$firebase$dist$firebase_app(fullCode,fullMessage,customData);return error}}function replaceTemplate$$module$third_party$javascript$firebase$dist$firebase_app(template,data){return template.replace(PATTERN$$module$third_party$javascript$firebase$dist$firebase_app,(_,key)=>{const value=data[key];return value!=null?String(value):`<${key}?>`})}const PATTERN$$module$third_party$javascript$firebase$dist$firebase_app=/\{\$([^}]+)}/g;
function deepEqual$$module$third_party$javascript$firebase$dist$firebase_app(a,b){if(a===b)return true;const aKeys=Object.keys(a);const bKeys=Object.keys(b);for(const k of aKeys){if(!bKeys.includes(k))return false;const aProp=a[k];const bProp=b[k];if(isObject$$module$third_party$javascript$firebase$dist$firebase_app(aProp)&&isObject$$module$third_party$javascript$firebase$dist$firebase_app(bProp)){if(!deepEqual$$module$third_party$javascript$firebase$dist$firebase_app(aProp,bProp))return false}else if(aProp!==
bProp)return false}for(const k of bKeys)if(!aKeys.includes(k))return false;return true}function isObject$$module$third_party$javascript$firebase$dist$firebase_app(thing){return thing!==null&&typeof thing==="object"}
class Component$$module$third_party$javascript$firebase$dist$firebase_app{constructor(name,instanceFactory,type){this.name=name;this.instanceFactory=instanceFactory;this.type=type;this.multipleInstances=false;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}setInstantiationMode(mode){this.instantiationMode=mode;return this}setMultipleInstances(multipleInstances){this.multipleInstances=multipleInstances;return this}setServiceProps(props){this.serviceProps=props;return this}setInstanceCreatedCallback(callback){this.onInstanceCreated=
callback;return this}}const DEFAULT_ENTRY_NAME$1$$module$third_party$javascript$firebase$dist$firebase_app="[DEFAULT]";
class Provider$$module$third_party$javascript$firebase$dist$firebase_app{constructor(name,container){this.name=name;this.container=container;this.component=null;this.instances=new Map;this.instancesDeferred=new Map;this.instancesOptions=new Map;this.onInitCallbacks=new Map}get(identifier){const normalizedIdentifier=this.normalizeInstanceIdentifier(identifier);if(!this.instancesDeferred.has(normalizedIdentifier)){const deferred=new Deferred$$module$third_party$javascript$firebase$dist$firebase_app;
this.instancesDeferred.set(normalizedIdentifier,deferred);if(this.isInitialized(normalizedIdentifier)||this.shouldAutoInitialize())try{const instance=this.getOrInitializeService({instanceIdentifier:normalizedIdentifier});if(instance)deferred.resolve(instance)}catch(e){}}return this.instancesDeferred.get(normalizedIdentifier).promise}getImmediate(options){var _a;const normalizedIdentifier=this.normalizeInstanceIdentifier(options===null||options===void 0?void 0:options.identifier);const optional=(_a=
options===null||options===void 0?void 0:options.optional)!==null&&_a!==void 0?_a:false;if(this.isInitialized(normalizedIdentifier)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:normalizedIdentifier})}catch(e){if(optional)return null;else throw e;}else if(optional)return null;else throw Error(`Service ${this.name} is not available`);}getComponent(){return this.component}setComponent(component){if(component.name!==this.name)throw Error(`Mismatching Component ${component.name} for Provider ${this.name}.`);
if(this.component)throw Error(`Component for ${this.name} has already been provided`);this.component=component;if(!this.shouldAutoInitialize())return;if(isComponentEager$$module$third_party$javascript$firebase$dist$firebase_app(component))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1$$module$third_party$javascript$firebase$dist$firebase_app})}catch(e){}for(const [instanceIdentifier,instanceDeferred]of this.instancesDeferred.entries()){const normalizedIdentifier=this.normalizeInstanceIdentifier(instanceIdentifier);
try{const instance=this.getOrInitializeService({instanceIdentifier:normalizedIdentifier});instanceDeferred.resolve(instance)}catch(e){}}}clearInstance(identifier=DEFAULT_ENTRY_NAME$1$$module$third_party$javascript$firebase$dist$firebase_app){this.instancesDeferred.delete(identifier);this.instancesOptions.delete(identifier);this.instances.delete(identifier)}async delete(){const services=Array.from(this.instances.values());await Promise.all([...services.filter(service=>{return"INTERNAL"in service}).map(service=>
{return service.INTERNAL.delete()}),...services.filter(service=>{return"_delete"in service}).map(service=>{return service._delete()})])}isComponentSet(){return this.component!=null}isInitialized(identifier=DEFAULT_ENTRY_NAME$1$$module$third_party$javascript$firebase$dist$firebase_app){return this.instances.has(identifier)}getOptions(identifier=DEFAULT_ENTRY_NAME$1$$module$third_party$javascript$firebase$dist$firebase_app){return this.instancesOptions.get(identifier)||{}}initialize(opts={}){const {options=
{}}=opts;const normalizedIdentifier=this.normalizeInstanceIdentifier(opts.instanceIdentifier);if(this.isInitialized(normalizedIdentifier))throw Error(`${this.name}(${normalizedIdentifier}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const instance=this.getOrInitializeService({instanceIdentifier:normalizedIdentifier,options});for(const [instanceIdentifier,instanceDeferred]of this.instancesDeferred.entries()){const normalizedDeferredIdentifier=
this.normalizeInstanceIdentifier(instanceIdentifier);if(normalizedIdentifier===normalizedDeferredIdentifier)instanceDeferred.resolve(instance)}return instance}onInit(callback,identifier){var _a;const normalizedIdentifier=this.normalizeInstanceIdentifier(identifier);const existingCallbacks=(_a=this.onInitCallbacks.get(normalizedIdentifier))!==null&&_a!==void 0?_a:new Set;existingCallbacks.add(callback);this.onInitCallbacks.set(normalizedIdentifier,existingCallbacks);const existingInstance=this.instances.get(normalizedIdentifier);
if(existingInstance)callback(existingInstance,normalizedIdentifier);return()=>{existingCallbacks.delete(callback)}}invokeOnInitCallbacks(instance,identifier){const callbacks=this.onInitCallbacks.get(identifier);if(!callbacks)return;for(const callback of callbacks)try{callback(instance,identifier)}catch(_a){}}getOrInitializeService({instanceIdentifier,options={}}){let instance=this.instances.get(instanceIdentifier);if(!instance&&this.component){instance=this.component.instanceFactory(this.container,
{instanceIdentifier:normalizeIdentifierForFactory$$module$third_party$javascript$firebase$dist$firebase_app(instanceIdentifier),options});this.instances.set(instanceIdentifier,instance);this.instancesOptions.set(instanceIdentifier,options);this.invokeOnInitCallbacks(instance,instanceIdentifier);if(this.component.onInstanceCreated)try{this.component.onInstanceCreated(this.container,instanceIdentifier,instance)}catch(_a){}}return instance||null}normalizeInstanceIdentifier(identifier=DEFAULT_ENTRY_NAME$1$$module$third_party$javascript$firebase$dist$firebase_app){if(this.component)return this.component.multipleInstances?
identifier:DEFAULT_ENTRY_NAME$1$$module$third_party$javascript$firebase$dist$firebase_app;else return identifier}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory$$module$third_party$javascript$firebase$dist$firebase_app(identifier){return identifier===DEFAULT_ENTRY_NAME$1$$module$third_party$javascript$firebase$dist$firebase_app?undefined:identifier}
function isComponentEager$$module$third_party$javascript$firebase$dist$firebase_app(component){return component.instantiationMode==="EAGER"}
class ComponentContainer$$module$third_party$javascript$firebase$dist$firebase_app{constructor(name){this.name=name;this.providers=new Map}addComponent(component){const provider=this.getProvider(component.name);if(provider.isComponentSet())throw new Error(`Component ${component.name} has already been registered with ${this.name}`);provider.setComponent(component)}addOrOverwriteComponent(component){const provider=this.getProvider(component.name);if(provider.isComponentSet())this.providers.delete(component.name);
this.addComponent(component)}getProvider(name){if(this.providers.has(name))return this.providers.get(name);const provider=new Provider$$module$third_party$javascript$firebase$dist$firebase_app(name,this);this.providers.set(name,provider);return provider}getProviders(){return Array.from(this.providers.values())}}const instances$$module$third_party$javascript$firebase$dist$firebase_app=[];var LogLevel$$module$third_party$javascript$firebase$dist$firebase_app;
(function(LogLevel){LogLevel[LogLevel["DEBUG"]=0]="DEBUG";LogLevel[LogLevel["VERBOSE"]=1]="VERBOSE";LogLevel[LogLevel["INFO"]=2]="INFO";LogLevel[LogLevel["WARN"]=3]="WARN";LogLevel[LogLevel["ERROR"]=4]="ERROR";LogLevel[LogLevel["SILENT"]=5]="SILENT"})(LogLevel$$module$third_party$javascript$firebase$dist$firebase_app||(LogLevel$$module$third_party$javascript$firebase$dist$firebase_app={}));
const levelStringToEnum$$module$third_party$javascript$firebase$dist$firebase_app={"debug":LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.DEBUG,"verbose":LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.VERBOSE,"info":LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.INFO,"warn":LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.WARN,"error":LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.ERROR,"silent":LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.SILENT};
const defaultLogLevel$$module$third_party$javascript$firebase$dist$firebase_app=LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.INFO;
const ConsoleMethod$$module$third_party$javascript$firebase$dist$firebase_app={[LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.DEBUG]:"log",[LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.VERBOSE]:"log",[LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.INFO]:"info",[LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.WARN]:"warn",[LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.ERROR]:"error"};
const defaultLogHandler$$module$third_party$javascript$firebase$dist$firebase_app=(instance,logType,...args)=>{if(logType<instance.logLevel)return;const now=(new Date).toISOString();const method=ConsoleMethod$$module$third_party$javascript$firebase$dist$firebase_app[logType];if(method)console[method](`[${now}]  ${instance.name}:`,...args);else throw new Error(`Attempted to log a message with an invalid logType (value: ${logType})`);};
class Logger$$module$third_party$javascript$firebase$dist$firebase_app{constructor(name){this.name=name;this._logLevel=defaultLogLevel$$module$third_party$javascript$firebase$dist$firebase_app;this._logHandler=defaultLogHandler$$module$third_party$javascript$firebase$dist$firebase_app;this._userLogHandler=null;instances$$module$third_party$javascript$firebase$dist$firebase_app.push(this)}get logLevel(){return this._logLevel}set logLevel(val){if(!(val in LogLevel$$module$third_party$javascript$firebase$dist$firebase_app))throw new TypeError(`Invalid value "${val}" assigned to \`logLevel\``);
this._logLevel=val}setLogLevel(val){this._logLevel=typeof val==="string"?levelStringToEnum$$module$third_party$javascript$firebase$dist$firebase_app[val]:val}get logHandler(){return this._logHandler}set logHandler(val){if(typeof val!=="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=val}get userLogHandler(){return this._userLogHandler}set userLogHandler(val){this._userLogHandler=val}debug(...args){this._userLogHandler&&this._userLogHandler(this,
LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.DEBUG,...args);this._logHandler(this,LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.DEBUG,...args)}log(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.VERBOSE,...args);this._logHandler(this,LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.VERBOSE,...args)}info(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.INFO,
...args);this._logHandler(this,LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.INFO,...args)}warn(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.WARN,...args);this._logHandler(this,LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.WARN,...args)}error(...args){this._userLogHandler&&this._userLogHandler(this,LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.ERROR,...args);
this._logHandler(this,LogLevel$$module$third_party$javascript$firebase$dist$firebase_app.ERROR,...args)}}function setLogLevel$1$$module$third_party$javascript$firebase$dist$firebase_app(level){instances$$module$third_party$javascript$firebase$dist$firebase_app.forEach(inst=>{inst.setLogLevel(level)})}
function setUserLogHandler$$module$third_party$javascript$firebase$dist$firebase_app(logCallback,options){for(const instance of instances$$module$third_party$javascript$firebase$dist$firebase_app){let customLogLevel=null;if(options&&options.level)customLogLevel=levelStringToEnum$$module$third_party$javascript$firebase$dist$firebase_app[options.level];if(logCallback===null)instance.userLogHandler=null;else instance.userLogHandler=(instance,level,...args)=>{const message=args.map(arg=>{if(arg==null)return null;
else if(typeof arg==="string")return arg;else if(typeof arg==="number"||typeof arg==="boolean")return arg.toString();else if(arg instanceof Error)return arg.message;else try{return JSON.stringify(arg)}catch(ignored){return null}}).filter(arg=>{return arg}).join(" ");if(level>=(customLogLevel!==null&&customLogLevel!==void 0?customLogLevel:instance.logLevel))logCallback({level:LogLevel$$module$third_party$javascript$firebase$dist$firebase_app[level].toLowerCase(),message,args,type:instance.name})}}}
const instanceOfAny$$module$third_party$javascript$firebase$dist$firebase_app=(object,constructors)=>{return constructors.some(c=>{return object instanceof c})};let idbProxyableTypes$$module$third_party$javascript$firebase$dist$firebase_app;let cursorAdvanceMethods$$module$third_party$javascript$firebase$dist$firebase_app;
function getIdbProxyableTypes$$module$third_party$javascript$firebase$dist$firebase_app(){return idbProxyableTypes$$module$third_party$javascript$firebase$dist$firebase_app||(idbProxyableTypes$$module$third_party$javascript$firebase$dist$firebase_app=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}
function getCursorAdvanceMethods$$module$third_party$javascript$firebase$dist$firebase_app(){return cursorAdvanceMethods$$module$third_party$javascript$firebase$dist$firebase_app||(cursorAdvanceMethods$$module$third_party$javascript$firebase$dist$firebase_app=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap$$module$third_party$javascript$firebase$dist$firebase_app=new WeakMap;
const transactionDoneMap$$module$third_party$javascript$firebase$dist$firebase_app=new WeakMap;const transactionStoreNamesMap$$module$third_party$javascript$firebase$dist$firebase_app=new WeakMap;const transformCache$$module$third_party$javascript$firebase$dist$firebase_app=new WeakMap;const reverseTransformCache$$module$third_party$javascript$firebase$dist$firebase_app=new WeakMap;
function promisifyRequest$$module$third_party$javascript$firebase$dist$firebase_app(request){const promise=new Promise((resolve,reject)=>{const unlisten=()=>{request.removeEventListener("success",success);request.removeEventListener("error",error)};const success=()=>{resolve(wrap$$module$third_party$javascript$firebase$dist$firebase_app(request.result));unlisten()};const error=()=>{reject(request.error);unlisten()};request.addEventListener("success",success);request.addEventListener("error",error)});
promise.then(value=>{if(value instanceof IDBCursor)cursorRequestMap$$module$third_party$javascript$firebase$dist$firebase_app.set(value,request)}).catch(()=>{});reverseTransformCache$$module$third_party$javascript$firebase$dist$firebase_app.set(promise,request);return promise}
function cacheDonePromiseForTransaction$$module$third_party$javascript$firebase$dist$firebase_app(tx){if(transactionDoneMap$$module$third_party$javascript$firebase$dist$firebase_app.has(tx))return;const done=new Promise((resolve,reject)=>{const unlisten=()=>{tx.removeEventListener("complete",complete);tx.removeEventListener("error",error);tx.removeEventListener("abort",error)};const complete=()=>{resolve();unlisten()};const error=()=>{reject(tx.error||new DOMException("AbortError","AbortError"));
unlisten()};tx.addEventListener("complete",complete);tx.addEventListener("error",error);tx.addEventListener("abort",error)});transactionDoneMap$$module$third_party$javascript$firebase$dist$firebase_app.set(tx,done)}
let idbProxyTraps$$module$third_party$javascript$firebase$dist$firebase_app={get(target,prop,receiver){if(target instanceof IDBTransaction){if(prop==="done")return transactionDoneMap$$module$third_party$javascript$firebase$dist$firebase_app.get(target);if(prop==="objectStoreNames")return target.objectStoreNames||transactionStoreNamesMap$$module$third_party$javascript$firebase$dist$firebase_app.get(target);if(prop==="store")return receiver.objectStoreNames[1]?undefined:receiver.objectStore(receiver.objectStoreNames[0])}return wrap$$module$third_party$javascript$firebase$dist$firebase_app(target[prop])},
set(target,prop,value){target[prop]=value;return true},has(target,prop){if(target instanceof IDBTransaction&&(prop==="done"||prop==="store"))return true;return prop in target}};function replaceTraps$$module$third_party$javascript$firebase$dist$firebase_app(callback){idbProxyTraps$$module$third_party$javascript$firebase$dist$firebase_app=callback(idbProxyTraps$$module$third_party$javascript$firebase$dist$firebase_app)}
function wrapFunction$$module$third_party$javascript$firebase$dist$firebase_app(func){if(func===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype))return function(storeNames,...args){const tx=func.call(unwrap$$module$third_party$javascript$firebase$dist$firebase_app(this),storeNames,...args);transactionStoreNamesMap$$module$third_party$javascript$firebase$dist$firebase_app.set(tx,storeNames.sort?storeNames.sort():[storeNames]);return wrap$$module$third_party$javascript$firebase$dist$firebase_app(tx)};
if(getCursorAdvanceMethods$$module$third_party$javascript$firebase$dist$firebase_app().includes(func))return function(...args){func.apply(unwrap$$module$third_party$javascript$firebase$dist$firebase_app(this),args);return wrap$$module$third_party$javascript$firebase$dist$firebase_app(cursorRequestMap$$module$third_party$javascript$firebase$dist$firebase_app.get(this))};return function(...args){return wrap$$module$third_party$javascript$firebase$dist$firebase_app(func.apply(unwrap$$module$third_party$javascript$firebase$dist$firebase_app(this),
args))}}
function transformCachableValue$$module$third_party$javascript$firebase$dist$firebase_app(value){if(typeof value==="function")return wrapFunction$$module$third_party$javascript$firebase$dist$firebase_app(value);if(value instanceof IDBTransaction)cacheDonePromiseForTransaction$$module$third_party$javascript$firebase$dist$firebase_app(value);if(instanceOfAny$$module$third_party$javascript$firebase$dist$firebase_app(value,getIdbProxyableTypes$$module$third_party$javascript$firebase$dist$firebase_app()))return new Proxy(value,idbProxyTraps$$module$third_party$javascript$firebase$dist$firebase_app);
return value}
function wrap$$module$third_party$javascript$firebase$dist$firebase_app(value){if(value instanceof IDBRequest)return promisifyRequest$$module$third_party$javascript$firebase$dist$firebase_app(value);if(transformCache$$module$third_party$javascript$firebase$dist$firebase_app.has(value))return transformCache$$module$third_party$javascript$firebase$dist$firebase_app.get(value);const newValue=transformCachableValue$$module$third_party$javascript$firebase$dist$firebase_app(value);if(newValue!==value){transformCache$$module$third_party$javascript$firebase$dist$firebase_app.set(value,
newValue);reverseTransformCache$$module$third_party$javascript$firebase$dist$firebase_app.set(newValue,value)}return newValue}const unwrap$$module$third_party$javascript$firebase$dist$firebase_app=value=>{return reverseTransformCache$$module$third_party$javascript$firebase$dist$firebase_app.get(value)};
function openDB$$module$third_party$javascript$firebase$dist$firebase_app(name,version,{blocked,upgrade,blocking,terminated}={}){const request=indexedDB.open(name,version);const openPromise=wrap$$module$third_party$javascript$firebase$dist$firebase_app(request);if(upgrade)request.addEventListener("upgradeneeded",event=>{upgrade(wrap$$module$third_party$javascript$firebase$dist$firebase_app(request.result),event.oldVersion,event.newVersion,wrap$$module$third_party$javascript$firebase$dist$firebase_app(request.transaction),
event)});if(blocked)request.addEventListener("blocked",event=>{return blocked(event.oldVersion,event.newVersion,event)});openPromise.then(db=>{if(terminated)db.addEventListener("close",()=>{return terminated()});if(blocking)db.addEventListener("versionchange",event=>{return blocking(event.oldVersion,event.newVersion,event)})}).catch(()=>{});return openPromise}const readMethods$$module$third_party$javascript$firebase$dist$firebase_app=["get","getKey","getAll","getAllKeys","count"];
const writeMethods$$module$third_party$javascript$firebase$dist$firebase_app=["put","add","delete","clear"];const cachedMethods$$module$third_party$javascript$firebase$dist$firebase_app=new Map;
function getMethod$$module$third_party$javascript$firebase$dist$firebase_app(target,prop){if(!(target instanceof IDBDatabase&&!(prop in target)&&typeof prop==="string"))return;if(cachedMethods$$module$third_party$javascript$firebase$dist$firebase_app.get(prop))return cachedMethods$$module$third_party$javascript$firebase$dist$firebase_app.get(prop);const targetFuncName=prop.replace(/FromIndex$/,"");const useIndex=prop!==targetFuncName;const isWrite=writeMethods$$module$third_party$javascript$firebase$dist$firebase_app.includes(targetFuncName);
if(!(targetFuncName in(useIndex?IDBIndex:IDBObjectStore).prototype)||!(isWrite||readMethods$$module$third_party$javascript$firebase$dist$firebase_app.includes(targetFuncName)))return;const method=async function(storeName,...args){const tx=this.transaction(storeName,isWrite?"readwrite":"readonly");let target=tx.store;if(useIndex)target=target.index(args.shift());return(await Promise.all([target[targetFuncName](...args),isWrite&&tx.done]))[0]};cachedMethods$$module$third_party$javascript$firebase$dist$firebase_app.set(prop,
method);return method}replaceTraps$$module$third_party$javascript$firebase$dist$firebase_app(oldTraps=>{return Object.assign({},oldTraps,{get:(target,prop,receiver)=>{return getMethod$$module$third_party$javascript$firebase$dist$firebase_app(target,prop)||oldTraps.get(target,prop,receiver)},has:(target,prop)=>{return!!getMethod$$module$third_party$javascript$firebase$dist$firebase_app(target,prop)||oldTraps.has(target,prop)}})});
class PlatformLoggerServiceImpl$$module$third_party$javascript$firebase$dist$firebase_app{constructor(container){this.container=container}getPlatformInfoString(){const providers=this.container.getProviders();return providers.map(provider=>{if(isVersionServiceProvider$$module$third_party$javascript$firebase$dist$firebase_app(provider)){const service=provider.getImmediate();return`${service.library}/${service.version}`}else return null}).filter(logString=>{return logString}).join(" ")}}
function isVersionServiceProvider$$module$third_party$javascript$firebase$dist$firebase_app(provider){const component=provider.getComponent();return(component===null||component===void 0?void 0:component.type)==="VERSION"}const name$o$$module$third_party$javascript$firebase$dist$firebase_app="./firebase-app.js";const version$1$$module$third_party$javascript$firebase$dist$firebase_app="0.9.22";const logger$$module$third_party$javascript$firebase$dist$firebase_app=new Logger$$module$third_party$javascript$firebase$dist$firebase_app("./firebase-app.js");
const name$n$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/app-compat";const name$m$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/analytics-compat";const name$l$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/analytics";const name$k$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/app-check-compat";const name$j$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/app-check";
const name$i$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/auth";const name$h$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/auth-compat";const name$g$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/database";const name$f$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/database-compat";const name$e$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/functions";
const name$d$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/functions-compat";const name$c$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/installations";const name$b$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/installations-compat";const name$a$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/messaging";const name$9$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/messaging-compat";
const name$8$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/performance";const name$7$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/performance-compat";const name$6$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/remote-config";const name$5$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/remote-config-compat";const name$4$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/storage";
const name$3$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/storage-compat";const name$2$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/firestore";const name$1$$module$third_party$javascript$firebase$dist$firebase_app="@firebase/firestore-compat";const name$p$$module$third_party$javascript$firebase$dist$firebase_app="firebase";const version$2$$module$third_party$javascript$firebase$dist$firebase_app="10.5.2";
const DEFAULT_ENTRY_NAME$$module$third_party$javascript$firebase$dist$firebase_app="[DEFAULT]";
const PLATFORM_LOG_STRING$$module$third_party$javascript$firebase$dist$firebase_app={[name$o$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-core",[name$n$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-core-compat",[name$l$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-analytics",[name$m$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-analytics-compat",[name$j$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-app-check",
[name$k$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-app-check-compat",[name$i$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-auth",[name$h$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-auth-compat",[name$g$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-rtdb",[name$f$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-rtdb-compat",[name$e$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-fn",[name$d$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-fn-compat",
[name$c$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-iid",[name$b$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-iid-compat",[name$a$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-fcm",[name$9$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-fcm-compat",[name$8$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-perf",[name$7$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-perf-compat",[name$6$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-rc",
[name$5$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-rc-compat",[name$4$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-gcs",[name$3$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-gcs-compat",[name$2$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-fst",[name$1$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-fst-compat","fire-js":"fire-js",[name$p$$module$third_party$javascript$firebase$dist$firebase_app]:"fire-js-all"};
const _apps$$module$third_party$javascript$firebase$dist$firebase_app=new Map;const _components$$module$third_party$javascript$firebase$dist$firebase_app=new Map;function _addComponent$$module$third_party$javascript$firebase$dist$firebase_app(app,component){try{app.container.addComponent(component)}catch(e){logger$$module$third_party$javascript$firebase$dist$firebase_app.debug(`Component ${component.name} failed to register with FirebaseApp ${app.name}`,e)}}
function _addOrOverwriteComponent$$module$third_party$javascript$firebase$dist$firebase_app(app,component){app.container.addOrOverwriteComponent(component)}
function _registerComponent$$module$third_party$javascript$firebase$dist$firebase_app(component){const componentName=component.name;if(_components$$module$third_party$javascript$firebase$dist$firebase_app.has(componentName)){logger$$module$third_party$javascript$firebase$dist$firebase_app.debug(`There were multiple attempts to register component ${componentName}.`);return false}_components$$module$third_party$javascript$firebase$dist$firebase_app.set(componentName,component);for(const app of _apps$$module$third_party$javascript$firebase$dist$firebase_app.values())_addComponent$$module$third_party$javascript$firebase$dist$firebase_app(app,
component);return true}function _getProvider$$module$third_party$javascript$firebase$dist$firebase_app(app,name){const heartbeatController=app.container.getProvider("heartbeat").getImmediate({optional:true});if(heartbeatController)void heartbeatController.triggerHeartbeat();return app.container.getProvider(name)}
function _removeServiceInstance$$module$third_party$javascript$firebase$dist$firebase_app(app,name,instanceIdentifier=DEFAULT_ENTRY_NAME$$module$third_party$javascript$firebase$dist$firebase_app){_getProvider$$module$third_party$javascript$firebase$dist$firebase_app(app,name).clearInstance(instanceIdentifier)}function _clearComponents$$module$third_party$javascript$firebase$dist$firebase_app(){_components$$module$third_party$javascript$firebase$dist$firebase_app.clear()}
const ERRORS$$module$third_party$javascript$firebase$dist$firebase_app={["no-app"]:"No Firebase App '{$appName}' has been created - "+"call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a "+
"Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."};
const ERROR_FACTORY$$module$third_party$javascript$firebase$dist$firebase_app=new ErrorFactory$$module$third_party$javascript$firebase$dist$firebase_app("app","Firebase",ERRORS$$module$third_party$javascript$firebase$dist$firebase_app);
class FirebaseAppImpl$$module$third_party$javascript$firebase$dist$firebase_app{constructor(options,config,container){this._isDeleted=false;this._options=Object.assign({},options);this._config=Object.assign({},config);this._name=config.name;this._automaticDataCollectionEnabled=config.automaticDataCollectionEnabled;this._container=container;this.container.addComponent(new Component$$module$third_party$javascript$firebase$dist$firebase_app("app",()=>{return this},"PUBLIC"))}get automaticDataCollectionEnabled(){this.checkDestroyed();
return this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(val){this.checkDestroyed();this._automaticDataCollectionEnabled=val}get name(){this.checkDestroyed();return this._name}get options(){this.checkDestroyed();return this._options}get config(){this.checkDestroyed();return this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(val){this._isDeleted=val}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$$module$third_party$javascript$firebase$dist$firebase_app.create("app-deleted",
{appName:this._name});}}const SDK_VERSION$$module$third_party$javascript$firebase$dist$firebase_app=version$2$$module$third_party$javascript$firebase$dist$firebase_app;
function initializeApp$$module$third_party$javascript$firebase$dist$firebase_app(_options,rawConfig={}){let options=_options;if(typeof rawConfig!=="object"){const name=rawConfig;rawConfig={name}}const config=Object.assign({name:DEFAULT_ENTRY_NAME$$module$third_party$javascript$firebase$dist$firebase_app,automaticDataCollectionEnabled:false},rawConfig);const name=config.name;if(typeof name!=="string"||!name)throw ERROR_FACTORY$$module$third_party$javascript$firebase$dist$firebase_app.create("bad-app-name",
{appName:String(name)});options||(options=getDefaultAppConfig$$module$third_party$javascript$firebase$dist$firebase_app());if(!options)throw ERROR_FACTORY$$module$third_party$javascript$firebase$dist$firebase_app.create("no-options");const existingApp=_apps$$module$third_party$javascript$firebase$dist$firebase_app.get(name);if(existingApp)if(deepEqual$$module$third_party$javascript$firebase$dist$firebase_app(options,existingApp.options)&&deepEqual$$module$third_party$javascript$firebase$dist$firebase_app(config,
existingApp.config))return existingApp;else throw ERROR_FACTORY$$module$third_party$javascript$firebase$dist$firebase_app.create("duplicate-app",{appName:name});const container=new ComponentContainer$$module$third_party$javascript$firebase$dist$firebase_app(name);for(const component of _components$$module$third_party$javascript$firebase$dist$firebase_app.values())container.addComponent(component);const newApp=new FirebaseAppImpl$$module$third_party$javascript$firebase$dist$firebase_app(options,config,
container);_apps$$module$third_party$javascript$firebase$dist$firebase_app.set(name,newApp);return newApp}
function getApp$$module$third_party$javascript$firebase$dist$firebase_app(name=DEFAULT_ENTRY_NAME$$module$third_party$javascript$firebase$dist$firebase_app){const app=_apps$$module$third_party$javascript$firebase$dist$firebase_app.get(name);if(!app&&name===DEFAULT_ENTRY_NAME$$module$third_party$javascript$firebase$dist$firebase_app&&getDefaultAppConfig$$module$third_party$javascript$firebase$dist$firebase_app())return initializeApp$$module$third_party$javascript$firebase$dist$firebase_app();if(!app)throw ERROR_FACTORY$$module$third_party$javascript$firebase$dist$firebase_app.create("no-app",
{appName:name});return app}function getApps$$module$third_party$javascript$firebase$dist$firebase_app(){return Array.from(_apps$$module$third_party$javascript$firebase$dist$firebase_app.values())}
async function deleteApp$$module$third_party$javascript$firebase$dist$firebase_app(app){const name=app.name;if(_apps$$module$third_party$javascript$firebase$dist$firebase_app.has(name)){_apps$$module$third_party$javascript$firebase$dist$firebase_app.delete(name);await Promise.all(app.container.getProviders().map(provider=>{return provider.delete()}));app.isDeleted=true}}
function registerVersion$$module$third_party$javascript$firebase$dist$firebase_app(libraryKeyOrName,version,variant){var _a;let library=(_a=PLATFORM_LOG_STRING$$module$third_party$javascript$firebase$dist$firebase_app[libraryKeyOrName])!==null&&_a!==void 0?_a:libraryKeyOrName;if(variant)library=library+`-${variant}`;const libraryMismatch=library.match(/\s|\//);const versionMismatch=version.match(/\s|\//);if(libraryMismatch||versionMismatch){const warning=[`Unable to register library "${library}" with version "${version}":`];
if(libraryMismatch)warning.push(`library name "${library}" contains illegal characters (whitespace or "/")`);if(libraryMismatch&&versionMismatch)warning.push("and");if(versionMismatch)warning.push(`version name "${version}" contains illegal characters (whitespace or "/")`);logger$$module$third_party$javascript$firebase$dist$firebase_app.warn(warning.join(" "));return}_registerComponent$$module$third_party$javascript$firebase$dist$firebase_app(new Component$$module$third_party$javascript$firebase$dist$firebase_app(`${library}-version`,
()=>{return{library,version}},"VERSION"))}function onLog$$module$third_party$javascript$firebase$dist$firebase_app(logCallback,options){if(logCallback!==null&&typeof logCallback!=="function")throw ERROR_FACTORY$$module$third_party$javascript$firebase$dist$firebase_app.create("invalid-log-argument");setUserLogHandler$$module$third_party$javascript$firebase$dist$firebase_app(logCallback,options)}
function setLogLevel$$module$third_party$javascript$firebase$dist$firebase_app(logLevel){setLogLevel$1$$module$third_party$javascript$firebase$dist$firebase_app(logLevel)}const DB_NAME$$module$third_party$javascript$firebase$dist$firebase_app="firebase-heartbeat-database";const DB_VERSION$$module$third_party$javascript$firebase$dist$firebase_app=1;const STORE_NAME$$module$third_party$javascript$firebase$dist$firebase_app="firebase-heartbeat-store";
let dbPromise$$module$third_party$javascript$firebase$dist$firebase_app=null;
function getDbPromise$$module$third_party$javascript$firebase$dist$firebase_app(){if(!dbPromise$$module$third_party$javascript$firebase$dist$firebase_app)dbPromise$$module$third_party$javascript$firebase$dist$firebase_app=openDB$$module$third_party$javascript$firebase$dist$firebase_app(DB_NAME$$module$third_party$javascript$firebase$dist$firebase_app,DB_VERSION$$module$third_party$javascript$firebase$dist$firebase_app,{upgrade:(db,oldVersion)=>{switch(oldVersion){case 0:db.createObjectStore(STORE_NAME$$module$third_party$javascript$firebase$dist$firebase_app)}}}).catch(e=>
{throw ERROR_FACTORY$$module$third_party$javascript$firebase$dist$firebase_app.create("idb-open",{originalErrorMessage:e.message});});return dbPromise$$module$third_party$javascript$firebase$dist$firebase_app}
async function readHeartbeatsFromIndexedDB$$module$third_party$javascript$firebase$dist$firebase_app(app){try{const db=await getDbPromise$$module$third_party$javascript$firebase$dist$firebase_app();const result=await db.transaction(STORE_NAME$$module$third_party$javascript$firebase$dist$firebase_app).objectStore(STORE_NAME$$module$third_party$javascript$firebase$dist$firebase_app).get(computeKey$$module$third_party$javascript$firebase$dist$firebase_app(app));return result}catch(e){if(e instanceof
FirebaseError$$module$third_party$javascript$firebase$dist$firebase_app)logger$$module$third_party$javascript$firebase$dist$firebase_app.warn(e.message);else{const idbGetError=ERROR_FACTORY$$module$third_party$javascript$firebase$dist$firebase_app.create("idb-get",{originalErrorMessage:e===null||e===void 0?void 0:e.message});logger$$module$third_party$javascript$firebase$dist$firebase_app.warn(idbGetError.message)}}}
async function writeHeartbeatsToIndexedDB$$module$third_party$javascript$firebase$dist$firebase_app(app,heartbeatObject){try{const db=await getDbPromise$$module$third_party$javascript$firebase$dist$firebase_app();const tx=db.transaction(STORE_NAME$$module$third_party$javascript$firebase$dist$firebase_app,"readwrite");const objectStore=tx.objectStore(STORE_NAME$$module$third_party$javascript$firebase$dist$firebase_app);await objectStore.put(heartbeatObject,computeKey$$module$third_party$javascript$firebase$dist$firebase_app(app));
await tx.done}catch(e){if(e instanceof FirebaseError$$module$third_party$javascript$firebase$dist$firebase_app)logger$$module$third_party$javascript$firebase$dist$firebase_app.warn(e.message);else{const idbGetError=ERROR_FACTORY$$module$third_party$javascript$firebase$dist$firebase_app.create("idb-set",{originalErrorMessage:e===null||e===void 0?void 0:e.message});logger$$module$third_party$javascript$firebase$dist$firebase_app.warn(idbGetError.message)}}}
function computeKey$$module$third_party$javascript$firebase$dist$firebase_app(app){return`${app.name}!${app.options.appId}`}const MAX_HEADER_BYTES$$module$third_party$javascript$firebase$dist$firebase_app=1024;const STORED_HEARTBEAT_RETENTION_MAX_MILLIS$$module$third_party$javascript$firebase$dist$firebase_app=30*24*60*60*1E3;
class HeartbeatServiceImpl$$module$third_party$javascript$firebase$dist$firebase_app{constructor(container){this.container=container;this._heartbeatsCache=null;const app=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl$$module$third_party$javascript$firebase$dist$firebase_app(app);this._heartbeatsCachePromise=this._storage.read().then(result=>{this._heartbeatsCache=result;return result})}async triggerHeartbeat(){const platformLogger=this.container.getProvider("platform-logger").getImmediate();
const agent=platformLogger.getPlatformInfoString();const date=getUTCDateString$$module$third_party$javascript$firebase$dist$firebase_app();if(this._heartbeatsCache===null)this._heartbeatsCache=await this._heartbeatsCachePromise;if(this._heartbeatsCache.lastSentHeartbeatDate===date||this._heartbeatsCache.heartbeats.some(singleDateHeartbeat=>{return singleDateHeartbeat.date===date}))return;else this._heartbeatsCache.heartbeats.push({date,agent});this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(singleDateHeartbeat=>
{const hbTimestamp=(new Date(singleDateHeartbeat.date)).valueOf();const now=Date.now();return now-hbTimestamp<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS$$module$third_party$javascript$firebase$dist$firebase_app});return this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null)await this._heartbeatsCachePromise;if(this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const date=getUTCDateString$$module$third_party$javascript$firebase$dist$firebase_app();
const {heartbeatsToSend,unsentEntries}=extractHeartbeatsForHeader$$module$third_party$javascript$firebase$dist$firebase_app(this._heartbeatsCache.heartbeats);const headerString=base64urlEncodeWithoutPadding$$module$third_party$javascript$firebase$dist$firebase_app(JSON.stringify({version:2,heartbeats:heartbeatsToSend}));this._heartbeatsCache.lastSentHeartbeatDate=date;if(unsentEntries.length>0){this._heartbeatsCache.heartbeats=unsentEntries;await this._storage.overwrite(this._heartbeatsCache)}else{this._heartbeatsCache.heartbeats=
[];void this._storage.overwrite(this._heartbeatsCache)}return headerString}}function getUTCDateString$$module$third_party$javascript$firebase$dist$firebase_app(){const today=new Date;return today.toISOString().substring(0,10)}
function extractHeartbeatsForHeader$$module$third_party$javascript$firebase$dist$firebase_app(heartbeatsCache,maxSize=MAX_HEADER_BYTES$$module$third_party$javascript$firebase$dist$firebase_app){const heartbeatsToSend=[];let unsentEntries=heartbeatsCache.slice();for(const singleDateHeartbeat of heartbeatsCache){const heartbeatEntry=heartbeatsToSend.find(hb=>{return hb.agent===singleDateHeartbeat.agent});if(!heartbeatEntry){heartbeatsToSend.push({agent:singleDateHeartbeat.agent,dates:[singleDateHeartbeat.date]});
if(countBytes$$module$third_party$javascript$firebase$dist$firebase_app(heartbeatsToSend)>maxSize){heartbeatsToSend.pop();break}}else{heartbeatEntry.dates.push(singleDateHeartbeat.date);if(countBytes$$module$third_party$javascript$firebase$dist$firebase_app(heartbeatsToSend)>maxSize){heartbeatEntry.dates.pop();break}}unsentEntries=unsentEntries.slice(1)}return{heartbeatsToSend,unsentEntries}}
class HeartbeatStorageImpl$$module$third_party$javascript$firebase$dist$firebase_app{constructor(app){this.app=app;this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!isIndexedDBAvailable$$module$third_party$javascript$firebase$dist$firebase_app())return false;else return validateIndexedDBOpenable$$module$third_party$javascript$firebase$dist$firebase_app().then(()=>{return true}).catch(()=>{return false})}async read(){const canUseIndexedDB=await this._canUseIndexedDBPromise;
if(!canUseIndexedDB)return{heartbeats:[]};else{const idbHeartbeatObject=await readHeartbeatsFromIndexedDB$$module$third_party$javascript$firebase$dist$firebase_app(this.app);return idbHeartbeatObject||{heartbeats:[]}}}async overwrite(heartbeatsObject){var _a;const canUseIndexedDB=await this._canUseIndexedDBPromise;if(!canUseIndexedDB)return;else{const existingHeartbeatsObject=await this.read();return writeHeartbeatsToIndexedDB$$module$third_party$javascript$firebase$dist$firebase_app(this.app,{lastSentHeartbeatDate:(_a=
heartbeatsObject.lastSentHeartbeatDate)!==null&&_a!==void 0?_a:existingHeartbeatsObject.lastSentHeartbeatDate,heartbeats:heartbeatsObject.heartbeats})}}async add(heartbeatsObject){var _a;const canUseIndexedDB=await this._canUseIndexedDBPromise;if(!canUseIndexedDB)return;else{const existingHeartbeatsObject=await this.read();return writeHeartbeatsToIndexedDB$$module$third_party$javascript$firebase$dist$firebase_app(this.app,{lastSentHeartbeatDate:(_a=heartbeatsObject.lastSentHeartbeatDate)!==null&&
_a!==void 0?_a:existingHeartbeatsObject.lastSentHeartbeatDate,heartbeats:[...existingHeartbeatsObject.heartbeats,...heartbeatsObject.heartbeats]})}}}function countBytes$$module$third_party$javascript$firebase$dist$firebase_app(heartbeatsCache){return base64urlEncodeWithoutPadding$$module$third_party$javascript$firebase$dist$firebase_app(JSON.stringify({version:2,heartbeats:heartbeatsCache})).length}
function registerCoreComponents$$module$third_party$javascript$firebase$dist$firebase_app(variant){_registerComponent$$module$third_party$javascript$firebase$dist$firebase_app(new Component$$module$third_party$javascript$firebase$dist$firebase_app("platform-logger",container=>{return new PlatformLoggerServiceImpl$$module$third_party$javascript$firebase$dist$firebase_app(container)},"PRIVATE"));_registerComponent$$module$third_party$javascript$firebase$dist$firebase_app(new Component$$module$third_party$javascript$firebase$dist$firebase_app("heartbeat",
container=>{return new HeartbeatServiceImpl$$module$third_party$javascript$firebase$dist$firebase_app(container)},"PRIVATE"));registerVersion$$module$third_party$javascript$firebase$dist$firebase_app(name$o$$module$third_party$javascript$firebase$dist$firebase_app,version$1$$module$third_party$javascript$firebase$dist$firebase_app,variant);registerVersion$$module$third_party$javascript$firebase$dist$firebase_app(name$o$$module$third_party$javascript$firebase$dist$firebase_app,version$1$$module$third_party$javascript$firebase$dist$firebase_app,
"esm2017");registerVersion$$module$third_party$javascript$firebase$dist$firebase_app("fire-js","")}registerCoreComponents$$module$third_party$javascript$firebase$dist$firebase_app("");var name$$module$third_party$javascript$firebase$dist$firebase_app="firebase";var version$$module$third_party$javascript$firebase$dist$firebase_app="10.5.2";
registerVersion$$module$third_party$javascript$firebase$dist$firebase_app(name$$module$third_party$javascript$firebase$dist$firebase_app,version$$module$third_party$javascript$firebase$dist$firebase_app,"cdn");var module$third_party$javascript$firebase$dist$firebase_app={};module$third_party$javascript$firebase$dist$firebase_app.FirebaseError=FirebaseError$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app.SDK_VERSION=SDK_VERSION$$module$third_party$javascript$firebase$dist$firebase_app;
module$third_party$javascript$firebase$dist$firebase_app._DEFAULT_ENTRY_NAME=DEFAULT_ENTRY_NAME$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app._addComponent=_addComponent$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app._addOrOverwriteComponent=_addOrOverwriteComponent$$module$third_party$javascript$firebase$dist$firebase_app;
module$third_party$javascript$firebase$dist$firebase_app._apps=_apps$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app._clearComponents=_clearComponents$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app._components=_components$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app._getProvider=_getProvider$$module$third_party$javascript$firebase$dist$firebase_app;
module$third_party$javascript$firebase$dist$firebase_app._registerComponent=_registerComponent$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app._removeServiceInstance=_removeServiceInstance$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app.deleteApp=deleteApp$$module$third_party$javascript$firebase$dist$firebase_app;
module$third_party$javascript$firebase$dist$firebase_app.getApp=getApp$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app.getApps=getApps$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app.initializeApp=initializeApp$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app.onLog=onLog$$module$third_party$javascript$firebase$dist$firebase_app;
module$third_party$javascript$firebase$dist$firebase_app.registerVersion=registerVersion$$module$third_party$javascript$firebase$dist$firebase_app;module$third_party$javascript$firebase$dist$firebase_app.setLogLevel=setLogLevel$$module$third_party$javascript$firebase$dist$firebase_app;/*

 Copyright 2023 Google LLC.
 SPDX-License-Identifier: Apache-2.0
*/
const stringToByteArray$1$$module$third_party$javascript$firebase$dist$firebase_firestore=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t};
const o$$module$third_party$javascript$firebase$dist$firebase_firestore={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");
this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;const i=[];for(let t=0;t<e.length;t=t+3){const s=e[t];const o=t+1<e.length;const u=o?e[t+1]:0;const l=t+2<e.length;const _=l?e[t+2]:0;const h=s>>2;const d=(3&s)<<4|u>>4;let m=(15&u)<<2|_>>6;let f=63&_;l||(f=64,o||(m=64)),i.push(n[h],n[d],n[m],n[f])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(stringToByteArray$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e),
t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0;let i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[i++]=String.fromCharCode((31&s)<<6|63&o)}else if(s>239&&s<365){const o=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(o>>10)),t[i++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++];const u=e[n++];t[i++]=String.fromCharCode((15&s)<<12|
(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_;const i=[];for(let t=0;t<e.length;){const s=n[e.charAt(t++)];const o=t<e.length?n[e.charAt(t)]:0;++t;const u=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==s||null==o||null==u||null==l)throw new DecodeBase64StringError$$module$third_party$javascript$firebase$dist$firebase_firestore;const _=s<<
2|o>>4;if(i.push(_),64!==u){const e=o<<4&240|u>>2;if(i.push(e),64!==l){const e=u<<6&192|l;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=
e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DecodeBase64StringError$$module$third_party$javascript$firebase$dist$firebase_firestore extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}
const base64urlEncodeWithoutPadding$$module$third_party$javascript$firebase$dist$firebase_firestore=function(e){return function(e){const t=stringToByteArray$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return o$$module$third_party$javascript$firebase$dist$firebase_firestore.encodeByteArray(t,!0)}(e).replace(/\./g,"")};
const getDefaultsFromGlobal$$module$third_party$javascript$firebase$dist$firebase_firestore=()=>{return function getGlobal(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.");}().__FIREBASE_DEFAULTS__};
const getDefaultsFromCookie$$module$third_party$javascript$firebase$dist$firebase_firestore=()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&function(e){try{return o$$module$third_party$javascript$firebase$dist$firebase_firestore.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(e[1]);return t&&JSON.parse(t)};
const getDefaults$$module$third_party$javascript$firebase$dist$firebase_firestore=()=>{try{return getDefaultsFromGlobal$$module$third_party$javascript$firebase$dist$firebase_firestore()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||getDefaultsFromCookie$$module$third_party$javascript$firebase$dist$firebase_firestore()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}};
const getDefaultEmulatorHostnameAndPort$$module$third_party$javascript$firebase$dist$firebase_firestore=e=>{const t=(e=>{var t;var n;return null===(n=null===(t=getDefaults$$module$third_party$javascript$firebase$dist$firebase_firestore())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,
n-1),i]:[t.substring(0,n),i]};function getUA$$module$third_party$javascript$firebase$dist$firebase_firestore(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
function isSafari$$module$third_party$javascript$firebase$dist$firebase_firestore(){return!function isNode(){var e;const t=null===(e=getDefaults$$module$third_party$javascript$firebase$dist$firebase_firestore())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}
class FirebaseError$$module$third_party$javascript$firebase$dist$firebase_firestore extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,FirebaseError$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.create)}}
class ErrorFactory$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{};const i=`${this.service}/${e}`;const s=this.errors[e];const o=s?function replaceTemplate(e,t){return e.replace(u$$module$third_party$javascript$firebase$dist$firebase_firestore,(e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`})}(s,n):"Error";const l=`${this.serviceName}: ${o} (${i}).`;return new FirebaseError$$module$third_party$javascript$firebase$dist$firebase_firestore(i,
l,n)}}const u$$module$third_party$javascript$firebase$dist$firebase_firestore=/\{\$([^}]+)}/g;
function deepEqual$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(e===t)return!0;const n=Object.keys(e);const i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const n=e[s];const o=t[s];if(isObject$$module$third_party$javascript$firebase$dist$firebase_firestore(n)&&isObject$$module$third_party$javascript$firebase$dist$firebase_firestore(o)){if(!deepEqual$$module$third_party$javascript$firebase$dist$firebase_firestore(n,o))return!1}else if(n!==o)return!1}for(const e of i)if(!n.includes(e))return!1;
return!0}function isObject$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return null!==e&&"object"==typeof e}function getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e&&e._delegate?e._delegate:e}
class Component$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}var l$$module$third_party$javascript$firebase$dist$firebase_firestore;
!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(l$$module$third_party$javascript$firebase$dist$firebase_firestore||(l$$module$third_party$javascript$firebase$dist$firebase_firestore={}));
const _$$module$third_party$javascript$firebase$dist$firebase_firestore={debug:l$$module$third_party$javascript$firebase$dist$firebase_firestore.DEBUG,verbose:l$$module$third_party$javascript$firebase$dist$firebase_firestore.VERBOSE,info:l$$module$third_party$javascript$firebase$dist$firebase_firestore.INFO,warn:l$$module$third_party$javascript$firebase$dist$firebase_firestore.WARN,error:l$$module$third_party$javascript$firebase$dist$firebase_firestore.ERROR,silent:l$$module$third_party$javascript$firebase$dist$firebase_firestore.SILENT};
const h$$module$third_party$javascript$firebase$dist$firebase_firestore=l$$module$third_party$javascript$firebase$dist$firebase_firestore.INFO;
const d$$module$third_party$javascript$firebase$dist$firebase_firestore={[l$$module$third_party$javascript$firebase$dist$firebase_firestore.DEBUG]:"log",[l$$module$third_party$javascript$firebase$dist$firebase_firestore.VERBOSE]:"log",[l$$module$third_party$javascript$firebase$dist$firebase_firestore.INFO]:"info",[l$$module$third_party$javascript$firebase$dist$firebase_firestore.WARN]:"warn",[l$$module$third_party$javascript$firebase$dist$firebase_firestore.ERROR]:"error"};
const defaultLogHandler$$module$third_party$javascript$firebase$dist$firebase_firestore=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString();const s=d$$module$third_party$javascript$firebase$dist$firebase_firestore[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${i}]  ${e.name}:`,...n)};var m$$module$third_party$javascript$firebase$dist$firebase_firestore;
var f$$module$third_party$javascript$firebase$dist$firebase_firestore="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var g$$module$third_party$javascript$firebase$dist$firebase_firestore=g$$module$third_party$javascript$firebase$dist$firebase_firestore||{};var E$$module$third_party$javascript$firebase$dist$firebase_firestore=f$$module$third_party$javascript$firebase$dist$firebase_firestore||self;
function aa$$module$third_party$javascript$firebase$dist$firebase_firestore(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function p$$module$third_party$javascript$firebase$dist$firebase_firestore(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var V$$module$third_party$javascript$firebase$dist$firebase_firestore="closure_uid_"+(1E9*Math.random()>>>0);
var b$$module$third_party$javascript$firebase$dist$firebase_firestore=0;function ea$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){return e.call.apply(e.bind,arguments)}
function fa$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}
function q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){return(q$1$$module$third_party$javascript$firebase$dist$firebase_firestore=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea$$module$third_party$javascript$firebase$dist$firebase_firestore:fa$$module$third_party$javascript$firebase$dist$firebase_firestore).apply(null,arguments)}
function ha$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}
function r$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){function c(){}c.prototype=t.prototype,e.$=t.prototype,e.prototype=new c,e.prototype.constructor=e,e.ac=function(e,n,i){var s=Array(arguments.length-2);var o=2;for(;o<arguments.length;o++)s[o-2]=arguments[o];return t.prototype[n].apply(e,s)}}function v$1$$module$third_party$javascript$firebase$dist$firebase_firestore(){this.s=this.s,this.o=this.o}
v$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.s=!1,v$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ba(e){return Object.prototype.hasOwnProperty.call(e,V$$module$third_party$javascript$firebase$dist$firebase_firestore)&&e[V$$module$third_party$javascript$firebase$dist$firebase_firestore]||(e[V$$module$third_party$javascript$firebase$dist$firebase_firestore]=++b$$module$third_party$javascript$firebase$dist$firebase_firestore)}(this)},
v$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S$$module$third_party$javascript$firebase$dist$firebase_firestore=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};
function ma$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function na$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(aa$$module$third_party$javascript$firebase$dist$firebase_firestore(n)){const t=e.length||0;const i=n.length||0;e.length=t+i;for(let s=0;s<i;s++)e[t+s]=n[s]}else e.push(n)}}
function w$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}w$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.h=function(){this.defaultPrevented=!0};
var v$$module$third_party$javascript$firebase$dist$firebase_firestore=function(){if(!E$$module$third_party$javascript$firebase$dist$firebase_firestore.addEventListener||!Object.defineProperty)return!1;var e=!1;var t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{E$$module$third_party$javascript$firebase$dist$firebase_firestore.addEventListener("test",()=>{},t),E$$module$third_party$javascript$firebase$dist$firebase_firestore.removeEventListener("test",()=>{},t)}catch(e){}return e}();
function x$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return/^[\s\xa0]*$/.test(e)}function pa$$module$third_party$javascript$firebase$dist$firebase_firestore(){var e=E$$module$third_party$javascript$firebase$dist$firebase_firestore.navigator;return e&&(e=e.userAgent)?e:""}function y$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return-1!=pa$$module$third_party$javascript$firebase$dist$firebase_firestore().indexOf(e)}
function qa$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return qa$$module$third_party$javascript$firebase$dist$firebase_firestore[" "](e),e}qa$$module$third_party$javascript$firebase$dist$firebase_firestore[" "]=function(){};var D$$module$third_party$javascript$firebase$dist$firebase_firestore;var C$$module$third_party$javascript$firebase$dist$firebase_firestore;var F$$module$third_party$javascript$firebase$dist$firebase_firestore;
var x$$module$third_party$javascript$firebase$dist$firebase_firestore=y$$module$third_party$javascript$firebase$dist$firebase_firestore("Opera");var N$$module$third_party$javascript$firebase$dist$firebase_firestore=y$$module$third_party$javascript$firebase$dist$firebase_firestore("Trident")||y$$module$third_party$javascript$firebase$dist$firebase_firestore("MSIE");var M$$module$third_party$javascript$firebase$dist$firebase_firestore=y$$module$third_party$javascript$firebase$dist$firebase_firestore("Edge");
var k$$module$third_party$javascript$firebase$dist$firebase_firestore=M$$module$third_party$javascript$firebase$dist$firebase_firestore||N$$module$third_party$javascript$firebase$dist$firebase_firestore;
var O$$module$third_party$javascript$firebase$dist$firebase_firestore=y$$module$third_party$javascript$firebase$dist$firebase_firestore("Gecko")&&!(-1!=pa$$module$third_party$javascript$firebase$dist$firebase_firestore().toLowerCase().indexOf("webkit")&&!y$$module$third_party$javascript$firebase$dist$firebase_firestore("Edge"))&&!(y$$module$third_party$javascript$firebase$dist$firebase_firestore("Trident")||y$$module$third_party$javascript$firebase$dist$firebase_firestore("MSIE"))&&!y$$module$third_party$javascript$firebase$dist$firebase_firestore("Edge");
var L$$module$third_party$javascript$firebase$dist$firebase_firestore=-1!=pa$$module$third_party$javascript$firebase$dist$firebase_firestore().toLowerCase().indexOf("webkit")&&!y$$module$third_party$javascript$firebase$dist$firebase_firestore("Edge");function ya$$module$third_party$javascript$firebase$dist$firebase_firestore(){var e=E$$module$third_party$javascript$firebase$dist$firebase_firestore.document;return e?e.documentMode:void 0}
e:{var B$$module$third_party$javascript$firebase$dist$firebase_firestore="";var q$$module$third_party$javascript$firebase$dist$firebase_firestore=(C$$module$third_party$javascript$firebase$dist$firebase_firestore=pa$$module$third_party$javascript$firebase$dist$firebase_firestore(),O$$module$third_party$javascript$firebase$dist$firebase_firestore?/rv:([^\);]+)(\)|;)/.exec(C$$module$third_party$javascript$firebase$dist$firebase_firestore):M$$module$third_party$javascript$firebase$dist$firebase_firestore?
/Edge\/([\d\.]+)/.exec(C$$module$third_party$javascript$firebase$dist$firebase_firestore):N$$module$third_party$javascript$firebase$dist$firebase_firestore?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(C$$module$third_party$javascript$firebase$dist$firebase_firestore):L$$module$third_party$javascript$firebase$dist$firebase_firestore?/WebKit\/(\S+)/.exec(C$$module$third_party$javascript$firebase$dist$firebase_firestore):x$$module$third_party$javascript$firebase$dist$firebase_firestore?/(?:Version)[ \/]?(\S+)/.exec(C$$module$third_party$javascript$firebase$dist$firebase_firestore):
void 0);if(q$$module$third_party$javascript$firebase$dist$firebase_firestore&&(B$$module$third_party$javascript$firebase$dist$firebase_firestore=q$$module$third_party$javascript$firebase$dist$firebase_firestore?q$$module$third_party$javascript$firebase$dist$firebase_firestore[1]:""),N$$module$third_party$javascript$firebase$dist$firebase_firestore){var $$$module$third_party$javascript$firebase$dist$firebase_firestore=ya$$module$third_party$javascript$firebase$dist$firebase_firestore();if(null!=$$$module$third_party$javascript$firebase$dist$firebase_firestore&&
$$$module$third_party$javascript$firebase$dist$firebase_firestore>parseFloat(B$$module$third_party$javascript$firebase$dist$firebase_firestore)){D$$module$third_party$javascript$firebase$dist$firebase_firestore=String($$$module$third_party$javascript$firebase$dist$firebase_firestore);break e}}D$$module$third_party$javascript$firebase$dist$firebase_firestore=B$$module$third_party$javascript$firebase$dist$firebase_firestore}
if(E$$module$third_party$javascript$firebase$dist$firebase_firestore.document&&N$$module$third_party$javascript$firebase$dist$firebase_firestore){var U$$module$third_party$javascript$firebase$dist$firebase_firestore=ya$$module$third_party$javascript$firebase$dist$firebase_firestore();F$$module$third_party$javascript$firebase$dist$firebase_firestore=U$$module$third_party$javascript$firebase$dist$firebase_firestore||(parseInt(D$$module$third_party$javascript$firebase$dist$firebase_firestore,10)||void 0)}else F$$module$third_party$javascript$firebase$dist$firebase_firestore=
void 0;var K$$module$third_party$javascript$firebase$dist$firebase_firestore=F$$module$third_party$javascript$firebase$dist$firebase_firestore;
function A$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(w$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type;var i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:
null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(O$$module$third_party$javascript$firebase$dist$firebase_firestore){e:{try{qa$$module$third_party$javascript$firebase$dist$firebase_firestore(t.nodeName);var s=!0;break e}catch(e){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=
i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Q$$module$third_party$javascript$firebase$dist$firebase_firestore[e.pointerType]||"",this.state=e.state,this.i=
e,e.defaultPrevented&&A$$module$third_party$javascript$firebase$dist$firebase_firestore.$.h.call(this)}}r$$module$third_party$javascript$firebase$dist$firebase_firestore(A$$module$third_party$javascript$firebase$dist$firebase_firestore,w$$module$third_party$javascript$firebase$dist$firebase_firestore);var Q$$module$third_party$javascript$firebase$dist$firebase_firestore={2:"touch",3:"pen",4:"mouse"};
A$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.h=function(){A$$module$third_party$javascript$firebase$dist$firebase_firestore.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G$$module$third_party$javascript$firebase$dist$firebase_firestore="closure_listenable_"+(1E6*Math.random()|0);var z$$module$third_party$javascript$firebase$dist$firebase_firestore=0;
function Ja$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=s,this.key=++z$$module$third_party$javascript$firebase$dist$firebase_firestore,this.fa=this.ia=!1}function Ka$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}
function Na$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function Pa$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t={};for(const n in e)t[n]=e[n];return t}const W$$module$third_party$javascript$firebase$dist$firebase_firestore="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ra$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){let n;let i;for(let t=1;t<arguments.length;t++){for(n in i=arguments[t],i)e[n]=i[n];for(let t=0;t<W$$module$third_party$javascript$firebase$dist$firebase_firestore.length;t++)n=W$$module$third_party$javascript$firebase$dist$firebase_firestore[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Sa$$module$third_party$javascript$firebase$dist$firebase_firestore(e){this.src=e,this.g={},this.h=0}
function Ua$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){var n=t.type;if(n in e.g){var i;var s=e.g[n];var o=S$$module$third_party$javascript$firebase$dist$firebase_firestore(s,t);(i=0<=o)&&Array.prototype.splice.call(s,o,1),i&&(Ka$$module$third_party$javascript$firebase$dist$firebase_firestore(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}
function Ta$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){var s=0;for(;s<e.length;++s){var o=e[s];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==i)return s}return-1}
Sa$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.add=function(e,t,n,i,s){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var u=Ta$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,i,s);return-1<u?(t=e[u],n||(t.ia=!1)):((t=new Ja$$module$third_party$javascript$firebase$dist$firebase_firestore(t,this.src,o,!!i,s)).ia=n,e.push(t)),t};var j$$module$third_party$javascript$firebase$dist$firebase_firestore="closure_lm_"+(1E6*Math.random()|0);
var H$$module$third_party$javascript$firebase$dist$firebase_firestore={};
function Ya$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s){if(i&&i.once)return Za$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s);if(Array.isArray(t)){var o=0;for(;o<t.length;o++)Ya$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t[o],n,i,s);return null}return n=$a$$module$third_party$javascript$firebase$dist$firebase_firestore(n),e&&e[G$$module$third_party$javascript$firebase$dist$firebase_firestore]?e.O(t,n,p$$module$third_party$javascript$firebase$dist$firebase_firestore(i)?
!!i.capture:!!i,s):ab$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,!1,i,s)}
function ab$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s,o){if(!t)throw Error("Invalid event type");var u=p$$module$third_party$javascript$firebase$dist$firebase_firestore(s)?!!s.capture:!!s;var l=bb$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(l||(e[j$$module$third_party$javascript$firebase$dist$firebase_firestore]=l=new Sa$$module$third_party$javascript$firebase$dist$firebase_firestore(e)),(n=l.add(t,n,i,u,o)).proxy)return n;if(i=function cb(){function a(t){return e.call(a.src,
a.listener,t)}const e=eb$$module$third_party$javascript$firebase$dist$firebase_firestore;return a}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)v$$module$third_party$javascript$firebase$dist$firebase_firestore||(s=u),void 0===s&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(db$$module$third_party$javascript$firebase$dist$firebase_firestore(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");
e.addListener(i)}return n}
function Za$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s){if(Array.isArray(t)){var o=0;for(;o<t.length;o++)Za$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t[o],n,i,s);return null}return n=$a$$module$third_party$javascript$firebase$dist$firebase_firestore(n),e&&e[G$$module$third_party$javascript$firebase$dist$firebase_firestore]?e.P(t,n,p$$module$third_party$javascript$firebase$dist$firebase_firestore(i)?!!i.capture:!!i,s):ab$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t,n,!0,i,s)}
function fb$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s){if(Array.isArray(t)){var o=0;for(;o<t.length;o++)fb$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t[o],n,i,s)}else i=p$$module$third_party$javascript$firebase$dist$firebase_firestore(i)?!!i.capture:!!i,n=$a$$module$third_party$javascript$firebase$dist$firebase_firestore(n),e&&e[G$$module$third_party$javascript$firebase$dist$firebase_firestore]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ta$$module$third_party$javascript$firebase$dist$firebase_firestore(o=
e.g[t],n,i,s))&&(Ka$$module$third_party$javascript$firebase$dist$firebase_firestore(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=bb$$module$third_party$javascript$firebase$dist$firebase_firestore(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ta$$module$third_party$javascript$firebase$dist$firebase_firestore(t,n,i,s)),(n=-1<e?t[e]:null)&&gb$$module$third_party$javascript$firebase$dist$firebase_firestore(n))}
function gb$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[G$$module$third_party$javascript$firebase$dist$firebase_firestore])Ua$$module$third_party$javascript$firebase$dist$firebase_firestore(t.i,e);else{var n=e.type;var i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(db$$module$third_party$javascript$firebase$dist$firebase_firestore(n),i):t.addListener&&t.removeListener&&t.removeListener(i),
(n=bb$$module$third_party$javascript$firebase$dist$firebase_firestore(t))?(Ua$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e),0==n.h&&(n.src=null,t[j$$module$third_party$javascript$firebase$dist$firebase_firestore]=null)):Ka$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}}}
function db$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e in H$$module$third_party$javascript$firebase$dist$firebase_firestore?H$$module$third_party$javascript$firebase$dist$firebase_firestore[e]:H$$module$third_party$javascript$firebase$dist$firebase_firestore[e]="on"+e}
function eb$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(e.fa)e=!0;else{t=new A$$module$third_party$javascript$firebase$dist$firebase_firestore(t,this);var n=e.listener;var i=e.la||e.src;e.ia&&gb$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e=n.call(i,t)}return e}
function bb$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return(e=e[j$$module$third_party$javascript$firebase$dist$firebase_firestore])instanceof Sa$$module$third_party$javascript$firebase$dist$firebase_firestore?e:null}var Y$$module$third_party$javascript$firebase$dist$firebase_firestore="__closure_events_fn_"+(1E9*Math.random()>>>0);
function $a$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"function"==typeof e?e:(e[Y$$module$third_party$javascript$firebase$dist$firebase_firestore]||(e[Y$$module$third_party$javascript$firebase$dist$firebase_firestore]=function(t){return e.handleEvent(t)}),e[Y$$module$third_party$javascript$firebase$dist$firebase_firestore])}
function B$1$$module$third_party$javascript$firebase$dist$firebase_firestore(){v$1$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this),this.i=new Sa$$module$third_party$javascript$firebase$dist$firebase_firestore(this),this.S=this,this.J=null}
function C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){var n;var i=e.J;if(i){n=[];for(;i;i=i.J)n.push(i)}if(e=e.S,i=t.type||t,"string"==typeof t)t=new w$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e);else if(t instanceof w$$module$third_party$javascript$firebase$dist$firebase_firestore)t.target=t.target||e;else{var s=t;Ra$$module$third_party$javascript$firebase$dist$firebase_firestore(t=new w$$module$third_party$javascript$firebase$dist$firebase_firestore(i,
e),s)}if(s=!0,n){var o=n.length-1;for(;0<=o;o--){var u=t.g=n[o];s=ib$$module$third_party$javascript$firebase$dist$firebase_firestore(u,i,!0,t)&&s}}if(s=ib$$module$third_party$javascript$firebase$dist$firebase_firestore(u=t.g=e,i,!0,t)&&s,s=ib$$module$third_party$javascript$firebase$dist$firebase_firestore(u,i,!1,t)&&s,n){o=0;for(;o<n.length;o++)s=ib$$module$third_party$javascript$firebase$dist$firebase_firestore(u=t.g=n[o],i,!1,t)&&s}}
function ib$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();var s=!0;var o=0;for(;o<t.length;++o){var u=t[o];if(u&&!u.fa&&u.capture==n){var l=u.listener;var _=u.la||u.src;u.ia&&Ua$$module$third_party$javascript$firebase$dist$firebase_firestore(e.i,u),s=!1!==l.call(_,i)&&s}}return s&&!i.defaultPrevented}
r$$module$third_party$javascript$firebase$dist$firebase_firestore(B$1$$module$third_party$javascript$firebase$dist$firebase_firestore,v$1$$module$third_party$javascript$firebase$dist$firebase_firestore),B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype[G$$module$third_party$javascript$firebase$dist$firebase_firestore]=!0,B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.removeEventListener=function(e,t,n,i){fb$$module$third_party$javascript$firebase$dist$firebase_firestore(this,
e,t,n,i)},B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.N=function(){if(B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.$.N.call(this),this.i){var e;var t=this.i;for(e in t.g){var n=t.g[e];var i=0;for(;i<n.length;i++)Ka$$module$third_party$javascript$firebase$dist$firebase_firestore(n[i]);delete t.g[e],t.h--}}this.J=null},B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.O=function(e,t,n,i){return this.i.add(String(e),
t,!1,n,i)},B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var J$$module$third_party$javascript$firebase$dist$firebase_firestore=E$$module$third_party$javascript$firebase$dist$firebase_firestore.JSON.stringify;
function lb$$module$third_party$javascript$firebase$dist$firebase_firestore(){var e=te$$module$third_party$javascript$firebase$dist$firebase_firestore;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}
var X$$module$third_party$javascript$firebase$dist$firebase_firestore=new class kb{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>{return new pb$$module$third_party$javascript$firebase$dist$firebase_firestore},e=>{return e.reset()});
class pb$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qb$$module$third_party$javascript$firebase$dist$firebase_firestore(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}
function rb$$module$third_party$javascript$firebase$dist$firebase_firestore(e){E$$module$third_party$javascript$firebase$dist$firebase_firestore.setTimeout(()=>{throw e;},0)}let Z$$module$third_party$javascript$firebase$dist$firebase_firestore;let ee$$module$third_party$javascript$firebase$dist$firebase_firestore=!1;
let te$$module$third_party$javascript$firebase$dist$firebase_firestore=new class nb{constructor(){this.h=this.g=null}add(e,t){const n=X$$module$third_party$javascript$firebase$dist$firebase_firestore.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};
let vb$$module$third_party$javascript$firebase$dist$firebase_firestore=()=>{const e=E$$module$third_party$javascript$firebase$dist$firebase_firestore.Promise.resolve(void 0);Z$$module$third_party$javascript$firebase$dist$firebase_firestore=()=>{e.then(ub$$module$third_party$javascript$firebase$dist$firebase_firestore)}};
var ub$$module$third_party$javascript$firebase$dist$firebase_firestore=()=>{var e;for(;e=lb$$module$third_party$javascript$firebase$dist$firebase_firestore();){try{e.h.call(e.g)}catch(e){rb$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}var t=X$$module$third_party$javascript$firebase$dist$firebase_firestore;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ee$$module$third_party$javascript$firebase$dist$firebase_firestore=!1};
function wb$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this),this.h=e||1,this.g=t||E$$module$third_party$javascript$firebase$dist$firebase_firestore,this.j=q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.qb,this),this.l=Date.now()}function xb$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}
function yb$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){if("function"==typeof e)n&&(e=q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.handleEvent,e)}return 2147483647<Number(t)?-1:E$$module$third_party$javascript$firebase$dist$firebase_firestore.setTimeout(e,t||0)}
function zb$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.g=yb$$module$third_party$javascript$firebase$dist$firebase_firestore(()=>{e.g=null,e.i&&(e.i=!1,zb$$module$third_party$javascript$firebase$dist$firebase_firestore(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}
r$$module$third_party$javascript$firebase$dist$firebase_firestore(wb$$module$third_party$javascript$firebase$dist$firebase_firestore,B$1$$module$third_party$javascript$firebase$dist$firebase_firestore),(m$$module$third_party$javascript$firebase$dist$firebase_firestore=wb$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype).ga=!1,m$$module$third_party$javascript$firebase$dist$firebase_firestore.T=null,m$$module$third_party$javascript$firebase$dist$firebase_firestore.qb=function(){if(this.ga){var e=
Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this,"tick"),this.ga&&(xb$$module$third_party$javascript$firebase$dist$firebase_firestore(this),this.start()))}},m$$module$third_party$javascript$firebase$dist$firebase_firestore.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},m$$module$third_party$javascript$firebase$dist$firebase_firestore.N=
function(){wb$$module$third_party$javascript$firebase$dist$firebase_firestore.$.N.call(this),xb$$module$third_party$javascript$firebase$dist$firebase_firestore(this),delete this.g};
class Ab$$module$third_party$javascript$firebase$dist$firebase_firestore extends v$1$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zb$$module$third_party$javascript$firebase$dist$firebase_firestore(this)}N(){super.N(),this.g&&(E$$module$third_party$javascript$firebase$dist$firebase_firestore.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}
function Bb$$module$third_party$javascript$firebase$dist$firebase_firestore(e){v$1$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this),this.h=e,this.g={}}r$$module$third_party$javascript$firebase$dist$firebase_firestore(Bb$$module$third_party$javascript$firebase$dist$firebase_firestore,v$1$$module$third_party$javascript$firebase$dist$firebase_firestore);var ne$$module$third_party$javascript$firebase$dist$firebase_firestore=[];
function Db$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){Array.isArray(n)||(n&&(ne$$module$third_party$javascript$firebase$dist$firebase_firestore[0]=n.toString()),n=ne$$module$third_party$javascript$firebase$dist$firebase_firestore);var s=0;for(;s<n.length;s++){var o=Ya$$module$third_party$javascript$firebase$dist$firebase_firestore(t,n[s],i||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}
function Fb$$module$third_party$javascript$firebase$dist$firebase_firestore(e){Na$$module$third_party$javascript$firebase$dist$firebase_firestore(e.g,function(e,t){this.g.hasOwnProperty(t)&&gb$$module$third_party$javascript$firebase$dist$firebase_firestore(e)},e),e.g={}}function Gb$$module$third_party$javascript$firebase$dist$firebase_firestore(){this.g=!0}
function D$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Jb(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){e=0;for(;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if("noop"!=o&&"stop"!=o&&"close"!=o){var u=1;for(;u<s.length;u++)s[u]=""}}}}}return J$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}catch(e){return t}}(e,
n)+(i?" "+i:"")})}
Bb$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.N=function(){Bb$$module$third_party$javascript$firebase$dist$firebase_firestore.$.N.call(this),Fb$$module$third_party$javascript$firebase$dist$firebase_firestore(this)},Bb$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");},Gb$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.Ea=function(){this.g=
!1},Gb$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.info=function(){};var re$$module$third_party$javascript$firebase$dist$firebase_firestore={};var ie$$module$third_party$javascript$firebase$dist$firebase_firestore=null;
function Mb$$module$third_party$javascript$firebase$dist$firebase_firestore(){return ie$$module$third_party$javascript$firebase$dist$firebase_firestore=ie$$module$third_party$javascript$firebase$dist$firebase_firestore||new B$1$$module$third_party$javascript$firebase$dist$firebase_firestore}
function Nb$$module$third_party$javascript$firebase$dist$firebase_firestore(e){w$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this,re$$module$third_party$javascript$firebase$dist$firebase_firestore.Ta,e)}
function Ob$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=Mb$$module$third_party$javascript$firebase$dist$firebase_firestore();C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,new Nb$$module$third_party$javascript$firebase$dist$firebase_firestore(t))}
function Pb$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){w$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this,re$$module$third_party$javascript$firebase$dist$firebase_firestore.STAT_EVENT,e),this.stat=t}
function F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=Mb$$module$third_party$javascript$firebase$dist$firebase_firestore();C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,new Pb$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e))}
function Qb$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){w$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this,re$$module$third_party$javascript$firebase$dist$firebase_firestore.Ua,e),this.size=t}
function Rb$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return E$$module$third_party$javascript$firebase$dist$firebase_firestore.setTimeout(function(){e()},t)}
re$$module$third_party$javascript$firebase$dist$firebase_firestore.Ta="serverreachability",r$$module$third_party$javascript$firebase$dist$firebase_firestore(Nb$$module$third_party$javascript$firebase$dist$firebase_firestore,w$$module$third_party$javascript$firebase$dist$firebase_firestore),re$$module$third_party$javascript$firebase$dist$firebase_firestore.STAT_EVENT="statevent",r$$module$third_party$javascript$firebase$dist$firebase_firestore(Pb$$module$third_party$javascript$firebase$dist$firebase_firestore,
w$$module$third_party$javascript$firebase$dist$firebase_firestore),re$$module$third_party$javascript$firebase$dist$firebase_firestore.Ua="timingevent",r$$module$third_party$javascript$firebase$dist$firebase_firestore(Qb$$module$third_party$javascript$firebase$dist$firebase_firestore,w$$module$third_party$javascript$firebase$dist$firebase_firestore);var se$$module$third_party$javascript$firebase$dist$firebase_firestore={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9};
var oe$$module$third_party$javascript$firebase$dist$firebase_firestore={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ub$$module$third_party$javascript$firebase$dist$firebase_firestore(){}function Vb$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e.h||(e.h=e.i())}
function Wb$$module$third_party$javascript$firebase$dist$firebase_firestore(){}Ub$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.h=null;var ae$$module$third_party$javascript$firebase$dist$firebase_firestore;var ce$$module$third_party$javascript$firebase$dist$firebase_firestore={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb$$module$third_party$javascript$firebase$dist$firebase_firestore(){w$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this,"d")}
function Zb$$module$third_party$javascript$firebase$dist$firebase_firestore(){w$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this,"c")}function ac$$module$third_party$javascript$firebase$dist$firebase_firestore(){}
function bc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Bb$$module$third_party$javascript$firebase$dist$firebase_firestore(this),this.P=ue$$module$third_party$javascript$firebase$dist$firebase_firestore,e=k$$module$third_party$javascript$firebase$dist$firebase_firestore?125:void 0,this.V=new wb$$module$third_party$javascript$firebase$dist$firebase_firestore(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=
this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dc$$module$third_party$javascript$firebase$dist$firebase_firestore}function dc$$module$third_party$javascript$firebase$dist$firebase_firestore(){this.i=null,this.g="",this.h=!1}
r$$module$third_party$javascript$firebase$dist$firebase_firestore(Yb$$module$third_party$javascript$firebase$dist$firebase_firestore,w$$module$third_party$javascript$firebase$dist$firebase_firestore),r$$module$third_party$javascript$firebase$dist$firebase_firestore(Zb$$module$third_party$javascript$firebase$dist$firebase_firestore,w$$module$third_party$javascript$firebase$dist$firebase_firestore),r$$module$third_party$javascript$firebase$dist$firebase_firestore(ac$$module$third_party$javascript$firebase$dist$firebase_firestore,
Ub$$module$third_party$javascript$firebase$dist$firebase_firestore),ac$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.g=function(){return new XMLHttpRequest},ac$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.i=function(){return{}},ae$$module$third_party$javascript$firebase$dist$firebase_firestore=new ac$$module$third_party$javascript$firebase$dist$firebase_firestore;var ue$$module$third_party$javascript$firebase$dist$firebase_firestore=45E3;
var le$$module$third_party$javascript$firebase$dist$firebase_firestore={};var _e$$module$third_party$javascript$firebase$dist$firebase_firestore={};function gc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){e.L=1,e.v=hc$$module$third_party$javascript$firebase$dist$firebase_firestore(G$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t)),e.s=n,e.S=!0,ic$$module$third_party$javascript$firebase$dist$firebase_firestore(e,null)}
function ic$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e.G=Date.now(),jc$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e.A=G$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.v);var n=e.A;var i=e.W;Array.isArray(i)||(i=[String(i)]),kc$$module$third_party$javascript$firebase$dist$firebase_firestore(n.i,"t",i),e.C=0,n=e.l.J,e.h=new dc$$module$third_party$javascript$firebase$dist$firebase_firestore,e.g=lc$$module$third_party$javascript$firebase$dist$firebase_firestore(e.l,
n?t:null,!e.s),0<e.O&&(e.M=new Ab$$module$third_party$javascript$firebase$dist$firebase_firestore(q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.Pa,e,e.g),e.O)),Db$$module$third_party$javascript$firebase$dist$firebase_firestore(e.U,e.g,"readystatechange",e.nb),t=e.I?Pa$$module$third_party$javascript$firebase$dist$firebase_firestore(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ob$$module$third_party$javascript$firebase$dist$firebase_firestore(),
function Hb(e,t,n,i,s,o){e.info(function(){if(e.g)if(o){var u="";var l=o.split("&");var _=0;for(;_<l.length;_++){var h=l[_].split("=");if(1<h.length){var d=h[0];h=h[1];var m=d.split("_");u=2<=m.length&&"type"==m[1]?u+(d+"=")+h+"&":u+(d+"=redacted&")}}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+"\n"+n+"\n"+u})}(e.j,e.u,e.A,e.m,e.W,e.s)}function oc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}
function rc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){let i;let s=!0;for(;!e.J&&e.C<n.length;){if(i=uc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n),i==_e$$module$third_party$javascript$firebase$dist$firebase_firestore){4==t&&(e.o=4,F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(14),s=!1),D$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.j,e.m,null,"[Incomplete Response]");break}if(i==le$$module$third_party$javascript$firebase$dist$firebase_firestore){e.o=
4,F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(15),D$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}D$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.j,e.m,i,null),qc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i)}oc$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&i!=_e$$module$third_party$javascript$firebase$dist$firebase_firestore&&i!=le$$module$third_party$javascript$firebase$dist$firebase_firestore&&
(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vc$$module$third_party$javascript$firebase$dist$firebase_firestore(t),t.M=!0,F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(11))):(D$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.j,e.m,n,"[Invalid Chunked Response]"),
I$$module$third_party$javascript$firebase$dist$firebase_firestore(e),pc$$module$third_party$javascript$firebase$dist$firebase_firestore(e))}
function uc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){var n=e.C;var i=t.indexOf("\n",n);return-1==i?_e$$module$third_party$javascript$firebase$dist$firebase_firestore:(n=Number(t.substring(n,i)),isNaN(n)?le$$module$third_party$javascript$firebase$dist$firebase_firestore:(i=i+1)+n>t.length?_e$$module$third_party$javascript$firebase$dist$firebase_firestore:(t=t.slice(i,i+n),e.C=i+n,t))}
function jc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.Y=Date.now()+e.P,wc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,e.P)}function wc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Rb$$module$third_party$javascript$firebase$dist$firebase_firestore(q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.lb,e),t)}
function nc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.B&&(E$$module$third_party$javascript$firebase$dist$firebase_firestore.clearTimeout(e.B),e.B=null)}function pc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){0==e.l.H||e.J||sc$$module$third_party$javascript$firebase$dist$firebase_firestore(e.l,e)}
function I$$module$third_party$javascript$firebase$dist$firebase_firestore(e){nc$$module$third_party$javascript$firebase$dist$firebase_firestore(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,xb$$module$third_party$javascript$firebase$dist$firebase_firestore(e.V),Fb$$module$third_party$javascript$firebase$dist$firebase_firestore(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}
function qc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||xc$$module$third_party$javascript$firebase$dist$firebase_firestore(n.i,e)))if(!e.K&&xc$$module$third_party$javascript$firebase$dist$firebase_firestore(n.i,e)&&3==n.H){try{var i=n.Ja.g.parse(t)}catch(e){i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0])e:{if(!n.u){if(n.g){if(!(n.g.G+3E3<e.G))break e;yc$$module$third_party$javascript$firebase$dist$firebase_firestore(n),zc$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}Ac$$module$third_party$javascript$firebase$dist$firebase_firestore(n),
F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=Rb$$module$third_party$javascript$firebase$dist$firebase_firestore(q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n.ib,n),6E3));if(1>=Bc$$module$third_party$javascript$firebase$dist$firebase_firestore(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else J$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,11)}else if((e.K||n.g==
e)&&yc$$module$third_party$javascript$firebase$dist$firebase_firestore(n),!x$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t)){s=n.Ja.g.parse(t),t=0;for(;t<s.length;t++){let h=s[t];if(n.V=h[0],h=h[1],2==n.H)if("c"==h[0]){n.K=h[1],n.pa=h[2];const t=h[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const s=h[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));const d=h[5];null!=d&&"number"==typeof d&&0<d&&(i=1.5*d,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const m=e.g;if(m){const e=
m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=i.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Cc$$module$third_party$javascript$firebase$dist$firebase_firestore(o,o.h),o.h=null))}if(i.F){const e=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.Da=e,K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i.I,i.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));
var u=e;if((i=n).wa=Dc$$module$third_party$javascript$firebase$dist$firebase_firestore(i,i.J?i.pa:null,i.Y),u.K){Ec$$module$third_party$javascript$firebase$dist$firebase_firestore(i.i,u);var l=u;var _=i.L;_&&l.setTimeout(_),l.B&&(nc$$module$third_party$javascript$firebase$dist$firebase_firestore(l),jc$$module$third_party$javascript$firebase$dist$firebase_firestore(l)),i.g=u}else Fc$$module$third_party$javascript$firebase$dist$firebase_firestore(i);0<n.j.length&&Gc$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}else"stop"!=
h[0]&&"close"!=h[0]||J$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,7);else 3==n.H&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?J$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,7):Hc$$module$third_party$javascript$firebase$dist$firebase_firestore(n):"noop"!=h[0]&&n.h&&n.h.Aa(h),n.A=0)}}Ob$$module$third_party$javascript$firebase$dist$firebase_firestore()}catch(e){}}
function Kc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(aa$$module$third_party$javascript$firebase$dist$firebase_firestore(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else{var n=function Jc(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof
Set)){if(aa$$module$third_party$javascript$firebase$dist$firebase_firestore(e)||"string"==typeof e){var t=[];e=e.length;var n=0;for(;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e);var i=function Ic(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(aa$$module$third_party$javascript$firebase$dist$firebase_firestore(e)){var t=
[];var n=e.length;var i=0;for(;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e);var s=i.length;var o=0;for(;o<s;o++)t.call(void 0,i[o],n&&n[o],e)}}
(m$$module$third_party$javascript$firebase$dist$firebase_firestore=bc$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype).setTimeout=function(e){this.P=e},m$$module$third_party$javascript$firebase$dist$firebase_firestore.nb=function(e){e=e.target;const t=this.M;t&&3==H$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?t.l():this.Pa(e)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.Pa=function(e){try{if(e==this.g)e:{const d=H$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.g);
var t=this.g.Ia();this.g.da();if(!(3>d)&&(3!=d||k$$module$third_party$javascript$firebase$dist$firebase_firestore||this.g&&(this.h.h||this.g.ja()||mc$$module$third_party$javascript$firebase$dist$firebase_firestore(this.g)))){this.J||4!=d||7==t||Ob$$module$third_party$javascript$firebase$dist$firebase_firestore(),nc$$module$third_party$javascript$firebase$dist$firebase_firestore(this);var n=this.g.da();this.ca=n;t:if(oc$$module$third_party$javascript$firebase$dist$firebase_firestore(this)){var i=mc$$module$third_party$javascript$firebase$dist$firebase_firestore(this.g);
e="";var s=i.length;var o=4==H$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){I$$module$third_party$javascript$firebase$dist$firebase_firestore(this),pc$$module$third_party$javascript$firebase$dist$firebase_firestore(this);var u="";break t}this.h.i=new E$$module$third_party$javascript$firebase$dist$firebase_firestore.TextDecoder}t=0;for(;t<s;t++)this.h.h=!0,e=e+this.h.i.decode(i[t],{stream:o&&t==s-1});i.splice(0,s),this.h.g+=
e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==n,function Ib(e,t,n,i,s,o,u){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l;var _=this.g;if((l=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x$1$$module$third_party$javascript$firebase$dist$firebase_firestore(l)){var h=l;break t}}h=null}if(!(n=h)){this.i=!1,this.o=3,F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(12),
I$$module$third_party$javascript$firebase$dist$firebase_firestore(this),pc$$module$third_party$javascript$firebase$dist$firebase_firestore(this);break e}D$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,n)}this.S?(rc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,d,u),k$$module$third_party$javascript$firebase$dist$firebase_firestore&&
this.i&&3==d&&(Db$$module$third_party$javascript$firebase$dist$firebase_firestore(this.U,this.V,"tick",this.mb),this.V.start())):(D$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.j,this.m,u,null),qc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,u)),4==d&&I$$module$third_party$javascript$firebase$dist$firebase_firestore(this),this.i&&!this.J&&(4==d?sc$$module$third_party$javascript$firebase$dist$firebase_firestore(this.l,this):(this.i=!1,jc$$module$third_party$javascript$firebase$dist$firebase_firestore(this)))}else(function tc(e){const t=
{};e=(e.g&&2<=H$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(x$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e[i]))continue;var n=qb$$module$third_party$javascript$firebase$dist$firebase_firestore(e[i]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[s]||[];t[s]=o,o.push(n)}!function Oa(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),
400==n&&0<u.indexOf("Unknown SID")?(this.o=3,F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(12)):(this.o=0,F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(13)),I$$module$third_party$javascript$firebase$dist$firebase_firestore(this),pc$$module$third_party$javascript$firebase$dist$firebase_firestore(this)}}}catch(e){}},m$$module$third_party$javascript$firebase$dist$firebase_firestore.mb=function(){if(this.g){var e=H$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.g);
var t=this.g.ja();this.C<t.length&&(nc$$module$third_party$javascript$firebase$dist$firebase_firestore(this),rc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e,t),this.i&&4!=e&&jc$$module$third_party$javascript$firebase$dist$firebase_firestore(this))}},m$$module$third_party$javascript$firebase$dist$firebase_firestore.cancel=function(){this.J=!0,I$$module$third_party$javascript$firebase$dist$firebase_firestore(this)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.lb=
function(){this.B=null;const e=Date.now();0<=e-this.Y?(function Kb(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Ob$$module$third_party$javascript$firebase$dist$firebase_firestore(),F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(17)),I$$module$third_party$javascript$firebase$dist$firebase_firestore(this),this.o=2,pc$$module$third_party$javascript$firebase$dist$firebase_firestore(this)):wc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,
this.Y-e)};var he$$module$third_party$javascript$firebase$dist$firebase_firestore=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");
function M$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof M$1$$module$third_party$javascript$firebase$dist$firebase_firestore){this.h=e.h,Nc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e.j),this.s=e.s,this.g=e.g,Oc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e.m),this.l=e.l;var t=e.i;var n=new Pc$$module$third_party$javascript$firebase$dist$firebase_firestore;
n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Qc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,n),this.o=e.o}else e&&(t=String(e).match(he$$module$third_party$javascript$firebase$dist$firebase_firestore))?(this.h=!1,Nc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,t[1]||"",!0),this.s=Rc$$module$third_party$javascript$firebase$dist$firebase_firestore(t[2]||""),this.g=Rc$$module$third_party$javascript$firebase$dist$firebase_firestore(t[3]||"",!0),Oc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,
t[4]),this.l=Rc$$module$third_party$javascript$firebase$dist$firebase_firestore(t[5]||"",!0),Qc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,t[6]||"",!0),this.o=Rc$$module$third_party$javascript$firebase$dist$firebase_firestore(t[7]||"")):(this.h=!1,this.i=new Pc$$module$third_party$javascript$firebase$dist$firebase_firestore(null,this.h))}
function G$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new M$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}function Nc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){e.j=n?Rc$$module$third_party$javascript$firebase$dist$firebase_firestore(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}
function Oc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}
function Qc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){t instanceof Pc$$module$third_party$javascript$firebase$dist$firebase_firestore?(e.i=t,function Xc(e,t){t&&!e.j&&(N$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&($c$$module$third_party$javascript$firebase$dist$firebase_firestore(this,t),kc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,n,e))},e)),e.j=t}(e.i,
e.h)):(n||(t=Sc$$module$third_party$javascript$firebase$dist$firebase_firestore(t,ge$$module$third_party$javascript$firebase$dist$firebase_firestore)),e.i=new Pc$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e.h))}function K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){e.i.set(t,n)}
function hc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Rc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}
function Sc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Zc$$module$third_party$javascript$firebase$dist$firebase_firestore),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}
M$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.toString=function(){var e=[];var t=this.j;t&&e.push(Sc$$module$third_party$javascript$firebase$dist$firebase_firestore(t,de$$module$third_party$javascript$firebase$dist$firebase_firestore,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Sc$$module$third_party$javascript$firebase$dist$firebase_firestore(t,de$$module$third_party$javascript$firebase$dist$firebase_firestore,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,
"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Sc$$module$third_party$javascript$firebase$dist$firebase_firestore(n,"/"==n.charAt(0)?fe$$module$third_party$javascript$firebase$dist$firebase_firestore:me$$module$third_party$javascript$firebase$dist$firebase_firestore,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Sc$$module$third_party$javascript$firebase$dist$firebase_firestore(n,Ie$$module$third_party$javascript$firebase$dist$firebase_firestore)),
e.join("")};var de$$module$third_party$javascript$firebase$dist$firebase_firestore=/[#\/\?@]/g;var me$$module$third_party$javascript$firebase$dist$firebase_firestore=/[#\?:]/g;var fe$$module$third_party$javascript$firebase$dist$firebase_firestore=/[#\?]/g;var ge$$module$third_party$javascript$firebase$dist$firebase_firestore=/[#\?@]/g;var Ie$$module$third_party$javascript$firebase$dist$firebase_firestore=/#/g;
function Pc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}
function N$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.g||(e.g=new Map,e.h=0,e.i&&function Mc(e,t){if(e){e=e.split("&");var n=0;for(;n<e.length;n++){var i=e[n].indexOf("=");var s=null;if(0<=i){var o=e[n].substring(0,i);s=e[n].substring(i+1)}else o=e[n];t(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}
function $c$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){N$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t=O$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}
function ad$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return N$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t=O$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t),e.g.has(t)}
function kc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){$c$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t),0<n.length&&(e.i=null,e.g.set(O$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t),ma$$module$third_party$javascript$firebase$dist$firebase_firestore(n)),e.h+=n.length)}function O$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}
(m$$module$third_party$javascript$firebase$dist$firebase_firestore=Pc$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype).add=function(e,t){N$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this),this.i=null,e=O$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},m$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach=function(e,t){N$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this),
this.g.forEach(function(n,i){n.forEach(function(n){e.call(t,n,i,this)},this)},this)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.ta=function(){N$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this);const e=Array.from(this.g.values());const t=Array.from(this.g.keys());const n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let e=0;e<s.length;e++)n.push(t[i])}return n},m$$module$third_party$javascript$firebase$dist$firebase_firestore.Z=function(e){N$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this);
let t=[];if("string"==typeof e)ad$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e)&&(t=t.concat(this.g.get(O$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},m$$module$third_party$javascript$firebase$dist$firebase_firestore.set=function(e,t){return N$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this),this.i=null,ad$$module$third_party$javascript$firebase$dist$firebase_firestore(this,
e=O$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},m$$module$third_party$javascript$firebase$dist$firebase_firestore.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},m$$module$third_party$javascript$firebase$dist$firebase_firestore.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[];const t=Array.from(this.g.keys());var n=0;for(;n<t.length;n++){var i=t[n];const o=
encodeURIComponent(String(i));const u=this.Z(i);i=0;for(;i<u.length;i++){var s=o;""!==u[i]&&(s=s+("="+encodeURIComponent(String(u[i])))),e.push(s)}}return this.i=e.join("&")};
function cd$$module$third_party$javascript$firebase$dist$firebase_firestore(e){this.l=e||pe$$module$third_party$javascript$firebase$dist$firebase_firestore,E$$module$third_party$javascript$firebase$dist$firebase_firestore.PerformanceNavigationTiming?e=0<(e=E$$module$third_party$javascript$firebase$dist$firebase_firestore.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(E$$module$third_party$javascript$firebase$dist$firebase_firestore.g&&
E$$module$third_party$javascript$firebase$dist$firebase_firestore.g.Ka&&E$$module$third_party$javascript$firebase$dist$firebase_firestore.g.Ka()&&E$$module$third_party$javascript$firebase$dist$firebase_firestore.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pe$$module$third_party$javascript$firebase$dist$firebase_firestore=10;function ed$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return!!e.h||!!e.g&&e.g.size>=e.j}
function Bc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e.h?1:e.g?e.g.size:0}function xc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e.g?e.g.add(t):e.h=t}function Ec$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}
function fd$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ma$$module$third_party$javascript$firebase$dist$firebase_firestore(e.i)}
cd$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.cancel=function(){if(this.i=fd$$module$third_party$javascript$firebase$dist$firebase_firestore(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};
function hd$$module$third_party$javascript$firebase$dist$firebase_firestore(){this.g=new class{stringify(e){return E$$module$third_party$javascript$firebase$dist$firebase_firestore.JSON.stringify(e,void 0)}parse(e){return E$$module$third_party$javascript$firebase$dist$firebase_firestore.JSON.parse(e,void 0)}}}
function id$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=n||"";try{Kc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,function(e,n){let s=e;p$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&(s=J$$module$third_party$javascript$firebase$dist$firebase_firestore(e)),t.push(i+n+"="+encodeURIComponent(s))})}catch(e){throw t.push(i+"type="+encodeURIComponent("_badmap")),e;}}
function kd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch(e){}}function ld$$module$third_party$javascript$firebase$dist$firebase_firestore(e){this.l=e.ec||null,this.j=e.ob||!1}
function md$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Te$$module$third_party$javascript$firebase$dist$firebase_firestore,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}
r$$module$third_party$javascript$firebase$dist$firebase_firestore(ld$$module$third_party$javascript$firebase$dist$firebase_firestore,Ub$$module$third_party$javascript$firebase$dist$firebase_firestore),ld$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.g=function(){return new md$$module$third_party$javascript$firebase$dist$firebase_firestore(this.l,this.j)},ld$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.i=function(e){return function(){return e}}({}),
r$$module$third_party$javascript$firebase$dist$firebase_firestore(md$$module$third_party$javascript$firebase$dist$firebase_firestore,B$1$$module$third_party$javascript$firebase$dist$firebase_firestore);var Te$$module$third_party$javascript$firebase$dist$firebase_firestore=0;function qd$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}
function pd$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.readyState=4,e.l=null,e.j=null,e.A=null,od$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}function od$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.onreadystatechange&&e.onreadystatechange.call(e)}
(m$$module$third_party$javascript$firebase$dist$firebase_firestore=md$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype).open=function(e,t){if(this.readyState!=Te$$module$third_party$javascript$firebase$dist$firebase_firestore)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,od$$module$third_party$javascript$firebase$dist$firebase_firestore(this)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.send=function(e){if(1!=
this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||E$$module$third_party$javascript$firebase$dist$firebase_firestore).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},m$$module$third_party$javascript$firebase$dist$firebase_firestore.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>
{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pd$$module$third_party$javascript$firebase$dist$firebase_firestore(this)),this.readyState=Te$$module$third_party$javascript$firebase$dist$firebase_firestore},m$$module$third_party$javascript$firebase$dist$firebase_firestore.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,od$$module$third_party$javascript$firebase$dist$firebase_firestore(this)),
this.g&&(this.readyState=3,od$$module$third_party$javascript$firebase$dist$firebase_firestore(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==E$$module$third_party$javascript$firebase$dist$firebase_firestore.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText=
"",this.A=new TextDecoder;qd$$module$third_party$javascript$firebase$dist$firebase_firestore(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},m$$module$third_party$javascript$firebase$dist$firebase_firestore.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pd$$module$third_party$javascript$firebase$dist$firebase_firestore(this):
od$$module$third_party$javascript$firebase$dist$firebase_firestore(this),3==this.readyState&&qd$$module$third_party$javascript$firebase$dist$firebase_firestore(this)}},m$$module$third_party$javascript$firebase$dist$firebase_firestore.Za=function(e){this.g&&(this.response=this.responseText=e,pd$$module$third_party$javascript$firebase$dist$firebase_firestore(this))},m$$module$third_party$javascript$firebase$dist$firebase_firestore.Ya=function(e){this.g&&(this.response=e,pd$$module$third_party$javascript$firebase$dist$firebase_firestore(this))},
m$$module$third_party$javascript$firebase$dist$firebase_firestore.ka=function(){this.g&&pd$$module$third_party$javascript$firebase$dist$firebase_firestore(this)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.setRequestHeader=function(e,t){this.v.append(e,t)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},m$$module$third_party$javascript$firebase$dist$firebase_firestore.getAllResponseHeaders=
function(){if(!this.h)return"";const e=[];const t=this.h.entries();var n=t.next();for(;!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(md$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ee$$module$third_party$javascript$firebase$dist$firebase_firestore=E$$module$third_party$javascript$firebase$dist$firebase_firestore.JSON.parse;
function P$$module$third_party$javascript$firebase$dist$firebase_firestore(e){B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Pe$$module$third_party$javascript$firebase$dist$firebase_firestore,this.L=this.M=!1}
r$$module$third_party$javascript$firebase$dist$firebase_firestore(P$$module$third_party$javascript$firebase$dist$firebase_firestore,B$1$$module$third_party$javascript$firebase$dist$firebase_firestore);var Pe$$module$third_party$javascript$firebase$dist$firebase_firestore="";var Ae$$module$third_party$javascript$firebase$dist$firebase_firestore=/^https?$/i;var Re$$module$third_party$javascript$firebase$dist$firebase_firestore=["POST","PUT"];
function vd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,yd$$module$third_party$javascript$firebase$dist$firebase_firestore(e),zd$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}
function yd$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.F||(e.F=!0,C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"complete"),C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"error"))}
function Ad$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(e.h&&void 0!==g$$module$third_party$javascript$firebase$dist$firebase_firestore&&(!e.C[1]||4!=H$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)||2!=e.da()))if(e.v&&4==H$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e))yb$$module$third_party$javascript$firebase$dist$firebase_firestore(e.La,0,e);else if(C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"readystatechange"),
4==H$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)){e.h=!1;try{const u=e.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===u){var s=String(e.I).match(he$$module$third_party$javascript$firebase$dist$firebase_firestore)[1]||null;!s&&E$$module$third_party$javascript$firebase$dist$firebase_firestore.self&&E$$module$third_party$javascript$firebase$dist$firebase_firestore.self.location&&(s=
E$$module$third_party$javascript$firebase$dist$firebase_firestore.self.location.protocol.slice(0,-1)),i=!Ae$$module$third_party$javascript$firebase$dist$firebase_firestore.test(s?s.toLowerCase():"")}n=i}if(n)C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"complete"),C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"success");else{e.m=6;try{var o=2<H$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?e.g.statusText:""}catch(e){o=""}e.j=
o+" ["+e.da()+"]",yd$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}}finally{zd$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}}}
function zd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(e.g){wd$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const n=e.g;const i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"ready");try{n.onreadystatechange=i}catch(e){}}}
function wd$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(E$$module$third_party$javascript$firebase$dist$firebase_firestore.clearTimeout(e.A),e.A=null)}function H$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e.g?e.g.readyState:0}
function mc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Pe$$module$third_party$javascript$firebase$dist$firebase_firestore:case "text":return e.g.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}
function Bd$$module$third_party$javascript$firebase$dist$firebase_firestore(e){let t="";return Na$$module$third_party$javascript$firebase$dist$firebase_firestore(e,function(e,n){t=t+n,t=t+":",t=t+e,t=t+"\r\n"}),t}
function Cd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Bd$$module$third_party$javascript$firebase$dist$firebase_firestore(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n))}function Dd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}
function Ed$$module$third_party$javascript$firebase$dist$firebase_firestore(e){this.Ga=0,this.j=[],this.l=new Gb$$module$third_party$javascript$firebase$dist$firebase_firestore,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd$$module$third_party$javascript$firebase$dist$firebase_firestore("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd$$module$third_party$javascript$firebase$dist$firebase_firestore("baseRetryDelayMs",
5E3,e),this.hb=Dd$$module$third_party$javascript$firebase$dist$firebase_firestore("retryDelaySeedMs",1E4,e),this.eb=Dd$$module$third_party$javascript$firebase$dist$firebase_firestore("forwardChannelMaxRetries",2,e),this.xa=Dd$$module$third_party$javascript$firebase$dist$firebase_firestore("forwardChannelRequestTimeoutMs",2E4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new cd$$module$third_party$javascript$firebase$dist$firebase_firestore(e&&
e.concurrentRequestLimit),this.Ja=new hd$$module$third_party$javascript$firebase$dist$firebase_firestore,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}
function Hc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(Fd$$module$third_party$javascript$firebase$dist$firebase_firestore(e),3==e.H){var t=e.W++;var n=G$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.I);if(K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,"SID",e.K),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,"RID",t),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,"TYPE","terminate"),
Gd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n),(t=new bc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,e.l,t)).L=2,t.v=hc$$module$third_party$javascript$firebase$dist$firebase_firestore(G$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n)),n=!1,E$$module$third_party$javascript$firebase$dist$firebase_firestore.navigator&&E$$module$third_party$javascript$firebase$dist$firebase_firestore.navigator.sendBeacon)try{n=E$$module$third_party$javascript$firebase$dist$firebase_firestore.navigator.sendBeacon(t.v.toString(),
"")}catch(e){}!n&&E$$module$third_party$javascript$firebase$dist$firebase_firestore.Image&&((new Image).src=t.v,n=!0),n||(t.g=lc$$module$third_party$javascript$firebase$dist$firebase_firestore(t.l,null),t.g.ha(t.v)),t.G=Date.now(),jc$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}Hd$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}
function zc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.g&&(vc$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e.g.cancel(),e.g=null)}
function Fd$$module$third_party$javascript$firebase$dist$firebase_firestore(e){zc$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e.u&&(E$$module$third_party$javascript$firebase$dist$firebase_firestore.clearTimeout(e.u),e.u=null),yc$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e.i.cancel(),e.m&&("number"==typeof e.m&&E$$module$third_party$javascript$firebase$dist$firebase_firestore.clearTimeout(e.m),e.m=null)}
function Gc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(!ed$$module$third_party$javascript$firebase$dist$firebase_firestore(e.i)&&!e.m){e.m=!0;var t=e.Na;Z$$module$third_party$javascript$firebase$dist$firebase_firestore||vb$$module$third_party$javascript$firebase$dist$firebase_firestore(),ee$$module$third_party$javascript$firebase$dist$firebase_firestore||(Z$$module$third_party$javascript$firebase$dist$firebase_firestore(),ee$$module$third_party$javascript$firebase$dist$firebase_firestore=
!0),te$$module$third_party$javascript$firebase$dist$firebase_firestore.add(t,e),e.C=0}}
function Ld$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){var n;n=t?t.m:e.W++;const i=G$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.I);K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i,"SID",e.K),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i,"RID",n),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i,"AID",e.V),Gd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i),e.o&&e.s&&
Cd$$module$third_party$javascript$firebase$dist$firebase_firestore(i,e.o,e.s),n=new bc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Kd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n,1E3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Cc$$module$third_party$javascript$firebase$dist$firebase_firestore(e.i,n),gc$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
i,t)}function Gd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e.na&&Na$$module$third_party$javascript$firebase$dist$firebase_firestore(e.na,function(e,n){K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,n,e)}),e.h&&Kc$$module$third_party$javascript$firebase$dist$firebase_firestore({},function(e,n){K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,n,e)})}
function Kd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){n=Math.min(e.j.length,n);var i=e.h?q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.h.Va,e.h,e):null;e:{var s=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let u=0;u<n;u++){let n=s[u].g;const l=s[u].map;if(n=n-t,0>n)t=Math.max(0,s[u].g-100),o=!1;else try{id$$module$third_party$javascript$firebase$dist$firebase_firestore(l,e,"req"+
n+"_")}catch(e){i&&i(l)}}if(o){i=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,i}
function Fc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Z$$module$third_party$javascript$firebase$dist$firebase_firestore||vb$$module$third_party$javascript$firebase$dist$firebase_firestore(),ee$$module$third_party$javascript$firebase$dist$firebase_firestore||(Z$$module$third_party$javascript$firebase$dist$firebase_firestore(),ee$$module$third_party$javascript$firebase$dist$firebase_firestore=!0),te$$module$third_party$javascript$firebase$dist$firebase_firestore.add(t,
e),e.A=0}}function Ac$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Rb$$module$third_party$javascript$firebase$dist$firebase_firestore(q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.Ma,e),Jd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,e.A)),e.A++,!0)}
function vc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){null!=e.B&&(E$$module$third_party$javascript$firebase$dist$firebase_firestore.clearTimeout(e.B),e.B=null)}
function Md$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.g=new bc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=G$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.wa);K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,"RID","rpc"),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,"SID",e.K),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
"AID",e.V),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,"TO",e.qa),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,"TYPE","xmlhttp"),Gd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t),e.o&&e.s&&Cd$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=hc$$module$third_party$javascript$firebase$dist$firebase_firestore(G$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t)),
n.s=null,n.S=!0,ic$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e)}function yc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){null!=e.v&&(E$$module$third_party$javascript$firebase$dist$firebase_firestore.clearTimeout(e.v),e.v=null)}
function sc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){var n=null;if(e.g==t){yc$$module$third_party$javascript$firebase$dist$firebase_firestore(e),vc$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e.g=null;var i=2}else{if(!xc$$module$third_party$javascript$firebase$dist$firebase_firestore(e.i,t))return;n=t.F,Ec$$module$third_party$javascript$firebase$dist$firebase_firestore(e.i,t),i=1}if(0!=e.H)if(t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=
e.C;C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i=Mb$$module$third_party$javascript$firebase$dist$firebase_firestore(),new Qb$$module$third_party$javascript$firebase$dist$firebase_firestore(i,n)),Gc$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}else Fc$$module$third_party$javascript$firebase$dist$firebase_firestore(e);else if(3==(s=t.o)||0==s&&0<t.ca||!(1==i&&function Id(e,t){return!(Bc$$module$third_party$javascript$firebase$dist$firebase_firestore(e.i)>=
e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=Rb$$module$third_party$javascript$firebase$dist$firebase_firestore(q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.Na,e,t),Jd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,e.C)),e.C++,0)))}(e,t)||2==i&&Ac$$module$third_party$javascript$firebase$dist$firebase_firestore(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:J$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
5);break;case 4:J$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,10);break;case 3:J$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,6);break;default:J$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,2)}}function Jd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n=n*2),n*t}
function J$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var i=q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e.pb,e);n||(n=new M$1$$module$third_party$javascript$firebase$dist$firebase_firestore("//www.google.com/images/cleardot.gif"),E$$module$third_party$javascript$firebase$dist$firebase_firestore.location&&"http"==E$$module$third_party$javascript$firebase$dist$firebase_firestore.location.protocol||
Nc$$module$third_party$javascript$firebase$dist$firebase_firestore(n,"https"),hc$$module$third_party$javascript$firebase$dist$firebase_firestore(n)),function jd(e,t){const n=new Gb$$module$third_party$javascript$firebase$dist$firebase_firestore;if(E$$module$third_party$javascript$firebase$dist$firebase_firestore.Image){const i=new Image;i.onload=ha$$module$third_party$javascript$firebase$dist$firebase_firestore(kd$$module$third_party$javascript$firebase$dist$firebase_firestore,n,i,"TestLoadImage: loaded",
!0,t),i.onerror=ha$$module$third_party$javascript$firebase$dist$firebase_firestore(kd$$module$third_party$javascript$firebase$dist$firebase_firestore,n,i,"TestLoadImage: error",!1,t),i.onabort=ha$$module$third_party$javascript$firebase$dist$firebase_firestore(kd$$module$third_party$javascript$firebase$dist$firebase_firestore,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=ha$$module$third_party$javascript$firebase$dist$firebase_firestore(kd$$module$third_party$javascript$firebase$dist$firebase_firestore,
n,i,"TestLoadImage: timeout",!1,t),E$$module$third_party$javascript$firebase$dist$firebase_firestore.setTimeout(function(){i.ontimeout&&i.ontimeout()},1E4),i.src=e}else t(!1)}(n.toString(),i)}else F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(2);e.H=0,e.h&&e.h.za(t),Hd$$module$third_party$javascript$firebase$dist$firebase_firestore(e),Fd$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}
function Hd$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(e.H=0,e.ma=[],e.h){const t=fd$$module$third_party$javascript$firebase$dist$firebase_firestore(e.i);0==t.length&&0==e.j.length||(na$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ma,t),na$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ma,e.j),e.i.i.length=0,ma$$module$third_party$javascript$firebase$dist$firebase_firestore(e.j),e.j.length=0),e.h.ya()}}
function Dc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){var i=n instanceof M$1$$module$third_party$javascript$firebase$dist$firebase_firestore?G$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n):new M$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n);if(""!=i.g)t&&(i.g=t+"."+i.g),Oc$$module$third_party$javascript$firebase$dist$firebase_firestore(i,i.m);else{var s=E$$module$third_party$javascript$firebase$dist$firebase_firestore.location;
i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new M$1$$module$third_party$javascript$firebase$dist$firebase_firestore(null);i&&Nc$$module$third_party$javascript$firebase$dist$firebase_firestore(o,i),t&&(o.g=t),s&&Oc$$module$third_party$javascript$firebase$dist$firebase_firestore(o,s),n&&(o.l=n),i=o}return n=e.F,t=e.Da,n&&t&&K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i,n,t),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i,"VER",e.ra),Gd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
i),i}function lc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new P$$module$third_party$javascript$firebase$dist$firebase_firestore(new ld$$module$third_party$javascript$firebase$dist$firebase_firestore({ob:!0})):new P$$module$third_party$javascript$firebase$dist$firebase_firestore(e.va)).Oa(e.J),t}
function Nd$$module$third_party$javascript$firebase$dist$firebase_firestore(){}function Od$$module$third_party$javascript$firebase$dist$firebase_firestore(){if(N$$module$third_party$javascript$firebase$dist$firebase_firestore&&!(10<=Number(K$$module$third_party$javascript$firebase$dist$firebase_firestore)))throw Error("Environmental error: no available transport.");}
function Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this),this.g=new Ed$$module$third_party$javascript$firebase$dist$firebase_firestore(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=
t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!x$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!x$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),
this.j=new R$$module$third_party$javascript$firebase$dist$firebase_firestore(this)}function Pd$$module$third_party$javascript$firebase$dist$firebase_firestore(e){Yb$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}
function Qd$$module$third_party$javascript$firebase$dist$firebase_firestore(){Zb$$module$third_party$javascript$firebase$dist$firebase_firestore.call(this),this.status=1}function R$$module$third_party$javascript$firebase$dist$firebase_firestore(e){this.g=e}function S$1$$module$third_party$javascript$firebase$dist$firebase_firestore(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}
function Sd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){n||(n=0);var i=Array(16);if("string"==typeof t){var s=0;for(;16>s;++s)i[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24}else{s=0;for(;16>s;++s)i[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24}t=e.g[0],n=e.g[1],s=e.g[2];var o=e.g[3];var u=t+(o^n&(s^o))+i[0]+3614090360&4294967295;u=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=
(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=(n=(s=(o=(t=n+(u<<7&4294967295|u>>>25))+((u=o+(s^t&(n^s))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=s+(n^o&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=n+(t^s&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=t+(o^n&(s^o))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=o+(s^t&(n^s))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=s+(n^o&(t^n))+i[6]+2821735955&4294967295)<<17&
4294967295|u>>>15))+((u=n+(t^s&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=t+(o^n&(s^o))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=o+(s^t&(n^s))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=s+(n^o&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=n+(t^s&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=t+(o^n&(s^o))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=o+(s^t&(n^s))+i[13]+4254626195&4294967295)<<12&4294967295|
u>>>20))+((u=s+(n^o&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=n+(t^s&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=t+(s^o&(n^s))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=o+(n^s&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=s+(t^n&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=n+(o^t&(s^o))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=t+(s^o&(n^s))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=
o+(n^s&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=s+(t^n&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=n+(o^t&(s^o))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=t+(s^o&(n^s))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=o+(n^s&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=s+(t^n&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=n+(o^t&(s^o))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=t+(s^o&(n^s))+
i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=o+(n^s&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=s+(t^n&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=n+(o^t&(s^o))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=t+(n^s^o)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^n^s)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=s+(o^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=n+(s^o^t)+i[14]+4259657740&4294967295)<<
23&4294967295|u>>>9))+((u=t+(n^s^o)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^n^s)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=s+(o^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=n+(s^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=t+(n^s^o)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^n^s)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=s+(o^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=n+(s^o^t)+i[6]+
76029189&4294967295)<<23&4294967295|u>>>9))+((u=t+(n^s^o)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^n^s)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=s+(o^t^n)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=n+(s^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=t+(s^(n|~o))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=o+(n^(t|~s))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=s+(t^(o|~n))+i[14]+2878612391&4294967295)<<15&4294967295|
u>>>17))+((u=n+(o^(s|~t))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=t+(s^(n|~o))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=o+(n^(t|~s))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=s+(t^(o|~n))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=n+(o^(s|~t))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=t+(s^(n|~o))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=o+(n^(t|~s))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=s+(t^
(o|~n))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=n+(o^(s|~t))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((o=(t=n+((u=t+(s^(n|~o))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=o+(n^(t|~s))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((s=o+((u=s+(t^(o|~n))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(u<<21&4294967295|u>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+
o&4294967295}function T$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){this.h=t;var n=[];var i=!0;var s=e.length-1;for(;0<=s;s--){var o=0|e[s];i&&o==t||(n[s]=o,i=!1)}this.g=n}
(m$$module$third_party$javascript$firebase$dist$firebase_firestore=P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype).Oa=function(e){this.M=e},m$$module$third_party$javascript$firebase$dist$firebase_firestore.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ae$$module$third_party$javascript$firebase$dist$firebase_firestore.g(),
this.C=this.u?Vb$$module$third_party$javascript$firebase$dist$firebase_firestore(this.u):Vb$$module$third_party$javascript$firebase$dist$firebase_firestore(ae$$module$third_party$javascript$firebase$dist$firebase_firestore),this.g.onreadystatechange=q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void vd$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e)}if(e=n||"",n=new Map(this.headers),
i)if(Object.getPrototypeOf(i)===Object.prototype){var s;for(s in i)n.set(s,i[s])}else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find(e=>{return"content-type"==e.toLowerCase()}),s=E$$module$third_party$javascript$firebase$dist$firebase_firestore.FormData&&e instanceof E$$module$third_party$javascript$firebase$dist$firebase_firestore.FormData,!(0<=S$$module$third_party$javascript$firebase$dist$firebase_firestore(Re$$module$third_party$javascript$firebase$dist$firebase_firestore,
t))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const [e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wd$$module$third_party$javascript$firebase$dist$firebase_firestore(this),0<this.B&&((this.L=function xd(e){return N$$module$third_party$javascript$firebase$dist$firebase_firestore&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?
(this.g.timeout=this.B,this.g.ontimeout=q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.ua,this)):this.A=yb$$module$third_party$javascript$firebase$dist$firebase_firestore(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){vd$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e)}},m$$module$third_party$javascript$firebase$dist$firebase_firestore.ua=function(){void 0!==g$$module$third_party$javascript$firebase$dist$firebase_firestore&&this.g&&
(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this,"timeout"),this.abort(8))},m$$module$third_party$javascript$firebase$dist$firebase_firestore.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this,"complete"),C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this,"abort"),zd$$module$third_party$javascript$firebase$dist$firebase_firestore(this))},
m$$module$third_party$javascript$firebase$dist$firebase_firestore.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd$$module$third_party$javascript$firebase$dist$firebase_firestore(this,!0)),P$$module$third_party$javascript$firebase$dist$firebase_firestore.$.N.call(this)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.La=function(){this.s||(this.G||this.v||this.l?Ad$$module$third_party$javascript$firebase$dist$firebase_firestore(this):this.kb())},m$$module$third_party$javascript$firebase$dist$firebase_firestore.kb=
function(){Ad$$module$third_party$javascript$firebase$dist$firebase_firestore(this)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.isActive=function(){return!!this.g},m$$module$third_party$javascript$firebase$dist$firebase_firestore.da=function(){try{return 2<H$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this)?this.g.status:-1}catch(e){return-1}},m$$module$third_party$javascript$firebase$dist$firebase_firestore.ja=function(){try{return this.g?this.g.responseText:
""}catch(e){return""}},m$$module$third_party$javascript$firebase$dist$firebase_firestore.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ee$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}},m$$module$third_party$javascript$firebase$dist$firebase_firestore.Ia=function(){return this.m},m$$module$third_party$javascript$firebase$dist$firebase_firestore.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(m$$module$third_party$javascript$firebase$dist$firebase_firestore=
Ed$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype).ra=8,m$$module$third_party$javascript$firebase$dist$firebase_firestore.H=1,m$$module$third_party$javascript$firebase$dist$firebase_firestore.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1E5*Math.random()),e=this.W++;const s=new bc$$module$third_party$javascript$firebase$dist$firebase_firestore(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Pa$$module$third_party$javascript$firebase$dist$firebase_firestore(o),
Ra$$module$third_party$javascript$firebase$dist$firebase_firestore(o,this.U)):o=this.U),null!==this.o||this.O||(s.I=o,o=null),this.P)e:{var t=0;var n=0;for(;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t=t+i)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1E3}else t=1E3;t=Kd$$module$third_party$javascript$firebase$dist$firebase_firestore(this,s,t),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n=
G$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.I),"RID",e),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,"CVER",22),this.F&&K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,"X-HTTP-Session-Id",this.F),Gd$$module$third_party$javascript$firebase$dist$firebase_firestore(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Bd$$module$third_party$javascript$firebase$dist$firebase_firestore(o)))+"&"+t:this.o&&Cd$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
this.o,o)),Cc$$module$third_party$javascript$firebase$dist$firebase_firestore(this.i,s),this.bb&&K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,"TYPE","init"),this.P?(K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,"$req",t),K$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,"SID","null"),s.aa=!0,gc$$module$third_party$javascript$firebase$dist$firebase_firestore(s,n,null)):gc$$module$third_party$javascript$firebase$dist$firebase_firestore(s,
n,t),this.H=2}}else 3==this.H&&(e?Ld$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e):0==this.j.length||ed$$module$third_party$javascript$firebase$dist$firebase_firestore(this.i)||Ld$$module$third_party$javascript$firebase$dist$firebase_firestore(this))},m$$module$third_party$javascript$firebase$dist$firebase_firestore.Ma=function(){if(this.u=null,Md$$module$third_party$javascript$firebase$dist$firebase_firestore(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;
this.l.info("BP detection timer enabled: "+e),this.B=Rb$$module$third_party$javascript$firebase$dist$firebase_firestore(q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.jb,this),e)}},m$$module$third_party$javascript$firebase$dist$firebase_firestore.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(10),
zc$$module$third_party$javascript$firebase$dist$firebase_firestore(this),Md$$module$third_party$javascript$firebase$dist$firebase_firestore(this))},m$$module$third_party$javascript$firebase$dist$firebase_firestore.ib=function(){null!=this.v&&(this.v=null,zc$$module$third_party$javascript$firebase$dist$firebase_firestore(this),Ac$$module$third_party$javascript$firebase$dist$firebase_firestore(this),F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(19))},m$$module$third_party$javascript$firebase$dist$firebase_firestore.pb=
function(e){e?(this.l.info("Successfully pinged google.com"),F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(2)):(this.l.info("Failed to ping google.com"),F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(1))},m$$module$third_party$javascript$firebase$dist$firebase_firestore.isActive=function(){return!!this.h&&this.h.isActive(this)},(m$$module$third_party$javascript$firebase$dist$firebase_firestore=Nd$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype).Ba=
function(){},m$$module$third_party$javascript$firebase$dist$firebase_firestore.Aa=function(){},m$$module$third_party$javascript$firebase$dist$firebase_firestore.za=function(){},m$$module$third_party$javascript$firebase$dist$firebase_firestore.ya=function(){},m$$module$third_party$javascript$firebase$dist$firebase_firestore.isActive=function(){return!0},m$$module$third_party$javascript$firebase$dist$firebase_firestore.Va=function(){},Od$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.g=
function(e,t){return new Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)},r$$module$third_party$javascript$firebase$dist$firebase_firestore(Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore,B$1$$module$third_party$javascript$firebase$dist$firebase_firestore),Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g;var t=this.l;var n=this.h||void 0;F$1$$module$third_party$javascript$firebase$dist$firebase_firestore(0),
e.Y=t,e.na=n||{},e.G=e.aa,e.I=Dc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,null,e.Y),Gc$$module$third_party$javascript$firebase$dist$firebase_firestore(e)},Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.close=function(){Hc$$module$third_party$javascript$firebase$dist$firebase_firestore(this.g)},Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,
e=n}else this.v&&((n={}).__data__=J$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e=n);t.j.push(new class{constructor(e,t){this.g=e,this.map=t}}(t.fb++,e)),3==t.H&&Gc$$module$third_party$javascript$firebase$dist$firebase_firestore(t)},Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.N=function(){this.g.h=null,delete this.j,Hc$$module$third_party$javascript$firebase$dist$firebase_firestore(this.g),delete this.g,Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore.$.N.call(this)},
r$$module$third_party$javascript$firebase$dist$firebase_firestore(Pd$$module$third_party$javascript$firebase$dist$firebase_firestore,Yb$$module$third_party$javascript$firebase$dist$firebase_firestore),r$$module$third_party$javascript$firebase$dist$firebase_firestore(Qd$$module$third_party$javascript$firebase$dist$firebase_firestore,Zb$$module$third_party$javascript$firebase$dist$firebase_firestore),r$$module$third_party$javascript$firebase$dist$firebase_firestore(R$$module$third_party$javascript$firebase$dist$firebase_firestore,
Nd$$module$third_party$javascript$firebase$dist$firebase_firestore),R$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.Ba=function(){C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.g,"a")},R$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.Aa=function(e){C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.g,new Pd$$module$third_party$javascript$firebase$dist$firebase_firestore(e))},R$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.za=
function(e){C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.g,new Qd$$module$third_party$javascript$firebase$dist$firebase_firestore)},R$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.ya=function(){C$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.g,"b")},r$$module$third_party$javascript$firebase$dist$firebase_firestore(S$1$$module$third_party$javascript$firebase$dist$firebase_firestore,function Rd(){this.blockSize=-1}),S$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.reset=
function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},S$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.j=function(e,t){void 0===t&&(t=e.length);var n=t-this.blockSize;var i=this.m;var s=this.h;var o=0;for(;o<t;){if(0==s)for(;o<=n;)Sd$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e,o),o=o+this.blockSize;if("string"==typeof e)for(;o<t;){if(i[s++]=e.charCodeAt(o++),s==this.blockSize){Sd$$module$third_party$javascript$firebase$dist$firebase_firestore(this,
i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){Sd$$module$third_party$javascript$firebase$dist$firebase_firestore(this,i),s=0;break}}this.h=s,this.i+=t},S$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;var t=1;for(;t<e.length-8;++t)e[t]=0;var n=8*this.i;t=e.length-8;for(;t<e.length;++t)e[t]=255&n,n=n/256;this.j(e),e=Array(16),t=n=0;for(;4>t;++t){var i=0;for(;32>i;i=
i+8)e[n++]=this.g[t]>>>i&255}return e};var ye$$module$third_party$javascript$firebase$dist$firebase_firestore={};
function Td$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return-128<=e&&128>e?function ra(e,t){var n=ye$$module$third_party$javascript$firebase$dist$firebase_firestore;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new T$$module$third_party$javascript$firebase$dist$firebase_firestore([0|e],0>e?-1:0)}):new T$$module$third_party$javascript$firebase$dist$firebase_firestore([0|e],0>e?-1:0)}
function U$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(isNaN(e)||!isFinite(e))return be$$module$third_party$javascript$firebase$dist$firebase_firestore;if(0>e)return W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(U$1$$module$third_party$javascript$firebase$dist$firebase_firestore(-e));var t=[];var n=1;var i=0;for(;e>=n;i++)t[i]=e/n|0,n=n*Ve$$module$third_party$javascript$firebase$dist$firebase_firestore;return new T$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
0)}var Ve$$module$third_party$javascript$firebase$dist$firebase_firestore=4294967296;var be$$module$third_party$javascript$firebase$dist$firebase_firestore=Td$$module$third_party$javascript$firebase$dist$firebase_firestore(0);var Se$$module$third_party$javascript$firebase$dist$firebase_firestore=Td$$module$third_party$javascript$firebase$dist$firebase_firestore(1);var ve$$module$third_party$javascript$firebase$dist$firebase_firestore=Td$$module$third_party$javascript$firebase$dist$firebase_firestore(16777216);
function Y$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(0!=e.h)return!1;var t=0;for(;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return-1==e.h}
function W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e){var t=e.g.length;var n=[];var i=0;for(;i<t;i++)n[i]=~e.g[i];return(new T$$module$third_party$javascript$firebase$dist$firebase_firestore(n,~e.h)).add(Se$$module$third_party$javascript$firebase$dist$firebase_firestore)}function Zd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e.add(W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t))}
function $d$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ae$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){this.g=e,this.h=t}
function Yd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(Y$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t))throw Error("division by zero");if(Y$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e))return new ae$1$$module$third_party$javascript$firebase$dist$firebase_firestore(be$$module$third_party$javascript$firebase$dist$firebase_firestore,be$$module$third_party$javascript$firebase$dist$firebase_firestore);if(X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e))return t=
Yd$$module$third_party$javascript$firebase$dist$firebase_firestore(W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t),new ae$1$$module$third_party$javascript$firebase$dist$firebase_firestore(W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t.g),W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t.h));if(X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t))return t=Yd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t)),new ae$1$$module$third_party$javascript$firebase$dist$firebase_firestore(W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t.g),t.h);if(30<e.g.length){if(X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)||X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t))throw Error("slowDivide_ only works with positive integers.");var n=Se$$module$third_party$javascript$firebase$dist$firebase_firestore;
var i=t;for(;0>=i.X(e);)n=be$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n),i=be$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i);var s=Z$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,1);var o=Z$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i,1);i=Z$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i,2),n=Z$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,2);for(;!Y$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i);){var u=
o.add(i);0>=u.X(e)&&(s=s.add(n),o=u),i=Z$1$$module$third_party$javascript$firebase$dist$firebase_firestore(i,1),n=Z$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n,1)}return t=Zd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,s.R(t)),new ae$1$$module$third_party$javascript$firebase$dist$firebase_firestore(s,t)}s=be$$module$third_party$javascript$firebase$dist$firebase_firestore;for(;0<=e.X(t);){n=Math.max(1,Math.floor(e.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(n)/
Math.LN2))?1:Math.pow(2,i-48),u=(o=U$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n)).R(t);for(;X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(u)||0<u.X(e);)u=(o=U$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n=n-i)).R(t);Y$1$$module$third_party$javascript$firebase$dist$firebase_firestore(o)&&(o=Se$$module$third_party$javascript$firebase$dist$firebase_firestore),s=s.add(o),e=Zd$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
u)}return new ae$1$$module$third_party$javascript$firebase$dist$firebase_firestore(s,e)}function be$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e){var t=e.g.length+1;var n=[];var i=0;for(;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new T$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e.h)}
function Z$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){var n=t>>5;t=t%32;var i=e.g.length-n;var s=[];var o=0;for(;o<i;o++)s[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new T$$module$third_party$javascript$firebase$dist$firebase_firestore(s,e.h)}
(m$$module$third_party$javascript$firebase$dist$firebase_firestore=T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype).ea=function(){if(X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this))return-W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this).ea();var e=0;var t=1;var n=0;for(;n<this.g.length;n++){var i=this.D(n);e=e+(0<=i?i:Ve$$module$third_party$javascript$firebase$dist$firebase_firestore+i)*t,t=t*Ve$$module$third_party$javascript$firebase$dist$firebase_firestore}return e},
m$$module$third_party$javascript$firebase$dist$firebase_firestore.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Y$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this))return"0";if(X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this))return"-"+W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this).toString(e);var t=U$1$$module$third_party$javascript$firebase$dist$firebase_firestore(Math.pow(e,6));var n=
this;var i="";for(;;){var s=Yd$$module$third_party$javascript$firebase$dist$firebase_firestore(n,t).g;var o=((0<(n=Zd$$module$third_party$javascript$firebase$dist$firebase_firestore(n,s.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Y$1$$module$third_party$javascript$firebase$dist$firebase_firestore(n=s))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},m$$module$third_party$javascript$firebase$dist$firebase_firestore.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},m$$module$third_party$javascript$firebase$dist$firebase_firestore.X=
function(e){return X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e=Zd$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e))?-1:Y$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?0:1},m$$module$third_party$javascript$firebase$dist$firebase_firestore.abs=function(){return X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this)?W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this):this},m$$module$third_party$javascript$firebase$dist$firebase_firestore.add=
function(e){var t=Math.max(this.g.length,e.g.length);var n=[];var i=0;var s=0;for(;s<=t;s++){var o=i+(65535&this.D(s))+(65535&e.D(s));var u=(o>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);i=u>>>16,o=o&65535,u=u&65535,n[s]=u<<16|o}return new T$$module$third_party$javascript$firebase$dist$firebase_firestore(n,-2147483648&n[n.length-1]?-1:0)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.R=function(e){if(Y$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this)||Y$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e))return be$$module$third_party$javascript$firebase$dist$firebase_firestore;
if(X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this))return X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this).R(W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)):W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this).R(e));if(X$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e))return W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.R(W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)));
if(0>this.X(ve$$module$third_party$javascript$firebase$dist$firebase_firestore)&&0>e.X(ve$$module$third_party$javascript$firebase$dist$firebase_firestore))return U$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this.ea()*e.ea());var t=this.g.length+e.g.length;var n=[];var i=0;for(;i<2*t;i++)n[i]=0;i=0;for(;i<this.g.length;i++){var s=0;for(;s<e.g.length;s++){var o=this.D(i)>>>16;var u=65535&this.D(i);var l=e.D(s)>>>16;var _=65535&e.D(s);n[2*i+2*s]+=u*_,$d$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
2*i+2*s),n[2*i+2*s+1]+=o*_,$d$$module$third_party$javascript$firebase$dist$firebase_firestore(n,2*i+2*s+1),n[2*i+2*s+1]+=u*l,$d$$module$third_party$javascript$firebase$dist$firebase_firestore(n,2*i+2*s+1),n[2*i+2*s+2]+=o*l,$d$$module$third_party$javascript$firebase$dist$firebase_firestore(n,2*i+2*s+2)}}i=0;for(;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];i=t;for(;i<2*t;i++)n[i]=0;return new T$$module$third_party$javascript$firebase$dist$firebase_firestore(n,0)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.gb=
function(e){return Yd$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e).h},m$$module$third_party$javascript$firebase$dist$firebase_firestore.and=function(e){var t=Math.max(this.g.length,e.g.length);var n=[];var i=0;for(;i<t;i++)n[i]=this.D(i)&e.D(i);return new T$$module$third_party$javascript$firebase$dist$firebase_firestore(n,this.h&e.h)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.or=function(e){var t=Math.max(this.g.length,e.g.length);var n=[];var i=
0;for(;i<t;i++)n[i]=this.D(i)|e.D(i);return new T$$module$third_party$javascript$firebase$dist$firebase_firestore(n,this.h|e.h)},m$$module$third_party$javascript$firebase$dist$firebase_firestore.xor=function(e){var t=Math.max(this.g.length,e.g.length);var n=[];var i=0;for(;i<t;i++)n[i]=this.D(i)^e.D(i);return new T$$module$third_party$javascript$firebase$dist$firebase_firestore(n,this.h^e.h)},Od$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.createWebChannel=Od$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.g,
Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.send=Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.u,Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.open=Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.m,Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.close=Q$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.close,se$$module$third_party$javascript$firebase$dist$firebase_firestore.NO_ERROR=
0,se$$module$third_party$javascript$firebase$dist$firebase_firestore.TIMEOUT=8,se$$module$third_party$javascript$firebase$dist$firebase_firestore.HTTP_ERROR=6,oe$$module$third_party$javascript$firebase$dist$firebase_firestore.COMPLETE="complete",Wb$$module$third_party$javascript$firebase$dist$firebase_firestore.EventType=ce$$module$third_party$javascript$firebase$dist$firebase_firestore,ce$$module$third_party$javascript$firebase$dist$firebase_firestore.OPEN="a",ce$$module$third_party$javascript$firebase$dist$firebase_firestore.CLOSE=
"b",ce$$module$third_party$javascript$firebase$dist$firebase_firestore.ERROR="c",ce$$module$third_party$javascript$firebase$dist$firebase_firestore.MESSAGE="d",B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.listen=B$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.O,P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.listenOnce=P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.P,P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.getLastError=
P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.Sa,P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.getLastErrorCode=P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.Ia,P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.getStatus=P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.da,P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.getResponseJson=
P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.Wa,P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.getResponseText=P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.ja,P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.send=P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.ha,P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.setWithCredentials=
P$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.Oa,S$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.digest=S$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.l,S$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.reset=S$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.reset,S$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.update=S$1$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.j,
T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.add=T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.add,T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.multiply=T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.R,T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.modulo=T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.gb,T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.compare=
T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.X,T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.toNumber=T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.ea,T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.toString=T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.toString,T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.getBits=T$$module$third_party$javascript$firebase$dist$firebase_firestore.prototype.D,
T$$module$third_party$javascript$firebase$dist$firebase_firestore.fromNumber=U$1$$module$third_party$javascript$firebase$dist$firebase_firestore,T$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString=function Vd(e,t){if(0==e.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return W$1$$module$third_party$javascript$firebase$dist$firebase_firestore(Vd(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');
var n=U$1$$module$third_party$javascript$firebase$dist$firebase_firestore(Math.pow(t,8));var i=be$$module$third_party$javascript$firebase$dist$firebase_firestore;var s=0;for(;s<e.length;s=s+8){var o=Math.min(8,e.length-s);var u=parseInt(e.substring(s,s+o),t);8>o?(o=U$1$$module$third_party$javascript$firebase$dist$firebase_firestore(Math.pow(t,o)),i=i.R(o).add(U$1$$module$third_party$javascript$firebase$dist$firebase_firestore(u))):i=(i=i.R(n)).add(U$1$$module$third_party$javascript$firebase$dist$firebase_firestore(u))}return i};
var we$$module$third_party$javascript$firebase$dist$firebase_firestore=se$$module$third_party$javascript$firebase$dist$firebase_firestore;var De$$module$third_party$javascript$firebase$dist$firebase_firestore=oe$$module$third_party$javascript$firebase$dist$firebase_firestore;var Ce$$module$third_party$javascript$firebase$dist$firebase_firestore=re$$module$third_party$javascript$firebase$dist$firebase_firestore;var Fe$$module$third_party$javascript$firebase$dist$firebase_firestore=10;
var xe$$module$third_party$javascript$firebase$dist$firebase_firestore=11;var Ne$$module$third_party$javascript$firebase$dist$firebase_firestore=ld$$module$third_party$javascript$firebase$dist$firebase_firestore;var Me$$module$third_party$javascript$firebase$dist$firebase_firestore=Wb$$module$third_party$javascript$firebase$dist$firebase_firestore;var ke$$module$third_party$javascript$firebase$dist$firebase_firestore=P$$module$third_party$javascript$firebase$dist$firebase_firestore;
var Oe$$module$third_party$javascript$firebase$dist$firebase_firestore=S$1$$module$third_party$javascript$firebase$dist$firebase_firestore;var Le$$module$third_party$javascript$firebase$dist$firebase_firestore=T$$module$third_party$javascript$firebase$dist$firebase_firestore;const Be$$module$third_party$javascript$firebase$dist$firebase_firestore="@firebase/firestore";
class User$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}
User$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAUTHENTICATED=new User$$module$third_party$javascript$firebase$dist$firebase_firestore(null),User$$module$third_party$javascript$firebase$dist$firebase_firestore.GOOGLE_CREDENTIALS=new User$$module$third_party$javascript$firebase$dist$firebase_firestore("google-credentials-uid"),User$$module$third_party$javascript$firebase$dist$firebase_firestore.FIRST_PARTY=new User$$module$third_party$javascript$firebase$dist$firebase_firestore("first-party-uid"),
User$$module$third_party$javascript$firebase$dist$firebase_firestore.MOCK_USER=new User$$module$third_party$javascript$firebase$dist$firebase_firestore("mock-user");let qe$$module$third_party$javascript$firebase$dist$firebase_firestore="10.5.2";
const $e$$module$third_party$javascript$firebase$dist$firebase_firestore=new class Logger{constructor(e){this.name=e,this._logLevel=h$$module$third_party$javascript$firebase$dist$firebase_firestore,this._logHandler=defaultLogHandler$$module$third_party$javascript$firebase$dist$firebase_firestore,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in l$$module$third_party$javascript$firebase$dist$firebase_firestore))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);
this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?_$$module$third_party$javascript$firebase$dist$firebase_firestore[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,l$$module$third_party$javascript$firebase$dist$firebase_firestore.DEBUG,
...e),this._logHandler(this,l$$module$third_party$javascript$firebase$dist$firebase_firestore.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,l$$module$third_party$javascript$firebase$dist$firebase_firestore.VERBOSE,...e),this._logHandler(this,l$$module$third_party$javascript$firebase$dist$firebase_firestore.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,l$$module$third_party$javascript$firebase$dist$firebase_firestore.INFO,...e),this._logHandler(this,
l$$module$third_party$javascript$firebase$dist$firebase_firestore.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,l$$module$third_party$javascript$firebase$dist$firebase_firestore.WARN,...e),this._logHandler(this,l$$module$third_party$javascript$firebase$dist$firebase_firestore.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,l$$module$third_party$javascript$firebase$dist$firebase_firestore.ERROR,...e),this._logHandler(this,l$$module$third_party$javascript$firebase$dist$firebase_firestore.ERROR,
...e)}}("@firebase/firestore");function __PRIVATE_getLogLevel$$module$third_party$javascript$firebase$dist$firebase_firestore(){return $e$$module$third_party$javascript$firebase$dist$firebase_firestore.logLevel}function setLogLevel$$module$third_party$javascript$firebase$dist$firebase_firestore(e){$e$$module$third_party$javascript$firebase$dist$firebase_firestore.setLogLevel(e)}
function __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(e,...t){if($e$$module$third_party$javascript$firebase$dist$firebase_firestore.logLevel<=l$$module$third_party$javascript$firebase$dist$firebase_firestore.DEBUG){const n=t.map(__PRIVATE_argToString$$module$third_party$javascript$firebase$dist$firebase_firestore);$e$$module$third_party$javascript$firebase$dist$firebase_firestore.debug(`Firestore (${qe$$module$third_party$javascript$firebase$dist$firebase_firestore}): ${e}`,
...n)}}
function __PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore(e,...t){if($e$$module$third_party$javascript$firebase$dist$firebase_firestore.logLevel<=l$$module$third_party$javascript$firebase$dist$firebase_firestore.ERROR){const n=t.map(__PRIVATE_argToString$$module$third_party$javascript$firebase$dist$firebase_firestore);$e$$module$third_party$javascript$firebase$dist$firebase_firestore.error(`Firestore (${qe$$module$third_party$javascript$firebase$dist$firebase_firestore}): ${e}`,...n)}}
function __PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore(e,...t){if($e$$module$third_party$javascript$firebase$dist$firebase_firestore.logLevel<=l$$module$third_party$javascript$firebase$dist$firebase_firestore.WARN){const n=t.map(__PRIVATE_argToString$$module$third_party$javascript$firebase$dist$firebase_firestore);$e$$module$third_party$javascript$firebase$dist$firebase_firestore.warn(`Firestore (${qe$$module$third_party$javascript$firebase$dist$firebase_firestore}): ${e}`,
...n)}}function __PRIVATE_argToString$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if("string"==typeof e)return e;try{return function __PRIVATE_formatJSON(e){return JSON.stringify(e)}(e)}catch(t){return e}}
function fail$$module$third_party$javascript$firebase$dist$firebase_firestore(e="Unexpected state"){const t=`FIRESTORE (${qe$$module$third_party$javascript$firebase$dist$firebase_firestore}) INTERNAL ASSERTION FAILED: `+e;throw __PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore(t),new Error(t);}
function __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e||fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}function __PRIVATE_debugAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e||fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}function __PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e}
const Ue$$module$third_party$javascript$firebase$dist$firebase_firestore={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",
DATA_LOSS:"data-loss"};class FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore extends FirebaseError$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>{return`${this.name}: [code=${this.code}]: ${this.message}`}}}class __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
class __PRIVATE_OAuthToken$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}
class __PRIVATE_EmptyAuthCredentialsProvider$$module$third_party$javascript$firebase$dist$firebase_firestore{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>{return t(User$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAUTHENTICATED)})}shutdown(){}}
class __PRIVATE_EmulatorAuthCredentialsProvider$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>{return t(this.token.user)})}shutdown(){this.changeListener=null}}
class __PRIVATE_FirebaseAuthCredentialsProvider$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.t=e,this.currentUser=User$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const __PRIVATE_guardedChangeListener=e=>{return this.i!==n?(n=this.i,t(e)):Promise.resolve()};let i=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;this.o=
()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore,e.enqueueRetryable(()=>{return __PRIVATE_guardedChangeListener(this.currentUser)})};const __PRIVATE_awaitNextToken=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await __PRIVATE_guardedChangeListener(this.currentUser)})};const __PRIVATE_registerAuth=e=>{__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirebaseAuthCredentialsProvider",
"Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),__PRIVATE_awaitNextToken()};this.t.onInit(e=>{return __PRIVATE_registerAuth(e)}),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?__PRIVATE_registerAuth(e):(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore)}},0),
__PRIVATE_awaitNextToken()}getToken(){const e=this.i;const t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>{return this.i!==e?(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore("string"==typeof t.accessToken),new __PRIVATE_OAuthToken$$module$third_party$javascript$firebase$dist$firebase_firestore(t.accessToken,
this.currentUser)):null}):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(null===e||"string"==typeof e),new User$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}}
class __PRIVATE_FirstPartyToken$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=User$$module$third_party$javascript$firebase$dist$firebase_firestore.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}
class __PRIVATE_FirstPartyAuthCredentialsProvider$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken$$module$third_party$javascript$firebase$dist$firebase_firestore(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>{return t(User$$module$third_party$javascript$firebase$dist$firebase_firestore.FIRST_PARTY)})}shutdown(){}invalidateToken(){}}
class AppCheckToken$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}
class __PRIVATE_FirebaseAppCheckTokenProvider$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const onTokenChanged=e=>{null!=e.error&&__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirebaseAppCheckTokenProvider",
`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>{return onTokenChanged(t)})};const __PRIVATE_registerAppCheck=e=>{__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>{return __PRIVATE_registerAppCheck(e)}),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?
__PRIVATE_registerAppCheck(e):__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>{return e?(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore("string"==typeof e.token),this.R=e.token,new AppCheckToken$$module$third_party$javascript$firebase$dist$firebase_firestore(e.token)):
null}):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class __PRIVATE_EmptyAppCheckTokenProvider$$module$third_party$javascript$firebase$dist$firebase_firestore{getToken(){return Promise.resolve(new AppCheckToken$$module$third_party$javascript$firebase$dist$firebase_firestore(""))}invalidateToken(){}start(e,t){}shutdown(){}}
function __PRIVATE_randomBytes$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto);const n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}
class __PRIVATE_AutoId$$module$third_party$javascript$firebase$dist$firebase_firestore{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";const t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=__PRIVATE_randomBytes$$module$third_party$javascript$firebase$dist$firebase_firestore(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<t&&(n=n+e.charAt(i[s]%e.length))}return n}}
function __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e<t?-1:e>t?1:0}function __PRIVATE_arrayEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){return e.length===t.length&&e.every((e,i)=>{return n(e,t[i])})}function __PRIVATE_immediateSuccessor$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e+"\x00"}
class Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1E9)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);
}static now(){return Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore.fromMillis(Date.now())}static fromDate(e){return Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1E3);const n=Math.floor(1E6*(e-1E3*t));return new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1E3*this.seconds+this.nanoseconds/
1E6}_compareTo(e){return this.seconds===e.seconds?__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(this.nanoseconds,e.nanoseconds):__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=
this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
class SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.timestamp=e}static fromTimestamp(e){return new SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}static min(){return new SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(0,0))}static max(){return new SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(253402300799,
999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1E6*this.timestamp.seconds+this.timestamp.nanoseconds/1E3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
class BasePath$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){void 0===t?t=0:t>e.length&&fail$$module$third_party$javascript$firebase$dist$firebase_firestore(),void 0===n?n=e.length-t:n>e.length-t&&fail$$module$third_party$javascript$firebase$dist$firebase_firestore(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===BasePath$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(this,e)}child(e){const t=
this.segments.slice(this.offset,this.limit());return e instanceof BasePath$$module$third_party$javascript$firebase$dist$firebase_firestore?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+
e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<
n;i++){const n=e.get(i);const s=t.get(i);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}
class ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore extends BasePath$$module$third_party$javascript$firebase$dist$firebase_firestore{construct(e,t,n){return new ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>{return e.length>0}))}return new ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}static emptyPath(){return new ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore([])}}const Ke$$module$third_party$javascript$firebase$dist$firebase_firestore=/^[_a-zA-Z][_a-zA-Z0-9]*$/;
class FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore extends BasePath$$module$third_party$javascript$firebase$dist$firebase_firestore{construct(e,t,n){return new FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n)}static isValidIdentifier(e){return Ke$$module$third_party$javascript$firebase$dist$firebase_firestore.test(e)}canonicalString(){return this.toArray().map(e=>{return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.isValidIdentifier(e)||
(e="`"+e+"`"),e}).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore(["__name__"])}static fromServerFormat(e){const t=[];let n="";let i=0;const __PRIVATE_addCurrentSegment=()=>{if(0===n.length)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
"Path has invalid escape sequence: "+e);n=n+t,i=i+2}else"`"===t?(s=!s,i++):"."!==t||s?(n=n+t,i++):(__PRIVATE_addCurrentSegment(),i++)}if(__PRIVATE_addCurrentSegment(),s)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}static emptyPath(){return new FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore([])}}
class DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.path=e}static fromPath(e){return new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(e))}static fromName(e){return new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(e).popFirst(5))}static empty(){return new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=
2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==
0}static fromSegments(e){return new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(new ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e.slice()))}}class FieldIndex$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}
function __PRIVATE_fieldIndexGetArraySegment$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e.fields.find(e=>{return 2===e.kind})}function __PRIVATE_fieldIndexGetDirectionalSegments$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e.fields.filter(e=>{return 2!==e.kind})}
function __PRIVATE_fieldIndexSemanticComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){let n=__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let i=0;i<Math.min(e.fields.length,t.fields.length);++i)if(n=__PRIVATE_indexSegmentComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fields[i],t.fields[i]),0!==n)return n;return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fields.length,
t.fields.length)}FieldIndex$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN_ID=-1;class IndexSegment$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.fieldPath=e,this.kind=t}}
function __PRIVATE_indexSegmentComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.kind,t.kind)}
class IndexState$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new IndexState$$module$third_party$javascript$firebase$dist$firebase_firestore(0,IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore.min())}}
function __PRIVATE_newIndexOffsetSuccessorFromReadTime$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=e.toTimestamp().seconds;const i=e.toTimestamp().nanoseconds+1;const s=SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.fromTimestamp(1E9===i?new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(n+1,0):new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(n,i));return new IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore(s,
DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),t)}function __PRIVATE_newIndexOffsetFromDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore(e.readTime,e.key,-1)}
class IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),-1)}static max(){return new IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.max(),
DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),-1)}}
function __PRIVATE_indexOffsetComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(e.documentKey,t.documentKey),0!==n?n:__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.largestBatchId,t.largestBatchId))}const Qe$$module$third_party$javascript$firebase$dist$firebase_firestore="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";
class PersistenceTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>{return e()})}}
async function __PRIVATE_ignoreIfPrimaryLeaseLoss$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(e.code!==Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION||e.message!==Qe$$module$third_party$javascript$firebase$dist$firebase_firestore)throw e;__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("LocalStore","Unexpectedly lost primary lease")}
class PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fail$$module$third_party$javascript$firebase$dist$firebase_firestore(),
this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore?
t:PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(t)}catch(e){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>{return e(t)}):PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>{return e(t)}):PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.reject(t)}static resolve(e){return new PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore((t,
n)=>{t(e)})}static reject(e){return new PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore((t,n)=>{n(e)})}static waitFor(e){return new PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore((t,n)=>{let i=0;let s=0;let o=!1;e.forEach(e=>{++i,e.next(()=>{++s,o&&s===i&&t()},e=>{return n(e)})}),o=!0,s===i&&t()})}static or(e){let t=PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(!1);for(const n of e)t=
t.next(e=>{return e?PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(e):n()});return t}static forEach(e,t){const n=[];return e.forEach((e,i)=>{n.push(t.call(this,e,i))}),this.waitFor(n)}static mapArray(e,t){return new PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore((n,i)=>{const s=e.length;const o=new Array(s);let u=0;for(let l=0;l<s;l++){const _=l;t(e[_]).next(e=>{o[_]=e,++u,u===s&&n(o)},e=>{return i(e)})}})}static doWhile(e,
t){return new PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore((n,i)=>{const process=()=>{!0===e()?t().next(()=>{process()},i):n()};process()})}}
class __PRIVATE_SimpleDbTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new __PRIVATE_IndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.error)):this.V.resolve()},this.transaction.onerror=
t=>{const n=__PRIVATE_checkForAndReportiOSError$$module$third_party$javascript$firebase$dist$firebase_firestore(t.target.error);this.V.reject(new __PRIVATE_IndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n))}}static open(e,t,n,i){try{return new __PRIVATE_SimpleDbTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e.transaction(i,n))}catch(e){throw new __PRIVATE_IndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
e);}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new __PRIVATE_SimpleDbStore$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}}
class __PRIVATE_SimpleDb$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===__PRIVATE_SimpleDb$$module$third_party$javascript$firebase$dist$firebase_firestore.S(getUA$$module$third_party$javascript$firebase$dist$firebase_firestore())&&__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb",
"Removing database:",e),__PRIVATE_wrapRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!function isIndexedDBAvailable(){try{return"object"==typeof indexedDB}catch(e){return!1}}())return!1;if(__PRIVATE_SimpleDb$$module$third_party$javascript$firebase$dist$firebase_firestore.C())return!0;const e=getUA$$module$third_party$javascript$firebase$dist$firebase_firestore();const t=__PRIVATE_SimpleDb$$module$third_party$javascript$firebase$dist$firebase_firestore.S(e);
const n=0<t&&t<10;const i=__PRIVATE_SimpleDb$$module$third_party$javascript$firebase$dist$firebase_firestore.v(e);const s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);const n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=
e.match(/Android ([\d.]+)/i);const n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const n=e.target.result;t(n)},i.onblocked=()=>{n(new __PRIVATE_IndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const i=t.target.error;"VersionError"===i.name?n(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):
"InvalidStateError"===i.name?n(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new __PRIVATE_IndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i))},i.onupgradeneeded=
e=>{__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,i.transaction,e.oldVersion,this.version).next(()=>{__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=e=>{return this.B(e)}),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=
t=>{return e(t)})}async runTransaction(e,t,n,i){const s="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=__PRIVATE_SimpleDbTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore.open(this.db,e,s?"readonly":"readwrite",n);const o=i(t).next(e=>{return t.g(),e}).catch(e=>{return t.abort(e),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.reject(e)}).toPromise();return o.catch(()=>{}),await t.m,o}catch(e){const t=e;const n="FirebaseError"!==
t.name&&o<3;if(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}
class __PRIVATE_IterationController$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return __PRIVATE_wrapRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(this.k.delete())}}
class __PRIVATE_IndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore extends FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}
function __PRIVATE_isIndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"IndexedDbTransactionError"===e.name}
class __PRIVATE_SimpleDbStore$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),__PRIVATE_wrapRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}add(e){return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb",
"ADD",this.store.name,e,e),__PRIVATE_wrapRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(this.store.add(e))}get(e){return __PRIVATE_wrapRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(this.store.get(e)).next(t=>{return void 0===t&&(t=null),__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb","GET",this.store.name,e,t),t})}delete(e){return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb",
"DELETE",this.store.name,e),__PRIVATE_wrapRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(this.store.delete(e))}count(){return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb","COUNT",this.store.name),__PRIVATE_wrapRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n);const t=[];return this.G(e,
(e,n)=>{t.push(n)}).next(()=>{return t})}{const e=this.store.getAll(n.range);return new PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}H(e,t){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SimpleDb",
"DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const i=this.cursor(n);return this.G(i,(e,t,n)=>{return n.delete()})}Y(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.G(i,t)}Z(e){const t=this.cursor({});return new PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore((n,i)=>{t.onerror=e=>{const t=__PRIVATE_checkForAndReportiOSError$$module$third_party$javascript$firebase$dist$firebase_firestore(e.target.error);i(t)},t.onsuccess=t=>{const i=
t.target.result;i?e(i.primaryKey,i.value).next(e=>{e?i.continue():n()}):n()}})}G(e,t){const n=[];return(new PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore((i,s)=>{e.onerror=e=>{s(e.target.error)},e.onsuccess=e=>{const s=e.target.result;if(!s)return void i();const o=new __PRIVATE_IterationController$$module$third_party$javascript$firebase$dist$firebase_firestore(s);const u=t(s.primaryKey,s.value,o);if(u instanceof PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore){const e=
u.catch(e=>{return o.done(),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.reject(e)});n.push(e)}o.isDone?i():null===o.$?s.continue():s.continue(o.$)}})).next(()=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(n)})}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,
t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function __PRIVATE_wrapRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=__PRIVATE_checkForAndReportiOSError$$module$third_party$javascript$firebase$dist$firebase_firestore(e.target.error);n(t)}})}
let Ge$$module$third_party$javascript$firebase$dist$firebase_firestore=!1;
function __PRIVATE_checkForAndReportiOSError$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_SimpleDb$$module$third_party$javascript$firebase$dist$firebase_firestore.S(getUA$$module$third_party$javascript$firebase$dist$firebase_firestore());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);
return Ge$$module$third_party$javascript$firebase$dist$firebase_firestore||(Ge$$module$third_party$javascript$firebase$dist$firebase_firestore=!0,setTimeout(()=>{throw e;},0)),e}}return e}
class __PRIVATE_IndexBackfillerScheduler$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15E3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexBackiller",
`Documents written: ${await this.X.te()}`)}catch(e){__PRIVATE_isIndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await __PRIVATE_ignoreIfPrimaryLeaseLoss$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}await this.ee(6E4)})}}
class __PRIVATE_IndexBackfiller$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.localStore=e,this.persistence=t}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>{return this.ne(t,e)})}ne(e,t){const n=new Set;let i=t;let s=!0;return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.doWhile(()=>{return!0===s&&i>0},()=>{return this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>
{if(null!==t&&!n.has(t))return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexBackiller",`Processing collection: ${t}`),this.re(e,t,i).next(e=>{i=i-e,n.add(t)});s=!1})}).next(()=>{return t-i})}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>{return this.localStore.localDocuments.getNextDocuments(e,t,i,n).next(n=>{const s=n.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>{return this.ie(i,
n)}).next(n=>{return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)}).next(()=>{return s.size})})})}ie(e,t){let n=e;return t.changes.forEach((e,t)=>{const i=__PRIVATE_newIndexOffsetFromDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(t);__PRIVATE_indexOffsetComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(i,n)>0&&
(n=i)}),new IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}
class __PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>{return this.se(e)},this.oe=e=>{return t.writeSequenceNumber(e)})}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function __PRIVATE_isNullOrUndefined$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return null==e}
function __PRIVATE_isNegativeZero$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return 0===e&&1/e==-1/0}function isSafeInteger$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"number"==typeof e&&Number.isInteger(e)&&!__PRIVATE_isNegativeZero$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
function __PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=__PRIVATE_encodeSeparator$$module$third_party$javascript$firebase$dist$firebase_firestore(t)),t=__PRIVATE_encodeSegment$$module$third_party$javascript$firebase$dist$firebase_firestore(e.get(n),t);return __PRIVATE_encodeSeparator$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}
function __PRIVATE_encodeSegment$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){let n=t;const i=e.length;for(let t=0;t<i;t++){const i=e.charAt(t);switch(i){case "\x00":n=n+"\u0001\u0010";break;case "\u0001":n=n+"\u0001\u0011";break;default:n=n+i}}return n}function __PRIVATE_encodeSeparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e+"\u0001\u0001"}
function __PRIVATE_decodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=e.length;if(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(t>=2),2===t)return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore("\u0001"===e.charAt(0)&&"\u0001"===e.charAt(1)),ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.emptyPath();const __PRIVATE_lastReasonableEscapeIndex=t-2;const n=
[];let i="";for(let s=0;s<t;){const t=e.indexOf("\u0001",s);switch((t<0||t>__PRIVATE_lastReasonableEscapeIndex)&&fail$$module$third_party$javascript$firebase$dist$firebase_firestore(),e.charAt(t+1)){case "\u0001":const o=e.substring(s,t);let u;0===i.length?u=o:(i=i+o,u=i,i=""),n.push(u);break;case "\u0010":i=i+e.substring(s,t),i=i+"\x00";break;case "\u0011":i=i+e.substring(s,t+1);break;default:fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}s=t+2}return new ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}
__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e=-1;const ze$$module$third_party$javascript$firebase$dist$firebase_firestore=["userId","batchId"];function __PRIVATE_newDbDocumentMutationPrefixForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return[e,__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(t)]}
function __PRIVATE_newDbDocumentMutationKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){return[e,__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(t),n]}const We$$module$third_party$javascript$firebase$dist$firebase_firestore={};const je$$module$third_party$javascript$firebase$dist$firebase_firestore=["prefixPath","collectionGroup","readTime","documentId"];
const He$$module$third_party$javascript$firebase$dist$firebase_firestore=["prefixPath","collectionGroup","documentId"];const Ye$$module$third_party$javascript$firebase$dist$firebase_firestore=["collectionGroup","readTime","prefixPath","documentId"];const Je$$module$third_party$javascript$firebase$dist$firebase_firestore=["canonicalId","targetId"];const Xe$$module$third_party$javascript$firebase$dist$firebase_firestore=["targetId","path"];
const Ze$$module$third_party$javascript$firebase$dist$firebase_firestore=["path","targetId"];const et$$module$third_party$javascript$firebase$dist$firebase_firestore=["collectionId","parent"];const tt$$module$third_party$javascript$firebase$dist$firebase_firestore=["indexId","uid"];const nt$$module$third_party$javascript$firebase$dist$firebase_firestore=["uid","sequenceNumber"];
const rt$$module$third_party$javascript$firebase$dist$firebase_firestore=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"];const it$$module$third_party$javascript$firebase$dist$firebase_firestore=["indexId","uid","orderedDocumentKey"];const st$$module$third_party$javascript$firebase$dist$firebase_firestore=["userId","collectionPath","documentId"];const ot$$module$third_party$javascript$firebase$dist$firebase_firestore=["userId","collectionPath","largestBatchId"];
const at$$module$third_party$javascript$firebase$dist$firebase_firestore=["userId","collectionGroup","largestBatchId"];const ct$$module$third_party$javascript$firebase$dist$firebase_firestore=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"];
const ut$$module$third_party$javascript$firebase$dist$firebase_firestore=[...ct$$module$third_party$javascript$firebase$dist$firebase_firestore,"documentOverlays"];const lt$$module$third_party$javascript$firebase$dist$firebase_firestore=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"];
const _t$$module$third_party$javascript$firebase$dist$firebase_firestore=lt$$module$third_party$javascript$firebase$dist$firebase_firestore;const ht$$module$third_party$javascript$firebase$dist$firebase_firestore=[..._t$$module$third_party$javascript$firebase$dist$firebase_firestore,"indexConfiguration","indexState","indexEntries"];
class __PRIVATE_IndexedDbTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore extends PersistenceTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}
function __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return __PRIVATE_SimpleDb$$module$third_party$javascript$firebase$dist$firebase_firestore.M(n.ae,t)}function __PRIVATE_objectSize$$module$third_party$javascript$firebase$dist$firebase_firestore(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}
function forEach$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function isEmpty$$module$third_party$javascript$firebase$dist$firebase_firestore(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
class SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.comparator=e,this.root=t||LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY}insert(e,t){return new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.BLACK,null,null))}remove(e){return new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(this.comparator,
this.root.remove(e,this.comparator).copy(null,null,LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0;let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t=t+(n.left.size+1),n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,
n)=>{return e(t,n),!1})}toString(){const e=[];return this.inorderTraversal((t,n)=>{return e.push(`${t}:${n}`),!1}),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SortedMapIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SortedMapIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(this.root,e,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(this.root,
null,this.comparator,!0)}getReverseIteratorFrom(e){return new SortedMapIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(this.root,e,this.comparator,!0)}}
class SortedMapIterator$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s=s*-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse){e=e.left;for(;!e.isEmpty();)this.nodeStack.push(e),e=e.right}else{e=e.right;
for(;!e.isEmpty();)this.nodeStack.push(e),e=e.left}return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}
class LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=null!=n?n:LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.RED,this.left=null!=i?i:LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY,this.right=null!=s?s:LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore(null!=
e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,
t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n;let i=this;if(t(e,i.key)<0)i.left.isEmpty()||
i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=
this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.RED,
null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null);const t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,
e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();if(this.right.isRed())throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();const e=this.left.check();if(e!==this.right.check())throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();return e+(this.isRed()?0:1)}}
LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY=null,LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.RED=!0,LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.BLACK=!1,LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY=new class LLRBEmptyNode{constructor(){this.size=0}get key(){throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();}get value(){throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();
}get color(){throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();}get left(){throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();}get right(){throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();}copy(e,t,n,i,s){return this}insert(e,t,n){return new LLRBNode$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
class SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.comparator=e,this.data=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>{return e(t),!1})}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);
for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();for(;n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SortedSetIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(this.data.getIterator())}getIteratorFrom(e){return new SortedSetIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,
!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator();const n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key;const i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=
[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>{return e.push(t)}),"SortedSet("+e.toString()+")"}copy(e){const t=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(this.comparator);return t.data=e,t}}class SortedSetIterator$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
function __PRIVATE_advanceIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e.hasNext()?e.getNext():void 0}
class FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.fields=e,e.sort(FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator)}static empty(){return new FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore([])}unionWith(e){let t=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);for(const e of this.fields)t=
t.add(e);for(const n of e)t=t.add(n);return new FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return __PRIVATE_arrayEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(this.fields,e.fields,(e,t)=>{return e.isEqual(t)})}}
class __PRIVATE_Base64DecodeError$$module$third_party$javascript$firebase$dist$firebase_firestore extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function __PRIVATE_isBase64Available$$module$third_party$javascript$firebase$dist$firebase_firestore(){return"undefined"!=typeof atob}
class ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function __PRIVATE_decodeBase64(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new __PRIVATE_Base64DecodeError$$module$third_party$javascript$firebase$dist$firebase_firestore("Invalid base64 string: "+e):e;}}(e);return new ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}static fromUint8Array(e){const t=
function __PRIVATE_binaryStringFromUint8Array(e){let t="";for(let n=0;n<e.length;++n)t=t+String.fromCharCode(e[n]);return t}(e);return new ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}[Symbol.iterator](){let e=0;return{next:()=>{return e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}}toBase64(){return function __PRIVATE_encodeBase64(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function __PRIVATE_uint8ArrayFromBinaryString(e){const t=
new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY_BYTE_STRING=new ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore("");
const dt$$module$third_party$javascript$firebase$dist$firebase_firestore=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
function __PRIVATE_normalizeTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(!!e),"string"==typeof e){let t=0;const n=dt$$module$third_party$javascript$firebase$dist$firebase_firestore.exec(e);if(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/
1E3),nanos:t}}return{seconds:__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.seconds),nanos:__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.nanos)}}function __PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}
function __PRIVATE_normalizeByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"string"==typeof e?ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.fromBase64String(e):ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.fromUint8Array(e)}
function __PRIVATE_isServerTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e){var t;var n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}
function __PRIVATE_getPreviousValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=e.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t)?__PRIVATE_getPreviousValue$$module$third_party$javascript$firebase$dist$firebase_firestore(t):t}
function __PRIVATE_getLocalWriteTime$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_normalizeTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.seconds,t.nanos)}
class DatabaseInfo$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s,o,u,l,_){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=l,this.useFetchStreams=_}}
class DatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new DatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof DatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore&&e.projectId===this.projectId&&e.database===this.database}}
const mt$$module$third_party$javascript$firebase$dist$firebase_firestore={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};const ft$$module$third_party$javascript$firebase$dist$firebase_firestore={nullValue:"NULL_VALUE"};
function __PRIVATE_typeOrder$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?__PRIVATE_isServerTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?4:__PRIVATE_isMaxValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?
9007199254740991:10:fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}
function __PRIVATE_valueEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(e===t)return!0;const n=__PRIVATE_typeOrder$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(n!==__PRIVATE_typeOrder$$module$third_party$javascript$firebase$dist$firebase_firestore(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return __PRIVATE_getLocalWriteTime$$module$third_party$javascript$firebase$dist$firebase_firestore(e).isEqual(__PRIVATE_getLocalWriteTime$$module$third_party$javascript$firebase$dist$firebase_firestore(t));
case 3:return function __PRIVATE_timestampEquals(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=__PRIVATE_normalizeTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e.timestampValue);const i=__PRIVATE_normalizeTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,
t);case 5:return e.stringValue===t.stringValue;case 6:return function __PRIVATE_blobEquals(e,t){return __PRIVATE_normalizeByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(e.bytesValue).isEqual(__PRIVATE_normalizeByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function __PRIVATE_geoPointEquals(e,t){return __PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.geoPointValue.latitude)===
__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(t.geoPointValue.latitude)&&__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.geoPointValue.longitude)===__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(t.geoPointValue.longitude)}(e,t);case 2:return function __PRIVATE_numberEquals(e,t){if("integerValue"in e&&"integerValue"in t)return __PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.integerValue)===
__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.doubleValue);const i=__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(t.doubleValue);return n===i?__PRIVATE_isNegativeZero$$module$third_party$javascript$firebase$dist$firebase_firestore(n)===__PRIVATE_isNegativeZero$$module$third_party$javascript$firebase$dist$firebase_firestore(i):
isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return __PRIVATE_arrayEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e.arrayValue.values||[],t.arrayValue.values||[],__PRIVATE_valueEquals$$module$third_party$javascript$firebase$dist$firebase_firestore);case 10:return function __PRIVATE_objectEquals(e,t){const n=e.mapValue.fields||{};const i=t.mapValue.fields||{};if(__PRIVATE_objectSize$$module$third_party$javascript$firebase$dist$firebase_firestore(n)!==__PRIVATE_objectSize$$module$third_party$javascript$firebase$dist$firebase_firestore(i))return!1;
for(const e in n)if(n.hasOwnProperty(e)&&(void 0===i[e]||!__PRIVATE_valueEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(n[e],i[e])))return!1;return!0}(e,t);default:return fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}
function __PRIVATE_arrayValueContains$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return void 0!==(e.values||[]).find(e=>{return __PRIVATE_valueEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)})}
function __PRIVATE_valueCompare$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(e===t)return 0;const n=__PRIVATE_typeOrder$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=__PRIVATE_typeOrder$$module$third_party$javascript$firebase$dist$firebase_firestore(t);if(n!==i)return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.booleanValue,
t.booleanValue);case 2:return function __PRIVATE_compareNumbers(e,t){const n=__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.integerValue||e.doubleValue);const i=__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return __PRIVATE_compareTimestamps$$module$third_party$javascript$firebase$dist$firebase_firestore(e.timestampValue,
t.timestampValue);case 4:return __PRIVATE_compareTimestamps$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_getLocalWriteTime$$module$third_party$javascript$firebase$dist$firebase_firestore(e),__PRIVATE_getLocalWriteTime$$module$third_party$javascript$firebase$dist$firebase_firestore(t));case 5:return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.stringValue,t.stringValue);case 6:return function __PRIVATE_compareBlobs(e,t){const n=
__PRIVATE_normalizeByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=__PRIVATE_normalizeByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function __PRIVATE_compareReferences(e,t){const n=e.split("/");const i=t.split("/");for(let e=0;e<n.length&&e<i.length;e++){const t=__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(n[e],i[e]);
if(0!==t)return t}return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function __PRIVATE_compareGeoPoints(e,t){const n=__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.latitude),__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(t.latitude));
return 0!==n?n:__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.longitude),__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function __PRIVATE_compareArrays(e,t){const n=e.values||[];const i=t.values||[];for(let e=0;e<n.length&&e<i.length;++e){const t=__PRIVATE_valueCompare$$module$third_party$javascript$firebase$dist$firebase_firestore(n[e],
i[e]);if(t)return t}return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function __PRIVATE_compareMaps(e,t){if(e===mt$$module$third_party$javascript$firebase$dist$firebase_firestore.mapValue&&t===mt$$module$third_party$javascript$firebase$dist$firebase_firestore.mapValue)return 0;if(e===mt$$module$third_party$javascript$firebase$dist$firebase_firestore.mapValue)return 1;if(t===mt$$module$third_party$javascript$firebase$dist$firebase_firestore.mapValue)return-1;
const n=e.fields||{};const i=Object.keys(n);const s=t.fields||{};const o=Object.keys(s);i.sort(),o.sort();for(let e=0;e<i.length&&e<o.length;++e){const t=__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(i[e],o[e]);if(0!==t)return t;const u=__PRIVATE_valueCompare$$module$third_party$javascript$firebase$dist$firebase_firestore(n[i[e]],s[o[e]]);if(0!==u)return u}return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(i.length,
o.length)}(e.mapValue,t.mapValue);default:throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();}}
function __PRIVATE_compareTimestamps$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t);const n=__PRIVATE_normalizeTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=__PRIVATE_normalizeTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t);const s=__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(n.seconds,
i.seconds);return 0!==s?s:__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(n.nanos,i.nanos)}function canonicalId$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_canonifyValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}
function __PRIVATE_canonifyValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function __PRIVATE_canonifyTimestamp(e){const t=__PRIVATE_normalizeTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in
e?function __PRIVATE_canonifyByteString(e){return __PRIVATE_normalizeByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(e).toBase64()}(e.bytesValue):"referenceValue"in e?function __PRIVATE_canonifyReference(e){return DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function __PRIVATE_canonifyGeoPoint(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function __PRIVATE_canonifyArray(e){let t=
"[";let n=!0;for(const i of e.values||[])n?n=!1:t=t+",",t=t+__PRIVATE_canonifyValue$$module$third_party$javascript$firebase$dist$firebase_firestore(i);return t+"]"}(e.arrayValue):"mapValue"in e?function __PRIVATE_canonifyMap(e){const t=Object.keys(e.fields||{}).sort();let n="{";let i=!0;for(const s of t)i?i=!1:n=n+",",n=n+`${s}:${__PRIVATE_canonifyValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fields[s])}`;return n+"}"}(e.mapValue):fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}
function __PRIVATE_estimateByteSize$$module$third_party$javascript$firebase$dist$firebase_firestore(e){switch(__PRIVATE_typeOrder$$module$third_party$javascript$firebase$dist$firebase_firestore(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=__PRIVATE_getPreviousValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t?16+__PRIVATE_estimateByteSize$$module$third_party$javascript$firebase$dist$firebase_firestore(t):16;case 5:return 2*e.stringValue.length;
case 6:return __PRIVATE_normalizeByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function __PRIVATE_estimateArrayByteSize(e){return(e.values||[]).reduce((e,t)=>{return e+__PRIVATE_estimateByteSize$$module$third_party$javascript$firebase$dist$firebase_firestore(t)},0)}(e.arrayValue);case 10:return function __PRIVATE_estimateMapByteSize(e){let t=0;return forEach$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fields,
(e,n)=>{t=t+(e.length+__PRIVATE_estimateByteSize$$module$third_party$javascript$firebase$dist$firebase_firestore(n))}),t}(e.mapValue);default:throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();}}function __PRIVATE_refValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}
function isInteger$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return!!e&&"integerValue"in e}function isArray$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return!!e&&"arrayValue"in e}function __PRIVATE_isNullValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return!!e&&"nullValue"in e}
function __PRIVATE_isNanValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function __PRIVATE_isMapValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return!!e&&"mapValue"in e}
function __PRIVATE_deepClone$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return forEach$$module$third_party$javascript$firebase$dist$firebase_firestore(e.mapValue.fields,(e,n)=>{return t.mapValue.fields[e]=__PRIVATE_deepClone$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}),
t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=__PRIVATE_deepClone$$module$third_party$javascript$firebase$dist$firebase_firestore(e.arrayValue.values[n]);return t}return Object.assign({},e)}function __PRIVATE_isMaxValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
function __PRIVATE_valuesGetLowerBound$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"nullValue"in e?ft$$module$third_party$javascript$firebase$dist$firebase_firestore:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?__PRIVATE_refValue$$module$third_party$javascript$firebase$dist$firebase_firestore(DatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),
DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}
function __PRIVATE_valuesGetUpperBound$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?__PRIVATE_refValue$$module$third_party$javascript$firebase$dist$firebase_firestore(DatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),
DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?mt$$module$third_party$javascript$firebase$dist$firebase_firestore:fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}
function __PRIVATE_lowerBoundCompare$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_valueCompare$$module$third_party$javascript$firebase$dist$firebase_firestore(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}
function __PRIVATE_upperBoundCompare$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_valueCompare$$module$third_party$javascript$firebase$dist$firebase_firestore(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
class ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.value=e}static empty(){return new ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!__PRIVATE_isMapValue$$module$third_party$javascript$firebase$dist$firebase_firestore(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],
t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=__PRIVATE_deepClone$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}setAll(e){let t=FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.emptyPath();let n={};let i=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=s.popLast()}e?n[s.lastSegment()]=__PRIVATE_deepClone$$module$third_party$javascript$firebase$dist$firebase_firestore(e):
i.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());__PRIVATE_isMapValue$$module$third_party$javascript$firebase$dist$firebase_firestore(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return __PRIVATE_valueEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=
t.mapValue.fields[e.get(n)];__PRIVATE_isMapValue$$module$third_party$javascript$firebase$dist$firebase_firestore(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){forEach$$module$third_party$javascript$firebase$dist$firebase_firestore(t,(t,n)=>{return e[t]=n});for(const t of n)delete e[t]}clone(){return new ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_deepClone$$module$third_party$javascript$firebase$dist$firebase_firestore(this.value))}}
function __PRIVATE_extractFieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=[];return forEach$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fields,(e,n)=>{const i=new FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore([e]);if(__PRIVATE_isMapValue$$module$third_party$javascript$firebase$dist$firebase_firestore(n)){const e=__PRIVATE_extractFieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore(n.mapValue).fields;
if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)}),new FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}
class MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s,o,u){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,0,SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),
SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),0)}static newFoundDocument(e,t,n,i){return new MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,1,t,SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),n,i,0)}static newNoDocument(e,t){return new MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
2,t,SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),0)}static newUnknownDocument(e,t){return new MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,3,t,SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),
ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),
this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===
this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&
this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
class Bound$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.position=e,this.inclusive=t}}
function __PRIVATE_boundCompareToDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const o=t[s];const u=e.position[s];if(i=o.field.isKeyField()?DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromName(u.referenceValue),n.key):__PRIVATE_valueCompare$$module$third_party$javascript$firebase$dist$firebase_firestore(u,
n.data.field(o.field)),"desc"===o.dir&&(i=i*-1),0!==i)break}return i}function __PRIVATE_boundEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!__PRIVATE_valueEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e.position[n],t.position[n]))return!1;return!0}
class OrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t="asc"){this.field=e,this.dir=t}}function __PRIVATE_orderByEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Filter$$module$third_party$javascript$firebase$dist$firebase_firestore{}
class FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore extends Filter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new __PRIVATE_KeyFieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n):"array-contains"===t?new __PRIVATE_ArrayContainsFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
n):"in"===t?new __PRIVATE_InFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n):"not-in"===t?new __PRIVATE_NotInFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n):"array-contains-any"===t?new __PRIVATE_ArrayContainsAnyFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n):new FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new __PRIVATE_KeyFieldInFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
n):new __PRIVATE_KeyFieldNotInFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(__PRIVATE_valueCompare$$module$third_party$javascript$firebase$dist$firebase_firestore(t,this.value)):null!==t&&__PRIVATE_typeOrder$$module$third_party$javascript$firebase$dist$firebase_firestore(this.value)===__PRIVATE_typeOrder$$module$third_party$javascript$firebase$dist$firebase_firestore(t)&&
this.matchesComparison(__PRIVATE_valueCompare$$module$third_party$javascript$firebase$dist$firebase_firestore(t,this.value))}matchesComparison(e){switch(this.op){case "<":return e<0;case "<=":return e<=0;case "==":return 0===e;case "!=":return 0!==e;case ">":return e>0;case ">=":return e>=0;default:return fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}
class CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore extends Filter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}matches(e){return __PRIVATE_compositeFilterIsConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(this)?void 0===this.filters.find(t=>{return!t.matches(e)}):
void 0!==this.filters.find(t=>{return t.matches(e)})}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>{return e.concat(t.getFlattenedFilters())},[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"and"===e.op}
function __PRIVATE_compositeFilterIsDisjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"or"===e.op}function __PRIVATE_compositeFilterIsFlatConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_compositeFilterIsFlat$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&__PRIVATE_compositeFilterIsConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}
function __PRIVATE_compositeFilterIsFlat$$module$third_party$javascript$firebase$dist$firebase_firestore(e){for(const t of e.filters)if(t instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore)return!1;return!0}
function __PRIVATE_canonifyFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore)return e.field.canonicalString()+e.op.toString()+canonicalId$$module$third_party$javascript$firebase$dist$firebase_firestore(e.value);if(__PRIVATE_compositeFilterIsFlatConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e))return e.filters.map(e=>{return __PRIVATE_canonifyFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}).join(",");
{const t=e.filters.map(e=>{return __PRIVATE_canonifyFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}).join(",");return`${e.op}(${t})`}}
function __PRIVATE_filterEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore?function __PRIVATE_fieldFilterEquals(e,t){return t instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore&&e.op===t.op&&e.field.isEqual(t.field)&&__PRIVATE_valueEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e.value,t.value)}(e,t):e instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore?
function __PRIVATE_compositeFilterEquals(e,t){return t instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,i)=>{return e&&__PRIVATE_filterEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(n,t.filters[i])},!0)}(e,t):void fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}
function __PRIVATE_compositeFilterWithAddedFilters$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=e.filters.concat(t);return CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(n,e.op)}
function __PRIVATE_stringifyFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore?function __PRIVATE_stringifyFieldFilter(e){return`${e.field.canonicalString()} ${e.op} ${canonicalId$$module$third_party$javascript$firebase$dist$firebase_firestore(e.value)}`}(e):e instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore?function __PRIVATE_stringifyCompositeFilter(e){return e.op.toString()+
" {"+e.getFilters().map(__PRIVATE_stringifyFilter$$module$third_party$javascript$firebase$dist$firebase_firestore).join(" ,")+"}"}(e):"Filter"}
class __PRIVATE_KeyFieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){super(e,t,n),this.key=DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromName(n.referenceValue)}matches(e){const t=DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(e.key,this.key);return this.matchesComparison(t)}}
class __PRIVATE_KeyFieldInFilter$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(e,"in",t),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue$$module$third_party$javascript$firebase$dist$firebase_firestore("in",t)}matches(e){return this.keys.some(t=>{return t.isEqual(e.key)})}}
class __PRIVATE_KeyFieldNotInFilter$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(e,"not-in",t),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue$$module$third_party$javascript$firebase$dist$firebase_firestore("not-in",t)}matches(e){return!this.keys.some(t=>{return t.isEqual(e.key)})}}
function __PRIVATE_extractDocumentKeysFromArrayValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>{return DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromName(e.referenceValue)})}
class __PRIVATE_ArrayContainsFilter$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return isArray$$module$third_party$javascript$firebase$dist$firebase_firestore(t)&&__PRIVATE_arrayValueContains$$module$third_party$javascript$firebase$dist$firebase_firestore(t.arrayValue,this.value)}}
class __PRIVATE_InFilter$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&__PRIVATE_arrayValueContains$$module$third_party$javascript$firebase$dist$firebase_firestore(this.value.arrayValue,t)}}
class __PRIVATE_NotInFilter$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(e,"not-in",t)}matches(e){if(__PRIVATE_arrayValueContains$$module$third_party$javascript$firebase$dist$firebase_firestore(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!__PRIVATE_arrayValueContains$$module$third_party$javascript$firebase$dist$firebase_firestore(this.value.arrayValue,
t)}}
class __PRIVATE_ArrayContainsAnyFilter$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!isArray$$module$third_party$javascript$firebase$dist$firebase_firestore(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>{return __PRIVATE_arrayValueContains$$module$third_party$javascript$firebase$dist$firebase_firestore(this.value.arrayValue,e)})}}
class __PRIVATE_TargetImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t=null,n=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ce=null}}
function __PRIVATE_newTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t=null,n=[],i=[],s=null,o=null,u=null){return new __PRIVATE_TargetImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s,o,u)}
function __PRIVATE_canonifyTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e=e+("|cg:"+t.collectionGroup)),e=e+"|f:",e=e+t.filters.map(e=>{return __PRIVATE_canonifyFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}).join(","),e=e+"|ob:",e=e+t.orderBy.map(e=>{return function __PRIVATE_canonifyOrderBy(e){return e.field.canonicalString()+
e.dir}(e)}).join(","),__PRIVATE_isNullOrUndefined$$module$third_party$javascript$firebase$dist$firebase_firestore(t.limit)||(e=e+"|l:",e=e+t.limit),t.startAt&&(e=e+"|lb:",e=e+(t.startAt.inclusive?"b:":"a:"),e=e+t.startAt.position.map(e=>{return canonicalId$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}).join(",")),t.endAt&&(e=e+"|ub:",e=e+(t.endAt.inclusive?"a:":"b:"),e=e+t.endAt.position.map(e=>{return canonicalId$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}).join(",")),
t.ce=e}return t.ce}
function __PRIVATE_targetEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!__PRIVATE_orderByEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!__PRIVATE_filterEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e.filters[n],t.filters[n]))return!1;
return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!__PRIVATE_boundEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e.startAt,t.startAt)&&__PRIVATE_boundEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e.endAt,t.endAt)}
function __PRIVATE_targetIsDocumentTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
function __PRIVATE_targetGetFieldFiltersForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e.filters.filter(e=>{return e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore&&e.field.isEqual(t)})}
function __PRIVATE_targetGetAscendingBound$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){let i=ft$$module$third_party$javascript$firebase$dist$firebase_firestore;let s=!0;for(const n of __PRIVATE_targetGetFieldFiltersForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)){let e=ft$$module$third_party$javascript$firebase$dist$firebase_firestore;let t=!0;switch(n.op){case "<":case "<=":e=__PRIVATE_valuesGetLowerBound$$module$third_party$javascript$firebase$dist$firebase_firestore(n.value);
break;case "==":case "in":case ">=":e=n.value;break;case ">":e=n.value,t=!1;break;case "!=":case "not-in":e=ft$$module$third_party$javascript$firebase$dist$firebase_firestore}__PRIVATE_lowerBoundCompare$$module$third_party$javascript$firebase$dist$firebase_firestore({value:i,inclusive:s},{value:e,inclusive:t})<0&&(i=e,s=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];__PRIVATE_lowerBoundCompare$$module$third_party$javascript$firebase$dist$firebase_firestore({value:i,
inclusive:s},{value:e,inclusive:n.inclusive})<0&&(i=e,s=n.inclusive);break}return{value:i,inclusive:s}}
function __PRIVATE_targetGetDescendingBound$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){let i=mt$$module$third_party$javascript$firebase$dist$firebase_firestore;let s=!0;for(const n of __PRIVATE_targetGetFieldFiltersForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)){let e=mt$$module$third_party$javascript$firebase$dist$firebase_firestore;let t=!0;switch(n.op){case ">=":case ">":e=__PRIVATE_valuesGetUpperBound$$module$third_party$javascript$firebase$dist$firebase_firestore(n.value),
t=!1;break;case "==":case "in":case "<=":e=n.value;break;case "<":e=n.value,t=!1;break;case "!=":case "not-in":e=mt$$module$third_party$javascript$firebase$dist$firebase_firestore}__PRIVATE_upperBoundCompare$$module$third_party$javascript$firebase$dist$firebase_firestore({value:i,inclusive:s},{value:e,inclusive:t})>0&&(i=e,s=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];__PRIVATE_upperBoundCompare$$module$third_party$javascript$firebase$dist$firebase_firestore({value:i,
inclusive:s},{value:e,inclusive:n.inclusive})>0&&(i=e,s=n.inclusive);break}return{value:i,inclusive:s}}class __PRIVATE_QueryImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t=null,n=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}
function __PRIVATE_newQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s,o,u,l){return new __PRIVATE_QueryImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s,o,u,l)}function __PRIVATE_newQueryForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new __PRIVATE_QueryImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}
function __PRIVATE_queryMatchesAllDocuments$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return null!==e.collectionGroup}
function __PRIVATE_queryNormalizedOrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(null===t.le){t.le=[];const e=new Set;for(const n of t.explicitOrderBy)t.le.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";const i=function __PRIVATE_getInequalityFilterFields(e){let t=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);
return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);i.forEach(i=>{e.has(i.canonicalString())||i.isKeyField()||t.le.push(new OrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(i,n))}),e.has(FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.keyField().canonicalString())||t.le.push(new OrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.keyField(),
n))}return t.le}function __PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t.he||(t.he=__PRIVATE__queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t,__PRIVATE_queryNormalizedOrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(e))),t.he}
function __PRIVATE__queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if("F"===e.limitType)return __PRIVATE_newTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new OrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(e.field,t)});const n=e.endAt?new Bound$$module$third_party$javascript$firebase$dist$firebase_firestore(e.endAt.position,
e.endAt.inclusive):null;const i=e.startAt?new Bound$$module$third_party$javascript$firebase$dist$firebase_firestore(e.startAt.position,e.startAt.inclusive):null;return __PRIVATE_newTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}
function __PRIVATE_queryWithAddedFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=e.filters.concat([t]);return new __PRIVATE_QueryImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}
function __PRIVATE_queryWithLimit$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){return new __PRIVATE_QueryImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}
function __PRIVATE_queryEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return __PRIVATE_targetEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e),__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t))&&e.limitType===t.limitType}
function __PRIVATE_canonifyQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return`${__PRIVATE_canonifyTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e))}|lt:${e.limitType}`}
function __PRIVATE_stringifyQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return`Query(target=${(function __PRIVATE_stringifyTarget(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t=t+(" collectionGroup="+e.collectionGroup)),e.filters.length>0&&(t=t+`, filters: [${e.filters.map(e=>{return __PRIVATE_stringifyFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}).join(", ")}]`),__PRIVATE_isNullOrUndefined$$module$third_party$javascript$firebase$dist$firebase_firestore(e.limit)||
(t=t+(", limit: "+e.limit)),e.orderBy.length>0&&(t=t+`, orderBy: [${e.orderBy.map(e=>{return function __PRIVATE_stringifyOrderBy(e){return`${e.field.canonicalString()} (${e.dir})`}(e)}).join(", ")}]`),e.startAt&&(t=t+", startAt: ",t=t+(e.startAt.inclusive?"b:":"a:"),t=t+e.startAt.position.map(e=>{return canonicalId$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}).join(",")),e.endAt&&(t=t+", endAt: ",t=t+(e.endAt.inclusive?"a:":"b:"),t=t+e.endAt.position.map(e=>{return canonicalId$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}).join(",")),
`Target(${t})`})(__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e))}; limitType=${e.limitType})`}
function __PRIVATE_queryMatches$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return t.isFoundDocument()&&function __PRIVATE_queryMatchesPathAndCollectionGroup(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function __PRIVATE_queryMatchesOrderBy(e,t){for(const n of __PRIVATE_queryNormalizedOrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(e))if(!n.field.isKeyField()&&
null===t.data.field(n.field))return!1;return!0}(e,t)&&function __PRIVATE_queryMatchesFilters(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function __PRIVATE_queryMatchesBounds(e,t){return!(e.startAt&&!function __PRIVATE_boundSortsBeforeDocument(e,t,n){const i=__PRIVATE_boundCompareToDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,__PRIVATE_queryNormalizedOrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(e),
t))&&!(e.endAt&&!function __PRIVATE_boundSortsAfterDocument(e,t,n){const i=__PRIVATE_boundCompareToDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,__PRIVATE_queryNormalizedOrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t))}(e,t)}
function __PRIVATE_queryCollectionGroup$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}
function __PRIVATE_newQueryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return(t,n)=>{let i=!1;for(const s of __PRIVATE_queryNormalizedOrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(e)){const e=__PRIVATE_compareDocs$$module$third_party$javascript$firebase$dist$firebase_firestore(s,t,n);if(0!==e)return e;i=i||s.field.isKeyField()}return 0}}
function __PRIVATE_compareDocs$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=e.field.isKeyField()?DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(t.key,n.key):function __PRIVATE_compareDocumentsByField(e,t,n){const i=t.data.field(e);const s=n.data.field(e);return null!==i&&null!==s?__PRIVATE_valueCompare$$module$third_party$javascript$firebase$dist$firebase_firestore(i,s):fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}(e.field,
t,n);switch(e.dir){case "asc":return i;case "desc":return-1*i;default:return fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}
class ObjectMap$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e);const n=this.inner[t];if(void 0!==n)for(const [t,i]of n)if(this.equalsFn(t,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e);const i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],e))return void(i[n]=
[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e);const n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){forEach$$module$third_party$javascript$firebase$dist$firebase_firestore(this.inner,(t,n)=>{for(const [t,i]of n)e(t,i)})}isEmpty(){return isEmpty$$module$third_party$javascript$firebase$dist$firebase_firestore(this.inner)}size(){return this.innerSize}}
const gt$$module$third_party$javascript$firebase$dist$firebase_firestore=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);function __PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore(){return gt$$module$third_party$javascript$firebase$dist$firebase_firestore}const It$$module$third_party$javascript$firebase$dist$firebase_firestore=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);
function documentMap$$module$third_party$javascript$firebase$dist$firebase_firestore(...e){let t=It$$module$third_party$javascript$firebase$dist$firebase_firestore;for(const n of e)t=t.insert(n.key,n);return t}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore(e){let t=It$$module$third_party$javascript$firebase$dist$firebase_firestore;return e.forEach((e,n)=>{return t=t.insert(e,n.overlayedDocument)}),t}
function __PRIVATE_newOverlayMap$$module$third_party$javascript$firebase$dist$firebase_firestore(){return __PRIVATE_newDocumentKeyMap$$module$third_party$javascript$firebase$dist$firebase_firestore()}function __PRIVATE_newMutationMap$$module$third_party$javascript$firebase$dist$firebase_firestore(){return __PRIVATE_newDocumentKeyMap$$module$third_party$javascript$firebase$dist$firebase_firestore()}
function __PRIVATE_newDocumentKeyMap$$module$third_party$javascript$firebase$dist$firebase_firestore(){return new ObjectMap$$module$third_party$javascript$firebase$dist$firebase_firestore(e=>{return e.toString()},(e,t)=>{return e.isEqual(t)})}const pt$$module$third_party$javascript$firebase$dist$firebase_firestore=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);
const Tt$$module$third_party$javascript$firebase$dist$firebase_firestore=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);function __PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore(...e){let t=Tt$$module$third_party$javascript$firebase$dist$firebase_firestore;for(const n of e)t=t.add(n);return t}
const Et$$module$third_party$javascript$firebase$dist$firebase_firestore=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore);function __PRIVATE_targetIdSet$$module$third_party$javascript$firebase$dist$firebase_firestore(){return Et$$module$third_party$javascript$firebase$dist$firebase_firestore}
function __PRIVATE_toDouble$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero$$module$third_party$javascript$firebase$dist$firebase_firestore(t)?"-0":t}}function __PRIVATE_toInteger$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return{integerValue:""+e}}
function toNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return isSafeInteger$$module$third_party$javascript$firebase$dist$firebase_firestore(t)?__PRIVATE_toInteger$$module$third_party$javascript$firebase$dist$firebase_firestore(t):__PRIVATE_toDouble$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}class TransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this._=void 0}}
function __PRIVATE_applyTransformOperationToLocalView$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){return e instanceof __PRIVATE_ServerTimestampTransform$$module$third_party$javascript$firebase$dist$firebase_firestore?function serverTimestamp$1(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&__PRIVATE_isServerTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t)&&
(t=__PRIVATE_getPreviousValue$$module$third_party$javascript$firebase$dist$firebase_firestore(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof __PRIVATE_ArrayUnionTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore?__PRIVATE_applyArrayUnionTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t):e instanceof __PRIVATE_ArrayRemoveTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore?__PRIVATE_applyArrayRemoveTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t):function __PRIVATE_applyNumericIncrementTransformOperationToLocalView(e,t){const n=__PRIVATE_computeTransformOperationBaseValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t);const i=asNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(n)+asNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.Ie);return isInteger$$module$third_party$javascript$firebase$dist$firebase_firestore(n)&&isInteger$$module$third_party$javascript$firebase$dist$firebase_firestore(e.Ie)?
__PRIVATE_toInteger$$module$third_party$javascript$firebase$dist$firebase_firestore(i):__PRIVATE_toDouble$$module$third_party$javascript$firebase$dist$firebase_firestore(e.serializer,i)}(e,t)}
function __PRIVATE_applyTransformOperationToRemoteDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){return e instanceof __PRIVATE_ArrayUnionTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore?__PRIVATE_applyArrayUnionTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t):e instanceof __PRIVATE_ArrayRemoveTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore?__PRIVATE_applyArrayRemoveTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t):n}function __PRIVATE_computeTransformOperationBaseValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e instanceof __PRIVATE_NumericIncrementTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore?function __PRIVATE_isNumber(e){return isInteger$$module$third_party$javascript$firebase$dist$firebase_firestore(e)||function __PRIVATE_isDouble(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}
class __PRIVATE_ServerTimestampTransform$$module$third_party$javascript$firebase$dist$firebase_firestore extends TransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore{}class __PRIVATE_ArrayUnionTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore extends TransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){super(),this.elements=e}}
function __PRIVATE_applyArrayUnionTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_coercedFieldValuesArray$$module$third_party$javascript$firebase$dist$firebase_firestore(t);for(const t of e.elements)n.some(e=>{return __PRIVATE_valueEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)})||n.push(t);return{arrayValue:{values:n}}}
class __PRIVATE_ArrayRemoveTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore extends TransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){super(),this.elements=e}}
function __PRIVATE_applyArrayRemoveTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){let n=__PRIVATE_coercedFieldValuesArray$$module$third_party$javascript$firebase$dist$firebase_firestore(t);for(const t of e.elements)n=n.filter(e=>{return!__PRIVATE_valueEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)});return{arrayValue:{values:n}}}
class __PRIVATE_NumericIncrementTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore extends TransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function asNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.integerValue||e.doubleValue)}
function __PRIVATE_coercedFieldValuesArray$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return isArray$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class FieldTransform$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.field=e,this.transform=t}}
class MutationResult$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.version=e,this.transformResults=t}}
class Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore}static exists(e){return new Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore(void 0,e)}static updateTime(e){return new Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}get isNone(){return void 0===this.updateTime&&
void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function __PRIVATE_preconditionIsValidForDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Mutation$$module$third_party$javascript$firebase$dist$firebase_firestore{}
function __PRIVATE_calculateOverlayMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new __PRIVATE_DeleteMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e.key,Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.none()):new __PRIVATE_SetMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e.key,e.data,Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.none());
{const n=e.data;const i=ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore.empty();let s=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),s=s.add(e)}return new __PRIVATE_PatchMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e.key,
i,new FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore(s.toArray()),Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.none())}}
function __PRIVATE_mutationApplyToRemoteDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){e instanceof __PRIVATE_SetMutation$$module$third_party$javascript$firebase$dist$firebase_firestore?function __PRIVATE_setMutationApplyToRemoteDocument(e,t,n){const i=e.value.clone();const s=__PRIVATE_serverTransformResults$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fieldTransforms,t,n.transformResults);i.setAll(s),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,
t,n):e instanceof __PRIVATE_PatchMutation$$module$third_party$javascript$firebase$dist$firebase_firestore?function __PRIVATE_patchMutationApplyToRemoteDocument(e,t,n){if(!__PRIVATE_preconditionIsValidForDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=__PRIVATE_serverTransformResults$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fieldTransforms,t,n.transformResults);const s=t.data;
s.setAll(__PRIVATE_getPatch$$module$third_party$javascript$firebase$dist$firebase_firestore(e)),s.setAll(i),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function __PRIVATE_deleteMutationApplyToRemoteDocument(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}
function __PRIVATE_mutationApplyToLocalView$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){return e instanceof __PRIVATE_SetMutation$$module$third_party$javascript$firebase$dist$firebase_firestore?function __PRIVATE_setMutationApplyToLocalView(e,t,n,i){if(!__PRIVATE_preconditionIsValidForDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e.precondition,t))return n;const s=e.value.clone();const o=__PRIVATE_localTransformResults$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fieldTransforms,
i,t);return s.setAll(o),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,i):e instanceof __PRIVATE_PatchMutation$$module$third_party$javascript$firebase$dist$firebase_firestore?function __PRIVATE_patchMutationApplyToLocalView(e,t,n,i){if(!__PRIVATE_preconditionIsValidForDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e.precondition,t))return n;const s=__PRIVATE_localTransformResults$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fieldTransforms,
i,t);const o=t.data;return o.setAll(__PRIVATE_getPatch$$module$third_party$javascript$firebase$dist$firebase_firestore(e)),o.setAll(s),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>{return e.field}))}(e,t,n,i):function __PRIVATE_deleteMutationApplyToLocalView(e,t,n){return __PRIVATE_preconditionIsValidForDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),
null):n}(e,t,n)}function __PRIVATE_mutationExtractBaseValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field);const s=__PRIVATE_computeTransformOperationBaseValue$$module$third_party$javascript$firebase$dist$firebase_firestore(i.transform,e||null);null!=s&&(null===n&&(n=ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore.empty()),n.set(i.field,s))}return n||null}
function __PRIVATE_mutationEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function __PRIVATE_fieldTransformsAreEqual(e,t){return void 0===e&&void 0===t||!(!e||!t)&&__PRIVATE_arrayEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,(e,t)=>{return function __PRIVATE_fieldTransformEquals(e,t){return e.field.isEqual(t.field)&&function __PRIVATE_transformOperationEquals(e,
t){return e instanceof __PRIVATE_ArrayUnionTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore&&t instanceof __PRIVATE_ArrayUnionTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore||e instanceof __PRIVATE_ArrayRemoveTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore&&t instanceof __PRIVATE_ArrayRemoveTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore?__PRIVATE_arrayEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e.elements,
t.elements,__PRIVATE_valueEquals$$module$third_party$javascript$firebase$dist$firebase_firestore):e instanceof __PRIVATE_NumericIncrementTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore&&t instanceof __PRIVATE_NumericIncrementTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore?__PRIVATE_valueEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e.Ie,t.Ie):e instanceof __PRIVATE_ServerTimestampTransform$$module$third_party$javascript$firebase$dist$firebase_firestore&&
t instanceof __PRIVATE_ServerTimestampTransform$$module$third_party$javascript$firebase$dist$firebase_firestore}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}
class __PRIVATE_SetMutation$$module$third_party$javascript$firebase$dist$firebase_firestore extends Mutation$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}
class __PRIVATE_PatchMutation$$module$third_party$javascript$firebase$dist$firebase_firestore extends Mutation$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}
function __PRIVATE_getPatch$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}
function __PRIVATE_serverTransformResults$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=new Map;__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e.length===n.length);for(let s=0;s<n.length;s++){const o=e[s];const u=o.transform;const l=t.data.field(o.field);i.set(o.field,__PRIVATE_applyTransformOperationToRemoteDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(u,l,n[s]))}return i}
function __PRIVATE_localTransformResults$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=new Map;for(const s of e){const e=s.transform;const o=n.data.field(s.field);i.set(s.field,__PRIVATE_applyTransformOperationToLocalView$$module$third_party$javascript$firebase$dist$firebase_firestore(e,o,t))}return i}
class __PRIVATE_DeleteMutation$$module$third_party$javascript$firebase$dist$firebase_firestore extends Mutation$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}
class __PRIVATE_VerifyMutation$$module$third_party$javascript$firebase$dist$firebase_firestore extends Mutation$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
class MutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const i=this.mutations[t];i.key.isEqual(e.key)&&__PRIVATE_mutationApplyToRemoteDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(i,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&
(t=__PRIVATE_mutationApplyToLocalView$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=__PRIVATE_mutationApplyToLocalView$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=__PRIVATE_newMutationMap$$module$third_party$javascript$firebase$dist$firebase_firestore();return this.mutations.forEach(i=>{const s=e.get(i.key);
const o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=t.has(i.key)?null:u;const l=__PRIVATE_calculateOverlayMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(o,u);null!==l&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min())}),n}keys(){return this.mutations.reduce((e,t)=>{return e.add(t.key)},__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore())}isEqual(e){return this.batchId===
e.batchId&&__PRIVATE_arrayEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(this.mutations,e.mutations,(e,t)=>{return __PRIVATE_mutationEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)})&&__PRIVATE_arrayEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(this.baseMutations,e.baseMutations,(e,t)=>{return __PRIVATE_mutationEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)})}}
class MutationBatchResult$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e.mutations.length===n.length);let i=function __PRIVATE_documentVersionMap(){return pt$$module$third_party$javascript$firebase$dist$firebase_firestore}();const s=e.mutations;for(let e=0;e<s.length;e++)i=i.insert(s[e].key,
n[e].version);return new MutationBatchResult$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i)}}class Overlay$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
class __PRIVATE_AggregateImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class ExistenceFilter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pt$$module$third_party$javascript$firebase$dist$firebase_firestore;var At$$module$third_party$javascript$firebase$dist$firebase_firestore;
function __PRIVATE_isPermanentError$$module$third_party$javascript$firebase$dist$firebase_firestore(e){switch(e){default:return fail$$module$third_party$javascript$firebase$dist$firebase_firestore();case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.CANCELLED:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.DEADLINE_EXCEEDED:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.RESOURCE_EXHAUSTED:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INTERNAL:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAUTHENTICATED:return!1;
case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.NOT_FOUND:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.ALREADY_EXISTS:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.PERMISSION_DENIED:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.ABORTED:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.OUT_OF_RANGE:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNIMPLEMENTED:case Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.DATA_LOSS:return!0}}
function __PRIVATE_mapCodeFromRpcCode$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(void 0===e)return __PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("GRPC error has no .code"),Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN;switch(e){case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.OK:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.OK;case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.CANCELLED:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.CANCELLED;
case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN;case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.DEADLINE_EXCEEDED:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.DEADLINE_EXCEEDED;case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.RESOURCE_EXHAUSTED:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.RESOURCE_EXHAUSTED;
case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.INTERNAL:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INTERNAL;case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE;case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAUTHENTICATED:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAUTHENTICATED;
case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT;case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.NOT_FOUND:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.NOT_FOUND;case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.ALREADY_EXISTS:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.ALREADY_EXISTS;
case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.PERMISSION_DENIED:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.PERMISSION_DENIED;case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION;case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.ABORTED:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.ABORTED;
case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.OUT_OF_RANGE:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.OUT_OF_RANGE;case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.UNIMPLEMENTED:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNIMPLEMENTED;case Pt$$module$third_party$javascript$firebase$dist$firebase_firestore.DATA_LOSS:return Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.DATA_LOSS;
default:return fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}
(At$$module$third_party$javascript$firebase$dist$firebase_firestore=Pt$$module$third_party$javascript$firebase$dist$firebase_firestore||(Pt$$module$third_party$javascript$firebase$dist$firebase_firestore={}))[At$$module$third_party$javascript$firebase$dist$firebase_firestore.OK=0]="OK",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.CANCELLED=1]="CANCELLED",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN=
2]="UNKNOWN",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.NOT_FOUND=
5]="NOT_FOUND",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.ALREADY_EXISTS=6]="ALREADY_EXISTS",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.PERMISSION_DENIED=7]="PERMISSION_DENIED",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAUTHENTICATED=
16]="UNAUTHENTICATED",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.ABORTED=
10]="ABORTED",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.OUT_OF_RANGE=11]="OUT_OF_RANGE",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.UNIMPLEMENTED=12]="UNIMPLEMENTED",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.INTERNAL=13]="INTERNAL",
At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE=14]="UNAVAILABLE",At$$module$third_party$javascript$firebase$dist$firebase_firestore[At$$module$third_party$javascript$firebase$dist$firebase_firestore.DATA_LOSS=15]="DATA_LOSS";let Rt$$module$third_party$javascript$firebase$dist$firebase_firestore=null;
function __PRIVATE_newTextEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore(){return new TextEncoder}const yt$$module$third_party$javascript$firebase$dist$firebase_firestore=new Le$$module$third_party$javascript$firebase$dist$firebase_firestore([4294967295,4294967295],0);
function __PRIVATE_getMd5HashValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_newTextEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore().encode(e);const n=new Oe$$module$third_party$javascript$firebase$dist$firebase_firestore;return n.update(t),new Uint8Array(n.digest())}
function __PRIVATE_get64BitUints$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=new DataView(e.buffer);const n=t.getUint32(0,!0);const i=t.getUint32(4,!0);const s=t.getUint32(8,!0);const o=t.getUint32(12,!0);return[new Le$$module$third_party$javascript$firebase$dist$firebase_firestore([n,i],0),new Le$$module$third_party$javascript$firebase$dist$firebase_firestore([s,o],0)]}
class BloomFilter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new __PRIVATE_BloomFilterError$$module$third_party$javascript$firebase$dist$firebase_firestore(`Invalid padding: ${t}`);if(n<0)throw new __PRIVATE_BloomFilterError$$module$third_party$javascript$firebase$dist$firebase_firestore(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new __PRIVATE_BloomFilterError$$module$third_party$javascript$firebase$dist$firebase_firestore(`Invalid hash count: ${n}`);
if(0===e.length&&0!==t)throw new __PRIVATE_BloomFilterError$$module$third_party$javascript$firebase$dist$firebase_firestore(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Le$$module$third_party$javascript$firebase$dist$firebase_firestore.fromNumber(this.Te)}de(e,t,n){let i=e.add(t.multiply(Le$$module$third_party$javascript$firebase$dist$firebase_firestore.fromNumber(n)));return 1===i.compare(yt$$module$third_party$javascript$firebase$dist$firebase_firestore)&&(i=new Le$$module$third_party$javascript$firebase$dist$firebase_firestore([i.getBits(0),
i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=__PRIVATE_getMd5HashValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const [n,i]=__PRIVATE_get64BitUints$$module$third_party$javascript$firebase$dist$firebase_firestore(t);for(let e=0;e<this.hashCount;e++){const t=this.de(n,i,e);if(!this.Ae(t))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8;const s=new Uint8Array(Math.ceil(e/
8));const o=new BloomFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(s,i,t);return n.forEach(e=>{return o.insert(e)}),o}insert(e){if(0===this.Te)return;const t=__PRIVATE_getMd5HashValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const [n,i]=__PRIVATE_get64BitUints$$module$third_party$javascript$firebase$dist$firebase_firestore(t);for(let e=0;e<this.hashCount;e++){const t=this.de(n,i,e);this.Re(t)}}Re(e){const t=Math.floor(e/8);const n=e%8;this.bitmap[t]|=
1<<n}}class __PRIVATE_BloomFilterError$$module$third_party$javascript$firebase$dist$firebase_firestore extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
class RemoteEvent$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,TargetChange$$module$third_party$javascript$firebase$dist$firebase_firestore.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new RemoteEvent$$module$third_party$javascript$firebase$dist$firebase_firestore(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),
i,new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore),__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore(),__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore())}}
class TargetChange$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new TargetChange$$module$third_party$javascript$firebase$dist$firebase_firestore(n,t,__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore(),__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore(),
__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore())}}class __PRIVATE_DocumentWatchChange$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=i}}class __PRIVATE_ExistenceFilterChange$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.targetId=e,this.fe=t}}
class __PRIVATE_WatchTargetChange$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n=ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}
class __PRIVATE_TargetState$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.ge=0,this.pe=__PRIVATE_snapshotChangesMap$$module$third_party$javascript$firebase$dist$firebase_firestore(),this.ye=ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,
this.ye=e)}ve(){let e=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();let t=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();let n=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}),
new TargetChange$$module$third_party$javascript$firebase$dist$firebase_firestore(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=__PRIVATE_snapshotChangesMap$$module$third_party$javascript$firebase$dist$firebase_firestore()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}
class __PRIVATE_WatchChangeAggregator$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.Le=e,this.ke=new Map,this.qe=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore(),this.Qe=__PRIVATE_documentTargetMap$$module$third_party$javascript$firebase$dist$firebase_firestore(),this.Ke=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore)}$e(e){for(const t of e.Ve)e.me&&
e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}})}forEachTarget(e,
t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((e,n)=>{this.je(n)&&t(n)})}Je(e){const t=e.targetId;const n=e.fe.count;const i=this.Ye(t);if(i){const s=i.target;if(__PRIVATE_targetIsDocumentTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(s))if(0===n){const e=new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(s.path);this.We(t,e,MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newNoDocument(e,SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()))}else __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(1===
n);else{const i=this.Ze(t);if(i!==n){const n=this.Xe(e);const s=n?this.et(n,e,i):1;if(0!==s){this.He(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Rt$$module$third_party$javascript$firebase$dist$firebase_firestore||Rt$$module$third_party$javascript$firebase$dist$firebase_firestore.tt(function __PRIVATE_createExistenceFilterMismatchInfoForTestingHooks(e,t,n,i,s){var o;var u;var l;var _;var h;var d;const m={localCacheCount:e,
existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId};const f=t.unchangedNames;return f&&(m.bloomFilter={applied:0===s,hashCount:null!==(o=null==f?void 0:f.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(_=null===(l=null===(u=null==f?void 0:f.bits)||void 0===u?void 0:u.bitmap)||void 0===l?void 0:l.length)&&void 0!==_?_:0,padding:null!==(d=null===(h=null==f?void 0:f.bits)||void 0===h?void 0:h.padding)&&void 0!==d?d:0,mightContain:e=>{var t;return null!==(t=null==i?void 0:i.mightContain(e))&&
void 0!==t&&t}}),m}(i,e.fe,this.Le.nt(),n,s))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const {bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let o;let u;try{o=__PRIVATE_normalizeByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(n).toUint8Array()}catch(e){if(e instanceof __PRIVATE_Base64DecodeError$$module$third_party$javascript$firebase$dist$firebase_firestore)return __PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore("Decoding the base64 bloom filter in existence filter failed ("+
e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e;}try{u=new BloomFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(o,i,s)}catch(e){return __PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore(e instanceof __PRIVATE_BloomFilterError$$module$third_party$javascript$firebase$dist$firebase_firestore?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===u.Te?null:u}et(e,t,n){return t.fe.count===
n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach(n=>{const s=this.Le.nt();const o=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.We(t,n,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((n,i)=>{const s=this.Ye(i);if(s){if(n.current&&__PRIVATE_targetIsDocumentTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(s.target)){const t=new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(s.target.path);
null!==this.qe.get(t)||this.st(i,t)||this.We(i,t,MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newNoDocument(t,e))}n.De&&(t.set(i,n.ve()),n.Fe())}});let n=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();this.Qe.forEach((e,t)=>{let i=!0;t.forEachWhile(e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)}),i&&(n=n.add(e))}),this.qe.forEach((t,n)=>{return n.setReadTime(e)});const i=new RemoteEvent$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t,this.Ke,this.qe,n);return this.qe=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore(),this.Qe=__PRIVATE_documentTargetMap$$module$third_party$javascript$firebase$dist$firebase_firestore(),this.Ke=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore),i}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=
this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new __PRIVATE_TargetState$$module$third_party$javascript$firebase$dist$firebase_firestore,
this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,
new __PRIVATE_TargetState$$module$third_party$javascript$firebase$dist$firebase_firestore),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function __PRIVATE_documentTargetMap$$module$third_party$javascript$firebase$dist$firebase_firestore(){return new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator)}
function __PRIVATE_snapshotChangesMap$$module$third_party$javascript$firebase$dist$firebase_firestore(){return new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator)}const Vt$$module$third_party$javascript$firebase$dist$firebase_firestore={asc:"ASCENDING",desc:"DESCENDING"};
const bt$$module$third_party$javascript$firebase$dist$firebase_firestore={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};const St$$module$third_party$javascript$firebase$dist$firebase_firestore={and:"AND",or:"OR"};
class JsonProtoSerializer$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function __PRIVATE_toInt32Proto$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e.useProto3Json||__PRIVATE_isNullOrUndefined$$module$third_party$javascript$firebase$dist$firebase_firestore(t)?t:{value:t}}
function toTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e.useProto3Json?`${(new Date(1E3*t.seconds)).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function __PRIVATE_toBytes$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}
function __PRIVATE_toVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return toTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.toTimestamp())}
function __PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(!!e),SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.fromTimestamp(function fromTimestamp(e){const t=__PRIVATE_normalizeTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.seconds,
t.nanos)}(e))}function __PRIVATE_toResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return function __PRIVATE_fullyQualifiedPrefixPath(e){return new ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}
function __PRIVATE_fromResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(e);return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_isValidResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(t)),t}
function __PRIVATE_toName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return __PRIVATE_toResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(e.databaseId,t.path)}
function fromName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_fromResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(t);if(n.get(1)!==e.databaseId.projectId)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==
e.databaseId.database)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_extractLocalPathFromResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(n))}
function __PRIVATE_toQueryPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return __PRIVATE_toResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(e.databaseId,t)}
function __PRIVATE_fromQueryPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_fromResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return 4===t.length?ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.emptyPath():__PRIVATE_extractLocalPathFromResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}
function __PRIVATE_getEncodedDatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return(new ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(["projects",e.databaseId.projectId,"databases",e.databaseId.database])).canonicalString()}
function __PRIVATE_extractLocalPathFromResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function __PRIVATE_toMutationDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){return{name:__PRIVATE_toName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t),fields:n.value.mapValue.fields}}
function __PRIVATE_fromDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=fromName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.name);const s=__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(t.updateTime);const o=t.createTime?__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(t.createTime):SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min();
const u=new ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore({mapValue:{fields:t.fields}});const l=MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newFoundDocument(i,s,o,u);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}
function toMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){let n;if(t instanceof __PRIVATE_SetMutation$$module$third_party$javascript$firebase$dist$firebase_firestore)n={update:__PRIVATE_toMutationDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.key,t.value)};else if(t instanceof __PRIVATE_DeleteMutation$$module$third_party$javascript$firebase$dist$firebase_firestore)n={delete:__PRIVATE_toName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t.key)};else if(t instanceof __PRIVATE_PatchMutation$$module$third_party$javascript$firebase$dist$firebase_firestore)n={update:__PRIVATE_toMutationDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.key,t.data),updateMask:__PRIVATE_toDocumentMask$$module$third_party$javascript$firebase$dist$firebase_firestore(t.fieldMask)};else{if(!(t instanceof __PRIVATE_VerifyMutation$$module$third_party$javascript$firebase$dist$firebase_firestore))return fail$$module$third_party$javascript$firebase$dist$firebase_firestore();
n={verify:__PRIVATE_toName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>{return function __PRIVATE_toFieldTransform(e,t){const n=t.transform;if(n instanceof __PRIVATE_ServerTimestampTransform$$module$third_party$javascript$firebase$dist$firebase_firestore)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof __PRIVATE_ArrayUnionTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore)return{fieldPath:t.field.canonicalString(),
appendMissingElements:{values:n.elements}};if(n instanceof __PRIVATE_ArrayRemoveTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof __PRIVATE_NumericIncrementTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();
}(0,e)})),t.precondition.isNone||(n.currentDocument=function __PRIVATE_toPrecondition(e,t){return void 0!==t.updateTime?{updateTime:__PRIVATE_toVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}(e,t.precondition)),n}
function __PRIVATE_fromMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=t.currentDocument?function __PRIVATE_fromPrecondition(e){return void 0!==e.updateTime?Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.updateTime(__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e.updateTime)):void 0!==e.exists?Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.exists(e.exists):Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.none()}(t.currentDocument):
Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.none();const i=t.updateTransforms?t.updateTransforms.map(t=>{return function __PRIVATE_fromFieldTransform(e,t){let n=null;if("setToServerValue"in t)__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore("REQUEST_TIME"===t.setToServerValue),n=new __PRIVATE_ServerTimestampTransform$$module$third_party$javascript$firebase$dist$firebase_firestore;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||
[];n=new __PRIVATE_ArrayUnionTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new __PRIVATE_ArrayRemoveTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}else"increment"in t?n=new __PRIVATE_NumericIncrementTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.increment):fail$$module$third_party$javascript$firebase$dist$firebase_firestore();
const i=FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.fromServerFormat(t.fieldPath);return new FieldTransform$$module$third_party$javascript$firebase$dist$firebase_firestore(i,n)}(e,t)}):[];if(t.update){t.update.name;const s=fromName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.update.name);const o=new ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function __PRIVATE_fromDocumentMask(e){const t=
e.fieldPaths||[];return new FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore(t.map(e=>{return FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.fromServerFormat(e)}))}(t.updateMask);return new __PRIVATE_PatchMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(s,o,e,n,i)}return new __PRIVATE_SetMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(s,o,n,i)}if(t.delete){const i=fromName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t.delete);return new __PRIVATE_DeleteMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(i,n)}if(t.verify){const i=fromName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.verify);return new __PRIVATE_VerifyMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(i,n)}return fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}
function __PRIVATE_toDocumentsTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return{documents:[__PRIVATE_toQueryPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.path)]}}
function __PRIVATE_toQueryTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n={structuredQuery:{}};const i=t.path;null!==t.collectionGroup?(n.parent=__PRIVATE_toQueryPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=__PRIVATE_toQueryPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);
const s=function __PRIVATE_toFilters(e){if(0!==e.length)return __PRIVATE_toFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function __PRIVATE_toOrder(e){if(0!==e.length)return e.map(e=>{return function __PRIVATE_toPropertyOrder(e){return{field:__PRIVATE_toFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.field),
direction:__PRIVATE_toDirection$$module$third_party$javascript$firebase$dist$firebase_firestore(e.dir)}}(e)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const u=__PRIVATE_toInt32Proto$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=function __PRIVATE_toStartAtCursor(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function __PRIVATE_toEndAtCursor(e){return{before:!e.inclusive,
values:e.position}}(t.endAt)),n}
function __PRIVATE_convertQueryTargetToQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e){let t=__PRIVATE_fromQueryPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e.parent);const n=e.structuredQuery;const i=n.from?n.from.length:0;let s=null;if(i>0){__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(1===i);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function __PRIVATE_fromFilters(e){const t=
__PRIVATE_fromFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore&&__PRIVATE_compositeFilterIsFlatConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(t)?t.getFilters():[t]}(n.where));let u=[];n.orderBy&&(u=function __PRIVATE_fromOrder(e){return e.map(e=>{return function __PRIVATE_fromPropertyOrder(e){return new OrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_fromFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.field),
function __PRIVATE_fromDirection(e){switch(e){case "ASCENDING":return"asc";case "DESCENDING":return"desc";default:return}}(e.direction))}(e)})}(n.orderBy));let l=null;n.limit&&(l=function __PRIVATE_fromInt32Proto(e){let t;return t="object"==typeof e?e.value:e,__PRIVATE_isNullOrUndefined$$module$third_party$javascript$firebase$dist$firebase_firestore(t)?null:t}(n.limit));let _=null;n.startAt&&(_=function __PRIVATE_fromStartAtCursor(e){const t=!!e.before;const n=e.values||[];return new Bound$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
t)}(n.startAt));let h=null;return n.endAt&&(h=function __PRIVATE_fromEndAtCursor(e){const t=!e.before;const n=e.values||[];return new Bound$$module$third_party$javascript$firebase$dist$firebase_firestore(n,t)}(n.endAt)),__PRIVATE_newQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(t,s,u,o,l,"F",_,h)}
function __PRIVATE_fromFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return void 0!==e.unaryFilter?function __PRIVATE_fromUnaryFilter(e){switch(e.unaryFilter.op){case "IS_NAN":const t=__PRIVATE_fromFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.unaryFilter.field);return FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(t,"==",{doubleValue:NaN});case "IS_NULL":const n=__PRIVATE_fromFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.unaryFilter.field);
return FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(n,"==",{nullValue:"NULL_VALUE"});case "IS_NOT_NAN":const i=__PRIVATE_fromFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.unaryFilter.field);return FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(i,"!=",{doubleValue:NaN});case "IS_NOT_NULL":const s=__PRIVATE_fromFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.unaryFilter.field);
return FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(s,"!=",{nullValue:"NULL_VALUE"});default:return fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}(e):void 0!==e.fieldFilter?function __PRIVATE_fromFieldFilter(e){return FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(__PRIVATE_fromFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fieldFilter.field),function __PRIVATE_fromOperatorName(e){switch(e){case "EQUAL":return"==";
case "NOT_EQUAL":return"!=";case "GREATER_THAN":return">";case "GREATER_THAN_OR_EQUAL":return">=";case "LESS_THAN":return"<";case "LESS_THAN_OR_EQUAL":return"<=";case "ARRAY_CONTAINS":return"array-contains";case "IN":return"in";case "NOT_IN":return"not-in";case "ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function __PRIVATE_fromCompositeFilter(e){return CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(e.compositeFilter.filters.map(e=>
{return __PRIVATE_fromFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}),function __PRIVATE_fromCompositeOperatorName(e){switch(e){case "AND":return"and";case "OR":return"or";default:return fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}(e.compositeFilter.op))}(e):fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}
function __PRIVATE_toDirection$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return Vt$$module$third_party$javascript$firebase$dist$firebase_firestore[e]}function __PRIVATE_toOperatorName$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return bt$$module$third_party$javascript$firebase$dist$firebase_firestore[e]}
function __PRIVATE_toCompositeOperatorName$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return St$$module$third_party$javascript$firebase$dist$firebase_firestore[e]}function __PRIVATE_toFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return{fieldPath:e.canonicalString()}}
function __PRIVATE_fromFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.fromServerFormat(e.fieldPath)}
function __PRIVATE_toFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore?function __PRIVATE_toUnaryOrFieldFilter(e){if("=="===e.op){if(__PRIVATE_isNanValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.field),
op:"IS_NULL"}}}else if("!="===e.op){if(__PRIVATE_isNanValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.field),
op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.field),op:__PRIVATE_toOperatorName$$module$third_party$javascript$firebase$dist$firebase_firestore(e.op),value:e.value}}}(e):e instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore?function __PRIVATE_toCompositeFilter(e){const t=e.getFilters().map(e=>{return __PRIVATE_toFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e)});
return 1===t.length?t[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName$$module$third_party$javascript$firebase$dist$firebase_firestore(e.op),filters:t}}}(e):fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}function __PRIVATE_toDocumentMask$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=[];return e.fields.forEach(e=>{return t.push(e.canonicalString())}),{fieldPaths:t}}
function __PRIVATE_isValidResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
class TargetData$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s=SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),o=SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),u=ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=
o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new TargetData$$module$third_party$javascript$firebase$dist$firebase_firestore(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new TargetData$$module$third_party$javascript$firebase$dist$firebase_firestore(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new TargetData$$module$third_party$javascript$firebase$dist$firebase_firestore(this.target,
this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new TargetData$$module$third_party$javascript$firebase$dist$firebase_firestore(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class __PRIVATE_LocalSerializer$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.ut=e}}
function __PRIVATE_toDbRemoteDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=t.key;const i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:__PRIVATE_toDbTimestampKey$$module$third_party$javascript$firebase$dist$firebase_firestore(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function __PRIVATE_toDocument(e,t){return{name:__PRIVATE_toName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t.key),fields:t.data.value.mapValue.fields,updateTime:toTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.version.toTimestamp()),createTime:toTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:__PRIVATE_toDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.version)};else{if(!t.isUnknownDocument())return fail$$module$third_party$javascript$firebase$dist$firebase_firestore();
i.unknownDocument={path:n.path.toArray(),version:__PRIVATE_toDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.version)}}return i}function __PRIVATE_toDbTimestampKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function __PRIVATE_toDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}
function __PRIVATE_fromDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e.seconds,e.nanoseconds);return SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.fromTimestamp(t)}
function __PRIVATE_fromDbMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=(t.baseMutations||[]).map(t=>{return __PRIVATE_fromMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ut,t)});for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const i=t.mutations[e+1];n.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const i=t.mutations.map(t=>
{return __PRIVATE_fromMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ut,t)});const s=Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore.fromMillis(t.localWriteTimeMs);return new MutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(t.batchId,s,n,i)}
function __PRIVATE_fromDbTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_fromDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e.readTime);const n=void 0!==e.lastLimboFreeSnapshotVersion?__PRIVATE_fromDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e.lastLimboFreeSnapshotVersion):SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min();let i;return i=function __PRIVATE_isDocumentQuery(e){return void 0!==
e.documents}(e.query)?function __PRIVATE_fromDocumentsTarget(e){return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(1===e.documents.length),__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_newQueryForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_fromQueryPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e.documents[0])))}(e.query):function __PRIVATE_fromQueryTarget(e){return __PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_convertQueryTargetToQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e))}(e.query),
new TargetData$$module$third_party$javascript$firebase$dist$firebase_firestore(i,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.fromBase64String(e.resumeToken))}
function __PRIVATE_toDbTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_toDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.snapshotVersion);const i=__PRIVATE_toDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.lastLimboFreeSnapshotVersion);let s;s=__PRIVATE_targetIsDocumentTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t.target)?__PRIVATE_toDocumentsTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ut,
t.target):__PRIVATE_toQueryTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:__PRIVATE_canonifyTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}
function __PRIVATE_fromBundledQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_convertQueryTargetToQuery$$module$third_party$javascript$firebase$dist$firebase_firestore({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?__PRIVATE_queryWithLimit$$module$third_party$javascript$firebase$dist$firebase_firestore(t,t.limit,"L"):t}
function __PRIVATE_fromDbDocumentOverlay$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return new Overlay$$module$third_party$javascript$firebase$dist$firebase_firestore(t.largestBatchId,__PRIVATE_fromMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ut,t.overlayMutation))}
function __PRIVATE_toDbDocumentOverlayKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=t.path.lastSegment();return[e,__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(t.path.popLast()),n]}
function __PRIVATE_toDbIndexState$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:__PRIVATE_toDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(i.readTime),documentKey:__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(i.documentKey.path),largestBatchId:i.largestBatchId}}
class __PRIVATE_IndexedDbBundleCache$$module$third_party$javascript$firebase$dist$firebase_firestore{getBundleMetadata(e,t){return __PRIVATE_bundlesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get(t).next(e=>{if(e)return function __PRIVATE_fromDbBundle(e){return{id:e.bundleId,createTime:__PRIVATE_fromDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e.createTime),version:e.version}}(e)})}saveBundleMetadata(e,t){return __PRIVATE_bundlesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put(function __PRIVATE_toDbBundle(e){return{bundleId:e.id,
createTime:__PRIVATE_toDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return __PRIVATE_namedQueriesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get(t).next(e=>{if(e)return function __PRIVATE_fromDbNamedQuery(e){return{name:e.name,query:__PRIVATE_fromBundledQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e.bundledQuery),
readTime:__PRIVATE_fromDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e.readTime)}}(e)})}saveNamedQuery(e,t){return __PRIVATE_namedQueriesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put(function __PRIVATE_toDbNamedQuery(e){return{name:e.name,readTime:__PRIVATE_toDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}
function __PRIVATE_bundlesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"bundles")}function __PRIVATE_namedQueriesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"namedQueries")}
class __PRIVATE_IndexedDbDocumentOverlayCache$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new __PRIVATE_IndexedDbDocumentOverlayCache$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n)}getOverlay(e,t){return __PRIVATE_documentOverlayStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get(__PRIVATE_toDbDocumentOverlayKey$$module$third_party$javascript$firebase$dist$firebase_firestore(this.userId,
t)).next(e=>{return e?__PRIVATE_fromDbDocumentOverlay$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,e):null})}getOverlays(e,t){const n=__PRIVATE_newOverlayMap$$module$third_party$javascript$firebase$dist$firebase_firestore();return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(t,t=>{return this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})}).next(()=>{return n})}saveOverlays(e,t,n){const i=[];return n.forEach((n,s)=>
{const o=new Overlay$$module$third_party$javascript$firebase$dist$firebase_firestore(t,s);i.push(this.lt(e,o))}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach(e=>{return i.add(__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e.getCollectionPath()))});const s=[];return i.forEach(t=>{const i=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);
s.push(__PRIVATE_documentOverlayStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).H("collectionPathOverlayIndex",i))}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(s)}getOverlaysForCollection(e,t,n){const i=__PRIVATE_newOverlayMap$$module$third_party$javascript$firebase$dist$firebase_firestore();const s=__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(t);const o=IDBKeyRange.bound([this.userId,
s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return __PRIVATE_documentOverlayStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).W("collectionPathOverlayIndex",o).next(e=>{for(const t of e){const e=__PRIVATE_fromDbDocumentOverlay$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,t);i.set(e.getKey(),e)}return i})}getOverlaysForCollectionGroup(e,t,n,i){const s=__PRIVATE_newOverlayMap$$module$third_party$javascript$firebase$dist$firebase_firestore();
let o;const u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return __PRIVATE_documentOverlayStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({index:"collectionGroupOverlayIndex",range:u},(e,t,n)=>{const u=__PRIVATE_fromDbDocumentOverlay$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,t);s.size()<i||u.largestBatchId===o?(s.set(u.getKey(),u),o=u.largestBatchId):n.done()}).next(()=>{return s})}lt(e,t){return __PRIVATE_documentOverlayStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put(function __PRIVATE_toDbDocumentOverlay(e,
t,n){const [i,s,o]=__PRIVATE_toDbDocumentOverlayKey$$module$third_party$javascript$firebase$dist$firebase_firestore(t,n.mutation.key);return{userId:t,collectionPath:s,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:toMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}
function __PRIVATE_documentOverlayStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"documentOverlays")}
class __PRIVATE_FirestoreIndexValueWriter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.integerValue));else if("doubleValue"in e){const n=__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.doubleValue);
isNaN(n)?this.Tt(t,13):(this.Tt(t,15),__PRIVATE_isNegativeZero$$module$third_party$javascript$firebase$dist$firebase_firestore(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt(`${n.seconds||""}`),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(__PRIVATE_normalizeByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(e.bytesValue)),
this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?__PRIVATE_isMaxValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}At(e,t){this.Tt(t,25),this.wt(e,
t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const e of Object.keys(n))this.At(e,t),this.Pt(n[e],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const e of n)this.Pt(e,t)}ft(e,t){this.Tt(t,37),DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromName(e).path.forEach(e=>{this.Tt(t,60),this.wt(e,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}
function __PRIVATE_numberOfLeadingZerosInByte$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(0===e)return 8;let t=0;return e>>4==0&&(t=t+4,e=e<<4),e>>6==0&&(t=t+2,e=e<<2),e>>7==0&&(t=t+1),t}
function __PRIVATE_unsignedNumLength$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=64-function __PRIVATE_numberOfLeadingZeros(e){let t=0;for(let n=0;n<8;++n){const i=__PRIVATE_numberOfLeadingZerosInByte$$module$third_party$javascript$firebase$dist$firebase_firestore(255&e[n]);if(t=t+i,8!==i)break}return t}(e);return Math.ceil(t/8)}__PRIVATE_FirestoreIndexValueWriter$$module$third_party$javascript$firebase$dist$firebase_firestore.St=new __PRIVATE_FirestoreIndexValueWriter$$module$third_party$javascript$firebase$dist$firebase_firestore;
class __PRIVATE_OrderedCodeWriter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||
"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),
this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e);const n=__PRIVATE_unsignedNumLength$$module$third_party$javascript$firebase$dist$firebase_firestore(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}kt(e){const t=this.Bt(e);const n=__PRIVATE_unsignedNumLength$$module$third_party$javascript$firebase$dist$firebase_firestore(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=
~(255&t[e])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function __PRIVATE_doubleToLongBits(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e);const n=0!=(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),
this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}
class __PRIVATE_AscendingIndexByteEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class __PRIVATE_DescendingIndexByteEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}
class __PRIVATE_IndexByteEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.Wt=new __PRIVATE_OrderedCodeWriter$$module$third_party$javascript$firebase$dist$firebase_firestore,this.Gt=new __PRIVATE_AscendingIndexByteEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore(this.Wt),this.zt=new __PRIVATE_DescendingIndexByteEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?
this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}
class __PRIVATE_IndexEntry$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=i}Ht(){const e=this.directionalValue.length;const t=0===e||255===this.directionalValue[e-1]?e+1:e;const n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new __PRIVATE_IndexEntry$$module$third_party$javascript$firebase$dist$firebase_firestore(this.indexId,this.documentKey,
this.arrayValue,n)}}
function __PRIVATE_indexEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=__PRIVATE_compareByteArrays$$module$third_party$javascript$firebase$dist$firebase_firestore(e.arrayValue,t.arrayValue),0!==n?n:(n=__PRIVATE_compareByteArrays$$module$third_party$javascript$firebase$dist$firebase_firestore(e.directionalValue,t.directionalValue),0!==n?n:DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(e.documentKey,t.documentKey)))}
function __PRIVATE_compareByteArrays$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){for(let n=0;n<e.length&&n<t.length;++n){const i=e[n]-t[n];if(0!==i)return i}return e.length-t.length}
class __PRIVATE_TargetIndexMatcher$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.Jt=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore((e,t)=>{return FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(e.field,t.field)}),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):
this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=__PRIVATE_fieldIndexGetArraySegment$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(void 0!==t&&!this.tn(t))return!1;const n=__PRIVATE_fieldIndexGetDirectionalSegments$$module$third_party$javascript$firebase$dist$firebase_firestore(e);let i=new Set;let s=0;let o=0;for(;s<n.length&&
this.tn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!i.has(e.field.canonicalString())){const t=n[s];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++s}for(;s<n.length;++s){const e=n[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);
const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new IndexSegment$$module$third_party$javascript$firebase$dist$firebase_firestore(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new IndexSegment$$module$third_party$javascript$firebase$dist$firebase_firestore(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new IndexSegment$$module$third_party$javascript$firebase$dist$firebase_firestore(n.field,
"asc"===n.dir?0:1)));return new FieldIndex$$module$third_party$javascript$firebase$dist$firebase_firestore(FieldIndex$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN_ID,this.collectionId,t,IndexState$$module$third_party$javascript$firebase$dist$firebase_firestore.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===
n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
function __PRIVATE_computeInExpansion$$module$third_party$javascript$firebase$dist$firebase_firestore(e){var t;var n;if(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore||e instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore),e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore){if(e instanceof __PRIVATE_InFilter$$module$third_party$javascript$firebase$dist$firebase_firestore){const i=
(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map(t=>{return FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(e.field,"==",t)}))||[];return CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(i,"or")}return e}const i=e.filters.map(e=>{return __PRIVATE_computeInExpansion$$module$third_party$javascript$firebase$dist$firebase_firestore(e)});return CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(i,
e.op)}
function __PRIVATE_getDnfTerms$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(0===e.getFilters().length)return[];const t=__PRIVATE_computeDistributedNormalForm$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_computeInExpansion$$module$third_party$javascript$firebase$dist$firebase_firestore(e));return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_isDisjunctiveNormalForm$$module$third_party$javascript$firebase$dist$firebase_firestore(t)),__PRIVATE_isSingleFieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(t)||
__PRIVATE_isFlatConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(t)?[t]:t.getFilters()}function __PRIVATE_isSingleFieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore}
function __PRIVATE_isFlatConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore&&__PRIVATE_compositeFilterIsFlatConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}
function __PRIVATE_isDisjunctiveNormalForm$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_isSingleFieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e)||__PRIVATE_isFlatConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e)||function __PRIVATE_isDisjunctionOfFieldFiltersAndFlatConjunctions(e){if(e instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore&&__PRIVATE_compositeFilterIsDisjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e)){for(const t of e.getFilters())if(!__PRIVATE_isSingleFieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(t)&&
!__PRIVATE_isFlatConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(t))return!1;return!0}return!1}(e)}
function __PRIVATE_computeDistributedNormalForm$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore||e instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore),e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore)return e;if(1===e.filters.length)return __PRIVATE_computeDistributedNormalForm$$module$third_party$javascript$firebase$dist$firebase_firestore(e.filters[0]);
const t=e.filters.map(e=>{return __PRIVATE_computeDistributedNormalForm$$module$third_party$javascript$firebase$dist$firebase_firestore(e)});let n=CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(t,e.op);return n=__PRIVATE_applyAssociation$$module$third_party$javascript$firebase$dist$firebase_firestore(n),__PRIVATE_isDisjunctiveNormalForm$$module$third_party$javascript$firebase$dist$firebase_firestore(n)?n:(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(n instanceof
CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore),__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_compositeFilterIsConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(n)),__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(n.filters.length>1),n.filters.reduce((e,t)=>{return __PRIVATE_applyDistribution$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t)}))}
function __PRIVATE_applyDistribution$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){let n;return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore||e instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore),__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(t instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore||t instanceof
CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore),n=e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore?t instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore?function __PRIVATE_applyDistributionFieldFilters(e,t){return CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create([e,t],"and")}(e,t):__PRIVATE_applyDistributionFieldAndCompositeFilters$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t):t instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore?__PRIVATE_applyDistributionFieldAndCompositeFilters$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e):function __PRIVATE_applyDistributionCompositeFilters(e,t){if(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e.filters.length>0&&t.filters.length>0),__PRIVATE_compositeFilterIsConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&
__PRIVATE_compositeFilterIsConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(t))return __PRIVATE_compositeFilterWithAddedFilters$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.getFilters());const n=__PRIVATE_compositeFilterIsDisjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?e:t;const i=__PRIVATE_compositeFilterIsDisjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?t:e;const s=n.filters.map(e=>{return __PRIVATE_applyDistribution$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
i)});return CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(s,"or")}(e,t),__PRIVATE_applyAssociation$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}
function __PRIVATE_applyDistributionFieldAndCompositeFilters$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(__PRIVATE_compositeFilterIsConjunction$$module$third_party$javascript$firebase$dist$firebase_firestore(t))return __PRIVATE_compositeFilterWithAddedFilters$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e.getFilters());{const n=t.filters.map(t=>{return __PRIVATE_applyDistribution$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)});
return CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(n,"or")}}
function __PRIVATE_applyAssociation$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore||e instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore),e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore)return e;const t=e.getFilters();if(1===
t.length)return __PRIVATE_applyAssociation$$module$third_party$javascript$firebase$dist$firebase_firestore(t[0]);if(__PRIVATE_compositeFilterIsFlat$$module$third_party$javascript$firebase$dist$firebase_firestore(e))return e;const n=t.map(e=>{return __PRIVATE_applyAssociation$$module$third_party$javascript$firebase$dist$firebase_firestore(e)});const i=[];return n.forEach(t=>{t instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore?i.push(t):t instanceof CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore&&
(t.op===e.op?i.push(...t.filters):i.push(t))}),1===i.length?i[0]:CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(i,e.op)}
class __PRIVATE_MemoryIndexManager$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.on=new __PRIVATE_MemoryCollectionParentIndex$$module$third_party$javascript$firebase$dist$firebase_firestore}addToCollectionParentIndex(e,t){return this.on.add(t),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}getCollectionParents(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.on.getEntries(t))}addFieldIndex(e,
t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}deleteFieldIndex(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}deleteAllFieldIndexes(e){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}createTargetIndexes(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}getDocumentsMatchingTarget(e,
t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(null)}getIndexType(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(0)}getFieldIndexes(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve([])}getNextCollectionGroupToUpdate(e){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(null)}getMinOffset(e,
t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore.min())}getMinOffsetFromCollectionGroup(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore.min())}updateCollectionGroup(e,t,n){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}updateIndexEntries(e,
t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}}
class __PRIVATE_MemoryCollectionParentIndex$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.index={}}add(e){const t=e.lastSegment();const n=e.popLast();const i=this.index[t]||new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);const s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment();const n=e.popLast();const i=this.index[t];return i&&
i.has(n)}getEntries(e){return(this.index[e]||new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator)).toArray()}}const vt$$module$third_party$javascript$firebase$dist$firebase_firestore=new Uint8Array(0);
class __PRIVATE_IndexedDbIndexManager$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.user=e,this.databaseId=t,this._n=new __PRIVATE_MemoryCollectionParentIndex$$module$third_party$javascript$firebase$dist$firebase_firestore,this.an=new ObjectMap$$module$third_party$javascript$firebase$dist$firebase_firestore(e=>{return __PRIVATE_canonifyTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e)},(e,t)=>{return __PRIVATE_targetEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t)}),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment();const i=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const s={collectionId:n,parent:__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(i)};return __PRIVATE_collectionParentsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put(s)}return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}getCollectionParents(e,
t){const n=[];const i=IDBKeyRange.bound([t,""],[__PRIVATE_immediateSuccessor$$module$third_party$javascript$firebase$dist$firebase_firestore(t),""],!1,!0);return __PRIVATE_collectionParentsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).W(i).next(e=>{for(const i of e){if(i.collectionId!==t)break;n.push(__PRIVATE_decodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(i.parent))}return n})}addFieldIndex(e,t){const n=__PRIVATE_indexConfigurationStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
const i=function __PRIVATE_toDbIndexConfiguration(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>{return[e.fieldPath.canonicalString(),e.kind]})}}(t);delete i.indexId;const s=n.add(i);if(t.indexState){const n=__PRIVATE_indexStateStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return s.next(e=>{n.put(__PRIVATE_toDbIndexState$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,
t){const n=__PRIVATE_indexConfigurationStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=__PRIVATE_indexStateStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const s=__PRIVATE_indexEntriesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return n.delete(t.indexId).next(()=>{return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}).next(()=>{return s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})}deleteAllFieldIndexes(e){const t=
__PRIVATE_indexConfigurationStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const n=__PRIVATE_indexEntriesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=__PRIVATE_indexStateStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t.H().next(()=>{return n.H()}).next(()=>{return i.H()})}createTargetIndexes(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(this.un(t),
t=>{return this.getIndexType(e,t).next(n=>{if(0===n||1===n){const n=(new __PRIVATE_TargetIndexMatcher$$module$third_party$javascript$firebase$dist$firebase_firestore(t)).sn();if(null!=n)return this.addFieldIndex(e,n)}})})}getDocumentsMatchingTarget(e,t){const n=__PRIVATE_indexEntriesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);let i=!0;const s=new Map;return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(this.un(t),t=>{return this.cn(e,
t).next(e=>{i&&(i=!!e),s.set(t,e)})}).next(()=>{if(i){let e=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();const i=[];return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(s,(s,o)=>{__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexedDbIndexManager",`Using index ${(function __PRIVATE_fieldIndexToString(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map(e=>
{return`${e.fieldPath}:${e.kind}`}).join(",")}`})(s)} to execute ${__PRIVATE_canonifyTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}`);const u=function __PRIVATE_targetGetArrayValues(e,t){const n=__PRIVATE_fieldIndexGetArraySegment$$module$third_party$javascript$firebase$dist$firebase_firestore(t);if(void 0===n)return null;for(const t of __PRIVATE_targetGetFieldFiltersForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n.fieldPath))switch(t.op){case "array-contains-any":return t.value.arrayValue.values||
[];case "array-contains":return[t.value]}return null}(o,s);const l=function __PRIVATE_targetGetNotInValues(e,t){const n=new Map;for(const i of __PRIVATE_fieldIndexGetDirectionalSegments$$module$third_party$javascript$firebase$dist$firebase_firestore(t))for(const t of __PRIVATE_targetGetFieldFiltersForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i.fieldPath))switch(t.op){case "==":case "in":n.set(i.fieldPath.canonicalString(),t.value);break;case "not-in":case "!=":return n.set(i.fieldPath.canonicalString(),
t.value),Array.from(n.values())}return null}(o,s);const _=function __PRIVATE_targetGetLowerBound(e,t){const n=[];let i=!0;for(const s of __PRIVATE_fieldIndexGetDirectionalSegments$$module$third_party$javascript$firebase$dist$firebase_firestore(t)){const t=0===s.kind?__PRIVATE_targetGetAscendingBound$$module$third_party$javascript$firebase$dist$firebase_firestore(e,s.fieldPath,e.startAt):__PRIVATE_targetGetDescendingBound$$module$third_party$javascript$firebase$dist$firebase_firestore(e,s.fieldPath,
e.startAt);n.push(t.value),i&&(i=t.inclusive)}return new Bound$$module$third_party$javascript$firebase$dist$firebase_firestore(n,i)}(o,s);const h=function __PRIVATE_targetGetUpperBound(e,t){const n=[];let i=!0;for(const s of __PRIVATE_fieldIndexGetDirectionalSegments$$module$third_party$javascript$firebase$dist$firebase_firestore(t)){const t=0===s.kind?__PRIVATE_targetGetDescendingBound$$module$third_party$javascript$firebase$dist$firebase_firestore(e,s.fieldPath,e.endAt):__PRIVATE_targetGetAscendingBound$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
s.fieldPath,e.endAt);n.push(t.value),i&&(i=t.inclusive)}return new Bound$$module$third_party$javascript$firebase$dist$firebase_firestore(n,i)}(o,s);const d=this.ln(s,o,_);const m=this.ln(s,o,h);const f=this.hn(s,o,l);const g=this.Pn(s.indexId,u,d,_.inclusive,m,h.inclusive,f);return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(g,s=>{return n.j(s,t.limit).next(t=>{t.forEach(t=>{const n=DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromSegments(t.documentKey);
e.has(n)||(e=e.add(n),i.push(n))})})})}).next(()=>{return i})}return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:__PRIVATE_getDnfTerms$$module$third_party$javascript$firebase$dist$firebase_firestore(CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(e.filters,"and")).map(t=>{return __PRIVATE_newTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,
e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)}),this.an.set(e,t),t)}Pn(e,t,n,i,s,o,u){const l=(null!=t?t.length:1)*Math.max(n.length,s.length);const _=l/(null!=t?t.length:1);const h=[];for(let d=0;d<l;++d){const l=t?this.In(t[d/_]):vt$$module$third_party$javascript$firebase$dist$firebase_firestore;const m=this.Tn(e,l,n[d%_],i);const f=this.En(e,l,s[d%_],o);const g=u.map(t=>{return this.Tn(e,l,t,!0)});h.push(...this.createRange(m,f,g))}return h}Tn(e,t,n,i){const s=new __PRIVATE_IndexEntry$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),t,n);return i?s:s.Ht()}En(e,t,n,i){const s=new __PRIVATE_IndexEntry$$module$third_party$javascript$firebase$dist$firebase_firestore(e,DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),t,n);return i?s.Ht():s}cn(e,t){const n=new __PRIVATE_TargetIndexMatcher$$module$third_party$javascript$firebase$dist$firebase_firestore(t);const i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();
return this.getFieldIndexes(e,i).next(e=>{let t=null;for(const i of e)n.en(i)&&(!t||i.fields.length>t.fields.length)&&(t=i);return t})}getIndexType(e,t){let n=2;const i=this.un(t);return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(i,t=>{return this.cn(e,t).next(e=>{e?0!==n&&e.fields.length<function __PRIVATE_targetGetSegmentCount(e){let t=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);
let n=!1;for(const i of e.filters)for(const e of i.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})}).next(()=>{return function __PRIVATE_targetHasLimit(e){return null!==e.limit}(t)&&i.length>1&&2===n?1:n})}dn(e,t){const n=new __PRIVATE_IndexByteEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore;for(const i of __PRIVATE_fieldIndexGetDirectionalSegments$$module$third_party$javascript$firebase$dist$firebase_firestore(e)){const e=
t.data.field(i.fieldPath);if(null==e)return null;const s=n.jt(i.kind);__PRIVATE_FirestoreIndexValueWriter$$module$third_party$javascript$firebase$dist$firebase_firestore.St.ht(e,s)}return n.Ut()}In(e){const t=new __PRIVATE_IndexByteEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore;return __PRIVATE_FirestoreIndexValueWriter$$module$third_party$javascript$firebase$dist$firebase_firestore.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new __PRIVATE_IndexByteEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore;
return __PRIVATE_FirestoreIndexValueWriter$$module$third_party$javascript$firebase$dist$firebase_firestore.St.ht(__PRIVATE_refValue$$module$third_party$javascript$firebase$dist$firebase_firestore(this.databaseId,t),n.jt(function __PRIVATE_fieldIndexGetKeyOrder(e){const t=__PRIVATE_fieldIndexGetDirectionalSegments$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let i=[];i.push(new __PRIVATE_IndexByteEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore);
let s=0;for(const o of __PRIVATE_fieldIndexGetDirectionalSegments$$module$third_party$javascript$firebase$dist$firebase_firestore(e)){const e=n[s++];for(const n of i)if(this.Rn(t,o.fieldPath)&&isArray$$module$third_party$javascript$firebase$dist$firebase_firestore(e))i=this.Vn(i,o,e);else{const t=n.jt(o.kind);__PRIVATE_FirestoreIndexValueWriter$$module$third_party$javascript$firebase$dist$firebase_firestore.St.ht(e,t)}}return this.mn(i)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=
0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const i=[...e];const s=[];for(const e of n.arrayValue.values||[])for(const n of i){const i=new __PRIVATE_IndexByteEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore;i.seed(n.Ut()),__PRIVATE_FirestoreIndexValueWriter$$module$third_party$javascript$firebase$dist$firebase_firestore.St.ht(e,i.jt(t.kind)),s.push(i)}return s}Rn(e,t){return!!e.filters.find(e=>{return e instanceof FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore&&
e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)})}getFieldIndexes(e,t){const n=__PRIVATE_indexConfigurationStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=__PRIVATE_indexStateStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next(e=>{const t=[];return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(e,e=>{return i.get([e.indexId,this.uid]).next(n=>
{t.push(function __PRIVATE_fromDbIndexConfiguration(e,t){const n=t?new IndexState$$module$third_party$javascript$firebase$dist$firebase_firestore(t.sequenceNumber,new IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_fromDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.readTime),new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_decodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(t.documentKey)),
t.largestBatchId)):IndexState$$module$third_party$javascript$firebase$dist$firebase_firestore.empty();const i=e.fields.map(([e,t])=>{return new IndexSegment$$module$third_party$javascript$firebase$dist$firebase_firestore(FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.fromServerFormat(e),t)});return new FieldIndex$$module$third_party$javascript$firebase$dist$firebase_firestore(e.indexId,e.collectionGroup,i,n)}(e,n))})}).next(()=>{return t})})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>
{return 0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup)})}updateCollectionGroup(e,t,n){const i=__PRIVATE_indexConfigurationStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const s=__PRIVATE_indexStateStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
return this.fn(e).next(e=>{return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(t,t=>{return s.put(__PRIVATE_toDbIndexState$$module$third_party$javascript$firebase$dist$firebase_firestore(t.indexId,this.user,e,n))})})})}updateIndexEntries(e,t){const n=new Map;return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(t,(t,i)=>{const s=n.get(t.collectionGroup);
return(s?PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(s):this.getFieldIndexes(e,t.collectionGroup)).next(s=>{return n.set(t.collectionGroup,s),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(s,n=>{return this.gn(e,t,n).next(t=>{const s=this.pn(i,n);return t.isEqual(s)?PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve():this.yn(e,i,n,t,s)})})})})}wn(e,t,n,i){return __PRIVATE_indexEntriesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put({indexId:i.indexId,
uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,i){return __PRIVATE_indexEntriesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const i=__PRIVATE_indexEntriesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);let s=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_indexEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore);
return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},(e,i)=>{s=s.add(new __PRIVATE_IndexEntry$$module$third_party$javascript$firebase$dist$firebase_firestore(n.indexId,t,i.arrayValue,i.directionalValue))}).next(()=>{return s})}pn(e,t){let n=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_indexEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore);const i=this.dn(t,e);if(null==i)return n;const s=
__PRIVATE_fieldIndexGetArraySegment$$module$third_party$javascript$firebase$dist$firebase_firestore(t);if(null!=s){const o=e.data.field(s.fieldPath);if(isArray$$module$third_party$javascript$firebase$dist$firebase_firestore(o))for(const s of o.arrayValue.values||[])n=n.add(new __PRIVATE_IndexEntry$$module$third_party$javascript$firebase$dist$firebase_firestore(t.indexId,e.key,this.In(s),i))}else n=n.add(new __PRIVATE_IndexEntry$$module$third_party$javascript$firebase$dist$firebase_firestore(t.indexId,
e.key,vt$$module$third_party$javascript$firebase$dist$firebase_firestore,i));return n}yn(e,t,n,i,s){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function __PRIVATE_diffSortedSets(e,t,n,i,s){const o=e.getIterator();const u=t.getIterator();let l=__PRIVATE_advanceIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(o);let _=__PRIVATE_advanceIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(u);
for(;l||_;){let e=!1;let t=!1;if(l&&_){const i=n(l,_);i<0?t=!0:i>0&&(e=!0)}else null!=l?t=!0:e=!0;e?(i(_),_=__PRIVATE_advanceIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(u)):t?(s(l),l=__PRIVATE_advanceIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(o)):(l=__PRIVATE_advanceIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(o),_=__PRIVATE_advanceIterator$$module$third_party$javascript$firebase$dist$firebase_firestore(u))}}(i,
s,__PRIVATE_indexEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore,i=>{o.push(this.wn(e,t,n,i))},i=>{o.push(this.Sn(e,t,n,i))}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(o)}fn(e){let t=1;return __PRIVATE_indexStateStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,i)=>{i.done(),t=n.sequenceNumber+
1}).next(()=>{return t})}createRange(e,t,n){n=n.sort((e,t)=>{return __PRIVATE_indexEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}).filter((e,t,n)=>{return!t||0!==__PRIVATE_indexEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n[t-1])});const i=[];i.push(e);for(const s of n){const n=__PRIVATE_indexEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(s,e);const o=__PRIVATE_indexEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(s,
t);if(0===n)i[0]=e.Ht();else if(n>0&&o<0)i.push(s),i.push(s.Ht());else if(o>0)break}i.push(t);const s=[];for(let e=0;e<i.length;e=e+2){if(this.bn(i[e],i[e+1]))return[];const t=[i[e].indexId,this.uid,i[e].arrayValue,i[e].directionalValue,vt$$module$third_party$javascript$firebase$dist$firebase_firestore,[]];const n=[i[e+1].indexId,this.uid,i[e+1].arrayValue,i[e+1].directionalValue,vt$$module$third_party$javascript$firebase$dist$firebase_firestore,[]];s.push(IDBKeyRange.bound(t,n))}return s}bn(e,t){return __PRIVATE_indexEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(__PRIVATE_getMinOffsetFromFieldIndexes$$module$third_party$javascript$firebase$dist$firebase_firestore)}getMinOffset(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.mapArray(this.un(t),t=>{return this.cn(e,t).next(e=>{return e||fail$$module$third_party$javascript$firebase$dist$firebase_firestore()})}).next(__PRIVATE_getMinOffsetFromFieldIndexes$$module$third_party$javascript$firebase$dist$firebase_firestore)}}
function __PRIVATE_collectionParentsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"collectionParents")}function __PRIVATE_indexEntriesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"indexEntries")}
function __PRIVATE_indexConfigurationStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"indexConfiguration")}function __PRIVATE_indexStateStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"indexState")}
function __PRIVATE_getMinOffsetFromFieldIndexes$$module$third_party$javascript$firebase$dist$firebase_firestore(e){__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(0!==e.length);let t=e[0].indexState.offset;let n=t.largestBatchId;for(let i=1;i<e.length;i++){const s=e[i].indexState.offset;__PRIVATE_indexOffsetComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(s,t)<0&&(t=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore(t.readTime,
t.documentKey,n)}const wt$$module$third_party$javascript$firebase$dist$firebase_firestore={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};
class LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore(e,LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.DEFAULT_COLLECTION_PERCENTILE,LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
function removeMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=e.store("mutations");const s=e.store("documentMutations");const o=[];const u=IDBKeyRange.only(n.batchId);let l=0;const _=i.Y({range:u},(e,t,n)=>{return l++,n.delete()});o.push(_.next(()=>{__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(1===l)}));const h=[];for(const e of n.mutations){const i=__PRIVATE_newDbDocumentMutationKey$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
e.key.path,n.batchId);o.push(s.delete(i)),h.push(e.key)}return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(o).next(()=>{return h})}
function __PRIVATE_dbDocumentSize$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();t=e.noDocument}return JSON.stringify(t).length}
LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.DEFAULT_COLLECTION_PERCENTILE=10,LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1E3,LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.DEFAULT=new LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore(41943040,LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.DEFAULT_COLLECTION_PERCENTILE,LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),
LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.DISABLED=new LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore(-1,0,0);
class __PRIVATE_IndexedDbMutationQueue$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.Dn={}}static ct(e,t,n,i){__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new __PRIVATE_IndexedDbMutationQueue$$module$third_party$javascript$firebase$dist$firebase_firestore(s,t,n,i)}checkEmpty(e){let t=
!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return __PRIVATE_mutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({index:"userMutationsIndex",range:n},(e,n,i)=>{t=!1,i.done()}).next(()=>{return t})}addMutationBatch(e,t,n,i){const s=__PRIVATE_documentMutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const o=__PRIVATE_mutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
return o.add({}).next(u=>{__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore("number"==typeof u);const l=new MutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(u,t,n,i);const _=function __PRIVATE_toDbMutationBatch(e,t,n){const i=n.baseMutations.map(t=>{return toMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ut,t)});const s=n.mutations.map(t=>{return toMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ut,
t)});return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:s}}(this.serializer,this.userId,l);const h=[];let d=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore((e,t)=>{return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.canonicalString(),t.canonicalString())});for(const e of i){const t=__PRIVATE_newDbDocumentMutationKey$$module$third_party$javascript$firebase$dist$firebase_firestore(this.userId,
e.key.path,u);d=d.add(e.key.path.popLast()),h.push(o.put(_)),h.push(s.put(t,We$$module$third_party$javascript$firebase$dist$firebase_firestore))}return d.forEach(t=>{h.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Dn[u]=l.keys()}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(h).next(()=>{return l})})}lookupMutationBatch(e,t){return __PRIVATE_mutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get(t).next(e=>
{return e?(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e.userId===this.userId),__PRIVATE_fromDbMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,e)):null})}Cn(e,t){return this.Dn[t]?PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,
t){const n=t+1;const i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return __PRIVATE_mutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({index:"userMutationsIndex",range:i},(e,t,i)=>{t.userId===this.userId&&(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(t.batchId>=n),s=__PRIVATE_fromDbMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,t)),i.done()}).next(()=>{return s})}getHighestUnacknowledgedBatchId(e){const t=
IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return __PRIVATE_mutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(e,t,i)=>{n=t.batchId,i.done()}).next(()=>{return n})}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return __PRIVATE_mutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).W("userMutationsIndex",
t).next(e=>{return e.map(e=>{return __PRIVATE_fromDbMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,e)})})}getAllMutationBatchesAffectingDocumentKey(e,t){const n=__PRIVATE_newDbDocumentMutationPrefixForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(this.userId,t.path);const i=IDBKeyRange.lowerBound(n);const s=[];return __PRIVATE_documentMutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({range:i},
(n,i,o)=>{const [u,l,_]=n;const h=__PRIVATE_decodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(l);if(u===this.userId&&t.path.isEqual(h))return __PRIVATE_mutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get(_).next(e=>{if(!e)throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e.userId===this.userId),s.push(__PRIVATE_fromDbMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,
e))});o.done()}).next(()=>{return s})}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore);const i=[];return t.forEach(t=>{const s=__PRIVATE_newDbDocumentMutationPrefixForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(this.userId,t.path);const o=IDBKeyRange.lowerBound(s);const u=__PRIVATE_documentMutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({range:o},
(e,i,s)=>{const [o,u,l]=e;const _=__PRIVATE_decodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(u);o===this.userId&&t.path.isEqual(_)?n=n.add(l):s.done()});i.push(u)}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(i).next(()=>{return this.vn(e,n)})}getAllMutationBatchesAffectingQuery(e,t){const n=t.path;const i=n.length+1;const s=__PRIVATE_newDbDocumentMutationPrefixForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(this.userId,
n);const o=IDBKeyRange.lowerBound(s);let u=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore);return __PRIVATE_documentMutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({range:o},(e,t,s)=>{const [o,l,_]=e;const h=__PRIVATE_decodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(l);o===this.userId&&n.isPrefixOf(h)?h.length===
i&&(u=u.add(_)):s.done()}).next(()=>{return this.vn(e,u)})}vn(e,t){const n=[];const i=[];return t.forEach(t=>{i.push(__PRIVATE_mutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get(t).next(e=>{if(null===e)throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e.userId===this.userId),n.push(__PRIVATE_fromDbMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,
e))}))}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(i).next(()=>{return n})}removeMutationBatch(e,t){return removeMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ae,this.userId,t).next(n=>{return e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(n,t=>{return this.referenceDelegate.markPotentiallyOrphaned(e,t)})})}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>
{if(!t)return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve();const n=IDBKeyRange.lowerBound(function __PRIVATE_newDbDocumentMutationPrefixForUser(e){return[e]}(this.userId));const i=[];return __PRIVATE_documentMutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=__PRIVATE_decodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e[1]);i.push(t)}else n.done()}).next(()=>
{__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(0===i.length)})})}containsKey(e,t){return __PRIVATE_mutationQueueContainsKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this.userId,t)}Mn(e){return __PRIVATE_mutationQueuesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get(this.userId).next(e=>{return e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}})}}
function __PRIVATE_mutationQueueContainsKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=__PRIVATE_newDbDocumentMutationPrefixForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(t,n.path);const s=i[1];const o=IDBKeyRange.lowerBound(i);let u=!1;return __PRIVATE_documentMutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({range:o,J:!0},(e,n,i)=>{const [o,l,_]=e;o===t&&l===s&&(u=!0),i.done()}).next(()=>{return u})}
function __PRIVATE_mutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"mutations")}function __PRIVATE_documentMutationsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"documentMutations")}
function __PRIVATE_mutationQueuesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"mutationQueues")}
class __PRIVATE_TargetIdGenerator$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new __PRIVATE_TargetIdGenerator$$module$third_party$javascript$firebase$dist$firebase_firestore(0)}static Nn(){return new __PRIVATE_TargetIdGenerator$$module$third_party$javascript$firebase$dist$firebase_firestore(-1)}}
class __PRIVATE_IndexedDbTargetCache$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const n=new __PRIVATE_TargetIdGenerator$$module$third_party$javascript$firebase$dist$firebase_firestore(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next(()=>{return t.highestTargetId})})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(e=>{return SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.fromTimestamp(new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e.lastRemoteSnapshotVersion.seconds,
e.lastRemoteSnapshotVersion.nanoseconds))})}getHighestSequenceNumber(e){return this.Bn(e).next(e=>{return e.highestListenSequenceNumber})}setTargetsMetadata(e,t,n){return this.Bn(e).next(i=>{return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Ln(e,i)})}addTargetData(e,t){return this.kn(e,t).next(()=>{return this.Bn(e).next(n=>{return n.targetCount+=1,this.qn(t,n),this.Ln(e,n)})})}updateTargetData(e,
t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>{return __PRIVATE_targetsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).delete(t.targetId)}).next(()=>{return this.Bn(e)}).next(t=>{return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(t.targetCount>0),t.targetCount-=1,this.Ln(e,t)})}removeTargets(e,t,n){let i=0;const s=[];return __PRIVATE_targetsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y((o,
u)=>{const l=__PRIVATE_fromDbTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(u);l.sequenceNumber<=t&&null===n.get(l.targetId)&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(s)}).next(()=>{return i})}forEachTarget(e,t){return __PRIVATE_targetsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y((e,n)=>{const i=__PRIVATE_fromDbTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(n);
t(i)})}Bn(e){return __PRIVATE_globalTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get("targetGlobalKey").next(e=>{return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(null!==e),e})}Ln(e,t){return __PRIVATE_globalTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put("targetGlobalKey",t)}kn(e,t){return __PRIVATE_targetsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put(__PRIVATE_toDbTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,
t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next(e=>{return e.targetCount})}getTargetData(e,t){const n=__PRIVATE_canonifyTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t);const i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return __PRIVATE_targetsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({range:i,
index:"queryTargetsIndex"},(e,n,i)=>{const o=__PRIVATE_fromDbTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(n);__PRIVATE_targetEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(t,o.target)&&(s=o,i.done())}).next(()=>{return s})}addMatchingKeys(e,t,n){const i=[];const s=__PRIVATE_documentTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t.forEach(t=>{const o=__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(t.path);
i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,t))}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(i)}removeMatchingKeys(e,t,n){const i=__PRIVATE_documentTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(t,t=>{const s=__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(t.path);
return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor([i.delete([n,s]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=__PRIVATE_documentTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0);const i=__PRIVATE_documentTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
let s=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();return i.Y({range:n,J:!0},(e,t,n)=>{const i=__PRIVATE_decodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e[1]);const o=new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(i);s=s.add(o)}).next(()=>{return s})}containsKey(e,t){const n=__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(t.path);const i=IDBKeyRange.bound([n],
[__PRIVATE_immediateSuccessor$$module$third_party$javascript$firebase$dist$firebase_firestore(n)],!1,!0);let s=0;return __PRIVATE_documentTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({index:"documentTargetsIndex",J:!0,range:i},([e,t],n,i)=>{0!==e&&(s++,i.done())}).next(()=>{return s>0})}_t(e,t){return __PRIVATE_targetsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get(t).next(e=>{return e?__PRIVATE_fromDbTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e):
null})}}function __PRIVATE_targetsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"targets")}function __PRIVATE_globalTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"targetGlobal")}
function __PRIVATE_documentTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"targetDocuments")}
function __PRIVATE_bufferEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore([e,t],[n,i]){const s=__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n);return 0===s?__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i):s}
class __PRIVATE_RollingSequenceNumberBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.Qn=e,this.buffer=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_bufferEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();__PRIVATE_bufferEntryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}
class __PRIVATE_LruScheduler$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6E4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),
this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){__PRIVATE_isIndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await __PRIVATE_ignoreIfPrimaryLeaseLoss$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}await this.Gn(3E5)})}}
class __PRIVATE_LruGarbageCollectorImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(e=>{return Math.floor(t/100*e)})}nthSequenceNumber(e,t){if(0===t)return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e);const n=new __PRIVATE_RollingSequenceNumberBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore(t);
return this.zn.forEachTarget(e,e=>{return n.Un(e.sequenceNumber)}).next(()=>{return this.zn.Hn(e,e=>{return n.Un(e)})}).next(()=>{return n.maxValue})}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(wt$$module$third_party$javascript$firebase$dist$firebase_firestore)):
this.getCacheSize(e).next(n=>{return n<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wt$$module$third_party$javascript$firebase$dist$firebase_firestore):this.Jn(e,t)})}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n;let i;let s;let o;let u;let _;let h;const d=Date.now();return this.calculateTargetCount(e,
this.params.percentileToCollect).next(t=>{return t>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),i=this.params.maximumSequenceNumbersToCollect):i=t,o=Date.now(),this.nthSequenceNumber(e,i)}).next(i=>{return n=i,u=Date.now(),this.removeTargets(e,n,t)}).next(t=>{return s=t,_=Date.now(),
this.removeOrphanedDocuments(e,n)}).next(e=>{return h=Date.now(),__PRIVATE_getLogLevel$$module$third_party$javascript$firebase$dist$firebase_firestore()<=l$$module$third_party$javascript$firebase$dist$firebase_firestore.DEBUG&&__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-d}ms\n\tDetermined least recently used ${i} in `+(u-o)+"ms\n"+`\tRemoved ${s} targets in `+(_-u)+"ms\n"+`\tRemoved ${e} documents in `+
(h-_)+"ms\n"+`Total Duration: ${h-d}ms`),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:e})})}}function __PRIVATE_newLruGarbageCollector$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return new __PRIVATE_LruGarbageCollectorImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}
class __PRIVATE_IndexedDbLruDelegateImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.db=e,this.garbageCollector=__PRIVATE_newLruGarbageCollector$$module$third_party$javascript$firebase$dist$firebase_firestore(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(e=>{return t.next(t=>{return e+t})})}Yn(e){let t=0;return this.Hn(e,e=>{t++}).next(()=>{return t})}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,
t)}Hn(e,t){return this.Zn(e,(e,n)=>{return t(n)})}addReference(e,t,n){return __PRIVATE_writeSentinelKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n)}removeReference(e,t,n){return __PRIVATE_writeSentinelKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return __PRIVATE_writeSentinelKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t)}Xn(e,t){return function __PRIVATE_mutationQueuesContainKey(e,t){let n=!1;return __PRIVATE_mutationQueuesStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Z(i=>{return __PRIVATE_mutationQueueContainsKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i,t).next(e=>{return e&&(n=!0),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(!e)})}).next(()=>{return n})}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer();
const i=[];let s=0;return this.Zn(e,(o,u)=>{if(u<=t){const t=this.Xn(e,o).next(t=>{if(!t)return s++,n.getEntry(e,o).next(()=>{return n.removeEntry(o,SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()),__PRIVATE_documentTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).delete(function __PRIVATE_sentinelKey$1(e){return[0,__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path)]}(o))})});i.push(t)}}).next(()=>
{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(i)}).next(()=>{return n.apply(e)}).next(()=>{return s})}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return __PRIVATE_writeSentinelKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}Zn(e,t){const n=__PRIVATE_documentTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
let i;let s=__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e;return n.Y({index:"documentTargetsIndex"},([e,n],{path:o,sequenceNumber:u})=>{0===e?(s!==__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e&&t(new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_decodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(i)),s),s=u,i=o):s=__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e}).next(()=>
{s!==__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e&&t(new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_decodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}
function __PRIVATE_writeSentinelKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return __PRIVATE_documentTargetStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put(function __PRIVATE_sentinelRow(e,t){return{targetId:0,path:__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
class RemoteDocumentChangeBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.changes=new ObjectMap$$module$third_party$javascript$firebase$dist$firebase_firestore(e=>{return e.toString()},(e,t)=>{return e.isEqual(t)}),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newInvalidDocument(e).setReadTime(t))}getEntry(e,
t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
class __PRIVATE_IndexedDbRemoteDocumentCacheImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return __PRIVATE_remoteDocumentsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put(n)}removeEntry(e,t,n){return __PRIVATE_remoteDocumentsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).delete(function __PRIVATE_dbReadTimeKey(e,t){const n=e.path.toArray();
return[n.slice(0,n.length-2),n[n.length-2],__PRIVATE_toDbTimestampKey$$module$third_party$javascript$firebase$dist$firebase_firestore(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>{return n.byteSize+=t,this.er(e,n)})}getEntry(e,t){let n=MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newInvalidDocument(t);return __PRIVATE_remoteDocumentsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({index:"documentKeyIndex",
range:IDBKeyRange.only(__PRIVATE_dbKey$$module$third_party$javascript$firebase$dist$firebase_firestore(t))},(e,i)=>{n=this.tr(t,i)}).next(()=>{return n})}nr(e,t){let n={size:0,document:MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newInvalidDocument(t)};return __PRIVATE_remoteDocumentsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(__PRIVATE_dbKey$$module$third_party$javascript$firebase$dist$firebase_firestore(t))},
(e,i)=>{n={document:this.tr(t,i),size:__PRIVATE_dbDocumentSize$$module$third_party$javascript$firebase$dist$firebase_firestore(i)}}).next(()=>{return n})}getEntries(e,t){let n=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();return this.rr(e,t,(e,t)=>{const i=this.tr(e,t);n=n.insert(e,i)}).next(()=>{return n})}ir(e,t){let n=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();let i=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);
return this.rr(e,t,(e,t)=>{const s=this.tr(e,t);n=n.insert(e,s),i=i.insert(e,__PRIVATE_dbDocumentSize$$module$third_party$javascript$firebase$dist$firebase_firestore(t))}).next(()=>{return{documents:n,sr:i}})}rr(e,t,n){if(t.isEmpty())return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve();let i=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_dbKeyComparator$$module$third_party$javascript$firebase$dist$firebase_firestore);
t.forEach(e=>{return i=i.add(e)});const s=IDBKeyRange.bound(__PRIVATE_dbKey$$module$third_party$javascript$firebase$dist$firebase_firestore(i.first()),__PRIVATE_dbKey$$module$third_party$javascript$firebase$dist$firebase_firestore(i.last()));const o=i.getIterator();let u=o.getNext();return __PRIVATE_remoteDocumentsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({index:"documentKeyIndex",range:s},(e,t,i)=>{const s=DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromSegments([...t.prefixPath,
t.collectionGroup,t.documentId]);for(;u&&__PRIVATE_dbKeyComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(u,s)<0;)n(u,null),u=o.getNext();u&&u.isEqual(s)&&(n(u,t),u=o.hasNext()?o.getNext():null),u?i.U(__PRIVATE_dbKey$$module$third_party$javascript$firebase$dist$firebase_firestore(u)):i.done()}).next(()=>{for(;u;)n(u,null),u=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,n,i,s){const o=t.path;const u=[o.popLast().toArray(),o.lastSegment(),__PRIVATE_toDbTimestampKey$$module$third_party$javascript$firebase$dist$firebase_firestore(n.readTime),
n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()];const l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return __PRIVATE_remoteDocumentsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).W(IDBKeyRange.bound(u,l,!0)).next(e=>{null==s||s.incrementDocumentReadCount(e.length);let n=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();for(const s of e){const e=this.tr(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromSegments(s.prefixPath.concat(s.collectionGroup,
s.documentId)),s);e.isFoundDocument()&&(__PRIVATE_queryMatches$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e)||i.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,i){let s=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();const o=__PRIVATE_dbCollectionGroupKey$$module$third_party$javascript$firebase$dist$firebase_firestore(t,n);const u=__PRIVATE_dbCollectionGroupKey$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore.max());return __PRIVATE_remoteDocumentsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(e,t,n)=>{const o=this.tr(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);s=s.insert(o.key,o),s.size===i&&n.done()}).next(()=>{return s})}newChangeBuffer(e){return new __PRIVATE_IndexedDbRemoteDocumentChangeBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore(this,
!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>{return e.byteSize})}getMetadata(e){return __PRIVATE_documentGlobalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get("remoteDocumentGlobalKey").next(e=>{return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(!!e),e})}er(e,t){return __PRIVATE_documentGlobalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=
function __PRIVATE_fromDbRemoteDocument(e,t){let n;if(t.document)n=__PRIVATE_fromDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromSegments(t.noDocument.path);const i=__PRIVATE_fromDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.noDocument.readTime);n=MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newNoDocument(e,
i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return fail$$module$third_party$javascript$firebase$dist$firebase_firestore();{const e=DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromSegments(t.unknownDocument.path);const i=__PRIVATE_fromDbTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.unknownDocument.version);n=MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newUnknownDocument(e,
i)}}return t.readTime&&n.setReadTime(function __PRIVATE_fromDbTimestampKey(e){const t=new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e[0],e[1]);return SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()))return e}return MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newInvalidDocument(e)}}
function __PRIVATE_newIndexedDbRemoteDocumentCache$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new __PRIVATE_IndexedDbRemoteDocumentCacheImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}
class __PRIVATE_IndexedDbRemoteDocumentChangeBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore extends RemoteDocumentChangeBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ObjectMap$$module$third_party$javascript$firebase$dist$firebase_firestore(e=>{return e.toString()},(e,t)=>{return e.isEqual(t)})}applyChanges(e){const t=[];let n=0;let i=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore((e,
t)=>{return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.canonicalString(),t.canonicalString())});return this.changes.forEach((s,o)=>{const u=this.ar.get(s);if(t.push(this._r.removeEntry(e,s,u.readTime)),o.isValidDocument()){const l=__PRIVATE_toDbRemoteDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(this._r.serializer,o);i=i.add(s.path.popLast());const _=__PRIVATE_dbDocumentSize$$module$third_party$javascript$firebase$dist$firebase_firestore(l);
n=n+(_-u.size),t.push(this._r.addEntry(e,s,l))}else if(n=n-u.size,this.trackRemovals){const n=__PRIVATE_toDbRemoteDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(this._r.serializer,o.convertToNoDocument(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()));t.push(this._r.addEntry(e,s,n))}}),i.forEach(n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))}),t.push(this._r.updateMetadata(e,n)),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(t)}getFromCache(e,
t){return this._r.nr(e,t).next(e=>{return this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document})}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:e,sr:t})=>{return t.forEach((t,n)=>{this.ar.set(t,{size:n,readTime:e.get(t).readTime})}),e})}}function __PRIVATE_documentGlobalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"remoteDocumentGlobal")}
function __PRIVATE_remoteDocumentsStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"remoteDocumentsV14")}function __PRIVATE_dbKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}
function __PRIVATE_dbCollectionGroupKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=t.documentKey.path.toArray();return[e,__PRIVATE_toDbTimestampKey$$module$third_party$javascript$firebase$dist$firebase_firestore(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}
function __PRIVATE_dbKeyComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=e.path.toArray();const i=t.path.toArray();let s=0;for(let e=0;e<n.length-2&&e<i.length-2;++e)if(s=__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(n[e],i[e]),s)return s;return s=__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(n.length,i.length),s||(s=__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(n[n.length-
2],i[i.length-2]),s||__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(n[n.length-1],i[i.length-1]))}class OverlayedDocument$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
class LocalDocumentsView$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>{return n=i,this.remoteDocumentCache.getEntry(e,t)}).next(e=>{return null!==n&&__PRIVATE_mutationApplyToLocalView$$module$third_party$javascript$firebase$dist$firebase_firestore(n.mutation,e,FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),
Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore.now()),e})}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>{return this.getLocalViewOfDocuments(e,t,__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore()).next(()=>{return t})})}getLocalViewOfDocuments(e,t,n=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore()){const i=__PRIVATE_newOverlayMap$$module$third_party$javascript$firebase$dist$firebase_firestore();
return this.populateOverlays(e,i,t).next(()=>{return this.computeViews(e,t,i,n).next(e=>{let t=documentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t})})}getOverlayedDocuments(e,t){const n=__PRIVATE_newOverlayMap$$module$third_party$javascript$firebase$dist$firebase_firestore();return this.populateOverlays(e,n,t).next(()=>{return this.computeViews(e,t,n,__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore())})}populateOverlays(e,
t,n){const i=[];return n.forEach(e=>{t.has(e)||i.push(e)}),this.documentOverlayCache.getOverlays(e,i).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,i){let s=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();const o=__PRIVATE_newDocumentKeyMap$$module$third_party$javascript$firebase$dist$firebase_firestore();const u=function __PRIVATE_newOverlayedDocumentMap(){return __PRIVATE_newDocumentKeyMap$$module$third_party$javascript$firebase$dist$firebase_firestore()}();
return t.forEach((e,t)=>{const u=n.get(t.key);i.has(t.key)&&(void 0===u||u.mutation instanceof __PRIVATE_PatchMutation$$module$third_party$javascript$firebase$dist$firebase_firestore)?s=s.insert(t.key,t):void 0!==u?(o.set(t.key,u.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView$$module$third_party$javascript$firebase$dist$firebase_firestore(u.mutation,t,u.mutation.getFieldMask(),Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore.now())):o.set(t.key,FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore.empty())}),
this.recalculateAndSaveOverlays(e,s).next(e=>{return e.forEach((e,t)=>{return o.set(e,t)}),t.forEach((e,t)=>{var n;return u.set(e,new OverlayedDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),u})}recalculateAndSaveOverlays(e,t){const n=__PRIVATE_newDocumentKeyMap$$module$third_party$javascript$firebase$dist$firebase_firestore();let i=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore((e,t)=>{return e-t});
let s=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let u=n.get(e)||FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore.empty();u=s.applyToLocalView(o,u),n.set(e,u);const l=(i.get(s.batchId)||__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore()).add(e);
i=i.insert(s.batchId,l)})}).next(()=>{const o=[];const u=i.getReverseIterator();for(;u.hasNext();){const i=u.getNext();const l=i.key;const _=i.value;const h=__PRIVATE_newMutationMap$$module$third_party$javascript$firebase$dist$firebase_firestore();_.forEach(e=>{if(!s.has(e)){const i=__PRIVATE_calculateOverlayMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(t.get(e),n.get(e));null!==i&&h.set(e,i),s=s.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(o)}).next(()=>
{return n})}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>{return this.recalculateAndSaveOverlays(e,t)})}getDocumentsMatchingQuery(e,t,n,i){return function __PRIVATE_isDocumentQuery$1(e){return DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):__PRIVATE_isCollectionGroupQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(t)?
this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(__PRIVATE_newOverlayMap$$module$third_party$javascript$firebase$dist$firebase_firestore());let u=
-1;let l=s;return o.next(t=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(t,(t,n)=>{return u<n.largestBatchId&&(u=n.largestBatchId),s.get(t)?PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{l=l.insert(t,e)})}).next(()=>{return this.populateOverlays(e,t,s)}).next(()=>{return this.computeViews(e,l,t,__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore())}).next(e=>
{return{batchId:u,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}})})})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(t)).next(e=>{let t=documentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=
t.collectionGroup;let o=documentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();return this.indexManager.getCollectionParents(e,s).next(u=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(u,u=>{const l=function __PRIVATE_asCollectionQueryAtPath(e,t){return new __PRIVATE_QueryImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,
u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>{return o})})}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>{return s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i)}).next(e=>{s.forEach((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newInvalidDocument(i)))});
let n=documentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();return e.forEach((e,i)=>{const o=s.get(e);void 0!==o&&__PRIVATE_mutationApplyToLocalView$$module$third_party$javascript$firebase$dist$firebase_firestore(o.mutation,i,FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore.empty(),Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore.now()),__PRIVATE_queryMatches$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
i)&&(n=n.insert(e,i))}),n})}}
class __PRIVATE_MemoryBundleCache$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function __PRIVATE_fromBundleMetadata(e){return{id:e.id,version:e.version,createTime:__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e.createTime)}}(t)),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}getNamedQuery(e,
t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function __PRIVATE_fromProtoNamedQuery(e){return{name:e.name,query:__PRIVATE_fromBundledQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e.bundledQuery),readTime:__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e.readTime)}}(t)),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}}
class __PRIVATE_MemoryDocumentOverlayCache$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.overlays=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator),this.lr=new Map}getOverlay(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.overlays.get(t))}getOverlays(e,t){const n=__PRIVATE_newOverlayMap$$module$third_party$javascript$firebase$dist$firebase_firestore();
return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(t,t=>{return this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})}).next(()=>{return n})}saveOverlays(e,t,n){return n.forEach((n,i)=>{this.lt(e,t,i)}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.lr.get(n);return void 0!==i&&(i.forEach(e=>{return this.overlays=this.overlays.remove(e)}),this.lr.delete(n)),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}getOverlaysForCollection(e,
t,n){const i=__PRIVATE_newOverlayMap$$module$third_party$javascript$firebase$dist$firebase_firestore();const s=t.length+1;const o=new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(t.child(""));const u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const e=u.getNext().value;const o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===s&&e.largestBatchId>n&&i.set(e.getKey(),e)}return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(i)}getOverlaysForCollectionGroup(e,
t,n,i){let s=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore((e,t)=>{return e-t});const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=__PRIVATE_newOverlayMap$$module$third_party$javascript$firebase$dist$firebase_firestore(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const u=__PRIVATE_newOverlayMap$$module$third_party$javascript$firebase$dist$firebase_firestore();
const l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((e,t)=>{return u.set(e,t)}),!(u.size()>=i)););return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(u)}lt(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.lr.get(i.largestBatchId).delete(n.key);this.lr.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Overlay$$module$third_party$javascript$firebase$dist$firebase_firestore(t,n));let s=this.lr.get(t);void 0===
s&&(s=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore(),this.lr.set(t,s)),this.lr.set(t,s.add(n.key))}}
class __PRIVATE_ReferenceSet$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.hr=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore.Pr),this.Ir=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=
new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach(e=>{return this.addReference(e,t)})}removeReference(e,t){this.dr(new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t))}Ar(e,t){e.forEach(e=>{return this.removeReference(e,t)})}Rr(e){const t=new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(new ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore([]));
const n=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e);const i=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e+1);const s=[];return this.Ir.forEachInRange([n,i],e=>{this.dr(e),s.push(e.key)}),s}Vr(){this.hr.forEach(e=>{return this.dr(e)})}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(new ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore([]));
const n=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e);const i=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e+1);let s=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();return this.Ir.forEachInRange([n,i],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,0);const n=this.hr.firstAfterOrEqual(t);
return null!==n&&e.isEqual(n.key)}}
class __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(e.key,t.key)||__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.gr,t.gr)}static Tr(e,t){return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e.gr,t.gr)||DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(e.key,
t.key)}}
class __PRIVATE_MemoryMutationQueue$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore.Pr)}checkEmpty(e){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,
n,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(s,t,n,i);this.mutationQueue.push(o);for(const t of i)this.yr=this.yr.add(new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(t.key,s)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(o)}lookupMutationBatch(e,
t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1;const i=this.Sr(n);const s=i<0?0:i;return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(0===this.mutationQueue.length?
-1:this.pr-1)}getAllMutationBatches(e){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(t,0);const i=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(t,Number.POSITIVE_INFINITY);const s=[];return this.yr.forEachInRange([n,i],e=>{const t=
this.wr(e.gr);s.push(t)}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore);return t.forEach(e=>{const t=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,0);const i=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,i],e=>{n=n.add(e.gr)})}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path;const i=n.length+1;let s=n;DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.isDocumentKey(s)||(s=s.child(""));const o=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(s),
0);let u=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore);return this.yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(u=u.add(e.gr)),!0)},o),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.br(u))}br(e){const t=[];return e.forEach(e=>{const n=this.wr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,
t){__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(t.mutations,i=>{const s=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=n})}Fn(e){}containsKey(e,
t){const n=new __PRIVATE_DocReference$$module$third_party$javascript$firebase$dist$firebase_firestore(t,0);const i=this.yr.firstAfterOrEqual(n);return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=
this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
class __PRIVATE_MemoryRemoteDocumentCacheImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.Cr=e,this.docs=function __PRIVATE_documentEntryMap(){return new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key;const i=this.docs.get(n);const s=i?i.size:0;const o=this.Cr(t);
return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(n?n.document.mutableCopy():MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newInvalidDocument(t))}getEntries(e,
t){let n=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newInvalidDocument(e))}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();
const o=t.path;const u=new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(o.child(""));const l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const {key:e,value:{document:u}}=l.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||__PRIVATE_indexOffsetComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_newIndexOffsetFromDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(u),n)<=0||(i.has(u.key)||__PRIVATE_queryMatches$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
u))&&(s=s.insert(u.key,u.mutableCopy()))}return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(s)}getAllFromCollectionGroup(e,t,n,i){fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}vr(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(this.docs,e=>{return t(e)})}newChangeBuffer(e){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore(this)}getSize(e){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.size)}}
class __PRIVATE_MemoryRemoteDocumentChangeBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore extends RemoteDocumentChangeBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(n)}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,
t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}
class __PRIVATE_MemoryTargetCache$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.persistence=e,this.Fr=new ObjectMap$$module$third_party$javascript$firebase$dist$firebase_firestore(e=>{return __PRIVATE_canonifyTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e)},__PRIVATE_targetEquals$$module$third_party$javascript$firebase$dist$firebase_firestore),this.lastRemoteSnapshotVersion=SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),this.highestTargetId=
0,this.Mr=0,this.Or=new __PRIVATE_ReferenceSet$$module$third_party$javascript$firebase$dist$firebase_firestore,this.targetCount=0,this.Nr=__PRIVATE_TargetIdGenerator$$module$third_party$javascript$firebase$dist$firebase_firestore.On()}forEachTarget(e,t){return this.Fr.forEach((e,n)=>{return t(n)}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}getLastRemoteSnapshotVersion(e){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=
this.Nr.next(),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new __PRIVATE_TargetIdGenerator$$module$third_party$javascript$firebase$dist$firebase_firestore(t),this.highestTargetId=
t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}updateTargetData(e,t){return this.kn(t),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}removeTargets(e,
t,n){let i=0;const s=[];return this.Fr.forEach((o,u)=>{u.sequenceNumber<=t&&null===n.get(u.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(s).next(()=>{return i})}getTargetCount(e){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(n)}addMatchingKeys(e,
t,n){return this.Or.Er(t,n),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const i=this.persistence.referenceDelegate;const s=[];return i&&t.forEach(t=>{s.push(i.markPotentiallyOrphaned(e,t))}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}getMatchingKeysForTargetId(e,
t){const n=this.Or.mr(t);return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(n)}containsKey(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.Or.containsKey(t))}}
class __PRIVATE_MemoryPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.Br={},this.overlays={},this.Lr=new __PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new __PRIVATE_MemoryTargetCache$$module$third_party$javascript$firebase$dist$firebase_firestore(this),this.indexManager=new __PRIVATE_MemoryIndexManager$$module$third_party$javascript$firebase$dist$firebase_firestore,
this.remoteDocumentCache=function __PRIVATE_newMemoryRemoteDocumentCache(e){return new __PRIVATE_MemoryRemoteDocumentCacheImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}(e=>{return this.referenceDelegate.Qr(e)}),this.serializer=new __PRIVATE_LocalSerializer$$module$third_party$javascript$firebase$dist$firebase_firestore(t),this.Kr=new __PRIVATE_MemoryBundleCache$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=
!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new __PRIVATE_MemoryDocumentOverlayCache$$module$third_party$javascript$firebase$dist$firebase_firestore,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new __PRIVATE_MemoryMutationQueue$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("MemoryPersistence","Starting transaction:",e);const i=new __PRIVATE_MemoryTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore(this.Lr.next());return this.referenceDelegate.$r(),n(i).next(e=>{return this.referenceDelegate.Ur(i).next(()=>
{return e})}).toPromise().then(e=>{return i.raiseOnCommittedEvent(),e})}Wr(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.or(Object.values(this.Br).map(n=>{return()=>{return n.containsKey(e,t)}}))}}class __PRIVATE_MemoryTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore extends PersistenceTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){super(),this.currentSequenceNumber=e}}
class __PRIVATE_MemoryEagerDelegate$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.persistence=e,this.Gr=new __PRIVATE_ReferenceSet$$module$third_party$javascript$firebase$dist$firebase_firestore,this.zr=null}static jr(e){return new __PRIVATE_MemoryEagerDelegate$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}get Hr(){if(this.zr)return this.zr;throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();}addReference(e,t,n){return this.Gr.addReference(n,
t),this.Hr.delete(n.toString()),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(e=>
{return this.Hr.add(e.toString())});const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>{return this.Hr.add(e.toString())})}).next(()=>{return n.removeTargetData(e,t)})}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(this.Hr,n=>{const i=DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromPath(n);
return this.Jr(e,i).next(e=>{e||t.removeEntry(i,SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min())})}).next(()=>{return this.zr=null,t.apply(e)})}updateLimboDocument(e,t){return this.Jr(e,t).next(e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.or([()=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.Gr.containsKey(t))},
()=>{return this.persistence.getTargetCache().containsKey(e,t)},()=>{return this.persistence.Wr(e,t)}])}}
class __PRIVATE_MemoryLruDelegate$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.persistence=e,this.Yr=new ObjectMap$$module$third_party$javascript$firebase$dist$firebase_firestore(e=>{return __PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path)},(e,t)=>{return e.isEqual(t)}),this.garbageCollector=__PRIVATE_newLruGarbageCollector$$module$third_party$javascript$firebase$dist$firebase_firestore(this,t)}static jr(e,
t){return new __PRIVATE_MemoryLruDelegate$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}$r(){}Ur(e){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}jn(e){const t=this.Yn(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>{return t.next(t=>{return e+t})})}Yn(e){let t=0;return this.Hn(e,e=>{t++}).next(()=>{return t})}Hn(e,t){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(this.Yr,
(n,i)=>{return this.Xn(e,n,i).next(e=>{return e?PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve():t(i)})})}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache();const s=i.newChangeBuffer();return i.vr(e,i=>{return this.Xn(e,i,t).next(e=>{e||(n++,s.removeEntry(i,SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()))})}).next(()=>
{return s.apply(e)}).next(()=>{return n})}markPotentiallyOrphaned(e,t){return this.Yr.set(t,e.currentSequenceNumber),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Yr.set(n,e.currentSequenceNumber),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}removeReference(e,
t,n){return this.Yr.set(n,e.currentSequenceNumber),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}updateLimboDocument(e,t){return this.Yr.set(t,e.currentSequenceNumber),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()}Qr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t=t+__PRIVATE_estimateByteSize$$module$third_party$javascript$firebase$dist$firebase_firestore(e.data.value)),t}Xn(e,t,n){return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.or([()=>
{return this.persistence.Wr(e,t)},()=>{return this.persistence.getTargetCache().containsKey(e,t)},()=>{const e=this.Yr.get(t);return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
class __PRIVATE_SchemaConverter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.serializer=e}N(e,t,n,i){const s=new __PRIVATE_SimpleDbTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore("createOrUpgrade",t);n<1&&i>=1&&(function __PRIVATE_createPrimaryClientStore(e){e.createObjectStore("owner")}(e),function __PRIVATE_createMutationQueue(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",
autoIncrement:!0}).createIndex("userMutationsIndex",ze$$module$third_party$javascript$firebase$dist$firebase_firestore,{unique:!0}),e.createObjectStore("documentMutations")}(e),__PRIVATE_createQueryCache$$module$third_party$javascript$firebase$dist$firebase_firestore(e),function __PRIVATE_createLegacyRemoteDocumentCache(e){e.createObjectStore("remoteDocuments")}(e));let o=PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve();return n<3&&i>=3&&(0!==n&&(function __PRIVATE_dropQueryCache(e){e.deleteObjectStore("targetDocuments"),
e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),__PRIVATE_createQueryCache$$module$third_party$javascript$firebase$dist$firebase_firestore(e)),o=o.next(()=>{return function __PRIVATE_writeEmptyTargetGlobalEntry(e){const t=e.store("targetGlobal");const n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(s)})),
n<4&&i>=4&&(0!==n&&(o=o.next(()=>{return function __PRIVATE_upgradeMutationBatchSchemaAndMigrateData(e,t){return t.store("mutations").W().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ze$$module$third_party$javascript$firebase$dist$firebase_firestore,{unique:!0});const i=t.store("mutations");const s=n.map(e=>{return i.put(e)});return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(s)})}(e,
s)})),o=o.next(()=>{!function __PRIVATE_createClientMetadataStore(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&i>=5&&(o=o.next(()=>{return this.Zr(s)})),n<6&&i>=6&&(o=o.next(()=>{return function __PRIVATE_createDocumentGlobalStore(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)})),n<7&&i>=7&&(o=o.next(()=>{return this.ei(s)})),n<8&&i>=8&&(o=o.next(()=>{return this.ti(e,s)})),n<9&&i>=9&&(o=o.next(()=>{!function __PRIVATE_dropRemoteDocumentChangesStore(e){e.objectStoreNames.contains("remoteDocumentChanges")&&
e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&i>=10&&(o=o.next(()=>{return this.ni(s)})),n<11&&i>=11&&(o=o.next(()=>{!function __PRIVATE_createBundlesStore(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function __PRIVATE_createNamedQueriesStore(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(o=o.next(()=>{!function __PRIVATE_createDocumentOverlayStore(e){const t=e.createObjectStore("documentOverlays",{keyPath:st$$module$third_party$javascript$firebase$dist$firebase_firestore});
t.createIndex("collectionPathOverlayIndex",ot$$module$third_party$javascript$firebase$dist$firebase_firestore,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",at$$module$third_party$javascript$firebase$dist$firebase_firestore,{unique:!1})}(e)})),n<13&&i>=13&&(o=o.next(()=>{return function __PRIVATE_createRemoteDocumentCache(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:je$$module$third_party$javascript$firebase$dist$firebase_firestore});t.createIndex("documentKeyIndex",He$$module$third_party$javascript$firebase$dist$firebase_firestore),
t.createIndex("collectionGroupIndex",Ye$$module$third_party$javascript$firebase$dist$firebase_firestore)}(e)}).next(()=>{return this.ri(e,s)}).next(()=>{return e.deleteObjectStore("remoteDocuments")})),n<14&&i>=14&&(o=o.next(()=>{return this.ii(e,s)})),n<15&&i>=15&&(o=o.next(()=>{return function __PRIVATE_createFieldIndex(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",
{keyPath:tt$$module$third_party$javascript$firebase$dist$firebase_firestore}).createIndex("sequenceNumberIndex",nt$$module$third_party$javascript$firebase$dist$firebase_firestore,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:rt$$module$third_party$javascript$firebase$dist$firebase_firestore}).createIndex("documentKeyIndex",it$$module$third_party$javascript$firebase$dist$firebase_firestore,{unique:!1})}(e)})),o}Xr(e){let t=0;return e.store("remoteDocuments").Y((e,n)=>{t=t+__PRIVATE_dbDocumentSize$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}).next(()=>
{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Zr(e){const t=e.store("mutationQueues");const n=e.store("mutations");return t.W().next(t=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(t,t=>{const i=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",i).next(n=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(n,
n=>{__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(n.userId===t.userId);const i=__PRIVATE_fromDbMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,n);return removeMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.userId,i).next(()=>{})})})})})}ei(e){const t=e.store("targetDocuments");const n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const i=
[];return n.Y((n,s)=>{const o=new ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(n);const u=function __PRIVATE_sentinelKey(e){return[0,__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e)]}(o);i.push(t.get(u).next(n=>{return n?PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve():(n=>{return t.put({targetId:0,path:__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(n),
sequenceNumber:e.highestListenSequenceNumber})})(o)}))}).next(()=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(i)})})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:et$$module$third_party$javascript$firebase$dist$firebase_firestore});const n=t.store("collectionParents");const i=new __PRIVATE_MemoryCollectionParentIndex$$module$third_party$javascript$firebase$dist$firebase_firestore;const addEntry=e=>{if(i.add(e)){const t=e.lastSegment();
const i=e.popLast();return n.put({collectionId:t,parent:__PRIVATE_encodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(i)})}};return t.store("remoteDocuments").Y({J:!0},(e,t)=>{const n=new ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return addEntry(n.popLast())}).next(()=>{return t.store("documentMutations").Y({J:!0},([e,t,n],i)=>{const s=__PRIVATE_decodeResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore(t);
return addEntry(s.popLast())})})}ni(e){const t=e.store("targets");return t.Y((e,n)=>{const i=__PRIVATE_fromDbTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(n);const s=__PRIVATE_toDbTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,i);return t.put(s)})}ri(e,t){const n=t.store("remoteDocuments");const i=[];return n.Y((e,n)=>{const s=t.store("remoteDocumentsV14");const o=function __PRIVATE_extractKey(e){return e.document?new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(e.document.name).popFirst(5)):
e.noDocument?DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromSegments(e.noDocument.path):e.unknownDocument?DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromSegments(e.unknownDocument.path):fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}(n).path.toArray();const u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,
document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(s.put(u))}).next(()=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(i)})}ii(e,t){const n=t.store("mutations");const i=__PRIVATE_newIndexedDbRemoteDocumentCache$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer);const s=new __PRIVATE_MemoryPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_MemoryEagerDelegate$$module$third_party$javascript$firebase$dist$firebase_firestore.jr,
this.serializer.ut);return n.W().next(e=>{const n=new Map;return e.forEach(e=>{var t;let i=null!==(t=n.get(e.userId))&&void 0!==t?t:__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();__PRIVATE_fromDbMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,e).keys().forEach(e=>{return i=i.add(e)}),n.set(e.userId,i)}),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(n,(e,n)=>{const o=
new User$$module$third_party$javascript$firebase$dist$firebase_firestore(n);const u=__PRIVATE_IndexedDbDocumentOverlayCache$$module$third_party$javascript$firebase$dist$firebase_firestore.ct(this.serializer,o);const l=s.getIndexManager(o);const _=__PRIVATE_IndexedDbMutationQueue$$module$third_party$javascript$firebase$dist$firebase_firestore.ct(o,this.serializer,l,s.referenceDelegate);return(new LocalDocumentsView$$module$third_party$javascript$firebase$dist$firebase_firestore(i,_,u,l)).recalculateAndSaveOverlaysForDocumentKeys(new __PRIVATE_IndexedDbTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e),e).next()})})}}
function __PRIVATE_createQueryCache$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.createObjectStore("targetDocuments",{keyPath:Xe$$module$third_party$javascript$firebase$dist$firebase_firestore}).createIndex("documentTargetsIndex",Ze$$module$third_party$javascript$firebase$dist$firebase_firestore,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Je$$module$third_party$javascript$firebase$dist$firebase_firestore,{unique:!0}),e.createObjectStore("targetGlobal")}
const Dt$$module$third_party$javascript$firebase$dist$firebase_firestore="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";
class __PRIVATE_IndexedDbPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s,o,u,l,_,h,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=s,this.window=o,this.document=u,this.oi=_,this._i=h,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>{return Promise.resolve()},!__PRIVATE_IndexedDbPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore.D())throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNIMPLEMENTED,
"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new __PRIVATE_IndexedDbLruDelegateImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(this,i),this.Ii=t+"main",this.serializer=new __PRIVATE_LocalSerializer$$module$third_party$javascript$firebase$dist$firebase_firestore(l),this.Ti=new __PRIVATE_SimpleDb$$module$third_party$javascript$firebase$dist$firebase_firestore(this.Ii,
this.ai,new __PRIVATE_SchemaConverter$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer)),this.qr=new __PRIVATE_IndexedDbTargetCache$$module$third_party$javascript$firebase$dist$firebase_firestore(this.referenceDelegate,this.serializer),this.remoteDocumentCache=__PRIVATE_newIndexedDbRemoteDocumentCache$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer),this.Kr=new __PRIVATE_IndexedDbBundleCache$$module$third_party$javascript$firebase$dist$firebase_firestore,
this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,
Dt$$module$third_party$javascript$firebase$dist$firebase_firestore);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>{return this.qr.getHighestSequenceNumber(e)})}).then(e=>{this.Lr=new __PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>{return this.Ti&&this.Ti.close(),Promise.reject(e)})}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async t=>
{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>{return __PRIVATE_clientMetadataStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(e=>
{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>{return this.Pi(!1)}))})}).next(()=>{return this.gi(e)}).next(t=>{return this.isPrimary&&!t?this.pi(e).next(()=>{return!1}):!!t&&this.yi(e).next(()=>{return!0})})}).catch(e=>{if(__PRIVATE_isIndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e))return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;
return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>{return this.Pi(e)}),this.isPrimary=e})}fi(e){return __PRIVATE_primaryClientStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get("owner").next(e=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(this.wi(e))})}Si(e){return __PRIVATE_clientMetadataStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).delete(this.clientId)}async bi(){if(this.isPrimary&&
!this.Di(this.hi,18E5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=__PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"clientMetadata");return t.W().next(e=>{const n=this.Ci(e,18E5);const i=e.filter(e=>{return-1===n.indexOf(e)});return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(i,e=>{return t.delete(e.clientId)}).next(()=>{return i})})}).catch(()=>
{return[]});if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4E3,()=>{return this.di().then(()=>{return this.bi()}).then(()=>{return this.Vi()})})}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(!0):__PRIVATE_primaryClientStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get("owner").next(t=>
{if(null!==t&&this.Di(t.leaseTimestampMs,5E3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,Dt$$module$third_party$javascript$firebase$dist$firebase_firestore);return!1}}return!(!this.networkEnabled||!this.inForeground)||__PRIVATE_clientMetadataStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).W().next(e=>
{return void 0===this.Ci(e,5E3).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled;const n=!this.inForeground&&e.inForeground;const i=this.networkEnabled===e.networkEnabled;if(t||n&&i)return!0}return!1})})}).next(e=>{return this.isPrimary!==e&&__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e})}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),
this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const t=new __PRIVATE_IndexedDbTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore(e,__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e);return this.pi(t).next(()=>{return this.Si(t)})}),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter(e=>{return this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)})}Bi(){return this.runTransaction("getActiveClients",
"readonly",e=>{return __PRIVATE_clientMetadataStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).W().next(e=>{return this.Ci(e,18E5).map(e=>{return e.clientId})})})}get started(){return this.kr}getMutationQueue(e,t){return __PRIVATE_IndexedDbMutationQueue$$module$third_party$javascript$firebase$dist$firebase_firestore.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new __PRIVATE_IndexedDbIndexManager$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return __PRIVATE_IndexedDbDocumentOverlayCache$$module$third_party$javascript$firebase$dist$firebase_firestore.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite";const s=function __PRIVATE_getObjectStores(e){return 15===e?ht$$module$third_party$javascript$firebase$dist$firebase_firestore:
14===e?_t$$module$third_party$javascript$firebase$dist$firebase_firestore:13===e?lt$$module$third_party$javascript$firebase$dist$firebase_firestore:12===e?ut$$module$third_party$javascript$firebase$dist$firebase_firestore:11===e?ct$$module$third_party$javascript$firebase$dist$firebase_firestore:void fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}(this.ai);let o;return this.Ti.runTransaction(e,i,s,i=>{return o=new __PRIVATE_IndexedDbTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore(i,
this.Lr?this.Lr.next():__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e),"readwrite-primary"===t?this.fi(o).next(e=>{return!!e||this.gi(o)}).next(t=>{if(!t)throw __PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>{return this.Pi(!1)}),new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,
Qe$$module$third_party$javascript$firebase$dist$firebase_firestore);return n(o)}).next(e=>{return this.yi(o).next(()=>{return e})}):this.Li(o).next(()=>{return n(o)})}).then(e=>{return o.raiseOnCommittedEvent(),e})}Li(e){return __PRIVATE_primaryClientStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).get("owner").next(e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5E3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,
Dt$$module$third_party$javascript$firebase$dist$firebase_firestore);})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return __PRIVATE_primaryClientStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e).put("owner",t)}static D(){return __PRIVATE_SimpleDb$$module$third_party$javascript$firebase$dist$firebase_firestore.D()}pi(e){const t=__PRIVATE_primaryClientStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
return t.get("owner").next(e=>{return this.wi(e)?(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()})}Di(e,t){const n=Date.now();return!(e<n-t||e>n&&(__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ai(){null!==
this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>{return this.inForeground="visible"===this.document.visibilityState,this.di()})},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=
()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;isSafari$$module$third_party$javascript$firebase$dist$firebase_firestore()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>{return this.shutdown()})},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));
return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return __PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("Failed to set zombie client id.",
e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function __PRIVATE_primaryClientStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"owner")}
function __PRIVATE_clientMetadataStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_getStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"clientMetadata")}function __PRIVATE_indexedDbStoragePrefix$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){let n=e.projectId;return e.isDefaultDatabase||(n=n+("."+e.database)),"firestore/"+t+"/"+n+"/"}
class __PRIVATE_LocalViewChanges$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=i}static Qi(e,t){let n=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();let i=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new __PRIVATE_LocalViewChanges$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t.fromCache,n,i)}}class QueryContext$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
class __PRIVATE_QueryEngine$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.zi(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ji(e,t,i,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new QueryContext$$module$third_party$javascript$firebase$dist$firebase_firestore;return this.Hi(e,
t,n).next(i=>{if(s.result=i,this.$i)return this.Ji(e,t,n,i.size)})}).next(()=>{return s.result})}Ji(e,t,n,i){return n.documentReadCount<this.Ui?(__PRIVATE_getLogLevel$$module$third_party$javascript$firebase$dist$firebase_firestore()<=l$$module$third_party$javascript$firebase$dist$firebase_firestore.DEBUG&&__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(t),
"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve()):(__PRIVATE_getLogLevel$$module$third_party$javascript$firebase$dist$firebase_firestore()<=l$$module$third_party$javascript$firebase$dist$firebase_firestore.DEBUG&&__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("QueryEngine","Query:",__PRIVATE_stringifyQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(t),
"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Wi*i?(__PRIVATE_getLogLevel$$module$third_party$javascript$firebase$dist$firebase_firestore()<=l$$module$third_party$javascript$firebase$dist$firebase_firestore.DEBUG&&__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(t),
"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t))):PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve())}zi(e,t){if(__PRIVATE_queryMatchesAllDocuments$$module$third_party$javascript$firebase$dist$firebase_firestore(t))return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(null);let n=
__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t);return this.indexManager.getIndexType(e,n).next(i=>{return 0===i?null:(null!==t.limit&&1===i&&(t=__PRIVATE_queryWithLimit$$module$third_party$javascript$firebase$dist$firebase_firestore(t,null,"F"),n=__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const s=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore(...i);
return this.Gi.getDocuments(e,s).next(i=>{return this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Yi(t,i);return this.Zi(t,o,s,n.readTime)?this.zi(e,__PRIVATE_queryWithLimit$$module$third_party$javascript$firebase$dist$firebase_firestore(t,null,"F")):this.Xi(e,o,t,n)})})}))})}ji(e,t,n,i){return __PRIVATE_queryMatchesAllDocuments$$module$third_party$javascript$firebase$dist$firebase_firestore(t)||i.isEqual(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min())?
PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(null):this.Gi.getDocuments(e,n).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,n,i)?PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(null):(__PRIVATE_getLogLevel$$module$third_party$javascript$firebase$dist$firebase_firestore()<=l$$module$third_party$javascript$firebase$dist$firebase_firestore.DEBUG&&__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("QueryEngine",
"Re-using previous result from %s to execute query: %s",i.toString(),__PRIVATE_stringifyQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(t)),this.Xi(e,o,t,__PRIVATE_newIndexOffsetSuccessorFromReadTime$$module$third_party$javascript$firebase$dist$firebase_firestore(i,-1)).next(e=>{return e}))})}Yi(e,t){let n=new SortedSet$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_newQueryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e));
return t.forEach((t,i)=>{__PRIVATE_queryMatches$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i)&&(n=n.add(i))}),n}Zi(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,n){return __PRIVATE_getLogLevel$$module$third_party$javascript$firebase$dist$firebase_firestore()<=l$$module$third_party$javascript$firebase$dist$firebase_firestore.DEBUG&&__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("QueryEngine",
"Using full collection scan to execute query:",__PRIVATE_stringifyQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(t)),this.Gi.getDocumentsMatchingQuery(e,t,IndexOffset$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),n)}Xi(e,t,n,i){return this.Gi.getDocumentsMatchingQuery(e,n,i).next(e=>{return t.forEach(t=>{e=e.insert(t.key,t)}),e})}}
class __PRIVATE_LocalStoreImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore),this.ns=new ObjectMap$$module$third_party$javascript$firebase$dist$firebase_firestore(e=>{return __PRIVATE_canonifyTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e)},
__PRIVATE_targetEquals$$module$third_party$javascript$firebase$dist$firebase_firestore),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LocalDocumentsView$$module$third_party$javascript$firebase$dist$firebase_firestore(this.ss,
this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>{return e.collect(t,this.ts)})}}
function __PRIVATE_newLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){return new __PRIVATE_LocalStoreImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i)}
async function __PRIVATE_localStoreHandleUserChange$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next(s=>{return i=s,n.os(t),n.mutationQueue.getAllMutationBatches(e)}).next(t=>{const s=[];const o=[];let u=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();
for(const e of i){s.push(e.batchId);for(const t of e.mutations)u=u.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)u=u.add(t.key)}return n.localDocuments.getDocuments(e,u).next(e=>{return{_s:e,removedBatchIds:s,addedBatchIds:o}})})})}
function __PRIVATE_localStoreGetLastRemoteSnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>{return t.qr.getLastRemoteSnapshotVersion(e)})}
function __PRIVATE_populateDocumentChangeBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){let i=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();let s=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();return n.forEach(e=>{return i=i.add(e)}),t.getEntries(e,i).next(e=>{let i=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();return n.forEach((n,
o)=>{const u=e.get(n);o.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(n)),o.isNoDocument()&&o.version.isEqual(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min())?(t.removeEntry(n,o.readTime),i=i.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o),i=i.insert(n,o)):__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("LocalStore","Ignoring outdated watch update for ",
n,". Current version:",u.version," Watch version:",o.version)}),{us:i,cs:s}})}function __PRIVATE_localStoreGetNextMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>{return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)})}
function __PRIVATE_localStoreAllocateTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let i;return n.qr.getTargetData(e,t).next(s=>{return s?(i=s,PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(i)):n.qr.allocateTargetId(e).next(s=>{return i=new TargetData$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
s,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,i).next(()=>{return i})})})}).then(e=>{const i=n.ts.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e})}
async function __PRIVATE_localStoreReleaseTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const s=i.ts.get(t);const o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,e=>{return i.persistence.referenceDelegate.removeTarget(e,s)})}catch(e){if(!__PRIVATE_isIndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e))throw e;
__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}i.ts=i.ts.remove(t),i.ns.delete(s.target)}
function __PRIVATE_localStoreExecuteQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);let s=SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min();let o=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();return i.persistence.runTransaction("Execute query","readwrite",e=>{return function __PRIVATE_localStoreGetTargetData(e,
t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const s=i.ns.get(n);return void 0!==s?PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(i.ts.get(s)):i.qr.getTargetData(t,n)}(i,e,__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>{return i.es.getDocumentsMatchingQuery(e,
t,n?s:SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),n?o:__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore())}).next(e=>{return __PRIVATE_setMaxReadTime$$module$third_party$javascript$firebase$dist$firebase_firestore(i,__PRIVATE_queryCollectionGroup$$module$third_party$javascript$firebase$dist$firebase_firestore(t),e),{documents:e,ls:o}})})}
function __PRIVATE_localStoreGetCachedTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(n.qr);const s=n.ts.get(t);return s?Promise.resolve(s.target):n.persistence.runTransaction("Get target data","readonly",e=>{return i._t(e,t).next(e=>{return e?e.target:null})})}
function __PRIVATE_localStoreGetNewDocumentChanges$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=n.rs.get(t)||SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>{return n.ss.getAllFromCollectionGroup(e,t,__PRIVATE_newIndexOffsetSuccessorFromReadTime$$module$third_party$javascript$firebase$dist$firebase_firestore(i,
-1),Number.MAX_SAFE_INTEGER)}).then(e=>{return __PRIVATE_setMaxReadTime$$module$third_party$javascript$firebase$dist$firebase_firestore(n,t,e),e})}function __PRIVATE_setMaxReadTime$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){let i=e.rs.get(t)||SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min();n.forEach((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)}),e.rs.set(t,i)}
async function __PRIVATE_localStoreSaveNamedQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore()){const i=await __PRIVATE_localStoreAllocateTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_fromBundledQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(t.bundledQuery)));
const s=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return s.persistence.runTransaction("Save named query","readwrite",e=>{const o=__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return s.Kr.saveNamedQuery(e,t);const u=i.withResumeToken(ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY_BYTE_STRING,o);return s.ts=s.ts.insert(u.targetId,u),
s.qr.updateTargetData(e,u).next(()=>{return s.qr.removeMatchingKeysForTargetId(e,i.targetId)}).next(()=>{return s.qr.addMatchingKeys(e,n,i.targetId)}).next(()=>{return s.Kr.saveNamedQuery(e,t)})})}function createWebStorageClientStateKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return`firestore_clients_${e}_${t}`}
function createWebStorageMutationBatchKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){let i=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(i=i+`_${t.uid}`),i}function createWebStorageQueryTargetMetadataKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return`firestore_targets_${e}_${t}`}
class __PRIVATE_MutationMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static Ts(e,t,n){const i=JSON.parse(n);let s;let o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(i.error.code,
i.error.message))),o?new __PRIVATE_MutationMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,i.state,s):(__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}
class __PRIVATE_QueryTargetMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let i;let s="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code,s&&(i=new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(n.error.code,
n.error.message))),s?new __PRIVATE_QueryTargetMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n.state,i):(__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}
class __PRIVATE_RemoteClientState$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let i="object"==typeof n&&n.activeTargetIds instanceof Array;let s=__PRIVATE_targetIdSet$$module$third_party$javascript$firebase$dist$firebase_firestore();for(let e=0;i&&e<n.activeTargetIds.length;++e)i=isSafeInteger$$module$third_party$javascript$firebase$dist$firebase_firestore(n.activeTargetIds[e]),s=s.add(n.activeTargetIds[e]);
return i?new __PRIVATE_RemoteClientState$$module$third_party$javascript$firebase$dist$firebase_firestore(e,s):(__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}
class __PRIVATE_SharedOnlineState$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new __PRIVATE_SharedOnlineState$$module$third_party$javascript$firebase$dist$firebase_firestore(t.clientId,t.onlineState):(__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("SharedClientState",
`Failed to parse online state: ${e}`),null)}}class __PRIVATE_LocalClientState$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet$$module$third_party$javascript$firebase$dist$firebase_firestore()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}
class __PRIVATE_WebStorageSharedClientState$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore),this.started=!1,this.ps=
[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=createWebStorageClientStateKey$$module$third_party$javascript$firebase$dist$firebase_firestore(this.persistenceKey,this.Rs),this.ws=function createWebStorageSequenceNumberKey(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new __PRIVATE_LocalClientState$$module$third_party$javascript$firebase$dist$firebase_firestore),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),
this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function createWebStorageOnlineStateKey(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.vs=function createBundleLoadedKey(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const t of e){if(t===this.Rs)continue;
const e=this.getItem(createWebStorageClientStateKey$$module$third_party$javascript$firebase$dist$firebase_firestore(this.persistenceKey,t));if(e){const n=__PRIVATE_RemoteClientState$$module$third_party$javascript$firebase$dist$firebase_firestore.Ts(t,e);n&&(this.gs=this.gs.insert(n.clientId,n))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const e of this.ps)this.fs(e);this.ps=[],this.window.addEventListener("pagehide",()=>{return this.shutdown()}),this.started=
!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(createWebStorageQueryTargetMetadataKey$$module$third_party$javascript$firebase$dist$firebase_firestore(this.persistenceKey,
e));if(n){const i=__PRIVATE_QueryTargetMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore.Ts(e,n);i&&(t=i.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(createWebStorageQueryTargetMetadataKey$$module$third_party$javascript$firebase$dist$firebase_firestore(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,
n){t.forEach(e=>{this.Bs(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SharedClientState","READ",e,t),t}setItem(e,t){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SharedClientState",
"SET",e,t),this.storage.setItem(e,t)}removeItem(e){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void __PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("Received WebStorage notification for local change. Another client might have garbage-collected our state");
this.si.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=
this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function __PRIVATE_fromWebStorageSequenceNumber(e){let t=__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e;if(null!=e)try{const n=JSON.parse(e);__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore("number"==typeof n),t=n}catch(e){__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("SharedClientState","Failed to read sequence number from WebStorage",
e)}return t}(t.newValue);e!==__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map(e=>{return this.syncEngine.Js(e)}))}}else this.ps.push(t)})}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const i=new __PRIVATE_MutationMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore(this.currentUser,e,t,
n);const s=createWebStorageMutationBatchKey$$module$third_party$javascript$firebase$dist$firebase_firestore(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const t=createWebStorageMutationBatchKey$$module$third_party$javascript$firebase$dist$firebase_firestore(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const i=createWebStorageQueryTargetMetadataKey$$module$third_party$javascript$firebase$dist$firebase_firestore(this.persistenceKey,
e);const s=new __PRIVATE_QueryTargetMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n);this.setItem(i,s.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return __PRIVATE_RemoteClientState$$module$third_party$javascript$firebase$dist$firebase_firestore.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e);const i=Number(n[1]);const s=void 0!==n[2]?n[2]:null;return __PRIVATE_MutationMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore.Ts(new User$$module$third_party$javascript$firebase$dist$firebase_firestore(s),
i,t)}zs(e,t){const n=this.Ds.exec(e);const i=Number(n[1]);return __PRIVATE_QueryTargetMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore.Ts(i,t)}Ms(e){return __PRIVATE_SharedOnlineState$$module$third_party$javascript$firebase$dist$firebase_firestore.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SharedClientState",
`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e);const i=this.Os(this.gs);const s=this.Os(n);const o=[];const u=[];return s.forEach(e=>{i.has(e)||o.push(e)}),i.forEach(e=>{s.has(e)||u.push(e)}),this.syncEngine.Xs(o,u).then(()=>{this.gs=n})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=__PRIVATE_targetIdSet$$module$third_party$javascript$firebase$dist$firebase_firestore();
return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}
class __PRIVATE_MemorySharedClientState$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.eo=new __PRIVATE_LocalClientState$$module$third_party$javascript$firebase$dist$firebase_firestore,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=
new __PRIVATE_LocalClientState$$module$third_party$javascript$firebase$dist$firebase_firestore,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class __PRIVATE_NoopConnectivityMonitor$$module$third_party$javascript$firebase$dist$firebase_firestore{ro(e){}shutdown(){}}
class __PRIVATE_BrowserConnectivityMonitor$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.io=()=>{return this.so()},this.oo=()=>{return this._o()},this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("ConnectivityMonitor",
"Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ct$$module$third_party$javascript$firebase$dist$firebase_firestore=null;
function __PRIVATE_generateUniqueDebugId$$module$third_party$javascript$firebase$dist$firebase_firestore(){return null===Ct$$module$third_party$javascript$firebase$dist$firebase_firestore?Ct$$module$third_party$javascript$firebase$dist$firebase_firestore=function __PRIVATE_generateInitialUniqueDebugId(){return 268435456+Math.round(2147483648*Math.random())}():Ct$$module$third_party$javascript$firebase$dist$firebase_firestore++,"0x"+Ct$$module$third_party$javascript$firebase$dist$firebase_firestore.toString(16)}
const Ft$$module$third_party$javascript$firebase$dist$firebase_firestore={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_StreamBridge$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}
const xt$$module$third_party$javascript$firebase$dist$firebase_firestore="WebChannelConnection";
class __PRIVATE_WebChannelConnection$$module$third_party$javascript$firebase$dist$firebase_firestore extends class __PRIVATE_RestConnection{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";const n=encodeURIComponent(this.databaseId.projectId);const i=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo=`projects/${n}/databases/${i}`,this.po="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${i}`}get yo(){return!1}wo(e,
t,n,i,s){const o=__PRIVATE_generateUniqueDebugId$$module$third_party$javascript$firebase$dist$firebase_firestore();const u=this.So(e,t);__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("RestConnection",`Sending RPC '${e}' ${o}:`,u,n);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,i,s),this.Do(e,u,l,n).then(t=>{return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("RestConnection",
`Received RPC '${e}' ${o}: `,t),t},t=>{throw __PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",u,"request:",n),t;})}Co(e,t,n,i,s,o){return this.wo(e,t,n,i,s)}bo(e,t,n){e["X-Goog-Api-Client"]=function __PRIVATE_getGoogApiClientValue(){return"gl-js/ fire/"+qe$$module$third_party$javascript$firebase$dist$firebase_firestore}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=
this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>{return e[n]=t}),n&&n.headers.forEach((t,n)=>{return e[n]=t})}So(e,t){const n=Ft$$module$third_party$javascript$firebase$dist$firebase_firestore[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,i){const s=__PRIVATE_generateUniqueDebugId$$module$third_party$javascript$firebase$dist$firebase_firestore();
return new Promise((o,u)=>{const l=new ke$$module$third_party$javascript$firebase$dist$firebase_firestore;l.setWithCredentials(!0),l.listenOnce(De$$module$third_party$javascript$firebase$dist$firebase_firestore.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case we$$module$third_party$javascript$firebase$dist$firebase_firestore.NO_ERROR:const t=l.getResponseJson();__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,
`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),o(t);break;case we$$module$third_party$javascript$firebase$dist$firebase_firestore.TIMEOUT:__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`RPC '${e}' ${s} timed out`),u(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.DEADLINE_EXCEEDED,"Request time out"));
break;case we$$module$third_party$javascript$firebase$dist$firebase_firestore.HTTP_ERROR:const n=l.getStatus();if(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`RPC '${e}' ${s} failed with status:`,n,"response text:",l.getResponseText()),n>0){let e=l.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function __PRIVATE_mapCodeFromHttpResponseErrorStatus(e){const t=
e.toLowerCase().replace(/_/g,"-");return Object.values(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore).indexOf(t)>=0?t:Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN}(t.status);u(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.message))}else u(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN,"Server responded with status "+
l.getStatus()))}else u(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE,"Connection failed."));break;default:fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}finally{__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`RPC '${e}' ${s} completed.`)}});const _=JSON.stringify(i);
__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",_,n,15)})}vo(e,t,n){const i=__PRIVATE_generateUniqueDebugId$$module$third_party$javascript$firebase$dist$firebase_firestore();const s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"];const o=new Od$$module$third_party$javascript$firebase$dist$firebase_firestore;const u=Mb$$module$third_party$javascript$firebase$dist$firebase_firestore();
const l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6E5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};const _=this.longPollingOptions.timeoutSeconds;void 0!==_&&(l.longPollingTimeout=Math.round(1E3*_)),this.useFetchStreams&&(l.xmlHttpFactory=new Ne$$module$third_party$javascript$firebase$dist$firebase_firestore({})),
this.bo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const h=s.join("");__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let m=!1;let f=!1;const g=new __PRIVATE_StreamBridge$$module$third_party$javascript$firebase$dist$firebase_firestore({co:t=>{f?__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,
`Not sending because RPC '${e}' stream ${i} is closed:`,t):(m||(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`RPC '${e}' stream ${i} sending:`,t),d.send(t))},lo:()=>{return d.close()}});
const __PRIVATE_unguardedEventListen=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e;},0)}})};return __PRIVATE_unguardedEventListen(d,Me$$module$third_party$javascript$firebase$dist$firebase_firestore.EventType.OPEN,()=>{f||__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`RPC '${e}' stream ${i} transport opened.`)}),__PRIVATE_unguardedEventListen(d,Me$$module$third_party$javascript$firebase$dist$firebase_firestore.EventType.CLOSE,
()=>{f||(f=!0,__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),__PRIVATE_unguardedEventListen(d,Me$$module$third_party$javascript$firebase$dist$firebase_firestore.EventType.ERROR,t=>{f||(f=!0,__PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`RPC '${e}' stream ${i} transport errored:`,
t),g.Ro(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE,"The operation could not be completed")))}),__PRIVATE_unguardedEventListen(d,Me$$module$third_party$javascript$firebase$dist$firebase_firestore.EventType.MESSAGE,t=>{var n;if(!f){const s=t.data[0];__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(!!s);const o=s;const u=o.error||(null===(n=o[0])||
void 0===n?void 0:n.error);if(u){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`RPC '${e}' stream ${i} received error:`,u);const t=u.status;let n=function __PRIVATE_mapCodeFromRpcStatus(e){const t=Pt$$module$third_party$javascript$firebase$dist$firebase_firestore[e];if(void 0!==t)return __PRIVATE_mapCodeFromRpcCode$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}(t);let s=u.message;
void 0===n&&(n=Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INTERNAL,s="Unknown error status: "+t+" with message "+u.message),f=!0,g.Ro(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(n,s)),d.close()}else __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`RPC '${e}' stream ${i} received:`,s),g.Vo(s)}}),__PRIVATE_unguardedEventListen(u,Ce$$module$third_party$javascript$firebase$dist$firebase_firestore.STAT_EVENT,
t=>{t.stat===Fe$$module$third_party$javascript$firebase$dist$firebase_firestore?__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,`RPC '${e}' stream ${i} detected buffering proxy`):t.stat===xe$$module$third_party$javascript$firebase$dist$firebase_firestore&&__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(xt$$module$third_party$javascript$firebase$dist$firebase_firestore,
`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}}function __PRIVATE_getWindow$$module$third_party$javascript$firebase$dist$firebase_firestore(){return"undefined"!=typeof window?window:null}function getDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(){return"undefined"!=typeof document?document:null}
function __PRIVATE_newSerializer$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new JsonProtoSerializer$$module$third_party$javascript$firebase$dist$firebase_firestore(e,!0)}
class __PRIVATE_ExponentialBackoff$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n=1E3,i=1.5,s=6E4){this.si=e,this.timerId=t,this.Fo=n,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo());const n=Math.max(0,Date.now()-this.Bo);const i=Math.max(0,t-n);i>0&&__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("ExponentialBackoff",
`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>{return this.Bo=Date.now(),e()}),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}
class __PRIVATE_PersistentStream$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s,o,u,l){this.si=e,this.Ko=n,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new __PRIVATE_ExponentialBackoff$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===
this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6E4,()=>{return this.Xo()}))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():
t&&t.code===Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.RESOURCE_EXHAUSTED?(__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore(t.toString()),__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),
this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo);const t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Uo===t&&this.s_(e,n)},t=>{e(()=>{const e=new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN,
"Fetching auth token failed: "+t.message);return this.o_(e)})})}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{n(()=>{return this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1E4,()=>{return this.Ho()&&(this.state=3),Promise.resolve()}),this.listener.ho()})}),this.stream.Io(e=>{n(()=>{return this.o_(e)})}),this.stream.onMessage(e=>{n(()=>{return this.onMessage(e)})})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("PersistentStream",
`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>{return this.Uo===e?t():(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}
class __PRIVATE_PersistentListenStream$$module$third_party$javascript$firebase$dist$firebase_firestore extends __PRIVATE_PersistentStream$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function __PRIVATE_fromWatchChange(e,t){let n;if("targetChange"in t){t.targetChange;
const i=function __PRIVATE_fromWatchTargetChangeState(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}(t.targetChange.targetChangeType||"NO_CHANGE");const s=t.targetChange.targetIds||[];const o=function __PRIVATE_fromBytes(e,t){return e.useProto3Json?(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(void 0===t||"string"==typeof t),ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.fromBase64String(t||
"")):(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(void 0===t||t instanceof Uint8Array),ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken);const u=t.targetChange.cause;const l=u&&function __PRIVATE_fromRpcStatus(e){const t=void 0===e.code?Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN:__PRIVATE_mapCodeFromRpcCode$$module$third_party$javascript$firebase$dist$firebase_firestore(e.code);
return new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e.message||"")}(u);n=new __PRIVATE_WatchTargetChange$$module$third_party$javascript$firebase$dist$firebase_firestore(i,s,o,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=fromName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i.document.name);const o=__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(i.document.updateTime);
const u=i.document.createTime?__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(i.document.createTime):SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min();const l=new ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore({mapValue:{fields:i.document.fields}});const _=MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newFoundDocument(s,o,u,l);const h=i.targetIds||[];const d=i.removedTargetIds||
[];n=new __PRIVATE_DocumentWatchChange$$module$third_party$javascript$firebase$dist$firebase_firestore(h,d,_.key,_)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=fromName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i.document);const o=i.readTime?__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(i.readTime):SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min();const u=
MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newNoDocument(s,o);const l=i.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange$$module$third_party$javascript$firebase$dist$firebase_firestore([],l,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=fromName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i.document);const o=i.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange$$module$third_party$javascript$firebase$dist$firebase_firestore([],
o,s,null)}else{if(!("filter"in t))return fail$$module$third_party$javascript$firebase$dist$firebase_firestore();{t.filter;const e=t.filter;e.targetId;const {count:i=0,unchangedNames:s}=e;const o=new ExistenceFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(i,s);const u=e.targetId;n=new __PRIVATE_ExistenceFilterChange$$module$third_party$javascript$firebase$dist$firebase_firestore(u,o)}}return n}(this.serializer,e);const n=function __PRIVATE_versionFromListenResponse(e){if(!("targetChange"in
e))return SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min():t.readTime?__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(t.readTime):SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=__PRIVATE_getEncodedDatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer),
t.addTarget=function __PRIVATE_toTarget(e,t){let n;const i=t.target;if(n=__PRIVATE_targetIsDocumentTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(i)?{documents:__PRIVATE_toDocumentsTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i)}:{query:__PRIVATE_toQueryTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=__PRIVATE_toBytes$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t.resumeToken);const i=__PRIVATE_toInt32Proto$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min())>0){n.readTime=toTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.snapshotVersion.toTimestamp());const i=__PRIVATE_toInt32Proto$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function __PRIVATE_toListenRequestLabels(e,t){const n=function __PRIVATE_toLabel(e){switch(e){case "TargetPurposeListen":return null;case "TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case "TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case "TargetPurposeLimboResolution":return"limbo-document";default:return fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}(t.purpose);
return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=__PRIVATE_getEncodedDatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer),t.removeTarget=e,this.e_(t)}}
class __PRIVATE_PersistentWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore extends __PRIVATE_PersistentStream$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",
e,t)}onMessage(e){if(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function __PRIVATE_fromWriteResults(e,t){return e&&e.length>0?(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(void 0!==t),e.map(e=>{return function __PRIVATE_fromWriteResult(e,t){let n=e.updateTime?__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e.updateTime):
__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(t);return n.isEqual(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min())&&(n=__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(t)),new MutationResult$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime);const n=__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e.commitTime);
return this.listener.I_(n,t)}return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=__PRIVATE_getEncodedDatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>{return toMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,
e)})};this.e_(t)}}
class __PRIVATE_DatastoreImpl$$module$third_party$javascript$firebase$dist$firebase_firestore extends class Datastore{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,"The client has already been terminated.");}wo(e,t,n){return this.A_(),
Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>{return this.connection.wo(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN,
e.toString());})}Co(e,t,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>{return this.connection.Co(e,t,n,s,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN,
e.toString());})}terminate(){this.d_=!0}}
class __PRIVATE_OnlineStateTracker$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1E4,()=>{return this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()}))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=
1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?
(__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore(t),this.f_=!1):__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}
class __PRIVATE_RemoteStoreImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(e=>{n.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore(this)&&(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("RemoteStore","Restarting streams for network reachability change."),
await async function __PRIVATE_restartNetwork(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);t.C_.add(4),await __PRIVATE_disableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(t),t.M_.set("Unknown"),t.C_.delete(4),await __PRIVATE_enableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}(this))})}),this.M_=new __PRIVATE_OnlineStateTracker$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
i)}}async function __PRIVATE_enableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(__PRIVATE_canUseNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore(e))for(const t of e.v_)await t(!0)}async function __PRIVATE_disableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(e){for(const t of e.v_)await t(!1)}
function __PRIVATE_remoteStoreListen$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),__PRIVATE_shouldStartWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(n)?__PRIVATE_startWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(n):__PRIVATE_ensureWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(n).Ho()&&
__PRIVATE_sendWatchRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(n,t))}
function __PRIVATE_remoteStoreUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=__PRIVATE_ensureWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(n);n.D_.delete(t),i.Ho()&&__PRIVATE_sendUnwatchRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(n,t),0===n.D_.size&&(i.Ho()?i.Zo():__PRIVATE_canUseNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore(n)&&
n.M_.set("Unknown"))}function __PRIVATE_sendWatchRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}__PRIVATE_ensureWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e).u_(t)}
function __PRIVATE_sendUnwatchRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e.x_.Oe(t),__PRIVATE_ensureWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e).c_(t)}
function __PRIVATE_startWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.x_=new __PRIVATE_WatchChangeAggregator$$module$third_party$javascript$firebase$dist$firebase_firestore({getRemoteKeysForTarget:t=>{return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:t=>{return e.D_.get(t)||null},nt:()=>{return e.datastore.serializer.databaseId}}),__PRIVATE_ensureWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e).start(),e.M_.g_()}
function __PRIVATE_shouldStartWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_canUseNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&!__PRIVATE_ensureWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e).jo()&&e.D_.size>0}
function __PRIVATE_canUseNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return 0===__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e).C_.size}function __PRIVATE_cleanUpWatchStreamState$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.x_=void 0}
async function __PRIVATE_onWatchStreamOpen$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.D_.forEach((t,n)=>{__PRIVATE_sendWatchRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)})}
async function __PRIVATE_onWatchStreamClose$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){__PRIVATE_cleanUpWatchStreamState$$module$third_party$javascript$firebase$dist$firebase_firestore(e),__PRIVATE_shouldStartWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?(e.M_.w_(t),__PRIVATE_startWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e)):e.M_.set("Unknown")}
async function __PRIVATE_onWatchStreamChange$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){if(e.M_.set("Online"),t instanceof __PRIVATE_WatchTargetChange$$module$third_party$javascript$firebase$dist$firebase_firestore&&2===t.state&&t.cause)try{await async function __PRIVATE_handleTargetError(e,t){const n=t.cause;for(const i of t.targetIds)e.D_.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.D_.delete(i),e.x_.removeTarget(i))}(e,t)}catch(n){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("RemoteStore",
"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await __PRIVATE_disableNetworkUntilRecovery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n)}else if(t instanceof __PRIVATE_DocumentWatchChange$$module$third_party$javascript$firebase$dist$firebase_firestore?e.x_.$e(t):t instanceof __PRIVATE_ExistenceFilterChange$$module$third_party$javascript$firebase$dist$firebase_firestore?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()))try{const t=
await __PRIVATE_localStoreGetLastRemoteSnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e.localStore);n.compareTo(t)>=0&&await function __PRIVATE_raiseWatchSnapshot(e,t){const n=e.x_.it(t);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.D_.get(i);s&&e.D_.set(i,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const i=e.D_.get(t);if(!i)return;e.D_.set(t,i.withResumeToken(ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY_BYTE_STRING,
i.snapshotVersion)),__PRIVATE_sendUnwatchRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t);const s=new TargetData$$module$third_party$javascript$firebase$dist$firebase_firestore(i.target,t,n,i.sequenceNumber);__PRIVATE_sendWatchRequest$$module$third_party$javascript$firebase$dist$firebase_firestore(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("RemoteStore","Failed to raise snapshot:",
t),await __PRIVATE_disableNetworkUntilRecovery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}}
async function __PRIVATE_disableNetworkUntilRecovery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){if(!__PRIVATE_isIndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(t))throw t;e.C_.add(1),await __PRIVATE_disableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e.M_.set("Offline"),n||(n=()=>{return __PRIVATE_localStoreGetLastRemoteSnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e.localStore)}),
e.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await __PRIVATE_enableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(e)})}
function __PRIVATE_executeWithRecovery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return t().catch(n=>{return __PRIVATE_disableNetworkUntilRecovery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n,t)})}
async function __PRIVATE_fillWritePipeline$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const n=__PRIVATE_ensureWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline$$module$third_party$javascript$firebase$dist$firebase_firestore(t);)try{const e=await __PRIVATE_localStoreGetNextMutationBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(t.localStore,
i);if(null===e){0===t.b_.length&&n.Zo();break}i=e.batchId,__PRIVATE_addToWritePipeline$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e)}catch(e){await __PRIVATE_disableNetworkUntilRecovery$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e)}__PRIVATE_shouldStartWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(t)&&__PRIVATE_startWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}
function __PRIVATE_canAddToWritePipeline$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_canUseNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&e.b_.length<10}function __PRIVATE_addToWritePipeline$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e.b_.push(t);const n=__PRIVATE_ensureWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e);n.Ho()&&n.h_&&n.P_(t.mutations)}
function __PRIVATE_shouldStartWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_canUseNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&!__PRIVATE_ensureWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e).jo()&&e.b_.length>0}
function __PRIVATE_startWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e){__PRIVATE_ensureWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e).start()}async function __PRIVATE_onWriteStreamOpen$$module$third_party$javascript$firebase$dist$firebase_firestore(e){__PRIVATE_ensureWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e).E_()}
async function __PRIVATE_onWriteHandshakeComplete$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_ensureWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e);for(const n of e.b_)t.P_(n.mutations)}
async function __PRIVATE_onMutationResult$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=e.b_.shift();const s=MutationBatchResult$$module$third_party$javascript$firebase$dist$firebase_firestore.from(i,t,n);await __PRIVATE_executeWithRecovery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,()=>{return e.remoteSyncer.applySuccessfulWrite(s)}),await __PRIVATE_fillWritePipeline$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}
async function __PRIVATE_onWriteStreamClose$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){t&&__PRIVATE_ensureWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e).h_&&await async function __PRIVATE_handleWriteError(e,t){if(function __PRIVATE_isPermanentWriteError(e){return __PRIVATE_isPermanentError$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&e!==Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.ABORTED}(t.code)){const n=
e.b_.shift();__PRIVATE_ensureWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e).Yo(),await __PRIVATE_executeWithRecovery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,()=>{return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}),await __PRIVATE_fillWritePipeline$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}}(e,t),__PRIVATE_shouldStartWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&__PRIVATE_startWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}
async function __PRIVATE_remoteStoreHandleCredentialChange$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);n.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("RemoteStore","RemoteStore received new credentials");const i=__PRIVATE_canUseNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore(n);n.C_.add(3),
await __PRIVATE_disableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await __PRIVATE_enableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}
async function __PRIVATE_remoteStoreApplyPrimaryState$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);t?(n.C_.delete(2),await __PRIVATE_enableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(n)):t||(n.C_.add(2),await __PRIVATE_disableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(n),n.M_.set("Unknown"))}
function __PRIVATE_ensureWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e.O_||(e.O_=function __PRIVATE_newPersistentWatchStream(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return i.A_(),new __PRIVATE_PersistentListenStream$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{ho:__PRIVATE_onWatchStreamOpen$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,
e),Io:__PRIVATE_onWatchStreamClose$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,e),a_:__PRIVATE_onWatchStreamChange$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),__PRIVATE_shouldStartWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?__PRIVATE_startWatchStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e):e.M_.set("Unknown")):(await e.O_.stop(),__PRIVATE_cleanUpWatchStreamState$$module$third_party$javascript$firebase$dist$firebase_firestore(e))})),
e.O_}
function __PRIVATE_ensureWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e.N_||(e.N_=function __PRIVATE_newPersistentWriteStream(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return i.A_(),new __PRIVATE_PersistentWriteStream$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{ho:__PRIVATE_onWriteStreamOpen$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,e),
Io:__PRIVATE_onWriteStreamClose$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,e),T_:__PRIVATE_onWriteHandshakeComplete$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,e),I_:__PRIVATE_onMutationResult$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await __PRIVATE_fillWritePipeline$$module$third_party$javascript$firebase$dist$firebase_firestore(e)):(await e.N_.stop(),e.b_.length>0&&
(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}
class DelayedOperation$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const o=Date.now()+n;const u=
new DelayedOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,o,i,s);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>{return this.handleDelayElapsed()},e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.CANCELLED,"Operation cancelled"+(e?
": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>{return null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>{return this.deferred.resolve(e)})):Promise.resolve()})}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}
function __PRIVATE_wrapInUserErrorIfRecoverable$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("AsyncQueue",`${t}: ${e}`),__PRIVATE_isIndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e))return new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE,
`${t}: ${e}`);throw e;}
class DocumentSet$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.comparator=e?(t,n)=>{return e(t,n)||DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(t.key,n.key)}:(e,t)=>{return DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator(e.key,t.key)},this.keyedMap=documentMap$$module$third_party$javascript$firebase$dist$firebase_firestore(),this.sortedSet=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(this.comparator)}static emptySet(e){return new DocumentSet$$module$third_party$javascript$firebase$dist$firebase_firestore(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=
this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>{return e(t),!1})}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof DocumentSet$$module$third_party$javascript$firebase$dist$firebase_firestore))return!1;if(this.size!==
e.size)return!1;const t=this.sortedSet.getIterator();const n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key;const i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new DocumentSet$$module$third_party$javascript$firebase$dist$firebase_firestore;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
class __PRIVATE_DocumentChangeSet$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.B_=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator)}track(e){const t=e.doc.key;const n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,
{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):fail$$module$third_party$javascript$firebase$dist$firebase_firestore():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,n)=>{e.push(n)}),e}}
class ViewSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s,o,u,l,_){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=_}static fromInitialDocuments(e,t,n,i,s){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new ViewSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,DocumentSet$$module$third_party$javascript$firebase$dist$firebase_firestore.emptySet(t),
o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__PRIVATE_queryEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges;const n=e.docChanges;if(t.length!==n.length)return!1;for(let e=
0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class __PRIVATE_QueryListenersInfo$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.k_=void 0,this.listeners=[]}}
class __PRIVATE_EventManagerImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.queries=new ObjectMap$$module$third_party$javascript$firebase$dist$firebase_firestore(e=>{return __PRIVATE_canonifyQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e)},__PRIVATE_queryEquals$$module$third_party$javascript$firebase$dist$firebase_firestore),this.onlineState="Unknown",this.q_=new Set}}
async function __PRIVATE_eventManagerListen$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=t.query;let s=!1;let o=n.queries.get(i);if(o||(s=!0,o=new __PRIVATE_QueryListenersInfo$$module$third_party$javascript$firebase$dist$firebase_firestore),s)try{o.k_=await n.onListen(i)}catch(e){const n=__PRIVATE_wrapInUserErrorIfRecoverable$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
`Initialization of query '${__PRIVATE_stringifyQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&__PRIVATE_raiseSnapshotsInSyncEvent$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}
async function __PRIVATE_eventManagerUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=t.query;let s=!1;const o=n.queries.get(i);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),s=0===o.listeners.length)}if(s)return n.queries.delete(i),n.onUnlisten(i)}
function __PRIVATE_eventManagerOnWatchChange$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);let i=!1;for(const e of t){const t=e.query;const s=n.queries.get(t);if(s){for(const t of s.listeners)t.K_(e)&&(i=!0);s.k_=e}}i&&__PRIVATE_raiseSnapshotsInSyncEvent$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}
function __PRIVATE_eventManagerOnWatchError$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const s=i.queries.get(t);if(s)for(const e of s.listeners)e.onError(n);i.queries.delete(t)}function __PRIVATE_raiseSnapshotsInSyncEvent$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e.q_.forEach(e=>{e.next()})}
class __PRIVATE_QueryListener$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ViewSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;
return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&
!t)&&!0===this.options.includeMetadataChanges}H_(e){e=ViewSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class __PRIVATE_SizedBundleElement$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}
class __PRIVATE_BundleConverterImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.serializer=e}hs(e){return fromName$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,e)}Ps(e){return e.metadata.exists?__PRIVATE_fromDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer,e.document,!1):MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newNoDocument(this.hs(e.metadata.name),
this.Is(e.metadata.readTime))}Is(e){return __PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}}
class __PRIVATE_BundleLoader$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=__PRIVATE_bundleInitialProgress$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),
e.Y_.documentMetadata.exists||++t;const n=ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map;const n=new __PRIVATE_BundleConverterImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer);
for(const i of e)if(i.metadata.queries){const e=n.hs(i.metadata.name);for(const n of i.metadata.queries){const i=(t.get(n)||__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore()).add(e);t.set(n,i)}}return t}async complete(){const e=await async function __PRIVATE_localStoreApplyBundledDocuments(e,t,n,i){const s=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);let o=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();
let u=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();for(const e of n){const n=t.hs(e.metadata.name);e.document&&(o=o.add(n));const i=t.Ps(e);i.setReadTime(t.Is(e.metadata.readTime)),u=u.insert(n,i)}const l=s.ss.newChangeBuffer({trackRemovals:!0});const _=await __PRIVATE_localStoreAllocateTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(s,function __PRIVATE_umbrellaTarget(e){return __PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_newQueryForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(`__bundle__/docs/${e}`)))}(i));
return s.persistence.runTransaction("Apply bundle documents","readwrite",e=>{return __PRIVATE_populateDocumentChangeBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore(e,l,u).next(t=>{return l.apply(e),t}).next(t=>{return s.qr.removeMatchingKeysForTargetId(e,_.targetId).next(()=>{return s.qr.addMatchingKeys(e,o,_.targetId)}).next(()=>{return s.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs)}).next(()=>{return t.us})})})}(this.localStore,new __PRIVATE_BundleConverterImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(this.serializer),
this.documents,this.X_.id);const t=this.ta(this.documents);for(const e of this.queries)await __PRIVATE_localStoreSaveNamedQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}
function __PRIVATE_bundleInitialProgress$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class __PRIVATE_AddedLimboDocument$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.key=e}}class __PRIVATE_RemovedLimboDocument$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.key=e}}
class __PRIVATE_View$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore(),this.mutatedKeys=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore(),this._a=__PRIVATE_newQueryComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(e),this.aa=new DocumentSet$$module$third_party$javascript$firebase$dist$firebase_firestore(this._a)}get ua(){return this.ia}ca(e,
t){const n=t?t.la:new __PRIVATE_DocumentChangeSet$$module$third_party$javascript$firebase$dist$firebase_firestore;const i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys;let o=i;let u=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null;const _="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((e,t)=>{const h=i.get(e);const d=__PRIVATE_queryMatches$$module$third_party$javascript$firebase$dist$firebase_firestore(this.query,t)?
t:null;const m=!!h&&this.mutatedKeys.has(h.key);const f=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let g=!1;h&&d?h.data.isEqual(d.data)?m!==f&&(n.track({type:3,doc:d}),g=!0):this.ha(h,d)||(n.track({type:2,doc:d}),g=!0,(l&&this._a(d,l)>0||_&&this._a(d,_)<0)&&(u=!0)):!h&&d?(n.track({type:0,doc:d}),g=!0):h&&!d&&(n.track({type:1,doc:h}),g=!0,(l||_)&&(u=!0)),g&&(d?(o=o.add(d),s=f?s.add(e):s.delete(e)):(o=o.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;o.size>
this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:u,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((e,t)=>{return function __PRIVATE_compareChangeType(e,t){const order=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}};
return order(e)-order(t)}(e.type,t.type)||this._a(e.doc,t.doc)}),this.Pa(n);const o=t?this.Ia():[];const u=0===this.oa.size&&this.current?1:0;const l=u!==this.sa;return this.sa=u,0!==s.length||l?{snapshot:new ViewSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(this.query,e.aa,i,s,e.mutatedKeys,0===u,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new __PRIVATE_DocumentChangeSet$$module$third_party$javascript$firebase$dist$firebase_firestore,
mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(e=>{return this.ia=this.ia.add(e)}),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>{return this.ia=this.ia.delete(e)}),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore(),this.aa.forEach(e=>{this.Ea(e.key)&&
(this.oa=this.oa.add(e.key))});const t=[];return e.forEach(e=>{this.oa.has(e)||t.push(new __PRIVATE_RemovedLimboDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(e))}),this.oa.forEach(n=>{e.has(n)||t.push(new __PRIVATE_AddedLimboDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(n))}),t}da(e){this.ia=e.ls,this.oa=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();const t=this.ca(e.documents);return this.applyChanges(t,
!0)}Aa(){return ViewSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class __PRIVATE_QueryView$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class LimboResolution$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.key=e,this.Ra=!1}}
class __PRIVATE_SyncEngineImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ObjectMap$$module$third_party$javascript$firebase$dist$firebase_firestore(e=>{return __PRIVATE_canonifyQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e)},__PRIVATE_queryEquals$$module$third_party$javascript$firebase$dist$firebase_firestore),
this.fa=new Map,this.ga=new Set,this.pa=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator),this.ya=new Map,this.wa=new __PRIVATE_ReferenceSet$$module$third_party$javascript$firebase$dist$firebase_firestore,this.Sa={},this.ba=new Map,this.Da=__PRIVATE_TargetIdGenerator$$module$third_party$javascript$firebase$dist$firebase_firestore.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===
this.Ca}}
async function __PRIVATE_syncEngineListen$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_ensureWatchCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(e);let i;let s;const o=n.ma.get(t);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),s=o.view.Aa();else{const e=await __PRIVATE_localStoreAllocateTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(n.localStore,__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t));const o=
n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,s=await __PRIVATE_initializeViewAndComputeSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(n,t,i,"current"===o,e.resumeToken),n.isPrimaryClient&&__PRIVATE_remoteStoreListen$$module$third_party$javascript$firebase$dist$firebase_firestore(n.remoteStore,e)}return s}
async function __PRIVATE_initializeViewAndComputeSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s){e.va=(t,n,i)=>{return async function __PRIVATE_applyDocChanges(e,t,n,i){let s=t.view.ca(n);s.Zi&&(s=await __PRIVATE_localStoreExecuteQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e.localStore,t.query,!1).then(({documents:e})=>{return t.view.ca(e,s)}));const o=i&&i.targetChanges.get(t.targetId);const u=t.view.applyChanges(s,e.isPrimaryClient,o);
return __PRIVATE_updateTrackedLimbos$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.targetId,u.Ta),u.snapshot}(e,t,n,i)};const o=await __PRIVATE_localStoreExecuteQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e.localStore,t,!0);const u=new __PRIVATE_View$$module$third_party$javascript$firebase$dist$firebase_firestore(t,o.ls);const l=u.ca(o.documents);const _=TargetChange$$module$third_party$javascript$firebase$dist$firebase_firestore.createSynthesizedTargetChangeForCurrentChange(n,
i&&"Offline"!==e.onlineState,s);const h=u.applyChanges(l,e.isPrimaryClient,_);__PRIVATE_updateTrackedLimbos$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n,h.Ta);const d=new __PRIVATE_QueryView$$module$third_party$javascript$firebase$dist$firebase_firestore(t,n,u);return e.ma.set(t,d),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),h.snapshot}
async function __PRIVATE_syncEngineUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=n.ma.get(t);const s=n.fa.get(i.targetId);if(s.length>1)return n.fa.set(i.targetId,s.filter(e=>{return!__PRIVATE_queryEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)})),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),
n.sharedClientState.isActiveQueryTarget(i.targetId)||await __PRIVATE_localStoreReleaseTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),__PRIVATE_remoteStoreUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore(n.remoteStore,i.targetId),__PRIVATE_removeAndCleanupTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(n,i.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss$$module$third_party$javascript$firebase$dist$firebase_firestore)):
(__PRIVATE_removeAndCleanupTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(n,i.targetId),await __PRIVATE_localStoreReleaseTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(n.localStore,i.targetId,!0))}
async function __PRIVATE_syncEngineApplyRemoteEvent$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);try{const e=await function __PRIVATE_localStoreApplyRemoteEventToLocalCache(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=t.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",
e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const u=[];t.targetChanges.forEach((o,l)=>{const _=s.get(l);if(!_)return;u.push(n.qr.removeMatchingKeys(e,o.removedDocuments,l).next(()=>{return n.qr.addMatchingKeys(e,o.addedDocuments,l)}));let h=_.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(l)?h=h.withResumeToken(ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY_BYTE_STRING,SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()):
o.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(o.resumeToken,i)),s=s.insert(l,h),function __PRIVATE_shouldPersistTargetData(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3E8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(_,h,o)&&u.push(n.qr.updateTargetData(e,h))});let l=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();let _=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();
if(t.documentUpdates.forEach(i=>{t.resolvedLimboDocuments.has(i)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))}),u.push(__PRIVATE_populateDocumentChangeBuffer$$module$third_party$javascript$firebase$dist$firebase_firestore(e,o,t.documentUpdates).next(e=>{l=e.us,_=e.cs})),!i.isEqual(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next(t=>{return n.qr.setTargetsMetadata(e,e.currentSequenceNumber,
i)});u.push(t)}return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(u).next(()=>{return o.apply(e)}).next(()=>{return n.localDocuments.getLocalViewOfDocuments(e,l,_)}).next(()=>{return l})}).then(e=>{return n.ts=s,e})}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const i=n.ya.get(t);i&&(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>
0?i.Ra=!0:e.modifiedDocuments.size>0?__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(i.Ra):e.removedDocuments.size>0&&(__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(i.Ra),i.Ra=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e,t)}catch(e){await __PRIVATE_ignoreIfPrimaryLeaseLoss$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}}
function __PRIVATE_syncEngineApplyOnlineStateChange$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.ma.forEach((n,i)=>{const s=i.view.Q_(t);s.snapshot&&e.push(s.snapshot)}),function __PRIVATE_eventManagerOnOnlineStateChange(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
n.onlineState=t;let i=!1;n.queries.forEach((e,n)=>{for(const e of n.listeners)e.Q_(t)&&(i=!0)}),i&&__PRIVATE_raiseSnapshotsInSyncEvent$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}(i.eventManager,t),e.length&&i.Va.a_(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}
async function __PRIVATE_syncEngineRejectListen$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.ya.get(t);const o=s&&s.key;if(o){let e=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator);e=e.insert(o,MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newNoDocument(o,
SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()));const n=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore().add(o);const s=new RemoteEvent$$module$third_party$javascript$firebase$dist$firebase_firestore(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min(),new Map,new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore),
e,n);await __PRIVATE_syncEngineApplyRemoteEvent$$module$third_party$javascript$firebase$dist$firebase_firestore(i,s),i.pa=i.pa.remove(o),i.ya.delete(t),__PRIVATE_pumpEnqueuedLimboResolutions$$module$third_party$javascript$firebase$dist$firebase_firestore(i)}else await __PRIVATE_localStoreReleaseTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(i.localStore,t,!1).then(()=>{return __PRIVATE_removeAndCleanupTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(i,
t,n)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss$$module$third_party$javascript$firebase$dist$firebase_firestore)}
async function __PRIVATE_syncEngineApplySuccessfulWrite$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=t.batch.batchId;try{const e=await function __PRIVATE_localStoreAcknowledgeBatch(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const i=t.batch.keys();
const s=n.ss.newChangeBuffer({trackRemovals:!0});return function __PRIVATE_applyWriteToRemoteDocuments(e,t,n,i){const s=n.batch;const o=s.keys();let u=PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve();return o.forEach(e=>{u=u.next(()=>{return i.getEntry(t,e)}).next(t=>{const o=n.docVersions.get(e);__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(null!==o),t.version.compareTo(o)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&
(t.setReadTime(n.commitVersion),i.addEntry(t)))})}),u.next(()=>{return e.mutationQueue.removeMutationBatch(t,s)})}(n,e,t,s).next(()=>{return s.apply(e)}).next(()=>{return n.mutationQueue.performConsistencyCheck(e)}).next(()=>{return n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId)}).next(()=>{return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function __PRIVATE_getKeysWithTransformResults(e){let t=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();
for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))}).next(()=>{return n.localDocuments.getDocuments(e,i)})})}(n.localStore,t);__PRIVATE_processUserCallback$$module$third_party$javascript$firebase$dist$firebase_firestore(n,i,null),__PRIVATE_triggerPendingWritesCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
e)}catch(e){await __PRIVATE_ignoreIfPrimaryLeaseLoss$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}}
async function __PRIVATE_syncEngineRejectFailedWrite$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);try{const e=await function __PRIVATE_localStoreRejectBatch(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let i;return n.mutationQueue.lookupMutationBatch(e,
t).next(t=>{return __PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(null!==t),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t)}).next(()=>{return n.mutationQueue.performConsistencyCheck(e)}).next(()=>{return n.documentOverlayCache.removeOverlaysForBatchId(e,i,t)}).next(()=>{return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i)}).next(()=>{return n.localDocuments.getDocuments(e,i)})})}(i.localStore,t);__PRIVATE_processUserCallback$$module$third_party$javascript$firebase$dist$firebase_firestore(i,
t,n),__PRIVATE_triggerPendingWritesCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(i,e)}catch(n){await __PRIVATE_ignoreIfPrimaryLeaseLoss$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}}
function __PRIVATE_triggerPendingWritesCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){(e.ba.get(t)||[]).forEach(e=>{e.resolve()}),e.ba.delete(t)}
function __PRIVATE_processUserCallback$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);let s=i.Sa[i.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),i.Sa[i.currentUser.toKey()]=s}}
function __PRIVATE_removeAndCleanupTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.fa.get(t))e.ma.delete(i),n&&e.Va.Fa(i,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(t=>{e.wa.containsKey(t)||__PRIVATE_removeLimboTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)})}
function __PRIVATE_removeLimboTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(__PRIVATE_remoteStoreUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),__PRIVATE_pumpEnqueuedLimboResolutions$$module$third_party$javascript$firebase$dist$firebase_firestore(e))}
function __PRIVATE_updateTrackedLimbos$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){for(const i of n)i instanceof __PRIVATE_AddedLimboDocument$$module$third_party$javascript$firebase$dist$firebase_firestore?(e.wa.addReference(i.key,t),__PRIVATE_trackLimboChange$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i)):i instanceof __PRIVATE_RemovedLimboDocument$$module$third_party$javascript$firebase$dist$firebase_firestore?(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SyncEngine",
"Document no longer in limbo: "+i.key),e.wa.removeReference(i.key,t),e.wa.containsKey(i.key)||__PRIVATE_removeLimboTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,i.key)):fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}
function __PRIVATE_trackLimboChange$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=t.key;const i=n.path.canonicalString();e.pa.get(n)||e.ga.has(i)||(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SyncEngine","New document in limbo: "+n),e.ga.add(i),__PRIVATE_pumpEnqueuedLimboResolutions$$module$third_party$javascript$firebase$dist$firebase_firestore(e))}
function __PRIVATE_pumpEnqueuedLimboResolutions$$module$third_party$javascript$firebase$dist$firebase_firestore(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(t));const i=e.Da.next();e.ya.set(i,new LimboResolution$$module$third_party$javascript$firebase$dist$firebase_firestore(n)),
e.pa=e.pa.insert(n,i),__PRIVATE_remoteStoreListen$$module$third_party$javascript$firebase$dist$firebase_firestore(e.remoteStore,new TargetData$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_newQueryForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(n.path)),i,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence$$module$third_party$javascript$firebase$dist$firebase_firestore._e))}}
async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const s=[];const o=[];const u=[];i.ma.isEmpty()||(i.ma.forEach((e,l)=>{u.push(i.va(l,t,n).then(e=>{if((e||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);const t=__PRIVATE_LocalViewChanges$$module$third_party$javascript$firebase$dist$firebase_firestore.Qi(l.targetId,
e);o.push(t)}}))}),await Promise.all(u),i.Va.a_(s),await async function __PRIVATE_localStoreNotifyLocalViewChanges(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(t,t=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(t.ki,
i=>{return n.persistence.referenceDelegate.addReference(e,t.targetId,i)}).next(()=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.forEach(t.qi,i=>{return n.persistence.referenceDelegate.removeReference(e,t.targetId,i)})})})})}catch(e){if(!__PRIVATE_isIndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e))throw e;__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("LocalStore","Failed to update sequence numbers: "+
e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.ts.get(t);const i=e.snapshotVersion;const s=e.withLastLimboFreeSnapshotVersion(i);n.ts=n.ts.insert(t,s)}}}(i.localStore,o))}
async function __PRIVATE_syncEngineHandleCredentialChange$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(!n.currentUser.isEqual(t)){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SyncEngine","User change. New user:",t.toKey());const e=await __PRIVATE_localStoreHandleUserChange$$module$third_party$javascript$firebase$dist$firebase_firestore(n.localStore,
t);n.currentUser=t,function __PRIVATE_rejectOutstandingPendingWritesCallbacks(e,t){e.ba.forEach(e=>{e.forEach(e=>{e.reject(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.CANCELLED,t))})}),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
e._s)}}
function __PRIVATE_syncEngineGetRemoteKeysForTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=n.ya.get(t);if(i&&i.Ra)return __PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore().add(i.key);{let e=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();const i=n.fa.get(t);if(!i)return e;for(const t of i){const i=n.ma.get(t);
e=e.unionWith(i.view.ua)}return e}}
async function __PRIVATE_synchronizeViewAndComputeSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=await __PRIVATE_localStoreExecuteQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(n.localStore,t.query,!0);const s=t.view.da(i);return n.isPrimaryClient&&__PRIVATE_updateTrackedLimbos$$module$third_party$javascript$firebase$dist$firebase_firestore(n,t.targetId,
s.Ta),s}
async function __PRIVATE_syncEngineSynchronizeWithChangedDocuments$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return __PRIVATE_localStoreGetNewDocumentChanges$$module$third_party$javascript$firebase$dist$firebase_firestore(n.localStore,t).then(e=>{return __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e)})}
async function __PRIVATE_syncEngineApplyBatchState$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){const s=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const o=await function __PRIVATE_localStoreLookupMutationDocuments(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents",
"readonly",e=>{return i.Cn(e,t).next(t=>{return t?n.localDocuments.getDocuments(e,t):PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.resolve(null)})})}(s.localStore,t);null!==o?("pending"===n?await __PRIVATE_fillWritePipeline$$module$third_party$javascript$firebase$dist$firebase_firestore(s.remoteStore):"acknowledged"===n||"rejected"===n?(__PRIVATE_processUserCallback$$module$third_party$javascript$firebase$dist$firebase_firestore(s,t,i||null),__PRIVATE_triggerPendingWritesCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(s,
t),function __PRIVATE_localStoreRemoveCachedMutationBatchMetadata(e,t){__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e).mutationQueue).Fn(t)}(s.localStore,t)):fail$$module$third_party$javascript$firebase$dist$firebase_firestore(),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(s,o)):__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SyncEngine",
"Cannot apply mutation batch with id: "+t)}
async function __PRIVATE_synchronizeQueryViewsAndRaiseSnapshots$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const s=[];const o=[];for(const e of t){let t;const n=i.fa.get(e);if(n&&0!==n.length){t=await __PRIVATE_localStoreAllocateTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(i.localStore,__PRIVATE_queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(n[0]));for(const e of n){const t=
i.ma.get(e);const n=await __PRIVATE_synchronizeViewAndComputeSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(i,t);n.snapshot&&o.push(n.snapshot)}}else{const n=await __PRIVATE_localStoreGetCachedTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(i.localStore,e);t=await __PRIVATE_localStoreAllocateTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(i.localStore,n),await __PRIVATE_initializeViewAndComputeSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(i,
__PRIVATE_synthesizeTargetToQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(n),e,!1,t.resumeToken)}s.push(t)}return i.Va.a_(o),s}function __PRIVATE_synthesizeTargetToQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_newQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}
function __PRIVATE_syncEngineGetActiveClients$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return function __PRIVATE_localStoreGetActiveClients(e){return __PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e).persistence).Bi()}(__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e).localStore)}
async function __PRIVATE_syncEngineApplyTargetState$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){const s=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(s.Ca)return void __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SyncEngine","Ignoring unexpected query state notification.");const o=s.fa.get(t);if(o&&o.length>0)switch(n){case "current":case "not-current":{const e=await __PRIVATE_localStoreGetNewDocumentChanges$$module$third_party$javascript$firebase$dist$firebase_firestore(s.localStore,
__PRIVATE_queryCollectionGroup$$module$third_party$javascript$firebase$dist$firebase_firestore(o[0]));const i=RemoteEvent$$module$third_party$javascript$firebase$dist$firebase_firestore.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.EMPTY_BYTE_STRING);await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(s,e,i);break}case "rejected":await __PRIVATE_localStoreReleaseTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(s.localStore,
t,!0),__PRIVATE_removeAndCleanupTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(s,t,i);break;default:fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}
async function __PRIVATE_syncEngineApplyActiveTargetsChange$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=__PRIVATE_ensureWatchCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(i.Ca){for(const e of t){if(i.fa.has(e)){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SyncEngine","Adding an already active target "+e);continue}const t=await __PRIVATE_localStoreGetCachedTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(i.localStore,
e);const n=await __PRIVATE_localStoreAllocateTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(i.localStore,t);await __PRIVATE_initializeViewAndComputeSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(i,__PRIVATE_synthesizeTargetToQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(t),n.targetId,!1,n.resumeToken),__PRIVATE_remoteStoreListen$$module$third_party$javascript$firebase$dist$firebase_firestore(i.remoteStore,n)}for(const e of n)i.fa.has(e)&&
await __PRIVATE_localStoreReleaseTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(i.localStore,e,!1).then(()=>{__PRIVATE_remoteStoreUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore(i.remoteStore,e),__PRIVATE_removeAndCleanupTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(i,e)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss$$module$third_party$javascript$firebase$dist$firebase_firestore)}}
function __PRIVATE_ensureWatchCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,
t),t.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,t),t.Va.a_=__PRIVATE_eventManagerOnWatchChange$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,t.eventManager),t.Va.Fa=__PRIVATE_eventManagerOnWatchError$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,t.eventManager),t}
function __PRIVATE_syncEngineEnsureWriteCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,
t),t}
class MemoryOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=__PRIVATE_newSerializer$$module$third_party$javascript$firebase$dist$firebase_firestore(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),
this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return __PRIVATE_newLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(this.persistence,new __PRIVATE_QueryEngine$$module$third_party$javascript$firebase$dist$firebase_firestore,e.initialUser,this.serializer)}createPersistence(e){return new __PRIVATE_MemoryPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_MemoryEagerDelegate$$module$third_party$javascript$firebase$dist$firebase_firestore.jr,
this.serializer)}createSharedClientState(e){return new __PRIVATE_MemorySharedClientState$$module$third_party$javascript$firebase$dist$firebase_firestore}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}
class __PRIVATE_LruGcMemoryOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore extends MemoryOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate$$module$third_party$javascript$firebase$dist$firebase_firestore);
const n=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e.asyncQueue,t)}createPersistence(e){const t=void 0!==this.cacheSizeBytes?LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.withCacheSize(this.cacheSizeBytes):LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.DEFAULT;return new __PRIVATE_MemoryPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore(e=>
{return __PRIVATE_MemoryLruDelegate$$module$third_party$javascript$firebase$dist$firebase_firestore.jr(e,t)},this.serializer)}}
class __PRIVATE_IndexedDbOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore extends MemoryOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await __PRIVATE_syncEngineEnsureWriteCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(this.xa.syncEngine),
await __PRIVATE_fillWritePipeline$$module$third_party$javascript$firebase$dist$firebase_firestore(this.xa.remoteStore),await this.persistence.mi(()=>{return this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()})}createLocalStore(e){return __PRIVATE_newLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(this.persistence,new __PRIVATE_QueryEngine$$module$third_party$javascript$firebase$dist$firebase_firestore,
e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new __PRIVATE_IndexBackfiller$$module$third_party$javascript$firebase$dist$firebase_firestore(t,this.persistence);return new __PRIVATE_IndexBackfillerScheduler$$module$third_party$javascript$firebase$dist$firebase_firestore(e.asyncQueue,
n)}createPersistence(e){const t=__PRIVATE_indexedDbStoragePrefix$$module$third_party$javascript$firebase$dist$firebase_firestore(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);const n=void 0!==this.cacheSizeBytes?LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.withCacheSize(this.cacheSizeBytes):LruParams$$module$third_party$javascript$firebase$dist$firebase_firestore.DEFAULT;return new __PRIVATE_IndexedDbPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore(this.synchronizeTabs,
t,e.clientId,n,e.asyncQueue,__PRIVATE_getWindow$$module$third_party$javascript$firebase$dist$firebase_firestore(),getDocument$$module$third_party$javascript$firebase$dist$firebase_firestore(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new __PRIVATE_MemorySharedClientState$$module$third_party$javascript$firebase$dist$firebase_firestore}}
class __PRIVATE_MultiTabOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore extends __PRIVATE_IndexedDbOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof __PRIVATE_WebStorageSharedClientState$$module$third_party$javascript$firebase$dist$firebase_firestore&&
(this.sharedClientState.syncEngine={Ys:__PRIVATE_syncEngineApplyBatchState$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,t),Zs:__PRIVATE_syncEngineApplyTargetState$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,t),Xs:__PRIVATE_syncEngineApplyActiveTargetsChange$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,t),Bi:__PRIVATE_syncEngineGetActiveClients$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,
t),Js:__PRIVATE_syncEngineSynchronizeWithChangedDocuments$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi(async e=>{await async function __PRIVATE_syncEngineApplyPrimaryState(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(__PRIVATE_ensureWatchCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(n),__PRIVATE_syncEngineEnsureWriteCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(n),
!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets();const t=await __PRIVATE_synchronizeQueryViewsAndRaiseSnapshots$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e.toArray());n.Ca=!0,await __PRIVATE_remoteStoreApplyPrimaryState$$module$third_party$javascript$firebase$dist$firebase_firestore(n.remoteStore,!0);for(const e of t)__PRIVATE_remoteStoreListen$$module$third_party$javascript$firebase$dist$firebase_firestore(n.remoteStore,e)}else if(!1===t&&!1!==n.Ca){const e=
[];let t=Promise.resolve();n.fa.forEach((i,s)=>{n.sharedClientState.isLocalQueryTarget(s)?e.push(s):t=t.then(()=>{return __PRIVATE_removeAndCleanupTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(n,s),__PRIVATE_localStoreReleaseTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(n.localStore,s,!0)}),__PRIVATE_remoteStoreUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore(n.remoteStore,s)}),await t,await __PRIVATE_synchronizeQueryViewsAndRaiseSnapshots$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
e),function __PRIVATE_resetLimboDocuments(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);t.ya.forEach((e,n)=>{__PRIVATE_remoteStoreUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore(t.remoteStore,n)}),t.wa.Vr(),t.ya=new Map,t.pa=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.comparator)}(n),n.Ca=!1,await __PRIVATE_remoteStoreApplyPrimaryState$$module$third_party$javascript$firebase$dist$firebase_firestore(n.remoteStore,
!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const t=__PRIVATE_getWindow$$module$third_party$javascript$firebase$dist$firebase_firestore();if(!__PRIVATE_WebStorageSharedClientState$$module$third_party$javascript$firebase$dist$firebase_firestore.D(t))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNIMPLEMENTED,
"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=__PRIVATE_indexedDbStoragePrefix$$module$third_party$javascript$firebase$dist$firebase_firestore(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new __PRIVATE_WebStorageSharedClientState$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e.asyncQueue,n,e.clientId,e.initialUser)}}
class OnlineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>{return __PRIVATE_syncEngineApplyOnlineStateChange$$module$third_party$javascript$firebase$dist$firebase_firestore(this.syncEngine,
e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState$$module$third_party$javascript$firebase$dist$firebase_firestore(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function __PRIVATE_newEventManager(){return new __PRIVATE_EventManagerImpl$$module$third_party$javascript$firebase$dist$firebase_firestore}()}createDatastore(e){const t=
__PRIVATE_newSerializer$$module$third_party$javascript$firebase$dist$firebase_firestore(e.databaseInfo.databaseId);const n=function __PRIVATE_newConnection(e){return new __PRIVATE_WebChannelConnection$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}(e.databaseInfo);return function __PRIVATE_newDatastore(e,t,n,i){return new __PRIVATE_DatastoreImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function __PRIVATE_newRemoteStore(e,
t,n,i,s){return new __PRIVATE_RemoteStoreImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s)}(this.localStore,this.datastore,e.asyncQueue,e=>{return __PRIVATE_syncEngineApplyOnlineStateChange$$module$third_party$javascript$firebase$dist$firebase_firestore(this.syncEngine,e,0)},function __PRIVATE_newConnectivityMonitor(){return __PRIVATE_BrowserConnectivityMonitor$$module$third_party$javascript$firebase$dist$firebase_firestore.D()?new __PRIVATE_BrowserConnectivityMonitor$$module$third_party$javascript$firebase$dist$firebase_firestore:
new __PRIVATE_NoopConnectivityMonitor$$module$third_party$javascript$firebase$dist$firebase_firestore}())}createSyncEngine(e,t){return function __PRIVATE_newSyncEngine(e,t,n,i,s,o,u){const l=new __PRIVATE_SyncEngineImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s,o);return u&&(l.Ca=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function __PRIVATE_remoteStoreShutdown(e){const t=
__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await __PRIVATE_disableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}
function __PRIVATE_toByteStreamReaderHelper$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const i={value:e.slice(n,n+t),done:!1};return n=n+t,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}
class __PRIVATE_AsyncObserver$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}
class __PRIVATE_BundleReaderImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore,this.buffer=new Uint8Array,this.La=function __PRIVATE_newTextDecoder(){return new TextDecoder("utf-8")}(),this.ka().then(e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==
e?void 0:e.Y_)}`))},e=>{return this.metadata.reject(e)})}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e);const n=Number(t);isNaN(n)&&this.Qa(`length string (${t}) is not valid number`);const i=await this.Ka(n);return new __PRIVATE_SizedBundleElement$$module$third_party$javascript$firebase$dist$firebase_firestore(JSON.parse(i),e.length+
n)}$a(){return this.buffer.findIndex(e=>{return e==="{".charCodeAt(0)})}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=
this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`);}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}
class Transaction$2$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");
const t=await async function __PRIVATE_invokeBatchGetDocumentsRpc(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=__PRIVATE_getEncodedDatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore(n.serializer)+"/documents";const s={documents:t.map(e=>{return __PRIVATE_toName$$module$third_party$javascript$firebase$dist$firebase_firestore(n.serializer,e)})};const o=await n.Co("BatchGetDocuments",i,s,t.length);const u=new Map;
o.forEach(e=>{const t=function __PRIVATE_fromBatchGetDocumentsResponse(e,t){return"found"in t?function __PRIVATE_fromFound(e,t){__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(!!t.found),t.found.name,t.found.updateTime;const n=fromName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.found.name);const i=__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(t.found.updateTime);const s=t.found.createTime?__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(t.found.createTime):
SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min();const o=new ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore({mapValue:{fields:t.found.fields}});return MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newFoundDocument(n,i,s,o)}(e,t):"missing"in t?function __PRIVATE_fromMissing(e,t){__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(!!t.missing),__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(!!t.readTime);
const n=fromName$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t.missing);const i=__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(t.readTime);return MutableDocument$$module$third_party$javascript$firebase$dist$firebase_firestore.newNoDocument(n,i)}(e,t):fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}(n.serializer,e);u.set(t.key.toString(),t)});const l=[];return t.forEach(e=>{const t=u.get(e.toString());__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(!!t),
l.push(t)}),l}(this.datastore,e);return t.forEach(e=>{return this.recordVersion(e)}),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new __PRIVATE_DeleteMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),
this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.fromPath(t);this.mutations.push(new __PRIVATE_VerifyMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(n,this.precondition(n)))}),await async function __PRIVATE_invokeCommitRpc(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
const i=__PRIVATE_getEncodedDatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore(n.serializer)+"/documents";const s={writes:t.map(e=>{return toMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(n.serializer,e)})};await n.wo("Commit",i,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();t=SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()}const n=
this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.ABORTED,"Document version changed between two reads.");}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min())?
Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.exists(!1):Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.updateTime(t):Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(SnapshotVersion$$module$third_party$javascript$firebase$dist$firebase_firestore.min()))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
"Can't update a document that doesn't exist.");return Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.updateTime(t)}return Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}
class __PRIVATE_TransactionRunner$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=s,this.Wa=n.maxAttempts,this.zo=new __PRIVATE_ExponentialBackoff$$module$third_party$javascript$firebase$dist$firebase_firestore(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(async()=>{const e=new Transaction$2$$module$third_party$javascript$firebase$dist$firebase_firestore(this.datastore);
const t=this.za(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>{return e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.ja(e)})})}).catch(e=>{this.ja(e)})})}za(e){try{const t=this.updateFunction(e);return!__PRIVATE_isNullOrUndefined$$module$third_party$javascript$firebase$dist$firebase_firestore(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=
1,this.asyncQueue.enqueueAndForget(()=>{return this.Ga(),Promise.resolve()})):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!__PRIVATE_isPermanentError$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}return!1}}
class FirestoreClient$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=User$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId$$module$third_party$javascript$firebase$dist$firebase_firestore.newId(),this.authCredentialListener=()=>{return Promise.resolve()},this.appCheckCredentialListener=()=>{return Promise.resolve()},
this.authCredentials.start(n,async e=>{__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>{return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)})}async getConfiguration(){return{asyncQueue:this.asyncQueue,
databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,
"The client has already been terminated.");}terminate(){this.asyncQueue.enterRestrictedMode();const e=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=__PRIVATE_wrapInUserErrorIfRecoverable$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
"Failed to shutdown persistence");e.reject(n)}}),e.promise}}
async function __PRIVATE_setOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async e=>{i.isEqual(e)||(await __PRIVATE_localStoreHandleUserChange$$module$third_party$javascript$firebase$dist$firebase_firestore(t.localStore,e),
i=e)}),t.persistence.setDatabaseDeletedListener(()=>{return e.terminate()}),e._offlineComponents=t}
async function __PRIVATE_setOnlineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e.asyncQueue.verifyOperationInProgress();const n=await __PRIVATE_ensureOfflineComponents$$module$third_party$javascript$firebase$dist$firebase_firestore(e);__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(e=>
{return __PRIVATE_remoteStoreHandleCredentialChange$$module$third_party$javascript$firebase$dist$firebase_firestore(t.remoteStore,e)}),e.setAppCheckTokenChangeListener((e,n)=>{return __PRIVATE_remoteStoreHandleCredentialChange$$module$third_party$javascript$firebase$dist$firebase_firestore(t.remoteStore,n)}),e._onlineComponents=t}
function __PRIVATE_canFallbackFromIndexedDbError$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return"FirebaseError"===e.name?e.code===Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION||e.code===Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}
async function __PRIVATE_ensureOfflineComponents$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=
t;if(!__PRIVATE_canFallbackFromIndexedDbError$$module$third_party$javascript$firebase$dist$firebase_firestore(n))throw n;__PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore("Error using user provided cache. Falling back to memory cache: "+n),await __PRIVATE_setOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e,new MemoryOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore)}}else __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirestoreClient",
"Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e,new MemoryOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore);return e._offlineComponents}
async function __PRIVATE_ensureOnlineComponents$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e,e._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("FirestoreClient",
"Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e,new OnlineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore))),e._onlineComponents}
function __PRIVATE_getPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_ensureOfflineComponents$$module$third_party$javascript$firebase$dist$firebase_firestore(e).then(e=>{return e.persistence})}function __PRIVATE_getLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_ensureOfflineComponents$$module$third_party$javascript$firebase$dist$firebase_firestore(e).then(e=>{return e.localStore})}
function __PRIVATE_getRemoteStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_ensureOnlineComponents$$module$third_party$javascript$firebase$dist$firebase_firestore(e).then(e=>{return e.remoteStore})}function __PRIVATE_getSyncEngine$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_ensureOnlineComponents$$module$third_party$javascript$firebase$dist$firebase_firestore(e).then(e=>{return e.syncEngine})}
function __PRIVATE_getDatastore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_ensureOnlineComponents$$module$third_party$javascript$firebase$dist$firebase_firestore(e).then(e=>{return e.datastore})}
async function __PRIVATE_getEventManager$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=await __PRIVATE_ensureOnlineComponents$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const n=t.eventManager;return n.onListen=__PRIVATE_syncEngineListen$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,t.syncEngine),n.onUnlisten=__PRIVATE_syncEngineUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore.bind(null,t.syncEngine),
n}
function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n={}){const i=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;return e.asyncQueue.enqueueAndForget(async()=>{return function __PRIVATE_readDocumentViaSnapshotListener(e,t,n,i,s){const o=new __PRIVATE_AsyncObserver$$module$third_party$javascript$firebase$dist$firebase_firestore({next:o=>{t.enqueueAndForget(()=>{return __PRIVATE_eventManagerUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore(e,u)});
const l=o.docs.has(n);!l&&o.fromCache?s.reject(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&i&&"server"===i.source?s.reject(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):
s.resolve(o)},error:e=>{return s.reject(e)}});const u=new __PRIVATE_QueryListener$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_newQueryForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(n.path),o,{includeMetadataChanges:!0,J_:!0});return __PRIVATE_eventManagerListen$$module$third_party$javascript$firebase$dist$firebase_firestore(e,u)}(await __PRIVATE_getEventManager$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e.asyncQueue,t,
n,i)}),i.promise}
function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n={}){const i=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;return e.asyncQueue.enqueueAndForget(async()=>{return function __PRIVATE_executeQueryViaSnapshotListener(e,t,n,i,s){const o=new __PRIVATE_AsyncObserver$$module$third_party$javascript$firebase$dist$firebase_firestore({next:n=>{t.enqueueAndForget(()=>{return __PRIVATE_eventManagerUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
u)}),n.fromCache&&"server"===i.source?s.reject(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>{return s.reject(e)}});const u=new __PRIVATE_QueryListener$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
o,{includeMetadataChanges:!0,J_:!0});return __PRIVATE_eventManagerListen$$module$third_party$javascript$firebase$dist$firebase_firestore(e,u)}(await __PRIVATE_getEventManager$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e.asyncQueue,t,n,i)}),i.promise}
function __PRIVATE_firestoreClientLoadBundle$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){const s=function __PRIVATE_createBundleReader(e,t){let n;return n="string"==typeof e?__PRIVATE_newTextEncoder$$module$third_party$javascript$firebase$dist$firebase_firestore().encode(e):e,function __PRIVATE_newBundleReader(e,t){return new __PRIVATE_BundleReaderImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}(function __PRIVATE_toByteStreamReader(e,t){if(e instanceof
Uint8Array)return __PRIVATE_toByteStreamReaderHelper$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t);if(e instanceof ArrayBuffer)return __PRIVATE_toByteStreamReaderHelper$$module$third_party$javascript$firebase$dist$firebase_firestore(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream");}(n),t)}(n,__PRIVATE_newSerializer$$module$third_party$javascript$firebase$dist$firebase_firestore(t));
e.asyncQueue.enqueueAndForget(async()=>{!function __PRIVATE_syncEngineLoadBundle(e,t,n){const i=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);(async function __PRIVATE_loadBundleImpl(e,t,n){try{const i=await t.getMetadata();if(await function __PRIVATE_localStoreHasNewerBundle(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=__PRIVATE_fromVersion$$module$third_party$javascript$firebase$dist$firebase_firestore(t.createTime);
return n.persistence.runTransaction("hasNewerBundle","readonly",e=>{return n.Kr.getBundleMetadata(e,t.id)}).then(e=>{return!!e&&e.createTime.compareTo(i)>=0})}(e.localStore,i))return await t.close(),n._completeWith(function __PRIVATE_bundleSuccessProgress(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),Promise.resolve(new Set);n._updateProgress(__PRIVATE_bundleInitialProgress$$module$third_party$javascript$firebase$dist$firebase_firestore(i));
const s=new __PRIVATE_BundleLoader$$module$third_party$javascript$firebase$dist$firebase_firestore(i,e.localStore,t.serializer);let o=await t.Ma();for(;o;){const e=await s.ea(o);e&&n._updateProgress(e),o=await t.Ma()}const u=await s.complete();return await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,u.ra,void 0),await function __PRIVATE_localStoreSaveBundle(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
return n.persistence.runTransaction("Save bundle","readwrite",e=>{return n.Kr.saveBundleMetadata(e,t)})}(e.localStore,i),n._completeWith(u.progress),Promise.resolve(u.na)}catch(e){return __PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(i,t,n).then(e=>{i.sharedClientState.notifyBundleLoaded(e)})}(await __PRIVATE_getSyncEngine$$module$third_party$javascript$firebase$dist$firebase_firestore(e),
s,i)})}function __PRIVATE_cloneLongPollingOptions$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Nt$$module$third_party$javascript$firebase$dist$firebase_firestore=new Map;
function __PRIVATE_validateNonEmptyArgument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){if(!n)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`);}
function __PRIVATE_validateIsNotUsedTogether$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){if(!0===t&&!0===i)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`);}
function __PRIVATE_validateDocumentPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(!DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.isDocumentKey(e))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`);}
function __PRIVATE_validateCollectionPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.isDocumentKey(e))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`);}
function __PRIVATE_valueDescription$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function __PRIVATE_tryGetCustomObjectType(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:
"an object"}}return"function"==typeof e?"a function":fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}
function __PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=__PRIVATE_valueDescription$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`);}}return e}
function __PRIVATE_validatePositiveNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(t<=0)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`);}
class FirestoreSettingsImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){var t;var n;if(void 0===e.host){if(void 0!==e.ssl)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=
e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether$$module$third_party$javascript$firebase$dist$firebase_firestore("experimentalForceLongPolling",
e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions$$module$third_party$javascript$firebase$dist$firebase_firestore(null!==
(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function __PRIVATE_validateLongPollingOptions(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`);}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===
e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function __PRIVATE_longPollingOptionsEqual(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
class Firestore$1$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl$$module$third_party$javascript$firebase$dist$firebase_firestore({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,
"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");
this._settings=new FirestoreSettingsImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e),void 0!==e.credentials&&(this._authCredentials=function __PRIVATE_makeAuthCredentialsProvider(e){if(!e)return new __PRIVATE_EmptyAuthCredentialsProvider$$module$third_party$javascript$firebase$dist$firebase_firestore;switch(e.type){case "firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e.sessionIndex||"0",e.iamToken||
null,e.authTokenFactory||null);case "provider":return e.client;default:throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type");}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),
this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function __PRIVATE_removeComponents(e){const t=Nt$$module$third_party$javascript$firebase$dist$firebase_firestore.get(e);t&&(__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("ComponentProvider","Removing Datastore"),Nt$$module$third_party$javascript$firebase$dist$firebase_firestore.delete(e),t.terminate())}(this),Promise.resolve()}}
function connectFirestoreEmulator$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i={}){var s;const o=(e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$1$$module$third_party$javascript$firebase$dist$firebase_firestore))._getSettings();const u=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==u&&__PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),
e._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),i.mockUserToken){let t;let n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=User$$module$third_party$javascript$firebase$dist$firebase_firestore.MOCK_USER;else{t=function createMockUserToken(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project";const i=e.iat||0;const s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");
const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[base64urlEncodeWithoutPadding$$module$third_party$javascript$firebase$dist$firebase_firestore(JSON.stringify({alg:"none",type:"JWT"})),base64urlEncodeWithoutPadding$$module$third_party$javascript$firebase$dist$firebase_firestore(JSON.stringify(o)),""].join(".")}(i.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);
const o=i.mockUserToken.sub||i.mockUserToken.user_id;if(!o)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new User$$module$third_party$javascript$firebase$dist$firebase_firestore(o)}e._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(new __PRIVATE_OAuthToken$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
n))}}class Query$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Query$$module$third_party$javascript$firebase$dist$firebase_firestore(this.firestore,e,this._query)}}
class DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference$$module$third_party$javascript$firebase$dist$firebase_firestore(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore(this.firestore,
e,this._key)}}
class CollectionReference$$module$third_party$javascript$firebase$dist$firebase_firestore extends Query$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){super(e,t,__PRIVATE_newQueryForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore(this.firestore,
null,new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(e))}withConverter(e){return new CollectionReference$$module$third_party$javascript$firebase$dist$firebase_firestore(this.firestore,e,this._path)}}
function collection$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,...n){if(e=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(e),__PRIVATE_validateNonEmptyArgument$$module$third_party$javascript$firebase$dist$firebase_firestore("collection","path",t),e instanceof Firestore$1$$module$third_party$javascript$firebase$dist$firebase_firestore){const i=ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(t,...n);
return __PRIVATE_validateCollectionPath$$module$third_party$javascript$firebase$dist$firebase_firestore(i),new CollectionReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,null,i)}{if(!(e instanceof DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore||e instanceof CollectionReference$$module$third_party$javascript$firebase$dist$firebase_firestore))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(t,...n));return __PRIVATE_validateCollectionPath$$module$third_party$javascript$firebase$dist$firebase_firestore(i),new CollectionReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,null,i)}}
function collectionGroup$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$1$$module$third_party$javascript$firebase$dist$firebase_firestore),__PRIVATE_validateNonEmptyArgument$$module$third_party$javascript$firebase$dist$firebase_firestore("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Query$$module$third_party$javascript$firebase$dist$firebase_firestore(e,null,function __PRIVATE_newQueryForCollectionGroup(e){return new __PRIVATE_QueryImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.emptyPath(),e)}(t))}
function doc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,...n){if(e=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(e),1===arguments.length&&(t=__PRIVATE_AutoId$$module$third_party$javascript$firebase$dist$firebase_firestore.newId()),__PRIVATE_validateNonEmptyArgument$$module$third_party$javascript$firebase$dist$firebase_firestore("doc","path",t),e instanceof Firestore$1$$module$third_party$javascript$firebase$dist$firebase_firestore){const i=
ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(t,...n);return __PRIVATE_validateDocumentPath$$module$third_party$javascript$firebase$dist$firebase_firestore(i),new DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,null,new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(i))}{if(!(e instanceof DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore||e instanceof CollectionReference$$module$third_party$javascript$firebase$dist$firebase_firestore))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(t,...n));return __PRIVATE_validateDocumentPath$$module$third_party$javascript$firebase$dist$firebase_firestore(i),new DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,e instanceof CollectionReference$$module$third_party$javascript$firebase$dist$firebase_firestore?
e.converter:null,new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(i))}}
function refEqual$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(t),(e instanceof DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore||e instanceof CollectionReference$$module$third_party$javascript$firebase$dist$firebase_firestore)&&(t instanceof DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore||
t instanceof CollectionReference$$module$third_party$javascript$firebase$dist$firebase_firestore)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}
function queryEqual$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(t),e instanceof Query$$module$third_party$javascript$firebase$dist$firebase_firestore&&t instanceof Query$$module$third_party$javascript$firebase$dist$firebase_firestore&&e.firestore===t.firestore&&__PRIVATE_queryEquals$$module$third_party$javascript$firebase$dist$firebase_firestore(e._query,
t._query)&&e.converter===t.converter}
class __PRIVATE_AsyncQueueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new __PRIVATE_ExponentialBackoff$$module$third_party$javascript$firebase$dist$firebase_firestore(this,"async_queue_retry"),this.iu=()=>{const e=getDocument$$module$third_party$javascript$firebase$dist$firebase_firestore();e&&__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("AsyncQueue","Visibility state changed to "+
e.visibilityState),this.zo.Qo()};const e=getDocument$$module$third_party$javascript$firebase$dist$firebase_firestore();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=getDocument$$module$third_party$javascript$firebase$dist$firebase_firestore();t&&"function"==
typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;return this.ou(()=>{return this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)}).then(()=>{return t.promise})}enqueueRetryable(e){this.enqueueAndForget(()=>{return this.Ya.push(e),this._u()})}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),
this.Ya.shift(),this.zo.reset()}catch(e){if(!__PRIVATE_isIndexedDbTransactionError$$module$third_party$javascript$firebase$dist$firebase_firestore(e))throw e;__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>{return this._u()})}}ou(e){const t=this.Ja.then(()=>{return this.tu=!0,e().catch(e=>{this.eu=e,this.tu=!1;const t=function __PRIVATE_getMessageOrStack(e){let t=e.message||
"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw __PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore("INTERNAL UNHANDLED ERROR: ",t),e;}).then(e=>{return this.tu=!1,e})});return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=DelayedOperation$$module$third_party$javascript$firebase$dist$firebase_firestore.createAndSchedule(this,e,t,n,e=>{return this.au(e)});return this.Xa.push(i),i}su(){this.eu&&
fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((e,t)=>{return e.targetTimeMs-t.targetTimeMs});for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}
function __PRIVATE_isPartialObserver$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return function __PRIVATE_implementsAnyMethods(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(e,["next","error","complete"])}
class LoadBundleTask$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this._progressObserver={},this._taskCompletionResolver=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,
t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}
const Mt$$module$third_party$javascript$firebase$dist$firebase_firestore=-1;
class Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore extends Firestore$1$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=function __PRIVATE_newAsyncQueue(){return new __PRIVATE_AsyncQueueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore}(),this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore$$module$third_party$javascript$firebase$dist$firebase_firestore(this),
this._firestoreClient.terminate()}}
function initializeFirestore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){n||(n="(default)");const i=_getProvider$$module$third_party$javascript$firebase$dist$firebase_app(e,"firestore");if(i.isInitialized(n)){const e=i.getImmediate({identifier:n});if(deepEqual$$module$third_party$javascript$firebase$dist$firebase_firestore(i.getOptions(n),t))return e;throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.");
}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
"cacheSizeBytes must be at least 1048576");return i.initialize({options:t,instanceIdentifier:n})}
function getFirestore$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const i="object"==typeof e?e:getApp$$module$third_party$javascript$firebase$dist$firebase_app();const s="string"==typeof e?e:t||"(default)";const o=_getProvider$$module$third_party$javascript$firebase$dist$firebase_app(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const e=getDefaultEmulatorHostnameAndPort$$module$third_party$javascript$firebase$dist$firebase_firestore("firestore");e&&connectFirestoreEmulator$$module$third_party$javascript$firebase$dist$firebase_firestore(o,
...e)}return o}function ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return e._firestoreClient||__PRIVATE_configureFirestore$$module$third_party$javascript$firebase$dist$firebase_firestore(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}
function __PRIVATE_configureFirestore$$module$third_party$javascript$firebase$dist$firebase_firestore(e){var t;var n;var i;const s=e._freezeSettings();const o=function __PRIVATE_makeDatabaseInfo(e,t,n,i){return new DatabaseInfo$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions$$module$third_party$javascript$firebase$dist$firebase_firestore(i.experimentalLongPollingOptions),
i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new FirestoreClient$$module$third_party$javascript$firebase$dist$firebase_firestore(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=s.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,
_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}
function enableIndexedDbPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){__PRIVATE_verifyNotInitialized$$module$third_party$javascript$firebase$dist$firebase_firestore(e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore));const n=ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(n._uninitializedComponentsProvider)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,
"SDK cache is already specified.");__PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=e._freezeSettings();const s=new OnlineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore;return __PRIVATE_setPersistenceProviders$$module$third_party$javascript$firebase$dist$firebase_firestore(n,s,new __PRIVATE_IndexedDbOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(s,
i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}
function enableMultiTabIndexedDbPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore(e){__PRIVATE_verifyNotInitialized$$module$third_party$javascript$firebase$dist$firebase_firestore(e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore));const t=ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if(t._uninitializedComponentsProvider)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,
"SDK cache is already specified.");__PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();const i=new OnlineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore;return __PRIVATE_setPersistenceProviders$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i,new __PRIVATE_MultiTabOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(i,
n.cacheSizeBytes))}
function __PRIVATE_setPersistenceProviders$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;return e.asyncQueue.enqueue(async()=>{try{await __PRIVATE_setOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n),await __PRIVATE_setOnlineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t),i.resolve()}catch(e){const t=e;
if(!__PRIVATE_canFallbackFromIndexedDbError$$module$third_party$javascript$firebase$dist$firebase_firestore(t))throw t;__PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore("Error enabling indexeddb cache. Falling back to memory cache: "+t),i.reject(t)}}).then(()=>{return i.promise})}
function clearIndexedDbPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(e._initialized&&!e._terminated)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;
return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function __PRIVATE_indexedDbClearPersistence(e){if(!__PRIVATE_SimpleDb$$module$third_party$javascript$firebase$dist$firebase_firestore.D())return Promise.resolve();const t=e+"main";await __PRIVATE_SimpleDb$$module$third_party$javascript$firebase$dist$firebase_firestore.delete(t)}(__PRIVATE_indexedDbStoragePrefix$$module$third_party$javascript$firebase$dist$firebase_firestore(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),
t.promise}
function waitForPendingWrites$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return function __PRIVATE_firestoreClientWaitForPendingWrites(e){const t=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;return e.asyncQueue.enqueueAndForget(async()=>{return async function __PRIVATE_syncEngineRegisterPendingWritesCallback(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);__PRIVATE_canUseNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore(n.remoteStore)||__PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("SyncEngine",
"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function __PRIVATE_localStoreGetHighestUnacknowledgedBatchId(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>{return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})}(n.localStore);if(-1===e)return void t.resolve();const i=
n.ba.get(e)||[];i.push(t),n.ba.set(e,i)}catch(e){const n=__PRIVATE_wrapInUserErrorIfRecoverable$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await __PRIVATE_getSyncEngine$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t)}),t.promise}(ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore)))}
function enableNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return function __PRIVATE_firestoreClientEnableNetwork(e){return e.asyncQueue.enqueue(async()=>{const t=await __PRIVATE_getPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const n=await __PRIVATE_getRemoteStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t.setNetworkEnabled(!0),function __PRIVATE_remoteStoreEnableNetwork(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
return t.C_.delete(0),__PRIVATE_enableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(t)}(n)})}(ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore)))}
function disableNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return function __PRIVATE_firestoreClientDisableNetwork(e){return e.asyncQueue.enqueue(async()=>{const t=await __PRIVATE_getPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const n=await __PRIVATE_getRemoteStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t.setNetworkEnabled(!1),async function __PRIVATE_remoteStoreDisableNetwork(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
t.C_.add(0),await __PRIVATE_disableNetworkInternal$$module$third_party$javascript$firebase$dist$firebase_firestore(t),t.M_.set("Offline")}(n)})}(ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore)))}
function terminate$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return _removeServiceInstance$$module$third_party$javascript$firebase$dist$firebase_app(e.app,"firestore",e._databaseId.database),e._delete()}
function loadBundle$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore));const i=new LoadBundleTask$$module$third_party$javascript$firebase$dist$firebase_firestore;return __PRIVATE_firestoreClientLoadBundle$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
e._databaseId,t,i),i}
function namedQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return function __PRIVATE_firestoreClientGetNamedQuery(e,t){return e.asyncQueue.enqueue(async()=>{return function __PRIVATE_localStoreGetNamedQuery(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return n.persistence.runTransaction("Get named query","readonly",e=>{return n.Kr.getNamedQuery(e,t)})}(await __PRIVATE_getLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t)})}(ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e=
__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore)),t).then(t=>{return t?new Query$$module$third_party$javascript$firebase$dist$firebase_firestore(e,null,t.query):null})}
function __PRIVATE_verifyNotInitialized$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if(e._initialized||e._terminated)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");}
class AggregateField$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class AggregateQuerySnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}
class Bytes$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bytes$$module$third_party$javascript$firebase$dist$firebase_firestore(ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.fromBase64String(e))}catch(e){throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+
e);}}static fromUint8Array(e){return new Bytes$$module$third_party$javascript$firebase$dist$firebase_firestore(ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
class FieldPath$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
function documentId$$module$third_party$javascript$firebase$dist$firebase_firestore(){return new FieldPath$$module$third_party$javascript$firebase$dist$firebase_firestore("__name__")}class FieldValue$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this._methodName=e}}
class GeoPoint$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return __PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(this._lat,e._lat)||__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore(this._long,
e._long)}}const kt$$module$third_party$javascript$firebase$dist$firebase_firestore=/^__.*__$/;
class ParsedSetData$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new __PRIVATE_PatchMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this.data,this.fieldMask,t,this.fieldTransforms):new __PRIVATE_SetMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this.data,t,this.fieldTransforms)}}
class ParsedUpdateData$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new __PRIVATE_PatchMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this.data,this.fieldMask,t,this.fieldTransforms)}}
function __PRIVATE_isWrite$$module$third_party$javascript$firebase$dist$firebase_firestore(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();}}
class __PRIVATE_ParseContextImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new __PRIVATE_ParseContextImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(Object.assign(Object.assign({},this.settings),
e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e);const i=this.Tu({path:n,du:!1});return i.Au(e),i}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e);const i=this.Tu({path:n,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return __PRIVATE_createError$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this.settings.methodName,
this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>{return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(t=>{return e.isPrefixOf(t.field)})}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(__PRIVATE_isWrite$$module$third_party$javascript$firebase$dist$firebase_firestore(this.Iu)&&kt$$module$third_party$javascript$firebase$dist$firebase_firestore.test(e))throw this.mu('Document fields cannot begin and end with "__"');
}}
class __PRIVATE_UserDataReader$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||__PRIVATE_newSerializer$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}pu(e,t,n,i=!1){return new __PRIVATE_ParseContextImpl$$module$third_party$javascript$firebase$dist$firebase_firestore({Iu:e,methodName:t,gu:n,path:FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore.emptyPath(),du:!1,
fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader$$module$third_party$javascript$firebase$dist$firebase_firestore(e){const t=e._freezeSettings();const n=__PRIVATE_newSerializer$$module$third_party$javascript$firebase$dist$firebase_firestore(e._databaseId);return new __PRIVATE_UserDataReader$$module$third_party$javascript$firebase$dist$firebase_firestore(e._databaseId,!!t.ignoreUndefinedProperties,n)}
function __PRIVATE_parseSetData$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s,o={}){const u=e.pu(o.merge||o.mergeFields?2:0,t,n,s);__PRIVATE_validatePlainObject$$module$third_party$javascript$firebase$dist$firebase_firestore("Data must be an object, but it was:",u,i);const l=__PRIVATE_parseObject$$module$third_party$javascript$firebase$dist$firebase_firestore(i,u);let _;let h;if(o.merge)_=new FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore(u.fieldMask),
h=u.fieldTransforms;else if(o.mergeFields){const e=[];for(const i of o.mergeFields){const s=__PRIVATE_fieldPathFromArgument$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i,n);if(!u.contains(s))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
s)||e.push(s)}_=new FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore(e),h=u.fieldTransforms.filter(e=>{return _.covers(e.field)})}else _=null,h=u.fieldTransforms;return new ParsedSetData$$module$third_party$javascript$firebase$dist$firebase_firestore(new ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore(l),_,h)}
class __PRIVATE_DeleteFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldValue$$module$third_party$javascript$firebase$dist$firebase_firestore{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof __PRIVATE_DeleteFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore}}
function __PRIVATE_createSentinelChildContext$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){return new __PRIVATE_ParseContextImpl$$module$third_party$javascript$firebase$dist$firebase_firestore({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}
class __PRIVATE_ServerTimestampFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldValue$$module$third_party$javascript$firebase$dist$firebase_firestore{_toFieldTransform(e){return new FieldTransform$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,new __PRIVATE_ServerTimestampTransform$$module$third_party$javascript$firebase$dist$firebase_firestore)}isEqual(e){return e instanceof __PRIVATE_ServerTimestampFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore}}
class __PRIVATE_ArrayUnionFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldValue$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=__PRIVATE_createSentinelChildContext$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e,!0);const n=this.yu.map(e=>{return __PRIVATE_parseData$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)});const i=new __PRIVATE_ArrayUnionTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(n);
return new FieldTransform$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,i)}isEqual(e){return this===e}}
class __PRIVATE_ArrayRemoveFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldValue$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=__PRIVATE_createSentinelChildContext$$module$third_party$javascript$firebase$dist$firebase_firestore(this,e,!0);const n=this.yu.map(e=>{return __PRIVATE_parseData$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)});const i=new __PRIVATE_ArrayRemoveTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(n);
return new FieldTransform$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,i)}isEqual(e){return this===e}}
class __PRIVATE_NumericIncrementFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore extends FieldValue$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new __PRIVATE_NumericIncrementTransformOperation$$module$third_party$javascript$firebase$dist$firebase_firestore(e.serializer,toNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.serializer,this.wu));return new FieldTransform$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,
t)}isEqual(e){return this===e}}
function __PRIVATE_parseUpdateData$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){const s=e.pu(1,t,n);__PRIVATE_validatePlainObject$$module$third_party$javascript$firebase$dist$firebase_firestore("Data must be an object, but it was:",s,i);const o=[];const u=ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore.empty();forEach$$module$third_party$javascript$firebase$dist$firebase_firestore(i,(e,i)=>{const l=__PRIVATE_fieldPathFromDotSeparatedString$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e,
n);i=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(i);const _=s.Ru(l);if(i instanceof __PRIVATE_DeleteFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore)o.push(l);else{const e=__PRIVATE_parseData$$module$third_party$javascript$firebase$dist$firebase_firestore(i,_);null!=e&&(o.push(l),u.set(l,e))}});const l=new FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore(o);return new ParsedUpdateData$$module$third_party$javascript$firebase$dist$firebase_firestore(u,
l,s.fieldTransforms)}
function __PRIVATE_parseUpdateVarargs$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s,o){const u=e.pu(1,t,n);const l=[__PRIVATE_fieldPathFromArgument$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i,n)];const _=[s];if(o.length%2!=0)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=
0;e<o.length;e=e+2)l.push(__PRIVATE_fieldPathFromArgument$1$$module$third_party$javascript$firebase$dist$firebase_firestore(t,o[e])),_.push(o[e+1]);const h=[];const d=ObjectValue$$module$third_party$javascript$firebase$dist$firebase_firestore.empty();for(let e=l.length-1;e>=0;--e)if(!__PRIVATE_fieldMaskContains$$module$third_party$javascript$firebase$dist$firebase_firestore(h,l[e])){const t=l[e];let n=_[e];n=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(n);const i=
u.Ru(t);if(n instanceof __PRIVATE_DeleteFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore)h.push(t);else{const e=__PRIVATE_parseData$$module$third_party$javascript$firebase$dist$firebase_firestore(n,i);null!=e&&(h.push(t),d.set(t,e))}}const m=new FieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore(h);return new ParsedUpdateData$$module$third_party$javascript$firebase$dist$firebase_firestore(d,m,u.fieldTransforms)}
function __PRIVATE_parseQueryValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i=!1){return __PRIVATE_parseData$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e.pu(i?4:3,t))}
function __PRIVATE_parseData$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(__PRIVATE_looksLikeJsonObject$$module$third_party$javascript$firebase$dist$firebase_firestore(e=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(e)))return __PRIVATE_validatePlainObject$$module$third_party$javascript$firebase$dist$firebase_firestore("Unsupported field value:",t,e),__PRIVATE_parseObject$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t);if(e instanceof FieldValue$$module$third_party$javascript$firebase$dist$firebase_firestore)return function __PRIVATE_parseSentinelFieldValue(e,t){if(!__PRIVATE_isWrite$$module$third_party$javascript$firebase$dist$firebase_firestore(t.Iu))throw t.mu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.mu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;
if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function __PRIVATE_parseArray(e,t){const n=[];let i=0;for(const s of e){let e=__PRIVATE_parseData$$module$third_party$javascript$firebase$dist$firebase_firestore(s,t.Vu(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function __PRIVATE_parseScalarValue(e,t){if(null===(e=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(e)))return{nullValue:"NULL_VALUE"};
if("number"==typeof e)return toNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore.fromDate(e);return{timestampValue:toTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.serializer,n)}}if(e instanceof Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore){const n=
new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e.seconds,1E3*Math.floor(e.nanoseconds/1E3));return{timestampValue:toTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.serializer,n)}}if(e instanceof GeoPoint$$module$third_party$javascript$firebase$dist$firebase_firestore)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bytes$$module$third_party$javascript$firebase$dist$firebase_firestore)return{bytesValue:__PRIVATE_toBytes$$module$third_party$javascript$firebase$dist$firebase_firestore(t.serializer,
e._byteString)};if(e instanceof DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore){const n=t.databaseId;const i=e.firestore._databaseId;if(!i.isEqual(n))throw t.mu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:__PRIVATE_toResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu(`Unsupported field value: ${__PRIVATE_valueDescription$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}`);
}(e,t)}function __PRIVATE_parseObject$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n={};return isEmpty$$module$third_party$javascript$firebase$dist$firebase_firestore(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):forEach$$module$third_party$javascript$firebase$dist$firebase_firestore(e,(e,i)=>{const s=__PRIVATE_parseData$$module$third_party$javascript$firebase$dist$firebase_firestore(i,t.Eu(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}
function __PRIVATE_looksLikeJsonObject$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore||e instanceof GeoPoint$$module$third_party$javascript$firebase$dist$firebase_firestore||e instanceof Bytes$$module$third_party$javascript$firebase$dist$firebase_firestore||e instanceof DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore||
e instanceof FieldValue$$module$third_party$javascript$firebase$dist$firebase_firestore)}
function __PRIVATE_validatePlainObject$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){if(!__PRIVATE_looksLikeJsonObject$$module$third_party$javascript$firebase$dist$firebase_firestore(n)||!function __PRIVATE_isPlainObject(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=__PRIVATE_valueDescription$$module$third_party$javascript$firebase$dist$firebase_firestore(n);throw"an object"===i?t.mu(e+" a custom object"):
t.mu(e+" "+i);}}
function __PRIVATE_fieldPathFromArgument$1$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){if((t=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(t))instanceof FieldPath$$module$third_party$javascript$firebase$dist$firebase_firestore)return t._internalPath;if("string"==typeof t)return __PRIVATE_fieldPathFromDotSeparatedString$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t);throw __PRIVATE_createError$$module$third_party$javascript$firebase$dist$firebase_firestore("Field path arguments must be of type string or ",e,
!1,void 0,n);}const Ot$$module$third_party$javascript$firebase$dist$firebase_firestore=new RegExp("[~\\*/\\[\\]]");
function __PRIVATE_fieldPathFromDotSeparatedString$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){if(t.search(Ot$$module$third_party$javascript$firebase$dist$firebase_firestore)>=0)throw __PRIVATE_createError$$module$third_party$javascript$firebase$dist$firebase_firestore(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return(new FieldPath$$module$third_party$javascript$firebase$dist$firebase_firestore(...t.split(".")))._internalPath}catch(i){throw __PRIVATE_createError$$module$third_party$javascript$firebase$dist$firebase_firestore(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,
e,!1,void 0,n);}}
function __PRIVATE_createError$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i,s){const o=i&&!i.isEmpty();const u=void 0!==s;let l=`Function ${t}() called with invalid data`;n&&(l=l+" (via `toFirestore()`)"),l=l+". ";let _="";return(o||u)&&(_=_+" (found",o&&(_=_+` in field ${i}`),u&&(_=_+` in document ${s}`),_=_+")"),new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,l+
e+_)}function __PRIVATE_fieldMaskContains$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e.some(e=>{return e.isEqual(t)})}
class DocumentSnapshot$1$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this._firestore,
this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(__PRIVATE_fieldPathFromArgument$$module$third_party$javascript$firebase$dist$firebase_firestore("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}
class QueryDocumentSnapshot$1$$module$third_party$javascript$firebase$dist$firebase_firestore extends DocumentSnapshot$1$$module$third_party$javascript$firebase$dist$firebase_firestore{data(){return super.data()}}
function __PRIVATE_fieldPathFromArgument$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return"string"==typeof t?__PRIVATE_fieldPathFromDotSeparatedString$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t):t instanceof FieldPath$$module$third_party$javascript$firebase$dist$firebase_firestore?t._internalPath:t._delegate._internalPath}
function __PRIVATE_validateHasExplicitOrderByForLimitToLast$$module$third_party$javascript$firebase$dist$firebase_firestore(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause");}
class AppliableConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore{}class QueryConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore extends AppliableConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore{}
function query$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,...n){let i=[];t instanceof AppliableConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore&&i.push(t),i=i.concat(n),function __PRIVATE_validateQueryConstraintArray(e){const t=e.filter(e=>{return e instanceof QueryCompositeFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore}).length;const n=e.filter(e=>{return e instanceof QueryFieldFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore}).length;
if(t>1||t>0&&n>0)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.");}(i);for(const t of i)e=t._apply(e);return e}
class QueryFieldFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore extends QueryConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new QueryFieldFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n)}_apply(e){const t=this._parse(e);return __PRIVATE_validateNewFieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e._query,
t),new Query$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e._query,t))}_parse(e){const t=__PRIVATE_newUserDataReader$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore);const n=function __PRIVATE_newQueryFilter(e,t,n,i,s,o,u){let l;if(s.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){__PRIVATE_validateDisjunctiveFilterElements$$module$third_party$javascript$firebase$dist$firebase_firestore(u,o);const t=[];for(const n of u)t.push(__PRIVATE_parseDocumentIdValue$$module$third_party$javascript$firebase$dist$firebase_firestore(i,e,n));l={arrayValue:{values:t}}}else l=__PRIVATE_parseDocumentIdValue$$module$third_party$javascript$firebase$dist$firebase_firestore(i,e,u)}else"in"!==o&&"not-in"!==
o&&"array-contains-any"!==o||__PRIVATE_validateDisjunctiveFilterElements$$module$third_party$javascript$firebase$dist$firebase_firestore(u,o),l=__PRIVATE_parseQueryValue$$module$third_party$javascript$firebase$dist$firebase_firestore(n,t,u,"in"===o||"not-in"===o);return FieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(s,o,l)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}
function where$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=t;const s=__PRIVATE_fieldPathFromArgument$$module$third_party$javascript$firebase$dist$firebase_firestore("where",e);return QueryFieldFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore._create(s,i,n)}
class QueryCompositeFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore extends AppliableConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new QueryCompositeFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}_parse(e){const t=this._queryConstraints.map(t=>{return t._parse(e)}).filter(e=>{return e.getFilters().length>0});return 1===
t.length?t[0]:CompositeFilter$$module$third_party$javascript$firebase$dist$firebase_firestore.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function __PRIVATE_validateNewFilter(e,t){let n=e;const i=t.getFlattenedFilters();for(const e of i)__PRIVATE_validateNewFieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e),n=__PRIVATE_queryWithAddedFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e)}(e._query,
t),new Query$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,e.converter,__PRIVATE_queryWithAddedFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}
function or$$module$third_party$javascript$firebase$dist$firebase_firestore(...e){return e.forEach(e=>{return __PRIVATE_validateQueryFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore("or",e)}),QueryCompositeFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore._create("or",e)}
function and$$module$third_party$javascript$firebase$dist$firebase_firestore(...e){return e.forEach(e=>{return __PRIVATE_validateQueryFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore("and",e)}),QueryCompositeFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore._create("and",e)}
class QueryOrderByConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore extends QueryConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new QueryOrderByConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t)}_apply(e){const t=function __PRIVATE_newQueryOrderBy(e,t,n){if(null!==e.startAt)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(t,n)}(e._query,this._field,this._direction);return new Query$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,
e.converter,function __PRIVATE_queryWithAddedOrderBy(e,t){const n=e.explicitOrderBy.concat([t]);return new __PRIVATE_QueryImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}
function orderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t="asc"){const n=t;const i=__PRIVATE_fieldPathFromArgument$$module$third_party$javascript$firebase$dist$firebase_firestore("orderBy",e);return QueryOrderByConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore._create(i,n)}
class QueryLimitConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore extends QueryConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new QueryLimitConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n)}_apply(e){return new Query$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,e.converter,__PRIVATE_queryWithLimit$$module$third_party$javascript$firebase$dist$firebase_firestore(e._query,
this._limit,this._limitType))}}function limit$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_validatePositiveNumber$$module$third_party$javascript$firebase$dist$firebase_firestore("limit",e),QueryLimitConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore._create("limit",e,"F")}
function limitToLast$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return __PRIVATE_validatePositiveNumber$$module$third_party$javascript$firebase$dist$firebase_firestore("limitToLast",e),QueryLimitConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore._create("limitToLast",e,"L")}
class QueryStartAtConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore extends QueryConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new QueryStartAtConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n)}_apply(e){const t=__PRIVATE_newQueryBoundFromDocOrFields$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
this.type,this._docOrFields,this._inclusive);return new Query$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,e.converter,function __PRIVATE_queryWithStartAt(e,t){return new __PRIVATE_QueryImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}
function startAt$$module$third_party$javascript$firebase$dist$firebase_firestore(...e){return QueryStartAtConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore._create("startAt",e,!0)}function startAfter$$module$third_party$javascript$firebase$dist$firebase_firestore(...e){return QueryStartAtConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore._create("startAfter",e,!1)}
class QueryEndAtConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore extends QueryConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new QueryEndAtConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n)}_apply(e){const t=__PRIVATE_newQueryBoundFromDocOrFields$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
this.type,this._docOrFields,this._inclusive);return new Query$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,e.converter,function __PRIVATE_queryWithEndAt(e,t){return new __PRIVATE_QueryImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}
function endBefore$$module$third_party$javascript$firebase$dist$firebase_firestore(...e){return QueryEndAtConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore._create("endBefore",e,!1)}function endAt$$module$third_party$javascript$firebase$dist$firebase_firestore(...e){return QueryEndAtConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore._create("endAt",e,!0)}
function __PRIVATE_newQueryBoundFromDocOrFields$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,i){if(n[0]=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(n[0]),n[0]instanceof DocumentSnapshot$1$$module$third_party$javascript$firebase$dist$firebase_firestore)return function __PRIVATE_newQueryBoundFromDocument(e,t,n,i,s){if(!i)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.NOT_FOUND,
`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const n of __PRIVATE_queryNormalizedOrderBy$$module$third_party$javascript$firebase$dist$firebase_firestore(e))if(n.field.isKeyField())o.push(__PRIVATE_refValue$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i.key));else{const e=i.data.field(n.field);if(__PRIVATE_isServerTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`);
}o.push(e)}return new Bound$$module$third_party$javascript$firebase$dist$firebase_firestore(o,s)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const s=__PRIVATE_newUserDataReader$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore);return function __PRIVATE_newQueryBoundFromFields(e,t,n,i,s,o){const u=e.explicitOrderBy;if(s.length>u.length)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
`Too many arguments provided to ${i}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const l=[];for(let o=0;o<s.length;o++){const _=s[o];if(u[o].field.isKeyField()){if("string"!=typeof _)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${i}(), but got a ${typeof _}`);if(!__PRIVATE_isCollectionGroupQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e)&&
-1!==_.indexOf("/"))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${i}() must be a plain document ID, but '${_}' contains a slash.`);const n=e.path.child(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(_));if(!DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.isDocumentKey(n))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${i}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const s=new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(n);l.push(__PRIVATE_refValue$$module$third_party$javascript$firebase$dist$firebase_firestore(t,s))}else{const e=__PRIVATE_parseQueryValue$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
i,_);l.push(e)}}return new Bound$$module$third_party$javascript$firebase$dist$firebase_firestore(l,o)}(e._query,e.firestore._databaseId,s,t,n,i)}}
function __PRIVATE_parseDocumentIdValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){if("string"==typeof(n=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(n))){if(""===n)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");
if(!__PRIVATE_isCollectionGroupQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(t)&&-1!==n.indexOf("/"))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(n));
if(!DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore.isDocumentKey(i))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return __PRIVATE_refValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(i))}if(n instanceof DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore)return __PRIVATE_refValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n._key);throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription$$module$third_party$javascript$firebase$dist$firebase_firestore(n)}.`);
}function __PRIVATE_validateDisjunctiveFilterElements$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(!Array.isArray(e)||0===e.length)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);}
function __PRIVATE_validateNewFieldFilter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=function __PRIVATE_findOpInsideFilters(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function __PRIVATE_conflictingOps(e){switch(e){case "!=":return["!=","not-in"];case "array-contains-any":case "in":return["not-in"];case "not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==
n)throw n===t.op?new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`);
}
function __PRIVATE_validateQueryFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if(!(t instanceof QueryFieldFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore||t instanceof QueryCompositeFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`);
}
class AbstractUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore{convertValue(e,t="none"){switch(__PRIVATE_typeOrder$$module$third_party$javascript$firebase$dist$firebase_firestore(e)){case 0:return null;case 1:return e.booleanValue;case 2:return __PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString$$module$third_party$javascript$firebase$dist$firebase_firestore(e.bytesValue));
case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return forEach$$module$third_party$javascript$firebase$dist$firebase_firestore(e,(e,i)=>{n[e]=this.convertValue(i,
t)}),n}convertGeoPoint(e){return new GeoPoint$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.latitude),__PRIVATE_normalizeNumber$$module$third_party$javascript$firebase$dist$firebase_firestore(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>{return this.convertValue(e,t)})}convertServerTimestamp(e,t){switch(t){case "previous":const n=__PRIVATE_getPreviousValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
return null==n?null:this.convertValue(n,t);case "estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime$$module$third_party$javascript$firebase$dist$firebase_firestore(e));default:return null}}convertTimestamp(e){const t=__PRIVATE_normalizeTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return new Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ResourcePath$$module$third_party$javascript$firebase$dist$firebase_firestore.fromString(e);
__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_isValidResourceName$$module$third_party$javascript$firebase$dist$firebase_firestore(n));const i=new DatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore(n.get(1),n.get(3));const s=new DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore(n.popFirst(5));return i.isEqual(t)||__PRIVATE_logError$$module$third_party$javascript$firebase$dist$firebase_firestore(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),
s}}function __PRIVATE_applyFirestoreDataConverter$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}
class __PRIVATE_LiteUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore extends AbstractUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore(this.firestore,
null,t)}}function sum$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new AggregateField$$module$third_party$javascript$firebase$dist$firebase_firestore("sum",__PRIVATE_fieldPathFromArgument$1$$module$third_party$javascript$firebase$dist$firebase_firestore("sum",e))}
function average$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new AggregateField$$module$third_party$javascript$firebase$dist$firebase_firestore("avg",__PRIVATE_fieldPathFromArgument$1$$module$third_party$javascript$firebase$dist$firebase_firestore("average",e))}function count$$module$third_party$javascript$firebase$dist$firebase_firestore(){return new AggregateField$$module$third_party$javascript$firebase$dist$firebase_firestore("count")}
function aggregateFieldEqual$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){var n;var i;return e instanceof AggregateField$$module$third_party$javascript$firebase$dist$firebase_firestore&&t instanceof AggregateField$$module$third_party$javascript$firebase$dist$firebase_firestore&&e.aggregateType===t.aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(i=t._internalFieldPath)||void 0===i?void 0:i.canonicalString())}
function aggregateQuerySnapshotEqual$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return queryEqual$$module$third_party$javascript$firebase$dist$firebase_firestore(e.query,t.query)&&deepEqual$$module$third_party$javascript$firebase$dist$firebase_firestore(e.data(),t.data())}
class SnapshotMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}
class DocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore extends DocumentSnapshot$1$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i,s,o){super(e,t,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new QueryDocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(this._firestore,this._userDataWriter,this._key,
this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(__PRIVATE_fieldPathFromArgument$$module$third_party$javascript$firebase$dist$firebase_firestore("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}
class QueryDocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore extends DocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore{data(e={}){return super.data(e)}}
class QuerySnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new SnapshotMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>{return e.push(t)}),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,
new QueryDocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(this._firestore,this._userDataWriter,n.key,n,new SnapshotMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function __PRIVATE_changesFromSnapshot(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const i=new QueryDocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(e._firestore,e._userDataWriter,n.doc.key,n.doc,new SnapshotMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore(e._snapshot.mutatedKeys.has(n.doc.key),
e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>{return t||3!==e.type}).map(t=>{const i=new QueryDocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(e._firestore,e._userDataWriter,t.doc.key,t.doc,new SnapshotMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);
let s=-1;let o=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:__PRIVATE_resultChangeType$$module$third_party$javascript$firebase$dist$firebase_firestore(t.type),doc:i,oldIndex:s,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}
function __PRIVATE_resultChangeType$$module$third_party$javascript$firebase$dist$firebase_firestore(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail$$module$third_party$javascript$firebase$dist$firebase_firestore()}}
function snapshotEqual$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return e instanceof DocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore&&t instanceof DocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof QuerySnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore&&
t instanceof QuerySnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore&&e._firestore===t._firestore&&queryEqual$$module$third_party$javascript$firebase$dist$firebase_firestore(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
function getDoc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore);const t=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener$$module$third_party$javascript$firebase$dist$firebase_firestore(ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(t),
e._key).then(n=>{return __PRIVATE_convertToDocSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e,n)})}
class __PRIVATE_ExpUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore extends AbstractUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bytes$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore(this.firestore,
null,t)}}
function getDocFromCache$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore);const t=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);const n=ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(t);const i=
new __PRIVATE_ExpUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore(t);return function __PRIVATE_firestoreClientGetDocumentFromLocalCache(e,t){const n=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;return e.asyncQueue.enqueueAndForget(async()=>{return async function __PRIVATE_readDocumentFromCache(e,t,n){try{const i=await function __PRIVATE_localStoreReadDocument(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);
return n.persistence.runTransaction("read document","readonly",e=>{return n.localDocuments.getDocument(e,t)})}(e,t);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const i=
__PRIVATE_wrapInUserErrorIfRecoverable$$module$third_party$javascript$firebase$dist$firebase_firestore(e,`Failed to get document '${t} from cache`);n.reject(i)}}(await __PRIVATE_getLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t,n)}),n.promise}(n,e._key).then(n=>{return new DocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i,e._key,n,new SnapshotMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore(null!==n&&n.hasLocalMutations,
!0),e.converter)})}
function getDocFromServer$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore);const t=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener$$module$third_party$javascript$firebase$dist$firebase_firestore(ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(t),e._key,
{source:"server"}).then(n=>{return __PRIVATE_convertToDocSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e,n)})}
function getDocs$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Query$$module$third_party$javascript$firebase$dist$firebase_firestore);const t=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);const n=ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(t);
const i=new __PRIVATE_ExpUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore(t);return __PRIVATE_validateHasExplicitOrderByForLimitToLast$$module$third_party$javascript$firebase$dist$firebase_firestore(e._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e._query).then(n=>{return new QuerySnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i,e,n)})}
function getDocsFromCache$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Query$$module$third_party$javascript$firebase$dist$firebase_firestore);const t=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);const n=ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(t);
const i=new __PRIVATE_ExpUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore(t);return function __PRIVATE_firestoreClientGetDocumentsFromLocalCache(e,t){const n=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;return e.asyncQueue.enqueueAndForget(async()=>{return async function __PRIVATE_executeQueryFromCache(e,t,n){try{const i=await __PRIVATE_localStoreExecuteQuery$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,
!0);const s=new __PRIVATE_View$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i.ls);const o=s.ca(i.documents);const u=s.applyChanges(o,!1);n.resolve(u.snapshot)}catch(e){const i=__PRIVATE_wrapInUserErrorIfRecoverable$$module$third_party$javascript$firebase$dist$firebase_firestore(e,`Failed to execute query '${t} against cache`);n.reject(i)}}(await __PRIVATE_getLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t,n)}),n.promise}(n,e._query).then(n=>{return new QuerySnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
i,e,n)})}
function getDocsFromServer$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Query$$module$third_party$javascript$firebase$dist$firebase_firestore);const t=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);const n=ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(t);const i=
new __PRIVATE_ExpUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore(t);return __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener$$module$third_party$javascript$firebase$dist$firebase_firestore(n,e._query,{source:"server"}).then(n=>{return new QuerySnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i,e,n)})}
function setDoc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore);const i=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);const s=__PRIVATE_applyFirestoreDataConverter$$module$third_party$javascript$firebase$dist$firebase_firestore(e.converter,
t,n);return executeWrite$$module$third_party$javascript$firebase$dist$firebase_firestore(i,[__PRIVATE_parseSetData$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_newUserDataReader$$module$third_party$javascript$firebase$dist$firebase_firestore(i),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.none())])}
function updateDoc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n,...i){e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore);const s=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);const o=__PRIVATE_newUserDataReader$$module$third_party$javascript$firebase$dist$firebase_firestore(s);
let u;return u="string"==typeof(t=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(t))||t instanceof FieldPath$$module$third_party$javascript$firebase$dist$firebase_firestore?__PRIVATE_parseUpdateVarargs$$module$third_party$javascript$firebase$dist$firebase_firestore(o,"updateDoc",e._key,t,n,i):__PRIVATE_parseUpdateData$$module$third_party$javascript$firebase$dist$firebase_firestore(o,"updateDoc",e._key,t),executeWrite$$module$third_party$javascript$firebase$dist$firebase_firestore(s,
[u.toMutation(e._key,Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.exists(!0))])}
function deleteDoc$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return executeWrite$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore),[new __PRIVATE_DeleteMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e._key,Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.none())])}
function addDoc$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);const i=doc$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const s=__PRIVATE_applyFirestoreDataConverter$$module$third_party$javascript$firebase$dist$firebase_firestore(e.converter,t);return executeWrite$$module$third_party$javascript$firebase$dist$firebase_firestore(n,
[__PRIVATE_parseSetData$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_newUserDataReader$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore),"addDoc",i._key,s,null!==e.converter,{}).toMutation(i._key,Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.exists(!1))]).then(()=>{return i})}
function onSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(e,...t){var n;var i;var s;e=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(e);let o={includeMetadataChanges:!1};let u=0;"object"!=typeof t[u]||__PRIVATE_isPartialObserver$$module$third_party$javascript$firebase$dist$firebase_firestore(t[u])||(o=t[u],u++);const l={includeMetadataChanges:o.includeMetadataChanges};if(__PRIVATE_isPartialObserver$$module$third_party$javascript$firebase$dist$firebase_firestore(t[u])){const e=
t[u];t[u]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[u+1]=null===(i=e.error)||void 0===i?void 0:i.bind(e),t[u+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let _;let h;let d;if(e instanceof DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore)h=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore),d=__PRIVATE_newQueryForPath$$module$third_party$javascript$firebase$dist$firebase_firestore(e._key.path),
_={next:n=>{t[u]&&t[u](__PRIVATE_convertToDocSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(h,e,n))},error:t[u+1],complete:t[u+2]};else{const n=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Query$$module$third_party$javascript$firebase$dist$firebase_firestore);h=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(n.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore),d=n._query;
const i=new __PRIVATE_ExpUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore(h);_={next:e=>{t[u]&&t[u](new QuerySnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(h,i,n,e))},error:t[u+1],complete:t[u+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast$$module$third_party$javascript$firebase$dist$firebase_firestore(e._query)}return function __PRIVATE_firestoreClientListen(e,t,n,i){const s=new __PRIVATE_AsyncObserver$$module$third_party$javascript$firebase$dist$firebase_firestore(i);
const o=new __PRIVATE_QueryListener$$module$third_party$javascript$firebase$dist$firebase_firestore(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>{return __PRIVATE_eventManagerListen$$module$third_party$javascript$firebase$dist$firebase_firestore(await __PRIVATE_getEventManager$$module$third_party$javascript$firebase$dist$firebase_firestore(e),o)}),()=>{s.Na(),e.asyncQueue.enqueueAndForget(async()=>{return __PRIVATE_eventManagerUnlisten$$module$third_party$javascript$firebase$dist$firebase_firestore(await __PRIVATE_getEventManager$$module$third_party$javascript$firebase$dist$firebase_firestore(e),
o)})}}(ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(h),d,l,_)}
function onSnapshotsInSync$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return function __PRIVATE_firestoreClientAddSnapshotsInSyncListener(e,t){const n=new __PRIVATE_AsyncObserver$$module$third_party$javascript$firebase$dist$firebase_firestore(t);return e.asyncQueue.enqueueAndForget(async()=>{return function __PRIVATE_addSnapshotsInSyncListener(e,t){__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e).q_.add(t),t.next()}(await __PRIVATE_getEventManager$$module$third_party$javascript$firebase$dist$firebase_firestore(e),
n)}),()=>{n.Na(),e.asyncQueue.enqueueAndForget(async()=>{return function __PRIVATE_removeSnapshotsInSyncListener(e,t){__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e).q_.delete(t)}(await __PRIVATE_getEventManager$$module$third_party$javascript$firebase$dist$firebase_firestore(e),n)})}}(ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore)),
__PRIVATE_isPartialObserver$$module$third_party$javascript$firebase$dist$firebase_firestore(t)?t:{next:t})}
function executeWrite$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){return function __PRIVATE_firestoreClientWrite(e,t){const n=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;return e.asyncQueue.enqueueAndForget(async()=>{return async function __PRIVATE_syncEngineWrite(e,t,n){const i=__PRIVATE_syncEngineEnsureWriteCallbacks$$module$third_party$javascript$firebase$dist$firebase_firestore(e);try{const e=await function __PRIVATE_localStoreWriteLocally(e,
t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore.now();const s=t.reduce((e,t)=>{return e.add(t.key)},__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore());let o;let u;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let l=__PRIVATE_mutableDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore();
let _=__PRIVATE_documentKeySet$$module$third_party$javascript$firebase$dist$firebase_firestore();return n.ss.getEntries(e,s).next(e=>{l=e,l.forEach((e,t)=>{t.isValidDocument()||(_=_.add(e))})}).next(()=>{return n.localDocuments.getOverlayedDocuments(e,l)}).next(s=>{o=s;const u=[];for(const e of t){const t=__PRIVATE_mutationExtractBaseValue$$module$third_party$javascript$firebase$dist$firebase_firestore(e,o.get(e.key).overlayedDocument);null!=t&&u.push(new __PRIVATE_PatchMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(e.key,
t,__PRIVATE_extractFieldMask$$module$third_party$javascript$firebase$dist$firebase_firestore(t.value.mapValue),Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,u,t)}).next(t=>{u=t;const i=t.applyToLocalDocumentSet(o,_);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)})}).then(()=>{return{batchId:u.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap$$module$third_party$javascript$firebase$dist$firebase_firestore(o)}})}(i.localStore,
t);i.sharedClientState.addPendingMutation(e.batchId),function __PRIVATE_addMutationCallback(e,t,n){let i=e.Sa[e.currentUser.toKey()];i||(i=new SortedMap$$module$third_party$javascript$firebase$dist$firebase_firestore(__PRIVATE_primitiveComparator$$module$third_party$javascript$firebase$dist$firebase_firestore)),i=i.insert(t,n),e.Sa[e.currentUser.toKey()]=i}(i,e.batchId,n),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(i,e.changes),
await __PRIVATE_fillWritePipeline$$module$third_party$javascript$firebase$dist$firebase_firestore(i.remoteStore)}catch(e){const t=__PRIVATE_wrapInUserErrorIfRecoverable$$module$third_party$javascript$firebase$dist$firebase_firestore(e,"Failed to persist write");n.reject(t)}}(await __PRIVATE_getSyncEngine$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t,n)}),n.promise}(ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t)}
function __PRIVATE_convertToDocSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){const i=n.docs.get(t._key);const s=new __PRIVATE_ExpUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return new DocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(e,s,t._key,i,new SnapshotMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore(n.hasPendingWrites,n.fromCache),t.converter)}
function getCountFromServer$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return getAggregateFromServer$$module$third_party$javascript$firebase$dist$firebase_firestore(e,{count:count$$module$third_party$javascript$firebase$dist$firebase_firestore()})}
function getAggregateFromServer$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){const n=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e.firestore,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);const i=ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(n);const s=function __PRIVATE_mapToArray(e,t){const n=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.push(t(e[i],
i,e));return n}(t,(e,t)=>{return new __PRIVATE_AggregateImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(t,e.aggregateType,e._internalFieldPath)});return function __PRIVATE_firestoreClientRunAggregateQuery(e,t,n){const i=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;return e.asyncQueue.enqueueAndForget(async()=>{try{const s=await __PRIVATE_getDatastore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);i.resolve(async function __PRIVATE_invokeRunAggregationQueryRpc(e,
t,n){var i;const s=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const {request:o,R_:u}=function __PRIVATE_toRunAggregationQueryRequest(e,t,n){const i=__PRIVATE_toQueryTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t);const s={};const o=[];let u=0;return n.forEach(e=>{const t="aggregate_"+u++;s[t]=e.alias,"count"===e.aggregateType?o.push({alias:t,count:{}}):"avg"===e.aggregateType?o.push({alias:t,avg:{field:__PRIVATE_toFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fieldPath)}}):
"sum"===e.aggregateType&&o.push({alias:t,sum:{field:__PRIVATE_toFieldPathReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},R_:s}}(s.serializer,function __PRIVATE_queryToAggregateTarget(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return t.Pe||(t.Pe=__PRIVATE__queryToTarget$$module$third_party$javascript$firebase$dist$firebase_firestore(t,
e.explicitOrderBy)),t.Pe}(t),n);const l=o.parent;s.connection.yo||delete o.parent;const _=(await s.Co("RunAggregationQuery",l,o,1)).filter(e=>{return!!e.result});__PRIVATE_hardAssert$$module$third_party$javascript$firebase$dist$firebase_firestore(1===_.length);const h=null===(i=_[0].result)||void 0===i?void 0:i.aggregateFields;return Object.keys(h).reduce((e,t)=>{return e[u[t]]=h[t],e},{})}(s,t,n))}catch(e){i.reject(e)}}),i.promise}(i,e._query,s).then(t=>{return function __PRIVATE_convertToAggregateQuerySnapshot(e,
t,n){const i=new __PRIVATE_ExpUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore(e);return new AggregateQuerySnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(t,i,n)}(n,e,t)})}
class __PRIVATE_MemoryLocalCacheImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.kind="memory",this._onlineComponentProvider=new OnlineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=new MemoryOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore}toJSON(){return{kind:this.kind}}}
class __PRIVATE_PersistentLocalCacheImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=persistentSingleTabManager$$module$third_party$javascript$firebase$dist$firebase_firestore(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}
class __PRIVATE_MemoryEagerGabageCollectorImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.kind="memoryEager",this._offlineComponentProvider=new MemoryOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore}toJSON(){return{kind:this.kind}}}
class __PRIVATE_MemoryLruGabageCollectorImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.kind="memoryLru",this._offlineComponentProvider=new __PRIVATE_LruGcMemoryOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}toJSON(){return{kind:this.kind}}}
function memoryEagerGarbageCollector$$module$third_party$javascript$firebase$dist$firebase_firestore(){return new __PRIVATE_MemoryEagerGabageCollectorImpl$$module$third_party$javascript$firebase$dist$firebase_firestore}function memoryLruGarbageCollector$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new __PRIVATE_MemoryLruGabageCollectorImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(null==e?void 0:e.cacheSizeBytes)}
function memoryLocalCache$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new __PRIVATE_MemoryLocalCacheImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}function persistentLocalCache$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new __PRIVATE_PersistentLocalCacheImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}
class __PRIVATE_SingleTabManagerImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new OnlineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore,this._offlineComponentProvider=new __PRIVATE_IndexedDbOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(this._onlineComponentProvider,
null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}
class __PRIVATE_MultiTabManagerImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new OnlineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore,this._offlineComponentProvider=new __PRIVATE_MultiTabOfflineComponentProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(this._onlineComponentProvider,null==e?void 0:
e.cacheSizeBytes)}}function persistentSingleTabManager$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new __PRIVATE_SingleTabManagerImpl$$module$third_party$javascript$firebase$dist$firebase_firestore(null==e?void 0:e.forceOwnership)}function persistentMultipleTabManager$$module$third_party$javascript$firebase$dist$firebase_firestore(){return new __PRIVATE_MultiTabManagerImpl$$module$third_party$javascript$firebase$dist$firebase_firestore}
const Lt$$module$third_party$javascript$firebase$dist$firebase_firestore={maxAttempts:5};
class WriteBatch$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=__PRIVATE_newUserDataReader$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}set(e,t,n){this._verifyNotCommitted();const i=__PRIVATE_validateReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this._firestore);const s=__PRIVATE_applyFirestoreDataConverter$$module$third_party$javascript$firebase$dist$firebase_firestore(i.converter,
t,n);const o=__PRIVATE_parseSetData$$module$third_party$javascript$firebase$dist$firebase_firestore(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,n);return this._mutations.push(o.toMutation(i._key,Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const s=__PRIVATE_validateReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this._firestore);let o;return o="string"==typeof(t=
getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(t))||t instanceof FieldPath$$module$third_party$javascript$firebase$dist$firebase_firestore?__PRIVATE_parseUpdateVarargs$$module$third_party$javascript$firebase$dist$firebase_firestore(this._dataReader,"WriteBatch.update",s._key,t,n,i):__PRIVATE_parseUpdateData$$module$third_party$javascript$firebase$dist$firebase_firestore(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.exists(!0))),
this}delete(e){this._verifyNotCommitted();const t=__PRIVATE_validateReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this._firestore);return this._mutations=this._mutations.concat(new __PRIVATE_DeleteMutation$$module$third_party$javascript$firebase$dist$firebase_firestore(t._key,Precondition$$module$third_party$javascript$firebase$dist$firebase_firestore.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):
Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.");}}
function __PRIVATE_validateReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if((e=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(e)).firestore!==t)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
class Transaction$$module$third_party$javascript$firebase$dist$firebase_firestore extends class Transaction$1{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=__PRIVATE_newUserDataReader$$module$third_party$javascript$firebase$dist$firebase_firestore(e)}get(e){const t=__PRIVATE_validateReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this._firestore);const n=new __PRIVATE_LiteUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore(this._firestore);
return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return fail$$module$third_party$javascript$firebase$dist$firebase_firestore();const i=e[0];if(i.isFoundDocument())return new DocumentSnapshot$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this._firestore,n,i.key,i,t.converter);if(i.isNoDocument())return new DocumentSnapshot$1$$module$third_party$javascript$firebase$dist$firebase_firestore(this._firestore,n,t._key,null,t.converter);throw fail$$module$third_party$javascript$firebase$dist$firebase_firestore();
})}set(e,t,n){const i=__PRIVATE_validateReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this._firestore);const s=__PRIVATE_applyFirestoreDataConverter$$module$third_party$javascript$firebase$dist$firebase_firestore(i.converter,t,n);const o=__PRIVATE_parseSetData$$module$third_party$javascript$firebase$dist$firebase_firestore(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,n);return this._transaction.set(i._key,o),this}update(e,t,n,...i){const s=__PRIVATE_validateReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
this._firestore);let o;return o="string"==typeof(t=getModularInstance$$module$third_party$javascript$firebase$dist$firebase_firestore(t))||t instanceof FieldPath$$module$third_party$javascript$firebase$dist$firebase_firestore?__PRIVATE_parseUpdateVarargs$$module$third_party$javascript$firebase$dist$firebase_firestore(this._dataReader,"Transaction.update",s._key,t,n,i):__PRIVATE_parseUpdateData$$module$third_party$javascript$firebase$dist$firebase_firestore(this._dataReader,"Transaction.update",s._key,
t),this._transaction.update(s._key,o),this}delete(e){const t=__PRIVATE_validateReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=__PRIVATE_validateReference$$module$third_party$javascript$firebase$dist$firebase_firestore(e,this._firestore);const n=new __PRIVATE_ExpUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore(this._firestore);
return super.get(e).then(e=>{return new DocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore(this._firestore,n,t._key,e._document,new SnapshotMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore(!1,!1),t.converter)})}}
function runTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t,n){e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);const i=Object.assign(Object.assign({},Lt$$module$third_party$javascript$firebase$dist$firebase_firestore),n);return function __PRIVATE_validateTransactionOptions(e){if(e.maxAttempts<1)throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,
"Max attempts must be at least 1");}(i),function __PRIVATE_firestoreClientTransaction(e,t,n){const i=new __PRIVATE_Deferred$$module$third_party$javascript$firebase$dist$firebase_firestore;return e.asyncQueue.enqueueAndForget(async()=>{const s=await __PRIVATE_getDatastore$$module$third_party$javascript$firebase$dist$firebase_firestore(e);(new __PRIVATE_TransactionRunner$$module$third_party$javascript$firebase$dist$firebase_firestore(e.asyncQueue,s,n,t,i)).run()}),i.promise}(ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e),
n=>{return t(new Transaction$$module$third_party$javascript$firebase$dist$firebase_firestore(e,n))},i)}function deleteField$$module$third_party$javascript$firebase$dist$firebase_firestore(){return new __PRIVATE_DeleteFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore("deleteField")}
function serverTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore(){return new __PRIVATE_ServerTimestampFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore("serverTimestamp")}function arrayUnion$$module$third_party$javascript$firebase$dist$firebase_firestore(...e){return new __PRIVATE_ArrayUnionFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore("arrayUnion",e)}
function arrayRemove$$module$third_party$javascript$firebase$dist$firebase_firestore(...e){return new __PRIVATE_ArrayRemoveFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore("arrayRemove",e)}function increment$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return new __PRIVATE_NumericIncrementFieldValueImpl$$module$third_party$javascript$firebase$dist$firebase_firestore("increment",e)}
function writeBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(e){return ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore)),new WriteBatch$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t=>{return executeWrite$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
t)})}
function setIndexConfiguration$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){var n;const i=ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore));if(!i._uninitializedComponentsProvider||"memory"===(null===(n=i._uninitializedComponentsProvider)||void 0===n?void 0:n._offlineKind))return __PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore("Cannot enable indexes when persistence is disabled"),Promise.resolve();
const s=function __PRIVATE_parseIndexes(e){const t="string"==typeof e?function __PRIVATE_tryParseJson(e){try{return JSON.parse(e)}catch(e){throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message));}}(e):e;const n=[];if(Array.isArray(t.indexes))for(const e of t.indexes){const t=__PRIVATE_tryGetString$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
"collectionGroup");const i=[];if(Array.isArray(e.fields))for(const t of e.fields){const e=__PRIVATE_fieldPathFromDotSeparatedString$$module$third_party$javascript$firebase$dist$firebase_firestore("setIndexConfiguration",__PRIVATE_tryGetString$$module$third_party$javascript$firebase$dist$firebase_firestore(t,"fieldPath"));"CONTAINS"===t.arrayConfig?i.push(new IndexSegment$$module$third_party$javascript$firebase$dist$firebase_firestore(e,2)):"ASCENDING"===t.order?i.push(new IndexSegment$$module$third_party$javascript$firebase$dist$firebase_firestore(e,
0)):"DESCENDING"===t.order&&i.push(new IndexSegment$$module$third_party$javascript$firebase$dist$firebase_firestore(e,1))}n.push(new FieldIndex$$module$third_party$javascript$firebase$dist$firebase_firestore(FieldIndex$$module$third_party$javascript$firebase$dist$firebase_firestore.UNKNOWN_ID,t,i,IndexState$$module$third_party$javascript$firebase$dist$firebase_firestore.empty()))}return n}(t);return function __PRIVATE_firestoreClientSetIndexConfiguration(e,t){return e.asyncQueue.enqueue(async()=>
{return async function __PRIVATE_localStoreConfigureFieldIndexes(e,t){const n=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const i=n.indexManager;const s=[];return n.persistence.runTransaction("Configure indexes","readwrite",e=>{return i.getFieldIndexes(e).next(n=>{return function __PRIVATE_diffArrays(e,t,n,i,s){e=[...e],t=[...t],e.sort(n),t.sort(n);const o=e.length;const u=t.length;let l=0;let _=0;for(;l<u&&_<o;){const o=n(e[_],t[l]);o<0?s(e[_++]):o>0?i(t[l++]):
(l++,_++)}for(;l<u;)i(t[l++]);for(;_<o;)s(e[_++])}(n,t,__PRIVATE_fieldIndexSemanticComparator$$module$third_party$javascript$firebase$dist$firebase_firestore,t=>{s.push(i.addFieldIndex(e,t))},t=>{s.push(i.deleteFieldIndex(e,t))})}).next(()=>{return PersistencePromise$$module$third_party$javascript$firebase$dist$firebase_firestore.waitFor(s)})})}(await __PRIVATE_getLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e),t)})}(i,s)}
function __PRIVATE_tryGetString$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){if("string"!=typeof e[t])throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}
class PersistentCacheIndexManager$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(e){this._client=e,this.type="PersistentCacheIndexManager"}}
function getPersistentCacheIndexManager$$module$third_party$javascript$firebase$dist$firebase_firestore(e){var t;e=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore(e,Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore);const n=Bt$$module$third_party$javascript$firebase$dist$firebase_firestore.get(e);if(n)return n;const i=ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore(e);if("persistent"!==(null===(t=i._uninitializedComponentsProvider)||
void 0===t?void 0:t._offlineKind))return null;const s=new PersistentCacheIndexManager$$module$third_party$javascript$firebase$dist$firebase_firestore(i);return Bt$$module$third_party$javascript$firebase$dist$firebase_firestore.set(e,s),s}function enablePersistentCacheIndexAutoCreation$$module$third_party$javascript$firebase$dist$firebase_firestore(e){__PRIVATE_setPersistentCacheIndexAutoCreationEnabled$$module$third_party$javascript$firebase$dist$firebase_firestore(e,!0)}
function disablePersistentCacheIndexAutoCreation$$module$third_party$javascript$firebase$dist$firebase_firestore(e){__PRIVATE_setPersistentCacheIndexAutoCreationEnabled$$module$third_party$javascript$firebase$dist$firebase_firestore(e,!1)}
function deleteAllPersistentCacheIndexes$$module$third_party$javascript$firebase$dist$firebase_firestore(e){e._client.verifyNotTerminated(),function __PRIVATE_firestoreClientDeleteAllFieldIndexes(e){return e.asyncQueue.enqueue(async()=>{return function __PRIVATE_localStoreDeleteAllFieldIndexes(e){const t=__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e);const n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",e=>{return n.deleteAllFieldIndexes(e)})}(await __PRIVATE_getLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e))})}(e._client).then(e=>
{return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore("deleting all persistent cache indexes succeeded")}).catch(e=>{return __PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore("deleting all persistent cache indexes failed",e)})}
function __PRIVATE_setPersistentCacheIndexAutoCreationEnabled$$module$third_party$javascript$firebase$dist$firebase_firestore(e,t){e._client.verifyNotTerminated(),function __PRIVATE_firestoreClientSetPersistentCacheIndexAutoCreationEnabled(e,t){return e.asyncQueue.enqueue(async()=>{return function __PRIVATE_localStoreSetIndexAutoCreationEnabled(e,t){__PRIVATE_debugCast$$module$third_party$javascript$firebase$dist$firebase_firestore(e).es.$i=t}(await __PRIVATE_getLocalStore$$module$third_party$javascript$firebase$dist$firebase_firestore(e),
t)})}(e._client,t).then(e=>{return __PRIVATE_logDebug$$module$third_party$javascript$firebase$dist$firebase_firestore(`setting persistent cache index auto creation isEnabled=${t} succeeded`)}).catch(e=>{return __PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore(`setting persistent cache index auto creation isEnabled=${t} failed`,e)})}const Bt$$module$third_party$javascript$firebase$dist$firebase_firestore=new WeakMap;
class TestingHooks$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){throw new Error("instances of this class should not be created");}static onExistenceFilterMismatch(e){return __PRIVATE_TestingHooksSpiImpl$$module$third_party$javascript$firebase$dist$firebase_firestore.instance.onExistenceFilterMismatch(e)}}
class __PRIVATE_TestingHooksSpiImpl$$module$third_party$javascript$firebase$dist$firebase_firestore{constructor(){this.Su=new Map}static get instance(){return qt$$module$third_party$javascript$firebase$dist$firebase_firestore||(qt$$module$third_party$javascript$firebase$dist$firebase_firestore=new __PRIVATE_TestingHooksSpiImpl$$module$third_party$javascript$firebase$dist$firebase_firestore,function __PRIVATE_setTestingHooksSpi(e){if(Rt$$module$third_party$javascript$firebase$dist$firebase_firestore)throw new Error("a TestingHooksSpi instance is already set");
Rt$$module$third_party$javascript$firebase$dist$firebase_firestore=e}(qt$$module$third_party$javascript$firebase$dist$firebase_firestore)),qt$$module$third_party$javascript$firebase$dist$firebase_firestore}tt(e){this.Su.forEach(t=>{return t(e)})}onExistenceFilterMismatch(e){const t=Symbol();const n=this.Su;return n.set(t,e),()=>{return n.delete(t)}}}let qt$$module$third_party$javascript$firebase$dist$firebase_firestore=null;
!function __PRIVATE_registerFirestore(n,i=!0){!function __PRIVATE_setSDKVersion(e){qe$$module$third_party$javascript$firebase$dist$firebase_firestore=e}(SDK_VERSION$$module$third_party$javascript$firebase$dist$firebase_app),_registerComponent$$module$third_party$javascript$firebase$dist$firebase_app((new Component$$module$third_party$javascript$firebase$dist$firebase_firestore("firestore",(e,{instanceIdentifier:t,options:n})=>{const s=e.getProvider("app").getImmediate();const o=new Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore(new __PRIVATE_FirebaseAuthCredentialsProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e.getProvider("auth-internal")),
new __PRIVATE_FirebaseAppCheckTokenProvider$$module$third_party$javascript$firebase$dist$firebase_firestore(e.getProvider("app-check-internal")),function __PRIVATE_databaseIdFromApp(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore(Ue$$module$third_party$javascript$firebase$dist$firebase_firestore.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore(e.options.projectId,
t)}(s,t),s);return n=Object.assign({useFetchStreams:i},n),o._setSettings(n),o},"PUBLIC")).setMultipleInstances(!0)),registerVersion$$module$third_party$javascript$firebase$dist$firebase_app(Be$$module$third_party$javascript$firebase$dist$firebase_firestore,"4.3.2",n),registerVersion$$module$third_party$javascript$firebase$dist$firebase_app(Be$$module$third_party$javascript$firebase$dist$firebase_firestore,"4.3.2","esm2017")}();var module$third_party$javascript$firebase$dist$firebase_firestore={};
module$third_party$javascript$firebase$dist$firebase_firestore.AbstractUserDataWriter=AbstractUserDataWriter$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.AggregateField=AggregateField$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.AggregateQuerySnapshot=AggregateQuerySnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.Bytes=Bytes$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.CACHE_SIZE_UNLIMITED=Mt$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.CollectionReference=CollectionReference$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.DocumentReference=DocumentReference$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.DocumentSnapshot=DocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.FieldPath=FieldPath$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.FieldValue=FieldValue$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.Firestore=Firestore$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.FirestoreError=FirestoreError$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.GeoPoint=GeoPoint$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.LoadBundleTask=LoadBundleTask$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.PersistentCacheIndexManager=PersistentCacheIndexManager$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.Query=Query$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.QueryCompositeFilterConstraint=QueryCompositeFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.QueryConstraint=QueryConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.QueryDocumentSnapshot=QueryDocumentSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.QueryEndAtConstraint=QueryEndAtConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.QueryFieldFilterConstraint=QueryFieldFilterConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.QueryLimitConstraint=QueryLimitConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.QueryOrderByConstraint=QueryOrderByConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.QuerySnapshot=QuerySnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.QueryStartAtConstraint=QueryStartAtConstraint$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.SnapshotMetadata=SnapshotMetadata$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.Timestamp=Timestamp$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.Transaction=Transaction$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.WriteBatch=WriteBatch$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore._AutoId=__PRIVATE_AutoId$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore._ByteString=ByteString$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore._DatabaseId=DatabaseId$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore._DocumentKey=DocumentKey$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore._EmptyAppCheckTokenProvider=__PRIVATE_EmptyAppCheckTokenProvider$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore._EmptyAuthCredentialsProvider=__PRIVATE_EmptyAuthCredentialsProvider$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore._FieldPath=FieldPath$1$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore._TestingHooks=TestingHooks$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore._cast=__PRIVATE_cast$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore._debugAssert=__PRIVATE_debugAssert$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore._isBase64Available=__PRIVATE_isBase64Available$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore._logWarn=__PRIVATE_logWarn$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore._validateIsNotUsedTogether=__PRIVATE_validateIsNotUsedTogether$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.addDoc=addDoc$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.aggregateFieldEqual=aggregateFieldEqual$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.aggregateQuerySnapshotEqual=aggregateQuerySnapshotEqual$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.and=and$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.arrayRemove=arrayRemove$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.arrayUnion=arrayUnion$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.average=average$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.clearIndexedDbPersistence=clearIndexedDbPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.collection=collection$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.collectionGroup=collectionGroup$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.connectFirestoreEmulator=connectFirestoreEmulator$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.count=count$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.deleteAllPersistentCacheIndexes=deleteAllPersistentCacheIndexes$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.deleteDoc=deleteDoc$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.deleteField=deleteField$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.disableNetwork=disableNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.disablePersistentCacheIndexAutoCreation=disablePersistentCacheIndexAutoCreation$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.doc=doc$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.documentId=documentId$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.enableIndexedDbPersistence=enableIndexedDbPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.enableMultiTabIndexedDbPersistence=enableMultiTabIndexedDbPersistence$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.enableNetwork=enableNetwork$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.enablePersistentCacheIndexAutoCreation=enablePersistentCacheIndexAutoCreation$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.endAt=endAt$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.endBefore=endBefore$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.ensureFirestoreConfigured=ensureFirestoreConfigured$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.executeWrite=executeWrite$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.getAggregateFromServer=getAggregateFromServer$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.getCountFromServer=getCountFromServer$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.getDoc=getDoc$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.getDocFromCache=getDocFromCache$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.getDocFromServer=getDocFromServer$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.getDocs=getDocs$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.getDocsFromCache=getDocsFromCache$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.getDocsFromServer=getDocsFromServer$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.getFirestore=getFirestore$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.getPersistentCacheIndexManager=getPersistentCacheIndexManager$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.increment=increment$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.initializeFirestore=initializeFirestore$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.limit=limit$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.limitToLast=limitToLast$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.loadBundle=loadBundle$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.memoryEagerGarbageCollector=memoryEagerGarbageCollector$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.memoryLocalCache=memoryLocalCache$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.memoryLruGarbageCollector=memoryLruGarbageCollector$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.namedQuery=namedQuery$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.onSnapshot=onSnapshot$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.onSnapshotsInSync=onSnapshotsInSync$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.or=or$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.orderBy=orderBy$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.persistentLocalCache=persistentLocalCache$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.persistentMultipleTabManager=persistentMultipleTabManager$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.persistentSingleTabManager=persistentSingleTabManager$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.query=query$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.queryEqual=queryEqual$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.refEqual=refEqual$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.runTransaction=runTransaction$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.serverTimestamp=serverTimestamp$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.setDoc=setDoc$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.setIndexConfiguration=setIndexConfiguration$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.setLogLevel=setLogLevel$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.snapshotEqual=snapshotEqual$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.startAfter=startAfter$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.startAt=startAt$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.sum=sum$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.terminate=terminate$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.updateDoc=updateDoc$$module$third_party$javascript$firebase$dist$firebase_firestore;
module$third_party$javascript$firebase$dist$firebase_firestore.waitForPendingWrites=waitForPendingWrites$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.where=where$$module$third_party$javascript$firebase$dist$firebase_firestore;module$third_party$javascript$firebase$dist$firebase_firestore.writeBatch=writeBatch$$module$third_party$javascript$firebase$dist$firebase_firestore;
</script><script type="text/javascript" charset="UTF-8" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/1_7gewjyGlqcOFIguOJ5AHUn6L-zJDTVPaBHJ2ADYro.js" nonce=""></script><style>button.fb-alerts-appbar-bell[_ngcontent-ng-c2145145361]{align-self:center;cursor:pointer;padding:0 8px}button.fb-alerts-appbar-bell[_ngcontent-ng-c2145145361]   .dot[_ngcontent-ng-c2145145361]{background:var(--theme-color-error);border-radius:50%;border:2px solid #fff;cursor:pointer;position:absolute;height:8px;margin-left:6px;margin-top:4px;width:8px}</style><style>.cdk-overlay-pane.critical-alerts-pane{z-index:49}.fb-critical-alerts{display:none;pointer-events:none;position:fixed;right:0;top:48px;width:412px}@media only screen and (min-width: 600px){.fb-critical-alerts{display:block}}.fb-critical-alerts-with-banner .fb-critical-alerts{top:96px}.fb-critical-alerts fire-alerts-card{pointer-events:auto}.fb-critical-alerts-mobile{display:none}@media only screen and (max-width: 599px){.fb-critical-alerts-mobile{display:block}}.fb-critical-alerts-mobile .fb-alerts-scrollable-container,.fb-critical-alerts-mobile .fb-critical-alerts-footer{left:0;position:fixed;right:0;z-index:49}.fb-critical-alerts-mobile .fb-alerts-scrollable-container{bottom:74px;box-sizing:border-box;max-height:calc(
      100% - 48px - 74px
    );overflow-y:auto;overflow-x:hidden}.fb-critical-alerts-with-banner .fb-critical-alerts-mobile .fb-alerts-scrollable-container{max-height:calc(
        100% - 96px - 74px
      )}.fb-critical-alerts-mobile .fb-critical-alerts-footer{bottom:0}.fb-critical-alerts-mobile .fb-alerts-card-header{padding-right:0}.fb-critical-alerts-mobile .fb-alerts-card-date{bottom:12px;top:initial}mat-card.fb-critical-alerts-footer{background:var(--theme-color-error);color:#fff;font-family:"Roboto",sans-serif;font-size:14px;font-weight:500;line-height:20px;margin:12px 16px;padding:12px 16px;pointer-events:auto}fb-more-alerts-count mat-card.fb-critical-alerts-footer{text-align:center}.fb-critical-alerts-mobile mat-card.fb-critical-alerts-footer{display:flex;align-items:center}.fb-critical-alerts-mobile mat-card.fb-critical-alerts-footer i{font-size:20px;padding-right:4px}.fb-critical-alerts-mobile mat-card.fb-critical-alerts-footer button{margin-left:auto;margin-right:-8px;min-width:unset}
</style><style>.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.mat-datepicker-toggle .mat-mdc-button-base{width:40px;height:40px;padding:8px 0}.mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-datepicker-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}
</style><script nonce="">/**
 * @license
 * Copyright 2023 Google LLC.
 * SPDX-License-Identifier: Apache-2.0
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).firebase=t()}(this,function(){"use strict";const r=function(t){const r=[];let n=0;for(let a=0;a<t.length;a++){let e=t.charCodeAt(a);e<128?r[n++]=e:(e<2048?r[n++]=e>>6|192:(55296==(64512&e)&&a+1<t.length&&56320==(64512&t.charCodeAt(a+1))?(e=65536+((1023&e)<<10)+(1023&t.charCodeAt(++a)),r[n++]=e>>18|240,r[n++]=e>>12&63|128):r[n++]=e>>12|224,r[n++]=e>>6&63|128),r[n++]=63&e|128)}return r},n={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_;const a=[];for(let l=0;l<r.length;l+=3){var i=r[l],s=l+1<r.length,o=s?r[l+1]:0,c=l+2<r.length,h=c?r[l+2]:0;let e=(15&o)<<2|h>>6,t=63&h;c||(t=64,s||(e=64)),a.push(n[i>>2],n[(3&i)<<4|o>>4],n[e],n[t])}return a.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){var a,i,s=e[r++];s<128?t[n++]=String.fromCharCode(s):191<s&&s<224?(a=e[r++],t[n++]=String.fromCharCode((31&s)<<6|63&a)):239<s&&s<365?(i=((7&s)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))):(a=e[r++],i=e[r++],t[n++]=String.fromCharCode((15&s)<<12|(63&a)<<6|63&i))}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();var r=t?this.charToByteMapWebSafe_:this.charToByteMap_;const n=[];for(let c=0;c<e.length;){var a=r[e.charAt(c++)],i=c<e.length?r[e.charAt(c)]:0;++c;var s=c<e.length?r[e.charAt(c)]:64;++c;var o=c<e.length?r[e.charAt(c)]:64;if(++c,null==a||null==i||null==s||null==o)throw new h;n.push(a<<2|i>>4),64!==s&&(n.push(i<<4&240|s>>2),64!==o&&n.push(s<<6&192|o))}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return e=e,t=r(e),n.encodeByteArray(t,!0).replace(/\./g,"");var t};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=c(e[n],t[n]));return e}const e=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,t=()=>{if("undefined"!=typeof document){let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}var t=e&&function(e){try{return n.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(e[1]);return t&&JSON.parse(t)}},i=()=>{try{return e()||(()=>{if("undefined"!=typeof process&&void 0!==process.env){var e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}})()||t()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},l=()=>{var e;return null===(e=i())||void 0===e?void 0:e.config};class s{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(r){return(e,t)=>{e?this.reject(e):this.resolve(t),"function"==typeof r&&(this.promise.catch(()=>{}),1===r.length?r(e):r(e,t))}}}class o extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,d.prototype.create)}}class d{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){var n,r=t[0]||{},a=`${this.service}/${e}`,i=this.errors[e],i=i?(n=r,i.replace(p,(e,t)=>{var r=n[t];return null!=r?String(r):`<${t}?>`})):"Error",i=`${this.serviceName}: ${i} (${a}).`;return new o(a,i,r)}}const p=/\{\$([^}]+)}/g;function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){if(e===t)return 1;const r=Object.keys(e),n=Object.keys(t);for(const s of r){if(!n.includes(s))return;var a=e[s],i=t[s];if(g(a)&&g(i)){if(!f(a,i))return}else if(a!==i)return}for(const o of n)if(!r.includes(o))return;return 1}function g(e){return null!==e&&"object"==typeof e}function m(e,t){const r=new b(e,t);return r.subscribe.bind(r)}class b{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!=typeof e||null===e)return!1;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=v),void 0===n.error&&(n.error=v),void 0===n.complete&&(n.complete=v);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v(){}class _{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const E="[DEFAULT]";class y{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new s;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(r=null==e?void 0:e.optional)&&void 0!==r&&r;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:E})}catch(e){}for(var[t,r]of this.instancesDeferred.entries()){t=this.normalizeInstanceIdentifier(t);try{var n=this.getOrInitializeService({instanceIdentifier:t});r.resolve(n)}catch(e){}}}}clearInstance(e=E){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=E){return this.instances.has(e)}getOptions(e=E){return this.instancesOptions.get(e)||{}}initialize(e={}){var{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);var n,a,i=this.getOrInitializeService({instanceIdentifier:r,options:t});for([n,a]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(n)&&a.resolve(i);return i}onInit(e,t){var r=this.normalizeInstanceIdentifier(t);const n=null!==(a=this.onInitCallbacks.get(r))&&void 0!==a?a:new Set;n.add(e),this.onInitCallbacks.set(r,n);var a=this.instances.get(r);return a&&e(a,r),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){var r=this.onInitCallbacks.get(t);if(r)for(const n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===E?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}var n;return r||null}normalizeInstanceIdentifier(e=E){return!this.component||this.component.multipleInstances?e:E}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class w{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);var t=new y(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const I=[];var C,D,S;(D=C=C||{})[D.DEBUG=0]="DEBUG",D[D.VERBOSE=1]="VERBOSE",D[D.INFO=2]="INFO",D[D.WARN=3]="WARN",D[D.ERROR=4]="ERROR",D[D.SILENT=5]="SILENT";const O={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},A=C.INFO,L={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},N=(e,t,...r)=>{if(!(t<e.logLevel)){var n=(new Date).toISOString(),a=L[t];if(!a)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[a](`[${n}]  ${e.name}:`,...r)}};class B{constructor(e){this.name=e,this._logLevel=A,this._logHandler=N,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in C))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?O[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...e),this._logHandler(this,C.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...e),this._logHandler(this,C.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,C.INFO,...e),this._logHandler(this,C.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,C.WARN,...e),this._logHandler(this,C.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...e),this._logHandler(this,C.ERROR,...e)}}const T=(t,e)=>e.some(e=>t instanceof e);let P,M;const R=new WeakMap,k=new WeakMap,F=new WeakMap,$=new WeakMap,j=new WeakMap;let H={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return k.get(e);if("objectStoreNames"===t)return e.objectStoreNames||F.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return z(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function V(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(M=M||[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]).includes(n)?function(...e){return n.apply(U(this),e),z(R.get(this))}:function(...e){return z(n.apply(U(this),e))}:function(e,...t){var r=n.call(U(this),e,...t);return F.set(r,e.sort?e.sort():[e]),z(r)}}function x(e){return"function"==typeof e?V(e):(e instanceof IDBTransaction&&(i=e,k.has(i)||(t=new Promise((e,t)=>{const r=()=>{i.removeEventListener("complete",n),i.removeEventListener("error",a),i.removeEventListener("abort",a)},n=()=>{e(),r()},a=()=>{t(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",n),i.addEventListener("error",a),i.addEventListener("abort",a)}),k.set(i,t))),T(e,P=P||[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])?new Proxy(e,H):e);var i,t}function z(e){if(e instanceof IDBRequest)return function(i){const e=new Promise((e,t)=>{const r=()=>{i.removeEventListener("success",n),i.removeEventListener("error",a)},n=()=>{e(z(i.result)),r()},a=()=>{t(i.error),r()};i.addEventListener("success",n),i.addEventListener("error",a)});return e.then(e=>{e instanceof IDBCursor&&R.set(e,i)}).catch(()=>{}),j.set(e,i),e}(e);if($.has(e))return $.get(e);var t=x(e);return t!==e&&($.set(e,t),j.set(t,e)),t}const U=e=>j.get(e);const W=["get","getKey","getAll","getAllKeys","count"],G=["put","add","delete","clear"],J=new Map;function K(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(J.get(t))return J.get(t);const a=t.replace(/FromIndex$/,""),i=t!==a,s=G.includes(a);if(a in(i?IDBIndex:IDBObjectStore).prototype&&(s||W.includes(a))){var r=async function(e,...t){var r=this.transaction(e,s?"readwrite":"readonly");let n=r.store;return i&&(n=n.index(t.shift())),(await Promise.all([n[a](...t),s&&r.done]))[0]};return J.set(t,r),r}}}H={...S=H,get:(e,t,r)=>K(e,t)||S.get(e,t,r),has:(e,t)=>!!K(e,t)||S.has(e,t)};class Y{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map(e=>{if("VERSION"!==(null==(t=e.getComponent())?void 0:t.type))return null;var t,t=e.getImmediate();return`${t.library}/${t.version}`}).filter(e=>e).join(" ")}}const X="@firebase/app",q=new B("@firebase/app");var Z;const Q="[DEFAULT]",ee={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},te=new Map,re=new Map;function ne(t,r){try{t.container.addComponent(r)}catch(e){q.debug(`Component ${r.name} failed to register with FirebaseApp ${t.name}`,e)}}function ae(e,t){e.container.addOrOverwriteComponent(t)}function ie(e){var t=e.name;if(re.has(t))return q.debug(`There were multiple attempts to register component ${t}.`),!1;re.set(t,e);for(const r of te.values())ne(r,e);return!0}function se(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}const oe=new d("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ce{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oe.create("app-deleted",{appName:this._name})}}const he="10.5.2";function le(e,t={}){let r=e;if("object"!=typeof t){const a=t;t={name:a}}var n=Object.assign({name:Q,automaticDataCollectionEnabled:!1},t);const a=n.name;if("string"!=typeof a||!a)throw oe.create("bad-app-name",{appName:String(a)});if(r=r||l(),!r)throw oe.create("no-options");var i=te.get(a);if(i){if(f(r,i.options)&&f(n,i.config))return i;throw oe.create("duplicate-app",{appName:a})}const s=new w(a);for(const o of re.values())s.addComponent(o);n=new ce(r,n,s);return te.set(a,n),n}async function de(e){var t=e.name;te.has(t)&&(te.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function pe(e,t,r){let n=null!==(i=ee[e])&&void 0!==i?i:e;r&&(n+=`-${r}`);var a=n.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const s=[`Unable to register library "${n}" with version "${t}":`];return a&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void q.warn(s.join(" "))}ie(new _(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}function ue(e,t){if(null!==e&&"function"!=typeof e)throw oe.create("invalid-log-argument");!function(i,e){for(const t of I){let a=null;e&&e.level&&(a=O[e.level]),t.userLogHandler=null===i?null:(e,t,...r)=>{var n=r.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");t>=(null!==a&&void 0!==a?a:e.logLevel)&&i({level:C[t].toLowerCase(),message:n,args:r,type:e.name})}}}(e,t)}function fe(e){var t;t=e,I.forEach(e=>{e.setLogLevel(t)})}const ge="firebase-heartbeat-database",me=1,be="firebase-heartbeat-store";let ve=null;function _e(){return ve=ve||function(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}){const s=indexedDB.open(e,t),o=z(s);return n&&s.addEventListener("upgradeneeded",e=>{n(z(s.result),e.oldVersion,e.newVersion,z(s.transaction),e)}),r&&s.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}(ge,me,{upgrade:(e,t)=>{0===t&&e.createObjectStore(be)}}).catch(e=>{throw oe.create("idb-open",{originalErrorMessage:e.message})}),ve}async function Ee(e,t){try{const n=await _e(),a=n.transaction(be,"readwrite"),i=a.objectStore(be);await i.put(t,ye(e)),await a.done}catch(e){var r;e instanceof o?q.warn(e.message):(r=oe.create("idb-set",{originalErrorMessage:null==e?void 0:e.message}),q.warn(r.message))}}function ye(e){return`${e.name}!${e.options.appId}`}class we{constructor(e){this.container=e,this._heartbeatsCache=null;var t=this.container.getProvider("app").getImmediate();this._storage=new Ce(t),this._heartbeatsCachePromise=this._storage.read().then(e=>this._heartbeatsCache=e)}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate();var t=e.getPlatformInfoString();const r=Ie();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some(e=>e.date===r))return this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";var e=Ie(),{heartbeatsToSend:t,unsentEntries:r}=function(e,t=1024){const r=[];let n=e.slice();for(const a of e){const i=r.find(e=>e.agent===a.agent);if(i){if(i.dates.push(a.date),De(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),De(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),t=a(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,0<r.length?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),t}}function Ie(){const e=new Date;return e.toISOString().substring(0,10)}class Ce{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return}}()&&new Promise((t,r)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var e;r((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(e){r(e)}}).then(()=>!0).catch(()=>!1)}async read(){return await this._canUseIndexedDBPromise&&await async function(e){try{const r=await _e();return await r.transaction(be).objectStore(be).get(ye(e))}catch(e){var t;e instanceof o?q.warn(e.message):(t=oe.create("idb-get",{originalErrorMessage:null==e?void 0:e.message}),q.warn(t.message))}}(this.app)||{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){var r=await this.read();return Ee(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){var r=await this.read();return Ee(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function De(e){return a(JSON.stringify({version:2,heartbeats:e})).length}Z="",ie(new _("platform-logger",e=>new Y(e),"PRIVATE")),ie(new _("heartbeat",e=>new we(e),"PRIVATE")),pe(X,"0.9.22",Z),pe(X,"0.9.22","esm2017"),pe("fire-js","");var Se=Object.freeze({__proto__:null,SDK_VERSION:he,_DEFAULT_ENTRY_NAME:Q,_addComponent:ne,_addOrOverwriteComponent:ae,_apps:te,_clearComponents:function(){re.clear()},_components:re,_getProvider:se,_registerComponent:ie,_removeServiceInstance:function(e,t,r=Q){se(e,t).clearInstance(r)},deleteApp:de,getApp:function(e=Q){var t=te.get(e);if(!t&&e===Q&&l())return le();if(!t)throw oe.create("no-app",{appName:e});return t},getApps:function(){return Array.from(te.values())},initializeApp:le,onLog:ue,registerVersion:pe,setLogLevel:fe,FirebaseError:o});class Oe{constructor(e,t){this._delegate=e,this.firebase=t,ne(e,new _("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),de(this._delegate)))}_getService(e,t=Q){var r;this._delegate.checkDestroyed();const n=this._delegate.container.getProvider(e);return n.isInitialized()||"EXPLICIT"!==(null===(r=n.getComponent())||void 0===r?void 0:r.instantiationMode)||n.initialize(),n.getImmediate({identifier:t})}_removeServiceInstance(e,t=Q){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ne(this._delegate,e)}_addOrOverwriteComponent(e){ae(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new d("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function Le(a){const i={},s={__esModule:!0,initializeApp:function(e,t={}){var r=le(e,t);if(u(i,r.name))return i[r.name];var n=new a(r,s);return i[r.name]=n},app:o,registerVersion:pe,setLogLevel:fe,onLog:ue,apps:null,SDK_VERSION:he,INTERNAL:{registerComponent:function(r){const n=r.name,t=n.replace("-compat","");{var e;ie(r)&&"PUBLIC"===r.type&&(e=(e=o())=>{if("function"!=typeof e[t])throw Ae.create("invalid-app-argument",{appName:n});return e[t]()},void 0!==r.serviceProps&&c(e,r.serviceProps),s[t]=e,a.prototype[t]=function(...e){const t=this._getService.bind(this,n);return t.apply(this,r.multipleInstances?e:[])})}return"PUBLIC"===r.type?s[t]:null},removeApp:function(e){delete i[e]},useAsService:function(e,t){if("serverAuth"===t)return null;var r=t;return r},modularAPIs:Se}};function o(e){if(e=e||Q,!u(i,e))throw Ae.create("no-app",{appName:e});return i[e]}return s.default=s,Object.defineProperty(s,"apps",{get:function(){return Object.keys(i).map(e=>i[e])}}),o.App=a,s}var Ne=function e(){const t=Le(Oe);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){c(t,e)},createSubscribe:m,ErrorFactory:d,deepExtend:c}),t}();const Be=new B("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Be.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const Pe=self.firebase.SDK_VERSION;Pe&&0<=Pe.indexOf("LITE")&&Be.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Te=Ne;pe("@firebase/app-compat","0.2.22",void 0);return Te.registerVersion("firebase","10.5.2","app-compat-cdn"),Te});
//# sourceMappingURL=firebase-app-compat.js.map
</script><script nonce="">/**
 * @license
 * Copyright 2023 Google LLC.
 * SPDX-License-Identifier: Apache-2.0
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@firebase/app-compat"),require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app-compat","@firebase/app"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).firebase,e.firebase.INTERNAL.modularAPIs)}(this,function(yt,Et){"use strict";try{!(function(){function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var t,r,n=e(yt);class o extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,a.prototype.create)}}class a{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var r,n=t[0]||{},a=`${this.service}/${e}`,i=this.errors[e],i=i?(r=n,i.replace(s,(e,t)=>{var n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",i=`${this.serviceName}: ${i} (${a}).`;return new o(a,i,n)}}const s=/\{\$([^}]+)}/g;class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}(Te=t=t||{})[Te.DEBUG=0]="DEBUG",Te[Te.VERBOSE=1]="VERBOSE",Te[Te.INFO=2]="INFO",Te[Te.WARN=3]="WARN",Te[Te.ERROR=4]="ERROR",Te[Te.SILENT=5]="SILENT";const c={debug:t.DEBUG,verbose:t.VERBOSE,info:t.INFO,warn:t.WARN,error:t.ERROR,silent:t.SILENT},l=t.INFO,u={[t.DEBUG]:"log",[t.VERBOSE]:"log",[t.INFO]:"info",[t.WARN]:"warn",[t.ERROR]:"error"},d=(e,t,...n)=>{if(!(t<e.logLevel)){var r=(new Date).toISOString(),a=u[t];if(!a)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[a](`[${r}]  ${e.name}:`,...n)}};const p=(t,e)=>e.some(e=>t instanceof e);let f,g;const h=new WeakMap,m=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakMap;let _={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return m.get(e);if("objectStoreNames"===t)return e.objectStoreNames||v.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return I(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function y(r){return r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(g=g||[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]).includes(r)?function(...e){return r.apply(T(this),e),I(h.get(this))}:function(...e){return I(r.apply(T(this),e))}:function(e,...t){var n=r.call(T(this),e,...t);return v.set(n,e.sort?e.sort():[e]),I(n)}}function E(e){return"function"==typeof e?y(e):(e instanceof IDBTransaction&&(i=e,m.has(i)||(t=new Promise((e,t)=>{const n=()=>{i.removeEventListener("complete",r),i.removeEventListener("error",a),i.removeEventListener("abort",a)},r=()=>{e(),n()},a=()=>{t(i.error||new DOMException("AbortError","AbortError")),n()};i.addEventListener("complete",r),i.addEventListener("error",a),i.addEventListener("abort",a)}),m.set(i,t))),p(e,f=f||[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])?new Proxy(e,_):e);var i,t}function I(e){if(e instanceof IDBRequest)return function(i){const e=new Promise((e,t)=>{const n=()=>{i.removeEventListener("success",r),i.removeEventListener("error",a)},r=()=>{e(I(i.result)),n()},a=()=>{t(i.error),n()};i.addEventListener("success",r),i.addEventListener("error",a)});return e.then(e=>{e instanceof IDBCursor&&h.set(e,i)}).catch(()=>{}),w.set(e,i),e}(e);if(b.has(e))return b.get(e);var t=E(e);return t!==e&&(b.set(e,t),w.set(t,e)),t}const T=e=>w.get(e);const S=["get","getKey","getAll","getAllKeys","count"],k=["put","add","delete","clear"],N=new Map;function C(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(N.get(t))return N.get(t);const a=t.replace(/FromIndex$/,""),i=t!==a,o=k.includes(a);if(a in(i?IDBIndex:IDBObjectStore).prototype&&(o||S.includes(a))){var n=async function(e,...t){var n=this.transaction(e,o?"readwrite":"readonly");let r=n.store;return i&&(r=r.index(t.shift())),(await Promise.all([r[a](...t),o&&n.done]))[0]};return N.set(t,n),n}}}_={...r=_,get:(e,t,n)=>C(e,t)||r.get(e,t,n),has:(e,t)=>!!C(e,t)||r.has(e,t)};var R="@firebase/installations",A="0.6.4";const O=1e4,M=`w:${A}`,P="FIS_v2",L="https://firebaseinstallations.googleapis.com/v1",D=36e5;const B=new a("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function j(e){return e instanceof o&&e.code.includes("request-failed")}function $({projectId:e}){return`${L}/projects/${e}/installations`}function U(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}async function F(e,t){var n=(await t.json()).error;return B.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function q({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function H(e,{refreshToken:t}){const n=q(e);return n.append("Authorization",(t=t,`${P} ${t}`)),n}async function V(e){var t=await e();return 500<=t.status&&t.status<600?e():t}function x(t){return new Promise(e=>{setTimeout(e,t)})}const W=/^[cdef][\w-]{21}$/,K="";function z(){try{const t=new Uint8Array(17),n=self.crypto||self.msCrypto;n.getRandomValues(t),t[0]=112+t[0]%16;var e=function(e){const t=function(e){const t=btoa(String.fromCharCode(...e));return t.replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(t);return W.test(e)?e:K}catch(e){return K}}function G(e){return`${e.appName}!${e.appId}`}const J=new Map;function Y(e,t){var n=G(e);Z(n,t),function(e,t){const n=function(){!Q&&"BroadcastChannel"in self&&(Q=new BroadcastChannel("[Firebase] FID Change"),Q.onmessage=e=>{Z(e.data.key,e.data.fid)});return Q}();n&&n.postMessage({key:e,fid:t});0===J.size&&Q&&(Q.close(),Q=null)}(n,t)}function Z(e,t){var n=J.get(e);if(n)for(const r of n)r(t)}let Q=null;const X="firebase-installations-store";let ee=null;function te(){return ee=ee||function(e,t,{blocked:n,upgrade:r,blocking:a,terminated:i}){const o=indexedDB.open(e,t),s=I(o);return r&&o.addEventListener("upgradeneeded",e=>{r(I(o.result),e.oldVersion,e.newVersion,I(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{i&&e.addEventListener("close",()=>i()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-installations-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(X)}}),ee}async function ne(e,t){var n=G(e);const r=await te(),a=r.transaction(X,"readwrite"),i=a.objectStore(X);var o=await i.get(n);return await i.put(t,n),await a.done,o&&o.fid===t.fid||Y(e,t.fid),t}async function re(e){var t=G(e);const n=await te(),r=n.transaction(X,"readwrite");await r.objectStore(X).delete(t),await r.done}async function ae(e,t){var n=G(e);const r=await te(),a=r.transaction(X,"readwrite"),i=a.objectStore(X);var o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await a.done,!s||o&&o.fid===s.fid||Y(e,s.fid),s}async function ie(n){let r;var e=await ae(n.appConfig,e=>{var t=se(e||{fid:z(),registrationStatus:0}),t=function(e,t){{if(0!==t.registrationStatus)return 1===t.registrationStatus?{installationEntry:t,registrationPromise:async function(e){let t=await oe(e.appConfig);for(;1===t.registrationStatus;)await x(100),t=await oe(e.appConfig);if(0!==t.registrationStatus)return t;{var{installationEntry:n,registrationPromise:r}=await ie(e);return r||n}}(e)}:{installationEntry:t};if(!navigator.onLine){var n=Promise.reject(B.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(t,n){try{var e=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=$(e),a=q(e),i=t.getImmediate({optional:!0});!i||(o=await i.getHeartbeatsHeader())&&a.append("x-firebase-client",o);var o={fid:n,authVersion:P,appId:e.appId,sdkVersion:M};const s={method:"POST",headers:a,body:JSON.stringify(o)},c=await V(()=>fetch(r,s));if(c.ok){o=await c.json();return{fid:o.fid||n,registrationStatus:2,refreshToken:o.refreshToken,authToken:U(o.authToken)}}throw await F("Create Installation",c)}(t,n);return ne(t.appConfig,e)}catch(e){throw j(e)&&409===e.customData.serverCode?await re(t.appConfig):await ne(t.appConfig,{fid:n.fid,registrationStatus:0}),e}}(e,r);return{installationEntry:r,registrationPromise:n}}}(n,t);return r=t.registrationPromise,t.installationEntry});return e.fid===K?{installationEntry:await r}:{installationEntry:e,registrationPromise:r}}function oe(e){return ae(e,e=>{if(!e)throw B.create("installation-not-found");return se(e)})}function se(e){return 1===(t=e).registrationStatus&&t.registrationTime+O<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function ce({appConfig:e,heartbeatServiceProvider:t},n){const r=([a,i]=[e,n["fid"]],`${$(a)}/${i}/authTokens:generate`);var a,i;const o=H(e,n),s=t.getImmediate({optional:!0});!s||(c=await s.getHeartbeatsHeader())&&o.append("x-firebase-client",c);var c={installation:{sdkVersion:M,appId:e.appId}};const l={method:"POST",headers:o,body:JSON.stringify(c)},u=await V(()=>fetch(r,l));if(u.ok)return U(await u.json());throw await F("Generate Auth Token",u)}async function le(r,a=!1){let i;var e=await ae(r.appConfig,e=>{if(!de(e))throw B.create("not-registered");var t,n=e.authToken;if(a||2!==(t=n).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+D}(t)){if(1===n.requestStatus)return i=async function(e,t){let n=await ue(e.appConfig);for(;1===n.authToken.requestStatus;)await x(100),n=await ue(e.appConfig);var r=n.authToken;return 0===r.requestStatus?le(e,t):r}(r,a),e;if(!navigator.onLine)throw B.create("app-offline");n=(t=e,n={requestStatus:1,requestTime:Date.now()},Object.assign(Object.assign({},t),{authToken:n}));return i=async function(t,n){try{var r=await ce(t,n),e=Object.assign(Object.assign({},n),{authToken:r});return await ne(t.appConfig,e),r}catch(e){throw!j(e)||401!==e.customData.serverCode&&404!==e.customData.serverCode?(r=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),await ne(t.appConfig,r)):await re(t.appConfig),e}}(r,n),n}return e});return i?await i:e.authToken}function ue(e){return ae(e,e=>{if(!de(e))throw B.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+O<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function de(e){return void 0!==e&&2===e.registrationStatus}async function pe(e,t=!1){var n,r=e;return await((n=(await ie(r)).registrationPromise)&&await n),(await le(r,t)).token}function fe(e){return B.create("missing-app-config-values",{valueName:e})}const ge="installations",he=e=>{var t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw fe("App Configuration");if(!e.name)throw fe("App Name");for(const t of["projectId","apiKey","appId"])if(!e.options[t])throw fe(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:Et._getProvider(t,"heartbeat"),_delete:()=>Promise.resolve()}},me=e=>{var t=e.getProvider("app").getImmediate();const n=Et._getProvider(t,ge).getImmediate();return{getId:()=>async function(e){var t=e;const{installationEntry:n,registrationPromise:r}=await ie(t);return(r||le(t)).catch(console.error),n.fid}(n),getToken:e=>pe(n,e)}};Et._registerComponent(new i(ge,he,"PUBLIC")),Et._registerComponent(new i("installations-internal",me,"PRIVATE")),Et.registerVersion(R,A),Et.registerVersion(R,A,"esm2017");const ve="@firebase/performance",be="0.6.4",we=be,_e="FB-PERF-TRACE-MEASURE",ye="@firebase/performance/config",Ee="@firebase/performance/configexpire";var Ie,Te,Se,A="Performance";const ke=new a("performance",A,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Ne=new class{constructor(e){this.name=e,this._logLevel=l,this._logHandler=d,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?c[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,t.DEBUG,...e),this._logHandler(this,t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,t.VERBOSE,...e),this._logHandler(this,t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,t.INFO,...e),this._logHandler(this,t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,t.WARN,...e),this._logHandler(this,t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,t.ERROR,...e),this._logHandler(this,t.ERROR,...e)}}(A);Ne.logLevel=t.INFO;let Ce,Re;class Ae{constructor(e){if(!(this.window=e))throw ke.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){this.performance&&this.performance.mark&&this.performance.mark(e)}measure(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&"undefined"!=typeof navigator&&navigator.cookieEnabled?!!function(){try{return"object"==typeof indexedDB}catch(e){return}}()||(Ne.info("IndexedDB is not supported by current browser"),!1):(Ne.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,n){if(this.PerformanceObserver){const t=new this.PerformanceObserver(e=>{for(const t of e.getEntries())n(t)});t.observe({entryTypes:[e]})}}static getInstance(){return void 0===Ce&&(Ce=new Ae(Re)),Ce}}let Oe;function Me(e,t){var n=e.length-t.length;if(n<0||1<n)throw ke.create("invalid String merger input");const r=[];for(let a=0;a<e.length;a++)r.push(e.charAt(a)),t.length>a&&r.push(t.charAt(a));return r.join("")}let Pe;class Le{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Me("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Me("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===Pe&&(Pe=new Le),Pe}}(Te=Ie=Ie||{})[Te.UNKNOWN=0]="UNKNOWN",Te[Te.VISIBLE=1]="VISIBLE",Te[Te.HIDDEN=2]="HIDDEN";const De=["firebase_","google_","ga_"],Be=new RegExp("^[a-zA-Z]\\w*$");function je(){switch(Ae.getInstance().document.visibilityState){case"visible":return Ie.VISIBLE;case"hidden":return Ie.HIDDEN;default:return Ie.UNKNOWN}}function $e(e){var t=null===(t=e.options)||void 0===t?void 0:t.appId;if(!t)throw ke.create("no app id");return t}const Ue="0.0.1",Fe={loggingEnabled:!0},qe="FIREBASE_INSTALLATIONS_AUTH";function He(e,t){var r,a,n=function(){const e=Ae.getInstance().localStorage;if(e){var t=e.getItem(Ee);if(t&&function(e){return Number(e)>Date.now()}(t)){t=e.getItem(ye);if(t)try{return JSON.parse(t)}catch(e){return}}}}();return n?(xe(n),Promise.resolve()):(a=t,function(e){const t=e.getToken();return t.then(e=>{}),t}((r=e).installations).then(e=>{var t=function(e){var t=null===(t=e.options)||void 0===t?void 0:t.projectId;if(!t)throw ke.create("no project id");return t}(r.app),n=function(e){var t=null===(t=e.options)||void 0===t?void 0:t.apiKey;if(!t)throw ke.create("no api key");return t}(r.app),n=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${t}/namespaces/fireperf:fetch?key=${n}`,{method:"POST",headers:{Authorization:`${qe} ${e}`},body:JSON.stringify({app_instance_id:a,app_instance_id_token:e,app_id:$e(r.app),app_version:we,sdk_version:Ue})});return fetch(n).then(e=>{if(e.ok)return e.json();throw ke.create("RC response not ok")})}).catch(()=>{Ne.info(Ve)}).then(xe).then(e=>function(e){const t=Ae.getInstance().localStorage;e&&t&&(t.setItem(ye,JSON.stringify(e)),t.setItem(Ee,String(Date.now()+60*Le.getInstance().configTimeToLive*60*1e3)))}(e),()=>{}))}const Ve="Could not fetch config, will use default configs";function xe(e){if(!e)return e;const t=Le.getInstance();var n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=Fe.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):Fe.logSource&&(t.logSource=Fe.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:Fe.logEndPointUrl&&(t.logEndPointUrl=Fe.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:Fe.transportKey&&(t.transportKey=Fe.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==Fe.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=Fe.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==Fe.tracesSamplingRate&&(t.tracesSamplingRate=Fe.tracesSamplingRate),t.logTraceAfterSampling=We(t.tracesSamplingRate),t.logNetworkAfterSampling=We(t.networkRequestsSamplingRate),e}function We(e){return Math.random()<=e}let Ke=1,ze;function Ge(e){var t;return Ke=2,ze=ze||(t=e,function(){const n=Ae.getInstance().document;return new Promise(e=>{if(n&&"complete"!==n.readyState){const t=()=>{"complete"===n.readyState&&(n.removeEventListener("readystatechange",t),e())};n.addEventListener("readystatechange",t)}else e()})}().then(()=>function(e){const t=e.getId();return t.then(e=>{Oe=e}),t}(t.installations)).then(e=>He(t,e)).then(()=>Je(),()=>Je())),ze}function Je(){Ke=3}const Ye=1e4,Ze=3,Qe=1e3;let Xe=Ze,et=[],tt=!1;function nt(e){setTimeout(()=>{if(0!==Xe)return et.length?void function(){const e=et.splice(0,Qe),t=e.map(e=>({source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Le.getInstance().logSource,log_event:t};!function(e,r){return function(e){var t=Le.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then(e=>(e.ok||Ne.info("Call to Firebase backend failed."),e.json())).then(e=>{var t=Number(e.nextRequestWaitMillis);let n=Ye;isNaN(t)||(n=Math.max(t,n));t=e.logResponseDetails;Array.isArray(t)&&0<t.length&&"RETRY_REQUEST_LATER"===t[0].responseAction&&(et=[...r,...et],Ne.info("Retry transport request later.")),Xe=Ze,nt(n)})}(n,e).catch(()=>{et=[...e,...et],Xe--,Ne.info(`Tries left: ${Xe}.`),nt(Ye)})}():nt(Ye)},e)}function rt(t){return(...e)=>{!function(e){if(!e.eventTime||!e.message)throw ke.create("invalid cc log");et=[...et,e]}({message:t(...e),eventTime:Date.now()})}}let at;function it(e,t){at=at||rt(ct),at(e,t)}function ot(e){var t=Le.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&Ae.getInstance().requiredApisAvailable()&&(e.isAuto&&je()!==Ie.VISIBLE||(3===Ke?st(e):Ge(e.performanceController).then(()=>st(e),()=>st(e))))}function st(e){var t;!Oe||(t=Le.getInstance()).loggingEnabled&&t.logTraceAfterSampling&&setTimeout(()=>it(e,1),0)}function ct(e,t){return 0===t?(n={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:lt(e.performanceController.app),network_request_metric:n},JSON.stringify(n)):function(e){const t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);n={application_info:lt(e.performanceController.app),trace_metric:t};return JSON.stringify(n)}(e);var n}function lt(e){return{google_app_id:$e(e),app_instance_id:Oe,web_app_info:{sdk_version:we,page_url:Ae.getInstance().getUrl(),service_worker_status:null!=(t=Ae.getInstance().navigator)&&t.serviceWorker?t.serviceWorker.controller?2:3:1,visibility_state:je(),effective_connection_type:function(){var e=Ae.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}const ut=["_fp","_fcp","_fid"];class dt{constructor(e,t,n=!1,r){this.performanceController=e,this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Ae.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${_e}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw ke.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw ke.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ot(this)}record(e,t,n){if(e<=0)throw ke.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw ke.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object.assign({},n.attributes)),n&&n.metrics)for(const r of Object.keys(n.metrics))isNaN(Number(n.metrics[r]))||(this.counters[r]=Math.floor(Number(n.metrics[r])));ot(this)}incrementMetric(e,t=1){void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)}putMetric(e,t){if(r=e,a=this.name,0===r.length||100<r.length||!(a&&a.startsWith("_wt_")&&-1<ut.indexOf(r))&&r.startsWith("_"))throw ke.create("invalid custom metric name",{customMetricName:e});var n,r,a;this.counters[e]=(t=null!=t?t:0,(n=Math.floor(t))<t&&Ne.info(`Metric value should be an Integer, setting the value as : ${n}.`),n)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){var n,r,a=!(0===(n=e).length||40<n.length)&&(!De.some(e=>n.startsWith(e))&&!!n.match(Be)),i=0!==(r=t).length&&r.length<=100;if(a&&i)this.customAttributes[e]=t;else{if(!a)throw ke.create("invalid attribute name",{attributeName:e});if(!i)throw ke.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){var e=this.api.getEntriesByName(this.traceMeasure),e=e&&e[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,n,r){var a=Ae.getInstance().getUrl();if(a){const i=new dt(e,"_wt_"+a,!0);a=Math.floor(1e3*Ae.getInstance().getTimeOrigin());i.setStartTime(a),t&&t[0]&&(i.setDuration(Math.floor(1e3*t[0].duration)),i.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),i.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),i.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));n&&((a=n.find(e=>"first-paint"===e.name))&&a.startTime&&i.putMetric("_fp",Math.floor(1e3*a.startTime)),(a=n.find(e=>"first-contentful-paint"===e.name))&&a.startTime&&i.putMetric("_fcp",Math.floor(1e3*a.startTime)),r&&i.putMetric("_fid",Math.floor(1e3*r))),ot(i)}}static createUserTimingTrace(e,t){ot(new dt(e,t,!1,t))}}function pt(e,t){const n=t;var r,a,i;n&&void 0!==n.responseStart&&(i=Ae.getInstance().getTimeOrigin(),r=Math.floor(1e3*(n.startTime+i)),a=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,i=Math.floor(1e3*(n.responseEnd-n.startTime)),function(e){const t=Le.getInstance();var n,r,a;t.instrumentationEnabled&&(n=e.url,r=t.logEndPointUrl.split("?")[0],a=t.flTransportEndpointUrl.split("?")[0],n!==r&&n!==a&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(()=>it(e,0),0))}({performanceController:e,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:r,timeToResponseInitiatedUs:a,timeToResponseCompletedUs:i}))}const ft=5e3;function gt(e){Oe&&(setTimeout(()=>function(n){const e=Ae.getInstance(),r=e.getEntriesByType("navigation"),a=e.getEntriesByType("paint");if(e.onFirstInputDelay){let t=setTimeout(()=>{dt.createOobTrace(n,r,a),t=void 0},ft);e.onFirstInputDelay(e=>{t&&(clearTimeout(t),dt.createOobTrace(n,r,a,e))})}else dt.createOobTrace(n,r,a)}(e),0),setTimeout(()=>function(t){const e=Ae.getInstance(),n=e.getEntriesByType("resource");for(const r of n)pt(t,r);e.setupObserver("resource",e=>pt(t,e))}(e),0),setTimeout(()=>function(t){const e=Ae.getInstance(),n=e.getEntriesByType("measure");for(const r of n)ht(t,r);e.setupObserver("measure",e=>ht(t,e))}(e),0))}function ht(e,t){const n=t.name;n.substring(0,_e.length)!==_e&&dt.createUserTimingTrace(e,n)}class mt{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==(null==e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null==e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),Ae.getInstance().requiredApisAvailable()?new Promise((t,n)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var e;n((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(e){n(e)}}).then(e=>{e&&(tt||(nt(5500),tt=!0),Ge(this).then(()=>gt(this),()=>gt(this)),this.initialized=!0)}).catch(e=>{Ne.info(`Environment doesn't support IndexedDB: ${e}`)}):Ne.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Le.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Le.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Le.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Le.getInstance().dataCollectionEnabled}}const vt="[DEFAULT]";const bt=(e,{options:t})=>{var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(n.name!==vt)throw ke.create("FB not default");if("undefined"==typeof window)throw ke.create("no window");e=window,Re=e;const a=new mt(n,r);return a._init(t),a};Et._registerComponent(new i("performance",bt,"PUBLIC")),Et.registerVersion(ve,be),Et.registerVersion(ve,be,"esm2017");class wt{constructor(e,t){this.app=e,this._delegate=t}get instrumentationEnabled(){return this._delegate.instrumentationEnabled}set instrumentationEnabled(e){this._delegate.instrumentationEnabled=e}get dataCollectionEnabled(){return this._delegate.dataCollectionEnabled}set dataCollectionEnabled(e){this._delegate.dataCollectionEnabled=e}trace(e){return t=this._delegate,n=e,t=(e=t)&&e._delegate?e._delegate:e,new dt(t,n);var t,n}}function _t(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("performance").getImmediate();return new wt(t,n)}(Se=n.default).INTERNAL.registerComponent(new i("performance-compat",_t,"PUBLIC")),Se.registerVersion("@firebase/performance-compat","0.2.4")}).apply(this,arguments)}catch(e){throw console.error(e),new Error("Cannot instantiate firebase-performance-compat.js - be sure to load firebase-app.js first.")}});
//# sourceMappingURL=firebase-performance-compat.js.map
</script><style>[_nghost-ng-c3000866330]{display:block;z-index:12;--navbar-toggle-icon-color-internal: var(--theme-color-fg-secondary);--navbar-toggle-icon-color-hover-internal: var(--theme-color-fg-secondary);--navbar-line-color-internal: var(--theme-color-divider);--nav-group-container-box-shadow-internal: unset;--nav-group-border-radius-internal: 16px;--settings-button-mobile-hover-border-radius-internal: 16px;--project-settings-button-size: 32px}@media only screen and (max-width: 919px){[_nghost-ng-c3000866330]{z-index:1000}}h2[_ngcontent-ng-c3000866330]{margin:0;padding:0}  .cdk-drag-preview.quickLinkDragPreview{box-sizing:border-box;background-color:var(--theme-color-navbar-item-bg-hover);border-radius:16px;border:1px solid var(--theme-color-divider)}  .cdk-drag-preview.quickLinkDragPreview .cdk-drag-handle.drag-icon{color:var(--theme-color-fg-secondary);display:block;font-size:16px;height:16px;left:4px;position:absolute;top:8px;width:16px}  .project-shortcuts-container.cdk-drop-list-dragging{cursor:grabbing}  .project-shortcuts-container.cdk-drop-list-dragging fire-navbar-item:hover{background-color:rgba(0,0,0,0)}  .project-shortcuts-container.cdk-drop-list-dragging fire-navbar-item:hover .action-button,   .project-shortcuts-container.cdk-drop-list-dragging fire-navbar-item:hover [data-focusinliner]{display:none}  .project-shortcuts-container.cdk-drop-list-dragging fire-navbar-item:hover a{pointer-events:none}.is-collapsed[_ngcontent-ng-c3000866330]   .root-links-group[_ngcontent-ng-c3000866330]{padding:6px 0}.root-links-group[_ngcontent-ng-c3000866330]{border-bottom:1px solid var(--theme-color-divider)}.mobile-backdrop[_ngcontent-ng-c3000866330]{background-color:rgba(0,0,0,.4);display:none;height:100vh;position:fixed;width:100%}@media only screen and (max-width: 919px){.mobile-backdrop[_ngcontent-ng-c3000866330]{display:block}}.navbar[_ngcontent-ng-c3000866330]{background-color:var(--theme-color-navbar-bg);display:flex;flex-direction:column;height:100vh;transition:width .3s cubic-bezier(0.4, 0, 0.2, 1);width:256px;--nav-section-header-color: var(--theme-color-fg-secondary);--nav-group-title-color: var(--theme-color-fg-secondary);--nav-item-color: var(--theme-color-fg-secondary);--billing-plan-color: var(--theme-color-fg-secondary);box-shadow:1px 0 rgba(var(--theme-color-line-rgb), 0.1)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]   .whats-new-container[_ngcontent-ng-c3000866330]     .nav-item{padding-left:24px}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]{border-bottom:1px solid var(--theme-color-divider)}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]   .whats-new-container[_ngcontent-ng-c3000866330]{border-bottom:none}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]   .whats-new-container[_ngcontent-ng-c3000866330]     .nav-item{padding-left:20px}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]   .group-nav-links[_ngcontent-ng-c3000866330]{padding:6px 0}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]   .group-nav-links.project-shortcuts[_ngcontent-ng-c3000866330]   .project-shortcuts-container[_ngcontent-ng-c3000866330]{border-width:0;padding:0}@media only screen and (max-width: 919px){.navbar[_ngcontent-ng-c3000866330]{box-shadow:0px 4px 4px 0px rgba(var(--theme-color-elevation-shadow-rgb), 0.3),0px 8px 12px 6px rgba(var(--theme-color-elevation-shadow-rgb), 0.15);position:fixed;transition:transform .3s cubic-bezier(0, 0, 0.2, 1)}.navbar.is-collapsed[_ngcontent-ng-c3000866330]{box-shadow:none;transform:translate3d(-256px, 0, 0);transition:transform .3s cubic-bezier(0.4, 0, 1, 1)}}@media only screen and (min-width: 600px){.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]{width:68px}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]{flex-grow:0;flex-shrink:1;-ms-overflow-style:none}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]::-webkit-scrollbar{display:none}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]{height:64px;margin:0;padding:6px 0}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]:before, .navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]:after{left:0}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .overview-link[_ngcontent-ng-c3000866330]{width:68px;margin:0}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .expanded-nav-project-settings-menu[_ngcontent-ng-c3000866330]{display:none}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .collapsed-nav-project-settings[_ngcontent-ng-c3000866330]{height:32px;width:auto}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expanded[_ngcontent-ng-c3000866330]   .group-nav-links[_ngcontent-ng-c3000866330]{padding:6px 0}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]     .nav-item .link-name{opacity:0}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .root-link[_ngcontent-ng-c3000866330]{overflow-x:hidden}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .root-links-group[_ngcontent-ng-c3000866330]     .nav-item{height:32px;width:auto}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .navbar-toggle[_ngcontent-ng-c3000866330]{flex-grow:1;flex-shrink:0;justify-content:center}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .navbar-toggle[_ngcontent-ng-c3000866330]   .mat-icon[_ngcontent-ng-c3000866330]{transform:rotate(180deg)}.navbar.is-collapsed.is-collapsed[_ngcontent-ng-c3000866330]   .all-products[_ngcontent-ng-c3000866330]{margin:0;padding:6px 0;border-bottom:1px solid var(--theme-color-divider)}}.navbar[_ngcontent-ng-c3000866330]   .group-header-label[_ngcontent-ng-c3000866330]{padding:10px 14px}.navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]{--billing-plan-color: rgba(255, 255, 255, 0.4);--navbar-icon-color: rgba(255, 255, 255, 0.4);--navbar-toggle-icon-color: rgba(255, 255, 255, 0.4);--navbar-quicklink-promo-header-color: rgba(255, 255, 255, 0.4);--navbar-quicklink-promo-content-color: rgba(255, 255, 255, 0.4);--navbar-quicklink-promo-button-text-color: rgba(255, 255, 255, 0.4);--nav-section-header-color: var(--theme-color-fg-secondary)}.navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-section[_ngcontent-ng-c3000866330], .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .product-categories-header[_ngcontent-ng-c3000866330], .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]:not(.is-expandable){pointer-events:none;user-select:none;--nav-item-color: var(--theme-color-fg-secondary);--nav-item-selected-color: var(--theme-color-fg-secondary);background-color:var(--theme-color-navbar-bg);opacity:.4}html[hc][_ngcontent-ng-c3000866330]   body[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-section[_ngcontent-ng-c3000866330], html[hc][_ngcontent-ng-c3000866330]   body[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .product-categories-header[_ngcontent-ng-c3000866330], html[hc][_ngcontent-ng-c3000866330]   body[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]:not(.is-expandable), body.cdk-high-contrast-active[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-section[_ngcontent-ng-c3000866330], body.cdk-high-contrast-active[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .product-categories-header[_ngcontent-ng-c3000866330], body.cdk-high-contrast-active[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]:not(.is-expandable){color:GrayText;opacity:unset}.navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-section.firebase-logo-lockup[_ngcontent-ng-c3000866330], .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .product-categories-header.firebase-logo-lockup[_ngcontent-ng-c3000866330], .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]:not(.is-expandable).firebase-logo-lockup{opacity:.4}html[hc][_ngcontent-ng-c3000866330]   body[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-section.firebase-logo-lockup[_ngcontent-ng-c3000866330], html[hc][_ngcontent-ng-c3000866330]   body[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .product-categories-header.firebase-logo-lockup[_ngcontent-ng-c3000866330], html[hc][_ngcontent-ng-c3000866330]   body[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]:not(.is-expandable).firebase-logo-lockup, body.cdk-high-contrast-active[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-section.firebase-logo-lockup[_ngcontent-ng-c3000866330], body.cdk-high-contrast-active[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .product-categories-header.firebase-logo-lockup[_ngcontent-ng-c3000866330], body.cdk-high-contrast-active[_ngcontent-ng-c3000866330]   .navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]:not(.is-expandable).firebase-logo-lockup{color:GrayText;opacity:unset}.navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .group-header[_ngcontent-ng-c3000866330]:hover{--nav-group-title-color: #fff;--nav-item-color: #fff}.navbar.has-expanded-nav-group[_ngcontent-ng-c3000866330]   .quicklink-promo-card[_ngcontent-ng-c3000866330]   [mat-button][_ngcontent-ng-c3000866330]{color:rgba(255,255,255,.4)}.navbar[_ngcontent-ng-c3000866330]   fire-logo-lockup[_ngcontent-ng-c3000866330]{padding:0 20px}.navbar[_ngcontent-ng-c3000866330]   .all-products[_ngcontent-ng-c3000866330]{margin:0 10px;padding:12px 0}.navbar[_ngcontent-ng-c3000866330]   .all-products[_ngcontent-ng-c3000866330]     mat-icon{margin-left:-3px}.navbar[_ngcontent-ng-c3000866330]   .drag-icon[_ngcontent-ng-c3000866330]{font-size:16px;height:16px;left:4px;top:8px;width:16px;color:var(--theme-color-fg-secondary)}@media only screen and (max-width: 599px),only screen and (orientation: landscape)and (max-width: 919px)and (max-height: 479px){.navbar[_ngcontent-ng-c3000866330]   .drag-icon[_ngcontent-ng-c3000866330]{display:none}}.navbar[_ngcontent-ng-c3000866330]   .drag-icon[_ngcontent-ng-c3000866330]:hover{cursor:grab}.navbar[_ngcontent-ng-c3000866330]   .drag-drop-placeholder[_ngcontent-ng-c3000866330]{height:32px}.navbar[_ngcontent-ng-c3000866330]   .section-header[_ngcontent-ng-c3000866330]{font-size:12px;line-height:16px;font-weight:400;color:var(--nav-section-header-color)}.navbar[_ngcontent-ng-c3000866330]   .section-header.product-categories-header[_ngcontent-ng-c3000866330]{padding:18px 24px 20px}.navbar[_ngcontent-ng-c3000866330]   .section-header.project-shortcuts-header[_ngcontent-ng-c3000866330], .navbar[_ngcontent-ng-c3000866330]   .section-header.whats-new-header[_ngcontent-ng-c3000866330]{padding:14px 24px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]{display:flex;flex-direction:column;flex-grow:1;justify-content:space-between;overflow-x:hidden;overflow-y:auto;overscroll-behavior:none}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]::-webkit-scrollbar{background-color:var(--theme-color-navbar-bg);width:8px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]::-webkit-scrollbar-thumb{background-color:var(--theme-color-navbar-scroll-thumb);border-radius:8px;border:2px solid var(--theme-color-navbar-scroll-thumb-border)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]::-webkit-scrollbar-thumb:hover{background-color:var(--theme-color-navbar-scroll-thumb-hover)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   i.gmp-icons[_ngcontent-ng-c3000866330]{font-size:20px;height:20px;line-height:20px;width:20px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .remove-quicklink-button[_ngcontent-ng-c3000866330]{--mdc-icon-button-state-layer-size: navbar_common.$NAV_ITEM_HEIGHT;--mdc-icon-button-icon-size: 16px;height:32px;width:32px;right:8px}@media only screen and (max-width: 599px),only screen and (orientation: landscape)and (max-width: 919px)and (max-height: 479px){.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .remove-quicklink-button[_ngcontent-ng-c3000866330]{display:flex}}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .remove-quicklink-button[_ngcontent-ng-c3000866330]   mat-icon[_ngcontent-ng-c3000866330]{font-size:16px;color:var(--theme-color-fg-secondary)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]{height:56px;position:relative;transition:height .3s cubic-bezier(0.4, 0, 0.2, 1),padding .3s cubic-bezier(0.4, 0, 0.2, 1);margin:0 4px;border-top:1px solid var(--theme-color-divider);border-bottom:1px solid var(--theme-color-divider)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   fire-navbar-item[_ngcontent-ng-c3000866330]{width:auto;margin-top:12px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .project-settings-button[_ngcontent-ng-c3000866330]{--mdc-icon-button-state-layer-size: var(--project-settings-button-size);--mdc-icon-button-icon-size: 24px;height:var(--project-settings-button-size);width:var(--project-settings-button-size);display:flex;align-items:center}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .project-settings-button[_ngcontent-ng-c3000866330]   i.gmp-icons[_ngcontent-ng-c3000866330]{transition:transform .15s ease;color:var(--theme-color-fg-secondary)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .project-settings-button[_ngcontent-ng-c3000866330]::after{color:var(--theme-color-fg-secondary);content:"arrow_drop_down";left:50%;opacity:0;position:absolute;transform:translateX(-12px) rotate(-90deg);transition:transform .15s ease-in,opacity .075s ease;font-family:"Material Icons Extended";font-weight:normal;font-style:normal;font-size:24px;display:inline-block;width:1em;height:1em;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;-webkit-font-feature-settings:"liga";-moz-font-feature-settings:"liga";font-feature-settings:"liga";speak:none;text-decoration:none;user-select:none}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .project-settings-button[_ngcontent-ng-c3000866330]:hover   i.gmp-icons[_ngcontent-ng-c3000866330]{transform:translateX(-4px) rotate(-20deg)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .project-settings-button[_ngcontent-ng-c3000866330]:hover::after{opacity:1;transform:translateX(-1px) rotate(-90deg);transition:transform .15s ease-out,opacity .075s ease .075s}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .project-settings-button.is-highlighted[_ngcontent-ng-c3000866330]{background-color:var(--theme-color-navbar-item-selected-bg);border-radius:16px;width:52px}i.gmp-icons[_ngcontent-ng-c3000866330]   .navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .project-settings-button.is-highlighted[_ngcontent-ng-c3000866330]::after{color:var(--theme-color-fg-primary)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .expanded-nav-project-settings-menu[_ngcontent-ng-c3000866330]{align-items:center;bottom:0;display:flex;height:55px;position:absolute;right:0;top:0;padding:0 10px 0 4px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .expanded-nav-project-settings-menu.is-highlighted[_ngcontent-ng-c3000866330]{padding:0 1px 0 4px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .expanded-nav-project-settings-menu[_ngcontent-ng-c3000866330]::before{background-color:var(--navbar-line-color-internal);content:"";height:20px;opacity:1;position:absolute;right:60px;top:18px;transition:.075s cubic-bezier(0.4, 0, 1, 1);width:1px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .expanded-nav-project-settings-menu[_ngcontent-ng-c3000866330]   .mat-icon-button[_ngcontent-ng-c3000866330]::after{margin-top:-12px;top:50%}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .collapsed-nav-project-settings[_ngcontent-ng-c3000866330]{align-items:center;background-color:rgba(0,0,0,0);border:0;color:rgba(255,255,255,.8);display:flex;padding:0 24px;text-align:left}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .overview-and-settings[_ngcontent-ng-c3000866330]   .collapsed-nav-project-settings[_ngcontent-ng-c3000866330]:hover{background-color:var(--theme-color-navbar-group-bg);border-radius:var(--settings-button-mobile-hover-border-radius-internal)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]{border-bottom:none;display:flex;flex-direction:column;padding:0}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expandable[_ngcontent-ng-c3000866330]{margin:0 10px;border-top:1px solid var(--theme-color-navbar-bg);background-color:var(--theme-color-navbar-group-bg)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expandable.is-expanded[_ngcontent-ng-c3000866330]{transition:background-color .2s cubic-bezier(0.4, 0, 0.2, 1),padding .3s ease;background-color:var(--theme-color-navbar-group-bg)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expandable.is-expanded[_ngcontent-ng-c3000866330]   .group-header[_ngcontent-ng-c3000866330]:hover{background-color:var(--theme-color-navbar-group-bg)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expandable.is-expanded[_ngcontent-ng-c3000866330]   .group-header[_ngcontent-ng-c3000866330]   .group-header-label[_ngcontent-ng-c3000866330]:hover{background-color:rgba(0,0,0,0)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expandable.is-expanded[_ngcontent-ng-c3000866330]   .group-header[_ngcontent-ng-c3000866330]   .navgroup-toggle[_ngcontent-ng-c3000866330]{transform:rotate(0deg)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expandable.is-expanded[_ngcontent-ng-c3000866330]   .group-nav-links[_ngcontent-ng-c3000866330]{padding:0 0 16px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expandable[_ngcontent-ng-c3000866330]:first-child{border-radius:var(--nav-group-border-radius-internal) var(--nav-group-border-radius-internal) 0 0;border-top:none}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expandable[_ngcontent-ng-c3000866330]:first-child   .group-header[_ngcontent-ng-c3000866330]{border-radius:var(--nav-group-border-radius-internal) var(--nav-group-border-radius-internal) 0 0}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expandable[_ngcontent-ng-c3000866330]:last-child{border-radius:0 0 var(--nav-group-border-radius-internal) var(--nav-group-border-radius-internal);margin-bottom:10px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expandable[_ngcontent-ng-c3000866330]:last-child   .group-header[_ngcontent-ng-c3000866330]{border-radius:0 0 var(--nav-group-border-radius-internal) var(--nav-group-border-radius-internal)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group.is-expandable[_ngcontent-ng-c3000866330]   .group-nav-links[_ngcontent-ng-c3000866330]{overflow:hidden}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]:last-child{margin-bottom:-1px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]:not(.is-expanded)   .group-header[_ngcontent-ng-c3000866330]:hover{background-color:rgba(255,255,255,.08)}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]   .group-header[_ngcontent-ng-c3000866330]{background-color:rgba(0,0,0,0);border:0;cursor:pointer;display:block;letter-spacing:.25px;max-width:100%;position:relative;text-align:left;transition:background-color .15s ease}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]   .group-header[_ngcontent-ng-c3000866330]   .navgroup-toggle[_ngcontent-ng-c3000866330]{color:var(--theme-color-fg-secondary);font-size:20px;height:20px;opacity:1;position:absolute;right:8px;transform:rotate(180deg);transition:opacity .3s cubic-bezier(0.4, 0, 0.2, 1),transform .3s cubic-bezier(0.4, 0, 0.2, 1);top:10px;width:20px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]   .group-header[_ngcontent-ng-c3000866330]   .group-title[_ngcontent-ng-c3000866330]{color:var(--theme-color-fg-secondary);font-family:"Google Sans",sans-serif;font-size:15px;font-weight:500;line-height:20px;margin-bottom:2px}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]   .group-header[_ngcontent-ng-c3000866330]   .group-summary[_ngcontent-ng-c3000866330]{color:rgba(255,255,255,.5);transition:opacity .15s cubic-bezier(0.4, 0, 0.2, 1);font-size:12px;line-height:16px;font-weight:400;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]   .group-nav-links.project-shortcuts[_ngcontent-ng-c3000866330]{padding-bottom:0}.navbar[_ngcontent-ng-c3000866330]   .nav-groups-container[_ngcontent-ng-c3000866330]   .nav-group[_ngcontent-ng-c3000866330]   .group-nav-links.project-shortcuts[_ngcontent-ng-c3000866330]   .project-shortcuts-container[_ngcontent-ng-c3000866330]{padding:0 4px}.navbar[_ngcontent-ng-c3000866330]   .navbar-toggle[_ngcontent-ng-c3000866330]{background-color:rgba(0,0,0,0);border:0;cursor:pointer;display:flex;flex:none;height:44px;padding:10px 24px;position:relative;--navbar-toggle-icon-color-internal: var(--theme-color-fg-secondary);--navbar-toggle-icon-color-hover-internal: var(--theme-color-fg-secondary)}@media only screen and (max-width: 599px){.navbar[_ngcontent-ng-c3000866330]   .navbar-toggle[_ngcontent-ng-c3000866330]{display:none}}.navbar[_ngcontent-ng-c3000866330]   .navbar-toggle[_ngcontent-ng-c3000866330]:hover   .mat-icon[_ngcontent-ng-c3000866330]{color:var(--navbar-toggle-icon-color-hover-internal)}.navbar[_ngcontent-ng-c3000866330]   .navbar-toggle[_ngcontent-ng-c3000866330]   .mat-icon[_ngcontent-ng-c3000866330]{color:var(--navbar-toggle-icon-color-internal);position:absolute;right:22px;top:10px;transition:transform .3s cubic-bezier(0.4, 0, 0.2, 1),color .1s cubic-bezier(0.4, 0, 0.2, 1)}.navbar[_ngcontent-ng-c3000866330]   .quicklink-promo-card[_ngcontent-ng-c3000866330]{background-color:var(--quicklink-promo-card-background-color-internal);margin:10px 10px 28px;padding:16px;--quicklink-promo-card-background-color-internal: var( --theme-color-navbar-group-bg );--quicklink-promo-header-color-internal: var(--theme-color-fg-secondary);--quicklink-promo-content-color-internal: var(--theme-color-fg-secondary);--quicklink-promo-actions-color-internal: var(--theme-color-primary-dark)}.navbar[_ngcontent-ng-c3000866330]   .quicklink-promo-card[_ngcontent-ng-c3000866330]   .quicklink-promo-header[_ngcontent-ng-c3000866330]{font-size:14px;line-height:20px;font-weight:500;color:var(--quicklink-promo-header-color-internal);margin-bottom:12px;margin-top:4px}.navbar[_ngcontent-ng-c3000866330]   .quicklink-promo-card[_ngcontent-ng-c3000866330]   .quicklink-promo-content[_ngcontent-ng-c3000866330]{font-size:13px;line-height:20px;font-weight:500;color:var(--quicklink-promo-content-color-internal);margin-bottom:12px}.navbar[_ngcontent-ng-c3000866330]   .quicklink-promo-card[_ngcontent-ng-c3000866330]   .quick-link-promo-actions[_ngcontent-ng-c3000866330]   [mat-button][_ngcontent-ng-c3000866330]{color:var(--quicklink-promo-actions-color-internal)}.navbar[_ngcontent-ng-c3000866330]   .quicklink-promo-card[_ngcontent-ng-c3000866330]   .quick-link-promo-actions[_ngcontent-ng-c3000866330]   [mat-button][_ngcontent-ng-c3000866330]:first-child{margin-left:-16px}.billing-info[_ngcontent-ng-c3000866330]{min-height:60px;border-top:1px solid var(--theme-color-divider);border-bottom:1px solid var(--theme-color-divider);margin:0 10px}[_nghost-ng-c3000866330]     .is-collapsed .firebase-logo-text{opacity:0}[_nghost-ng-c3000866330]     .firebase-logo-text{transition:opacity .3s cubic-bezier(0.4, 0, 0.2, 1)}  .navbar-settings-menu-panel,   .navbar-settings-menu-panel.mat-mdc-menu-panel.mat-mdc-menu-panel{position:absolute}  .navbar-settings-menu-panel.is-expanded-navbar,   .navbar-settings-menu-panel.mat-mdc-menu-panel.mat-mdc-menu-panel.is-expanded-navbar{left:42px}  .navbar-settings-menu-panel.is-collapsed-navbar,   .navbar-settings-menu-panel.mat-mdc-menu-panel.mat-mdc-menu-panel.is-collapsed-navbar{left:68px}  .cdk-global-overlay-wrapper .navbar-settings-menu-panel{left:0;margin:8px;max-width:100%;right:0}.mat-icon[_ngcontent-ng-c3000866330]{overflow:visible}</style><style>[_nghost-ng-c167461095]{border-radius:16px;display:block;position:relative;--nav-item-bg-hover-internal: var(--theme-color-navbar-item-bg-hover);--navbar-item-color-internal: var(--theme-color-fg-secondary);--navbar-item-selected-color-internal: var(--theme-color-fg-secondary)}.overview-link[_nghost-ng-c167461095]   .nav-item[_ngcontent-ng-c167461095]   .link-name[_ngcontent-ng-c167461095]{padding-right:32px}[_nghost-ng-c167461095]   .link-container[_ngcontent-ng-c167461095]{display:flex}[_nghost-ng-c167461095]   .link-container[_ngcontent-ng-c167461095]   .new-indicator-dot[_ngcontent-ng-c167461095]{background-color:var(--fire-color-sidenav-icontext);border-radius:50%;height:6px;margin:6px 0 0 2px;width:6px}[_nghost-ng-c167461095]   .new-badge[_ngcontent-ng-c167461095]{margin-left:8px;--theme-color-bg: transparent;--theme-color-fg-secondary: var(--nav-item-selected-color, var(--fire-color-sidenav-icontext));--theme-color-fg-default-border: var(--nav-item-selected-color, var(--fire-color-sidenav-icontext))}[_nghost-ng-c167461095]     .action-button{color:var(--theme-color-fg-secondary);display:none;position:absolute;right:4px;top:0}[_nghost-ng-c167461095]     .action-button[fire-navbar-item-left]{left:8px}[_nghost-ng-c167461095]     .action-button:hover{color:var(--theme-color-fg-primary)}[_nghost-ng-c167461095]     [data-focusinliner]{display:none}[_nghost-ng-c167461095]:focus-within     .quicklink-action{display:flex}[_nghost-ng-c167461095]:hover, .forced-hover-for-test[_nghost-ng-c167461095]{background-color:var(--nav-item-bg-hover-internal)}[_nghost-ng-c167461095]:hover     .action-button, .forced-hover-for-test[_nghost-ng-c167461095]     .action-button{display:flex}[_nghost-ng-c167461095]:hover     [data-focusinliner], .forced-hover-for-test[_nghost-ng-c167461095]     [data-focusinliner]{display:flex}a[href].nav-item.nav-item[_ngcontent-ng-c167461095]{align-items:center;color:var(--navbar-item-color-internal);display:flex;text-decoration:none;transition:background-color .15s ease;height:32px;padding:0 24px;font-size:14px;line-height:20px;font-weight:500}a[href].nav-item.nav-item.is-whats-new-link-dropdown[_ngcontent-ng-c167461095], a[href].nav-item.nav-item.is-quick-link-dropdown[_ngcontent-ng-c167461095]{padding:0 14px}a[href].nav-item.nav-item.is-whats-new-link[_ngcontent-ng-c167461095], a[href].nav-item.nav-item.is-quick-link[_ngcontent-ng-c167461095]{padding:0 24px 0 20px}a[href].nav-item.nav-item.is-whats-new-link[_ngcontent-ng-c167461095]   .is-collapsed[_ngcontent-ng-c167461095]{padding-left:4px}a[href].nav-item.nav-item.is-size-large[_ngcontent-ng-c167461095]{height:56px}a[href].nav-item.nav-item.is-selected[_ngcontent-ng-c167461095], a[href].nav-item.nav-item.is-additional-active[_ngcontent-ng-c167461095]{color:var(--theme-color-fg-primary);background-color:var(--theme-color-navbar-item-selected-bg);border-radius:16px}a[href].nav-item.nav-item[_ngcontent-ng-c167461095]   i.gmp-icons[_ngcontent-ng-c167461095]{font-size:20px;height:20px;line-height:20px;width:20px}a[href].nav-item.nav-item[_ngcontent-ng-c167461095]   .link-name[_ngcontent-ng-c167461095]{margin-left:16px;overflow:hidden;text-overflow:ellipsis;transition:opacity .3s cubic-bezier(0.4, 0, 0.2, 1);white-space:nowrap}</style><style>.fire-popover-panel[_ngcontent-ng-c2054357091]{border:rgba(0,0,0,0);outline:2px solid rgba(0,0,0,0);font-size:14px;line-height:20px;--popover-bg: var(--theme-color-bg);border-radius:8px;background-color:var(--popover-bg);color:var(--theme-color-fg-secondary);display:inline-flex;box-shadow:0px 1px 2px 0px rgba(var(--theme-color-elevation-shadow-rgb), 0.3),0px 2px 6px 2px rgba(var(--theme-color-elevation-shadow-rgb), 0.15);flex-direction:row-reverse;max-width:384px;word-break:break-word}.fire-popover-content[_ngcontent-ng-c2054357091]{grid-area:content;margin:16px 20px}button[_ngcontent-ng-c2054357091]{margin:6px 6px 0 8px}button[_ngcontent-ng-c2054357091] + .fire-popover-content[_ngcontent-ng-c2054357091]{margin-right:0}  .fire-popover-host-overlay{z-index:2000}</style><style>[_nghost-ng-c1885288088]{display:flex;flex:none;padding:12px 12px 12px 24px}[_nghost-ng-c1885288088]   .billing-plan[_ngcontent-ng-c1885288088]{color:var(--theme-color-fg-secondary);flex-grow:1;flex-shrink:0}[_nghost-ng-c1885288088]   .billing-plan[_ngcontent-ng-c1885288088]   .billing-plan-title[_ngcontent-ng-c1885288088]{font-size:14px;line-height:20px;font-weight:500}[_nghost-ng-c1885288088]   .billing-plan[_ngcontent-ng-c1885288088]   .billing-plan-desc[_ngcontent-ng-c1885288088]{font-size:12px;line-height:16px;font-weight:400}</style><style>fire-chip[_ngcontent-ng-c3929152427]{cursor:unset}fire-chip.for-monogram[_ngcontent-ng-c3929152427]{margin-left:4px}.extension-icon[_ngcontent-ng-c3929152427]{font-size:16px}</style><style>.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}
</style><style>[_nghost-ng-c1538455252]{align-items:center;display:flex;height:48px}.project-picker-panel[_ngcontent-ng-c1538455252]{display:block;max-height:50vh;min-width:300px;overflow-x:none;overflow-y:auto;padding:8px 0;width:250px}.project-picker-panel[_ngcontent-ng-c1538455252]   .current-project-button[_ngcontent-ng-c1538455252], .project-picker-panel[_ngcontent-ng-c1538455252]   .project-list-button[_ngcontent-ng-c1538455252]{color:var(--theme-color-fg-primary);justify-content:flex-start;font-weight:400;height:32px;text-align:left;width:100%}.project-picker-panel[_ngcontent-ng-c1538455252]   .current-project-button[_ngcontent-ng-c1538455252]:hover, .project-picker-panel[_ngcontent-ng-c1538455252]   .current-project-button[_ngcontent-ng-c1538455252]:focus, .project-picker-panel[_ngcontent-ng-c1538455252]   .project-list-button[_ngcontent-ng-c1538455252]:hover, .project-picker-panel[_ngcontent-ng-c1538455252]   .project-list-button[_ngcontent-ng-c1538455252]:focus{background-color:var(--theme-color-bg-hover)}.project-picker-panel[_ngcontent-ng-c1538455252]   .hidden[_ngcontent-ng-c1538455252]{display:none}.project-picker-panel[_ngcontent-ng-c1538455252]     environment-badge{position:absolute}.project-picker-panel[_ngcontent-ng-c1538455252]     environment-badge mat-icon{display:inline-flex}[_nghost-ng-c1538455252]   fire-card-action-bar[_ngcontent-ng-c1538455252]     .fire-card-action-bar{min-height:0;flex-flow:row;justify-content:space-between;padding-left:12px;padding-top:4px}[_nghost-ng-c1538455252]   fire-card-action-bar[_ngcontent-ng-c1538455252]   fire-search-bar[_ngcontent-ng-c1538455252]{flex-grow:1;width:220px}.search-empty-state[_ngcontent-ng-c1538455252]{font-size:13px;line-height:20px;color:var(--theme-color-black-secondary);max-width:214px;padding:16px;text-align:center}.label[_ngcontent-ng-c1538455252]{font-size:13px;line-height:20px;color:var(--theme-color-fg-secondary);margin-top:8px;padding:8px 16px 4px}mat-divider[_ngcontent-ng-c1538455252]{margin:8px 0}[_nghost-ng-c1538455252]   .project-picker[_ngcontent-ng-c1538455252]{font-size:14px;line-height:20px;font-weight:500;align-items:center;background:inherit;border:none;color:var(--theme-color-fg-primary);display:inline-flex;padding-left:0;white-space:nowrap}[_nghost-ng-c1538455252]   .project-picker[_ngcontent-ng-c1538455252]:hover{color:var(--theme-color-fg-secondary)}.search-bar-wrapper[_ngcontent-ng-c1538455252]{margin:8px;min-width:232px}environment-badge[_ngcontent-ng-c1538455252]{margin-left:4px}.action-link[_ngcontent-ng-c1538455252]{margin-top:8px}.action-link[_ngcontent-ng-c1538455252]   .change-environment-action[_ngcontent-ng-c1538455252]{cursor:pointer;text-decoration:none}.popover-heavy-text[_ngcontent-ng-c1538455252]{font-weight:bold;color:var(--fire-color-white-primary)}</style><style>[_nghost-ng-c2005413936]{display:none}  .fire-popup-overlay-container{height:100%}</style><style>.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
</style><style>[_nghost-ng-c3129867821]{background-color:var(--theme-color-bg);display:block;min-height:80px;padding-top:48px;position:relative}.refresh-enabled.use-gradient[_nghost-ng-c3129867821]{background-color:var(--theme-color-zero-state-overcut)}body.fire-scheme-dark   .refresh-enabled.use-gradient[_nghost-ng-c3129867821]{background-color:rgba(0,0,0,0);background-image:linear-gradient(transparent, 75%, var(--theme-color-zero-state-overcut))}body.fire-scheme-dark   .refresh-enabled.use-gradient.transparent-bg[_nghost-ng-c3129867821]{background-image:unset}.refresh-enabled.use-gradient.transparent-bg[_nghost-ng-c3129867821]{background-color:rgba(0,0,0,0)}@media only screen and (max-width: 599px){.refresh-enabled.use-gradient.transparent-bg[_nghost-ng-c3129867821]{background-color:var(--theme-color-zero-state-overcut)}}[_nghost-ng-c3129867821]::after{background-color:var(--theme-color-fg-default-border);bottom:0;content:"";height:1px;left:24px;position:absolute;right:24px}@media only screen and (max-width: 663px){[_nghost-ng-c3129867821]::after{left:16px;right:16px}}@media only screen and (min-width: 920px)and (max-width: 919px){.c5e-nav-expanded   [_nghost-ng-c3129867821]::after{left:16px;right:16px}}@media only screen and (min-width: 920px)and (max-width: 731px){.c5e-nav-collapsed   [_nghost-ng-c3129867821]::after{left:16px;right:16px}}[_nghost-ng-c3129867821]     .feature-title-lockup, [_nghost-ng-c3129867821]     .feature-app-selector, [_nghost-ng-c3129867821]     fire-feature-bar-actions{margin-bottom:8px}[_nghost-ng-c3129867821]     fire-feature-bar-help-menu{position:absolute;right:-2px;top:3px}@media only screen and (max-width: 663px){[_nghost-ng-c3129867821]     fire-feature-bar-help-menu{right:-3px;top:4px}}@media only screen and (min-width: 920px)and (max-width: 919px){.c5e-nav-expanded   [_nghost-ng-c3129867821]     fire-feature-bar-help-menu{right:-3px;top:4px}}@media only screen and (min-width: 920px)and (max-width: 731px){.c5e-nav-collapsed   [_nghost-ng-c3129867821]     fire-feature-bar-help-menu{right:-3px;top:4px}}[_nghost-ng-c3129867821]     fire-feature-bar-actions{align-items:flex-start;display:flex;flex:1;justify-content:flex-end;margin-right:12px}[_nghost-ng-c3129867821]     fire-feature-bar-actions button+button{margin-left:8px}@media only screen and (max-width: 663px){[_nghost-ng-c3129867821]     fire-feature-bar-actions{flex:1 0 auto;padding:0;width:100%}[_nghost-ng-c3129867821]     fire-feature-bar-actions>:last-child{margin-right:-28px}}@media only screen and (min-width: 920px)and (max-width: 919px){.c5e-nav-expanded   [_nghost-ng-c3129867821]     fire-feature-bar-actions{flex:1 0 auto;padding:0;width:100%}.c5e-nav-expanded   [_nghost-ng-c3129867821]     fire-feature-bar-actions>:last-child{margin-right:-28px}}@media only screen and (min-width: 920px)and (max-width: 731px){.c5e-nav-collapsed   [_nghost-ng-c3129867821]     fire-feature-bar-actions{flex:1 0 auto;padding:0;width:100%}.c5e-nav-collapsed   [_nghost-ng-c3129867821]     fire-feature-bar-actions>:last-child{margin-right:-28px}}[_nghost-ng-c3129867821]     .mat-tab-header-pagination-chevron{border-color:var(--theme-color-fg-secondary)}[_nghost-ng-c3129867821]     .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{opacity:.25}.extended[_nghost-ng-c3129867821]   .feature-bar-page-margins[_ngcontent-ng-c3129867821]{min-height:auto;padding:0}.extended[_nghost-ng-c3129867821]   .feature-bar-primary-row[_ngcontent-ng-c3129867821]{min-height:auto;padding-bottom:0;padding-top:0}.extended[_nghost-ng-c3129867821]   .feature-title-lockup[_ngcontent-ng-c3129867821], .extended[_nghost-ng-c3129867821]   .feature-app-selector[_ngcontent-ng-c3129867821], .extended[_nghost-ng-c3129867821]     fire-feature-bar-actions{margin-bottom:0}.extended[_nghost-ng-c3129867821]     .fire-feature-bar-title{line-height:40px}.extended[_nghost-ng-c3129867821]   .feature-bar-content[_ngcontent-ng-c3129867821]{min-height:426px;padding:0;margin:0 auto;max-width:936px}.extended[_nghost-ng-c3129867821]::after{display:none}.feature-bar-content[_ngcontent-ng-c3129867821]{position:relative}.feature-bar-page-margins[_ngcontent-ng-c3129867821]{padding:0 24px}@media only screen and (max-width: 599px){.feature-bar-page-margins[_ngcontent-ng-c3129867821]{padding:0 16px}}.feature-bar-page-margins[_ngcontent-ng-c3129867821]     fire-feature-bar-tabs{margin:0 -23px}@media only screen and (max-width: 599px){.feature-bar-page-margins[_ngcontent-ng-c3129867821]     fire-feature-bar-tabs{margin:0 -15px}}.feature-bar-primary-row[_ngcontent-ng-c3129867821]{align-items:stretch;display:flex;flex-wrap:nowrap;padding-right:32px;padding-top:4px;position:relative}.feature-bar-primary-row.is-sub-section[_ngcontent-ng-c3129867821]     .fire-feature-bar-title{font-size:26px}@media only screen and (max-width: 663px){.feature-bar-primary-row[_ngcontent-ng-c3129867821]{flex-wrap:wrap}}@media only screen and (min-width: 920px)and (max-width: 919px){.c5e-nav-expanded[_ngcontent-ng-c3129867821]   .feature-bar-primary-row[_ngcontent-ng-c3129867821]{flex-wrap:wrap}}@media only screen and (min-width: 920px)and (max-width: 731px){.c5e-nav-collapsed[_ngcontent-ng-c3129867821]   .feature-bar-primary-row[_ngcontent-ng-c3129867821]{flex-wrap:wrap}}.feature-title-lockup[_ngcontent-ng-c3129867821]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;flex-direction:column;justify-content:center;margin-right:20px}.feature-title-lockup.stretch-across[_ngcontent-ng-c3129867821]{flex:1 auto}.feature-app-selector[_ngcontent-ng-c3129867821]{display:flex}.feature-app-selector[_ngcontent-ng-c3129867821]     fire-feature-bar-app-selector{margin-right:20px}.feature-bar-tabs-info[_ngcontent-ng-c3129867821]{display:flex;justify-content:space-between}@media only screen and (max-width: 599px){.feature-bar-tabs-info[_ngcontent-ng-c3129867821]{flex-direction:column-reverse}}</style><style>[_nghost-ng-c1802497841]{align-items:center;display:flex;flex-direction:row;min-width:0;position:relative;min-height:38px}[_nghost-ng-c1802497841]   .fire-feature-bar-title[_ngcontent-ng-c1802497841]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--theme-color-fg-primary);font-family:"Google Sans",sans-serif;font-size:32px;font-weight:500;left:-1px;line-height:38px;margin:0;padding:0;position:relative}[_nghost-ng-c1802497841]   .feature-title-badge[_ngcontent-ng-c1802497841]{align-items:center;display:flex}[_nghost-ng-c1802497841]     fire-feature-bar-title-aside{display:flex;align-items:center}[_nghost-ng-c1802497841]     fire-beta-badge{margin-left:12px}[_nghost-ng-c1802497841]     fire-feature-bar-title-badge{background-color:var(--theme-color-primary);border-radius:12px;color:var(--theme-color-on-primary);cursor:default;margin:0 0 0 8px;padding:4px 12px;font-size:12px;line-height:16px;font-weight:500}</style><style>[_nghost-ng-c3508157461]{display:block}[_nghost-ng-c3508157461]     .mat-tab-header{border-bottom:0}[_nghost-ng-c3508157461]   nav[_ngcontent-ng-c3508157461]{--mdc-ripple-color: transparent;margin-left:8px}@media only screen and (max-width: 663px){[_nghost-ng-c3508157461]   nav[_ngcontent-ng-c3508157461]{margin-left:0}}@media only screen and (min-width: 920px)and (max-width: 919px){.c5e-nav-expanded   [_nghost-ng-c3508157461]   nav[_ngcontent-ng-c3508157461]{margin-left:0}}@media only screen and (min-width: 920px)and (max-width: 731px){.c5e-nav-collapsed   [_nghost-ng-c3508157461]   nav[_ngcontent-ng-c3508157461]{margin-left:0}}[_nghost-ng-c3508157461]   nav[_ngcontent-ng-c3508157461]     a.mat-tab-label.mat-tab-label.mat-tab-label{opacity:1 !important;padding-right:16px;padding-left:16px;height:40px}[_nghost-ng-c3508157461]   nav[_ngcontent-ng-c3508157461]     a.mat-tab-label.mat-tab-label.mat-tab-label .mdc-tab__text-label{color:var(--theme-color-fg-secondary)}[_nghost-ng-c3508157461]   nav[_ngcontent-ng-c3508157461]     a.mat-tab-label.mat-tab-label.mat-tab-label.mdc-tab--active .mdc-tab__text-label{color:var(--theme-color-primary-a11y)}[_nghost-ng-c3508157461]   nav[_ngcontent-ng-c3508157461]     a.mat-tab-label.mat-tab-label.mat-tab-label .mdc-tab-indicator__content--underline{border-color:var(--theme-color-primary-a11y)}[_nghost-ng-c3508157461]   nav[_ngcontent-ng-c3508157461]     a.mat-tab-label.mat-tab-label.mat-tab-label span{display:flex;align-items:center;gap:4px}[_nghost-ng-c3508157461]   a.with-divider[_ngcontent-ng-c3508157461]::after{background:var(--theme-color-fg-default-border);content:" ";display:block;height:60%;left:0;position:absolute;top:20%;width:1px}[_nghost-ng-c3508157461]     .tab-badge .material-icons{color:#fff;display:inline-block;font-size:18px;height:18px;line-height:18px;padding:0;vertical-align:middle;width:18px}[_nghost-ng-c3508157461]     .tab-badge.status__dirty{background-color:#fff;border-radius:50%;height:16px;width:16px}[_nghost-ng-c3508157461]     .tab-badge.status__dirty .material-icons{display:none}[_nghost-ng-c3508157461]     .tab-badge.status__ok .material-icons::before{content:"check_circle"}[_nghost-ng-c3508157461]     .tab-badge.status__warning .material-icons::before, [_nghost-ng-c3508157461]     .tab-badge.status__warning-filled .material-icons::before{content:"warning"}[_nghost-ng-c3508157461]     .tab-badge.status__warning-filled{background-color:var(--theme-color-error-ink-faint-fill);border-radius:50%;height:18px;padding:4px;width:18px}[_nghost-ng-c3508157461]     .tab-badge.status__warning-filled .material-icons{color:var(--theme-color-error-ink);font-size:16px;margin:0;line-height:1;height:16px;width:16px}[_nghost-ng-c3508157461]     .mat-tab-body-wrapper{height:0}[_nghost-ng-c3508157461]     .mat-tab-header .mat-ink-bar.mat-ink-bar{background:var(--fire-color-tab-selected)}</style><style>.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-links{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:flex-end}.mat-mdc-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-focus-indicator::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab__ripple::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}
</style><style>f7e-data[_ngcontent-ng-c2063330280]   fire-callout[_ngcontent-ng-c2063330280]   .fire-callout[_ngcontent-ng-c2063330280]{border-bottom:1px solid var(--theme-color-fg-default-border);margin-bottom:0}.location[_ngcontent-ng-c2063330280]{font-size:14px;line-height:24px;color:var(--theme-color-fg-tertiary)}.firebase-database[_ngcontent-ng-c2063330280]{margin-top:36px}@media only screen and (max-width: 663px){.firebase-database[_ngcontent-ng-c2063330280]{margin-top:12px}}fire-canvas-bar[_ngcontent-ng-c2063330280]{padding-bottom:24px}fire-database-location[_ngcontent-ng-c2063330280]{padding-top:12px}.query-view-promo-popover-body[_ngcontent-ng-c2063330280]{display:flex}.query-view-promo-popover-body[_ngcontent-ng-c2063330280]   mat-icon[_ngcontent-ng-c2063330280]{color:var(--theme-color-fg-primary);height:32px;margin-right:12px;width:32px}.query-view-promo-popover-body[_ngcontent-ng-c2063330280]   .query-view-promo-popover-title[_ngcontent-ng-c2063330280]{color:var(--theme-color-fg-primary);font-weight:500;margin:4px 0 8px}</style><style>[_nghost-ng-c2723133300]{display:block}.is-between-cards[_nghost-ng-c2723133300]{margin-top:24px}.card-level[_nghost-ng-c2723133300]{margin-bottom:16px;margin-top:40px}.card-level[_nghost-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]{margin-bottom:0}.page-level[_nghost-ng-c2723133300]{margin:16px 0 !important}.page-level[_nghost-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]{margin-bottom:0}.fire-canvas-bar-container[_ngcontent-ng-c2723133300]{align-items:center;color:var(--theme-color-fg-secondary);display:flex;flex-direction:row;font-size:14px;line-height:24px;margin-bottom:-8px;width:100%}@media only screen and (max-width: 663px){.fire-canvas-bar-container[_ngcontent-ng-c2723133300]{align-items:flex-start;flex-direction:column}}@media only screen and (min-width: 920px)and (max-width: 919px){.c5e-nav-expanded[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]{align-items:flex-start;flex-direction:column}}@media only screen and (min-width: 920px)and (max-width: 731px){.c5e-nav-collapsed[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]{align-items:flex-start;flex-direction:column}}.fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-right]{margin-left:auto}@media only screen and (max-width: 663px){.fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-right]{margin-left:initial}}@media only screen and (min-width: 920px)and (max-width: 919px){.c5e-nav-expanded[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-right]{margin-left:initial}}@media only screen and (min-width: 920px)and (max-width: 731px){.c5e-nav-collapsed[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-right]{margin-left:initial}}.fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-right]+.fire-canvas-bar-container   [fire-canvas-bar-right]{margin-left:initial}.fire-canvas-bar-container[_ngcontent-ng-c2723133300]     h2, .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     h3{color:inherit;font-size:inherit;font-weight:500;line-height:inherit;margin:0}@media only screen and (max-width: 663px){.fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-left]+[fire-canvas-bar-left], .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-left]+[fire-canvas-bar-right], .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-right]+[fire-canvas-bar-left], .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-right]+[fire-canvas-bar-right]{margin-top:16px}}@media only screen and (min-width: 920px)and (max-width: 919px){.c5e-nav-expanded[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-left]+[fire-canvas-bar-left], .c5e-nav-expanded[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-left]+[fire-canvas-bar-right], .c5e-nav-expanded[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-right]+[fire-canvas-bar-left], .c5e-nav-expanded[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-right]+[fire-canvas-bar-right]{margin-top:16px}}@media only screen and (min-width: 920px)and (max-width: 731px){.c5e-nav-collapsed[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-left]+[fire-canvas-bar-left], .c5e-nav-collapsed[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-left]+[fire-canvas-bar-right], .c5e-nav-collapsed[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-right]+[fire-canvas-bar-left], .c5e-nav-collapsed[_ngcontent-ng-c2723133300]   .fire-canvas-bar-container[_ngcontent-ng-c2723133300]     [fire-canvas-bar-right]+[fire-canvas-bar-right]{margin-top:16px}}.fire-canvas-bar-container[_ngcontent-ng-c2723133300]     fire-search-bar{padding:10px 0 18px}</style><style>[_nghost-ng-c916398655]     fire-banner .icon{color:var(--theme-color-primary-a11y)}</style><style>[_nghost-ng-c625103111]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:100%}  .f7e-database-selector-menu{font-size:14px;line-height:20px}  .f7e-database-selector-menu mat-divider{margin:8px 0}  .f7e-database-selector-menu button.menu-item{color:var(--theme-color-fg-primary)}  .f7e-database-selector-menu button.menu-item:focus,   .f7e-database-selector-menu button.menu-item:hover{background-color:var(--theme-color-bg-hover)}  .f7e-database-selector-menu button.menu-item.is-selected{background-color:var(--theme-color-primary-bg);font-weight:500}  .f7e-database-selector-menu .coming-soon-msg,   .f7e-database-selector-menu .link-out-option.link-out-option{color:var(--theme-color-fg-secondary);padding:6px 16px}  .f7e-database-selector-menu .coming-soon-msg .external-link,   .f7e-database-selector-menu .link-out-option.link-out-option .external-link{display:inline;min-height:0;padding:0}  .f7e-database-selector-menu .coming-soon-msg .external-link:focus,   .f7e-database-selector-menu .coming-soon-msg .external-link:hover,   .f7e-database-selector-menu .link-out-option.link-out-option .external-link:focus,   .f7e-database-selector-menu .link-out-option.link-out-option .external-link:hover{background:none}</style><style>.mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}
</style><style>[_nghost-ng-c2839825373]{font-size:14px;line-height:20px;color:var(--theme-color-fg-secondary)}[_nghost-ng-c2839825373]     fire-card.data-panel-viewer{display:block;height:calc(100vh - 284px);min-height:580px}[_nghost-ng-c2839825373]     fire-card.data-panel-viewer mat-card{height:100%;overflow:hidden}[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;min-height:0;-webkit-transform:translateX(0);transform:translateX(0);-webkit-transition:-webkit-transform .2s cubic-bezier(.4,0,.2,1);transition:-webkit-transform .2s cubic-bezier(.4,0,.2,1);transition:transform .2s cubic-bezier(.4,0,.2,1);transition:transform .2s cubic-bezier(.4,0,.2,1),-webkit-transform .2s cubic-bezier(.4,0,.2,1);white-space:nowrap;width:100%}[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]{border-right:1px solid var(--theme-color-fg-default-border);-moz-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;height:100%;min-width:0}@media only screen and (min-width:664px) and (max-width:920px){[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]{-webkit-box-flex:0;-webkit-flex:0 0 27%;-moz-box-flex:0;-ms-flex:0 0 27%;flex:0 0 27%}[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]:nth-of-type(n+3):last-of-type{-webkit-box-flex:0;-webkit-flex:0 0 46%;-moz-box-flex:0;-ms-flex:0 0 46%;flex:0 0 46%}}@media only screen and (min-width:664px){[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]{-webkit-box-flex:0;-webkit-flex:0 0 27%;-moz-box-flex:0;-ms-flex:0 0 27%;flex:0 0 27%}[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]:nth-of-type(n+3):last-of-type{-webkit-box-flex:0;-webkit-flex:0 0 46%;-moz-box-flex:0;-ms-flex:0 0 46%;flex:0 0 46%}}@media only screen and (min-width:920px){.c5e-nav-expanded   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]{-webkit-box-flex:0;-webkit-flex:0 0 27%;-moz-box-flex:0;-ms-flex:0 0 27%;flex:0 0 27%}.c5e-nav-expanded   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]:nth-of-type(n+3):last-of-type{-webkit-box-flex:0;-webkit-flex:0 0 46%;-moz-box-flex:0;-ms-flex:0 0 46%;flex:0 0 46%}}@media only screen and (min-width:732px){.c5e-nav-collapsed   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]{-webkit-box-flex:0;-webkit-flex:0 0 27%;-moz-box-flex:0;-ms-flex:0 0 27%;flex:0 0 27%}.c5e-nav-collapsed   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]:nth-of-type(n+3):last-of-type{-webkit-box-flex:0;-webkit-flex:0 0 46%;-moz-box-flex:0;-ms-flex:0 0 46%;flex:0 0 46%}}@media only screen and (max-width:663px){[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]{-webkit-box-flex:0;-webkit-flex:0 0 50%;-moz-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%}[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]:last-of-type:nth-child(odd){-webkit-box-flex:0;-webkit-flex:0 0 100%;-moz-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%}[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]:last-of-type:nth-child(2n){-webkit-box-flex:0;-webkit-flex:0 0 50%;-moz-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%}}@media only screen and (min-width:920px) and (max-width:919px){.c5e-nav-expanded   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]{-webkit-box-flex:0;-webkit-flex:0 0 50%;-moz-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%}.c5e-nav-expanded   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]:last-of-type:nth-child(odd){-webkit-box-flex:0;-webkit-flex:0 0 100%;-moz-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%}.c5e-nav-expanded   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]:last-of-type:nth-child(2n){-webkit-box-flex:0;-webkit-flex:0 0 50%;-moz-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%}}@media only screen and (min-width:920px) and (max-width:731px){.c5e-nav-collapsed   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]{-webkit-box-flex:0;-webkit-flex:0 0 50%;-moz-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%}.c5e-nav-collapsed   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]:last-of-type:nth-child(odd){-webkit-box-flex:0;-webkit-flex:0 0 100%;-moz-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%}.c5e-nav-collapsed   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .panel-container[_ngcontent-ng-c2839825373]:last-of-type:nth-child(2n){-webkit-box-flex:0;-webkit-flex:0 0 50%;-moz-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%}}[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .empty-database-notice[_ngcontent-ng-c2839825373]{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:var(--theme-color-fg-secondary);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 0 73%;-moz-box-flex:1;-ms-flex:1 0 73%;flex:1 0 73%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}@media only screen and (max-width:663px){[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .empty-database-notice[_ngcontent-ng-c2839825373]{display:none}}@media only screen and (min-width:920px) and (max-width:919px){.c5e-nav-expanded   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .empty-database-notice[_ngcontent-ng-c2839825373]{display:none}}@media only screen and (min-width:920px) and (max-width:731px){.c5e-nav-collapsed   [_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .empty-database-notice[_ngcontent-ng-c2839825373]{display:none}}[_nghost-ng-c2839825373]   .panels-container[_ngcontent-ng-c2839825373]   .empty-database-notice[_ngcontent-ng-c2839825373]   img[_ngcontent-ng-c2839825373]{-webkit-filter:grayscale(100%);filter:grayscale(100%);height:156px;opacity:.4}</style><style>[_nghost-ng-c2950830782]{color:var(--theme-color-fg-primary);background-color:var(--theme-color-bg)}[_nghost-ng-c2950830782]   mat-card.has-header-color[_ngcontent-ng-c2950830782]{overflow:clip}[_nghost-ng-c2950830782]   mat-card.has-header-color[_ngcontent-ng-c2950830782]:before{background:var(--__--card-header-color,none);content:"";height:2px}[_nghost-ng-c2950830782]     fire-card-body{padding:16px}[_nghost-ng-c2950830782]     fire-card-title{font-size:16px;line-height:24px;padding:16px 16px 0}</style><style>[_nghost-ng-c2594595131]     fire-card-action-bar .fire-card-action-bar{box-shadow:0 -1px 0 var(--theme-color-fg-default-border) inset;padding:0;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}@media only screen and (max-width:663px){[_nghost-ng-c2594595131]     fire-card-action-bar .fire-card-action-bar{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}@media only screen and (min-width:920px) and (max-width:919px){.c5e-nav-expanded   [_nghost-ng-c2594595131]     fire-card-action-bar .fire-card-action-bar{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}@media only screen and (min-width:920px) and (max-width:731px){.c5e-nav-collapsed   [_nghost-ng-c2594595131]     fire-card-action-bar .fire-card-action-bar{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}[_nghost-ng-c2594595131]     fire-card-action-bar .fire-card-action-bar fire-breadcrumbs{padding-left:8px;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}fire-action-bar-input[_ngcontent-ng-c2594595131]{width:100%}firestore-link-out-menu[_ngcontent-ng-c2594595131]{margin:0 8px}.link-out-to-cloud-popover-body[_ngcontent-ng-c2594595131]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.link-out-to-cloud-popover-body[_ngcontent-ng-c2594595131]   .cloud-icon[_ngcontent-ng-c2594595131]{margin-right:8px;width:32px}.link-out-to-cloud-popover-body[_ngcontent-ng-c2594595131]   .link-out-to-cloud-popover-title[_ngcontent-ng-c2594595131]{color:var(--theme-color-fg-primary);font-weight:500;margin:4px 0 8px}</style><style>fire-card-action-bar{border-radius:8px 8px 0 0}fire-card-action-bar .fire-card-action-bar{align-items:center;background-color:var(--theme-color-bg);border-radius:8px 8px 0 0;box-shadow:none;color:var(--theme-color-fg-secondary);display:flex;flex:auto;flex-flow:row wrap;min-height:56px;padding:0 8px 0 16px;position:relative;z-index:5}@media only screen and (min-width: 664px)and (max-width: 920px){fire-major-minor-card [fire-minor] fire-card-action-bar .fire-card-action-bar{border-top-left-radius:0}}@media only screen and (min-width: 664px){fire-major-minor-card [fire-minor] fire-card-action-bar .fire-card-action-bar{border-top-left-radius:0}}@media only screen and (min-width: 920px){.c5e-nav-expanded fire-major-minor-card [fire-minor] fire-card-action-bar .fire-card-action-bar{border-top-left-radius:0}}@media only screen and (min-width: 732px){.c5e-nav-collapsed fire-major-minor-card [fire-minor] fire-card-action-bar .fire-card-action-bar{border-top-left-radius:0}}@media only screen and (min-width: 664px)and (max-width: 920px){fire-major-minor-card .fire-major-hidden [fire-minor] fire-card-action-bar .fire-card-action-bar{border-top-left-radius:8px}}@media only screen and (min-width: 664px){fire-major-minor-card .fire-major-hidden [fire-minor] fire-card-action-bar .fire-card-action-bar{border-top-left-radius:8px}}@media only screen and (min-width: 920px){.c5e-nav-expanded fire-major-minor-card .fire-major-hidden [fire-minor] fire-card-action-bar .fire-card-action-bar{border-top-left-radius:8px}}@media only screen and (min-width: 732px){.c5e-nav-collapsed fire-major-minor-card .fire-major-hidden [fire-minor] fire-card-action-bar .fire-card-action-bar{border-top-left-radius:8px}}fire-card-action-bar .fire-card-action-bar button,fire-card-action-bar .fire-card-action-bar .mat-button,fire-card-action-bar .fire-card-action-bar .mat-raised-button{margin:0 0 0 8px;min-width:initial}fire-card-action-bar .fire-card-action-bar button.mat-button-toggle-button,fire-card-action-bar .fire-card-action-bar .mat-button.mat-button-toggle-button,fire-card-action-bar .fire-card-action-bar .mat-raised-button.mat-button-toggle-button{margin:0}fire-card-action-bar .fire-card-action-bar button.overflow-menu,fire-card-action-bar .fire-card-action-bar .mat-button.overflow-menu,fire-card-action-bar .fire-card-action-bar .mat-raised-button.overflow-menu{margin:0}fire-card-action-bar .fire-card-action-bar mat-chip button,fire-card-action-bar .fire-card-action-bar mat-chip-option button{margin:0}fire-card-action-bar.is-active .fire-card-action-bar{background-color:var(--theme-color-bg);padding:0 8px}fire-card-action-bar.is-active .fire-card-action-bar .fire-card-action-bar-text{color:var(--theme-color-fg-primary);font-size:14px;margin-left:8px}fire-card-action-bar.is-active .fire-card-action-bar .fire-card-action-bar-divider{border-right:1px solid var(--theme-color-fg-default-border);margin:0 24px;height:24px;padding-bottom:4px}fire-card-action-bar .on-canvas-error-message{align-items:center;color:var(--theme-color-error-ink);display:flex;font-size:12px;justify-content:space-between;margin-top:8px;overflow:hidden;text-overflow:ellipsis;width:100%}fire-card-action-bar .on-canvas-error-message mat-icon{font-size:14px;height:14px;width:14px}.mat-icon.mat-icon{overflow:visible}
</style><style>[_nghost-ng-c839795402]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.collection-list-is-empty[_nghost-ng-c839795402]   f7e-panel.collection-list-panel[_ngcontent-ng-c839795402]{-webkit-box-flex:0;-webkit-flex:none;-moz-box-flex:0;-ms-flex:none;flex:none}.collection-list-is-empty[_nghost-ng-c839795402]   f7e-fields-subpanel[_ngcontent-ng-c839795402]{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}[_nghost-ng-c839795402]   f7e-panel.collection-list-panel[_ngcontent-ng-c839795402]{-webkit-box-flex:1;-webkit-flex:1 30%;-moz-box-flex:1;-ms-flex:1 30%;flex:1 30%;min-height:0}[_nghost-ng-c839795402]   f7e-fields-subpanel[_ngcontent-ng-c839795402]{-webkit-box-flex:1;-webkit-flex:1 70%;-moz-box-flex:1;-ms-flex:1 70%;flex:1 70%;min-height:0}</style><style>[_nghost-ng-c349134881]     .is-loading-first-load{height:100%}[_nghost-ng-c349134881]     .is-loading-first-load fire-spinner{position:relative}[_nghost-ng-c349134881]     [cdkVirtualScrollingElement]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}[_nghost-ng-c349134881]     [cdkVirtualScrollingElement] cdk-virtual-scroll-viewport{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}[_nghost-ng-c349134881]     [cdkVirtualScrollingElement] cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{width:100%}[_nghost-ng-c349134881]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:0;position:relative}[_nghost-ng-c349134881]   .spinner-container.is-loading-more[_ngcontent-ng-c349134881]{background:-webkit-gradient(linear,left bottom,left top,color-stop(0,var(--theme-color-bg)),to(transparent));background:-webkit-linear-gradient(bottom,var(--theme-color-bg) 0 40%,transparent);background:linear-gradient(1turn,var(--theme-color-bg) 0 40%,transparent);bottom:0;height:96px;position:absolute;width:100%}</style><style>[_nghost-ng-c3083767199]{font-size:14px;line-height:20px;color:var(--theme-color-fg-secondary);cursor:pointer}.panel-header[_ngcontent-ng-c3083767199]{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:var(--theme-color-bg);border-bottom:1px solid var(--theme-color-fg-default-border);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:44px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.panel-header[_ngcontent-ng-c3083767199]   .left-container[_ngcontent-ng-c3083767199]{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;min-width:0}.panel-header[_ngcontent-ng-c3083767199]   .left-container[_ngcontent-ng-c3083767199]   .label[_ngcontent-ng-c3083767199]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.panel-header[_ngcontent-ng-c3083767199]   .left-container[_ngcontent-ng-c3083767199]   .icon-container[_ngcontent-ng-c3083767199]{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:44px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:44px}.panel-header[_ngcontent-ng-c3083767199]   .left-container[_ngcontent-ng-c3083767199]   .icon-container[_ngcontent-ng-c3083767199]   mat-icon[_ngcontent-ng-c3083767199]{font-size:20px;line-height:24px;padding-left:12px}.panel-header[_ngcontent-ng-c3083767199]   .right-container[_ngcontent-ng-c3083767199]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding-right:8px}.panel-header[_ngcontent-ng-c3083767199]   .right-container[_ngcontent-ng-c3083767199]   .mat-icon-button[_ngcontent-ng-c3083767199]{height:24px;width:24px}</style><style>button[_ngcontent-ng-c571952681]{-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;width:100%}button.add-data-button[_ngcontent-ng-c571952681]{border-radius:0}</style><style>cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}
</style><style>[_nghost-ng-c3900027245]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}[_nghost-ng-c3900027245]   f7e-panel[_ngcontent-ng-c3900027245]{height:100%}</style><style>[_nghost-ng-c1517643677]{display:flex}.f7e-picker-trigger-menu[_ngcontent-ng-c1517643677]   .dot[_ngcontent-ng-c1517643677]{background:#1a73e8;border:2px solid #f5f5f5;border-radius:50%;cursor:pointer;height:10px;position:absolute;right:-3px;top:0;width:10px}.f7e-picker-trigger-menu[_ngcontent-ng-c1517643677]   .query-menu.has-query[_ngcontent-ng-c1517643677]{color:#1a73e8;fill:#1a73e8}.f7e-picker-trigger-menu.mat-icon-button[_ngcontent-ng-c1517643677]{height:24px;width:24px}.f7e-picker-trigger-menu[_ngcontent-ng-c1517643677]   .query-menu[_ngcontent-ng-c1517643677]::before{font-family:"Material Icons Extended";font-weight:normal;font-style:normal;font-size:24px;display:inline-block;width:1em;height:1em;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;-webkit-font-feature-settings:"liga";-moz-font-feature-settings:"liga";font-feature-settings:"liga";speak:none;text-decoration:none;user-select:none;color:var(--theme-color-fg-secondary);content:"filter_list";cursor:pointer}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]{border-radius:8px;display:block;max-width:360px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]     mat-card{overflow:hidden}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .mat-expansion-panel-header[_ngcontent-ng-c1517643677]{background-color:var(--theme-color-bg) !important;border-top:1px solid var(--theme-color-fg-default-border);max-height:48px;min-height:48px;padding:0 20px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .mat-expansion-panel-header[_ngcontent-ng-c1517643677]   .mat-expansion-panel-header-title.menu-header[_ngcontent-ng-c1517643677]{color:var(--theme-color-fg-primary);font-size:14px;font-weight:500}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .mat-expansion-panel-header[_ngcontent-ng-c1517643677]   .mat-expansion-panel-header-description[_ngcontent-ng-c1517643677]{font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:48px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .mat-expansion-panel-header[_ngcontent-ng-c1517643677]   .mat-expansion-panel-header-description[_ngcontent-ng-c1517643677]   span[_ngcontent-ng-c1517643677]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .mat-expansion-panel-header[_ngcontent-ng-c1517643677]   .mat-expansion-indicator[_ngcontent-ng-c1517643677]{height:24px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .mat-expansion-panel[_ngcontent-ng-c1517643677]{box-shadow:none;-webkit-box-shadow:none}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .mat-expansion-panel[_ngcontent-ng-c1517643677]:first-child   .mat-expansion-panel-header[_ngcontent-ng-c1517643677]{border-top:0}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .mat-expansion-panel[_ngcontent-ng-c1517643677]     .mat-expansion-panel-body{border-top:1px solid var(--theme-color-fg-default-border);padding:0}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .order-by-input.c5e-input-container[_ngcontent-ng-c1517643677]{padding:12px 0}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .order-by-input.c5e-input-container[_ngcontent-ng-c1517643677]     mat-radio-button.mat-mdc-radio-button{padding-right:16px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .order-by-input.c5e-input-container[_ngcontent-ng-c1517643677]     mat-radio-button.mat-mdc-radio-button label{padding-bottom:0}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .order-by-input.c5e-input-container[_ngcontent-ng-c1517643677]     label.mat-radio-label{align-items:center;display:flex}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .operator-input.c5e-input-container[_ngcontent-ng-c1517643677]{padding-bottom:12px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .operator-input.c5e-input-container[_ngcontent-ng-c1517643677]   .operator-select-wrapper[_ngcontent-ng-c1517643677]{margin-right:40px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .field-input[_ngcontent-ng-c1517643677]{align-items:center;display:flex;min-height:32px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .field-input[_ngcontent-ng-c1517643677]   .c5e-input-container[_ngcontent-ng-c1517643677]{max-width:100%;padding-bottom:12px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .field-input[_ngcontent-ng-c1517643677]   .c5e-input-container[_ngcontent-ng-c1517643677]   input[type=text][_ngcontent-ng-c1517643677]{border-bottom:1px solid var(--theme-color-fg-default-border);border-radius:0;box-shadow:none;box-sizing:border-box;font-size:14px;padding-left:20px !important}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .field-input[_ngcontent-ng-c1517643677]   .suggested-fields[_ngcontent-ng-c1517643677]{display:block;padding:4px 0}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .field-input[_ngcontent-ng-c1517643677]   .suggested-fields[_ngcontent-ng-c1517643677]   fire-chip[_ngcontent-ng-c1517643677]{margin-bottom:4px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .field-input[_ngcontent-ng-c1517643677]   fire-chip.selected-field-name[_ngcontent-ng-c1517643677]{margin:0 20px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .f7e-picker-option[_ngcontent-ng-c1517643677]{padding:8px 20px 0}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .f7e-picker-operator-panel[_ngcontent-ng-c1517643677]{max-height:324px;overflow:auto;padding:12px 8px 12px 20px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .f7e-picker-operator-panel[_ngcontent-ng-c1517643677]   .delete-button-wrapper[_ngcontent-ng-c1517643677]{height:40px;width:40px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .query-buttons[_ngcontent-ng-c1517643677]{background-color:var(--theme-color-bg);display:flex;flex-direction:row;justify-content:space-between;padding:8px 16px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .query-buttons[_ngcontent-ng-c1517643677]   .apply-filter-button[_ngcontent-ng-c1517643677]{margin-left:8px}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .query-reflector[_ngcontent-ng-c1517643677]{background-color:var(--theme-color-bg);box-shadow:0 1px 0 var(--theme-color-divider) inset,0 -1px 0 var(--theme-color-divider) inset;color:var(--theme-color-fg-secondary);display:flex;flex-direction:column;font-family:"Roboto Mono",monospace;font-size:12px;max-height:240px;overflow:auto;padding:20px;user-select:all;word-wrap:break-word}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .query-reflector[_ngcontent-ng-c1517643677]   code[_ngcontent-ng-c1517643677]{display:block}fire-card.f7e-query-menu[_ngcontent-ng-c1517643677]   .query-reflector[_ngcontent-ng-c1517643677]   code.clause[_ngcontent-ng-c1517643677]{text-indent:24px}.filter-value-input-wrapper[_ngcontent-ng-c1517643677]{align-items:center;display:flex;margin-bottom:4px}.filter-value-input-wrapper[_ngcontent-ng-c1517643677]:not(:hover):not(:focus-within):not(:active)   .delete-filter-value-button[_ngcontent-ng-c1517643677]:not(:hover):not(:focus-within):not(:active){border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.filter-value-input-wrapper[_ngcontent-ng-c1517643677]   f7e-filter-value-input[_ngcontent-ng-c1517643677]{flex:1 1 0;min-width:0}.filter-value-input-wrapper[_ngcontent-ng-c1517643677]   .delete-filter-value-button[_ngcontent-ng-c1517643677]{flex:none;position:relative}.filter-value-input-wrapper[_ngcontent-ng-c1517643677]   .delete-filter-value-button[_ngcontent-ng-c1517643677]   .mat-icon[_ngcontent-ng-c1517643677]{color:var(--theme-color-fg-secondary)}.add-filter-value-button-wrapper[_ngcontent-ng-c1517643677]{display:inline-block;margin-bottom:12px}.add-filter-value-button-wrapper[_ngcontent-ng-c1517643677]   .mat-button.add-filter-value-button[_ngcontent-ng-c1517643677]{left:-8px;padding:0 8px;position:relative}.add-filter-value-button-wrapper[_ngcontent-ng-c1517643677]   .mat-button.add-filter-value-button[_ngcontent-ng-c1517643677]     span.mat-button-wrapper{align-items:center;display:flex}.add-filter-value-button-wrapper[_ngcontent-ng-c1517643677]   .mat-button.add-filter-value-button[_ngcontent-ng-c1517643677]   .mat-icon[_ngcontent-ng-c1517643677]{margin-right:4px}  .mat-select-panel.f7e-picker-operator-options-panel{max-height:202px}</style><style>[_nghost-ng-c1983993049]{background-color:var(--theme-color-bg);border-radius:8px 8px 0 0;box-shadow:0 -1px 0 var(--theme-color-fg-default-border) inset;box-sizing:border-box;cursor:pointer;display:inline-block;height:56px;overflow:hidden;padding:16px;width:100%}@media only screen and (min-width: 664px)and (max-width: 920px){[_nghost-ng-c1983993049]:not(:hover):not(:focus-within):not(:active)   .crumb-mode-edit-button[_ngcontent-ng-c1983993049]:not(:hover):not(:focus-within):not(:active){border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}}@media only screen and (min-width: 664px){[_nghost-ng-c1983993049]:not(:hover):not(:focus-within):not(:active)   .crumb-mode-edit-button[_ngcontent-ng-c1983993049]:not(:hover):not(:focus-within):not(:active){border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}}@media only screen and (min-width: 920px){.c5e-nav-expanded   [_nghost-ng-c1983993049]:not(:hover):not(:focus-within):not(:active)   .crumb-mode-edit-button[_ngcontent-ng-c1983993049]:not(:hover):not(:focus-within):not(:active){border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}}@media only screen and (min-width: 732px){.c5e-nav-collapsed   [_nghost-ng-c1983993049]:not(:hover):not(:focus-within):not(:active)   .crumb-mode-edit-button[_ngcontent-ng-c1983993049]:not(:hover):not(:focus-within):not(:active){border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}}[_nghost-ng-c1983993049]   .crumb-caret-container[_ngcontent-ng-c1983993049]{margin:0 6px;text-align:center}[_nghost-ng-c1983993049]   .crumb-caret-container[_ngcontent-ng-c1983993049]   .crumb-caret[_ngcontent-ng-c1983993049]{vertical-align:middle;height:20px;width:20px;min-width:20px;min-height:20px;font-size:20px;color:var(--theme-color-fg-secondary);fill:var(--theme-color-fg-secondary)}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]{align-items:center;box-sizing:border-box;color:var(--theme-color-fg-secondary);display:flex;font-size:14px;font-weight:400;height:24px;margin:0 6px;overflow-x:auto;overflow-y:hidden}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]::-moz-scrollbar{display:none;width:0}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]::-o-scrollbar{display:none;width:0}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]::-webkit-scrollbar{display:none;width:0}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .before-edit-button[_ngcontent-ng-c1983993049]{align-items:center;display:flex;max-width:90%;overflow-x:hidden}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .edit-button-container[_ngcontent-ng-c1983993049]{align-items:flex;display:flex;max-width:10%}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]{align-items:center;color:var(--theme-color-fg-secondary);display:flex}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb.crumb-infocus[_ngcontent-ng-c1983993049]{color:var(--theme-color-fg-primary)}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-mode-edit-button[_ngcontent-ng-c1983993049]{margin:0;padding:0;border:none;background:none}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-mode-edit-button[_ngcontent-ng-c1983993049]   .crumb-mode-edit[_ngcontent-ng-c1983993049]{color:var(--theme-color-fg-secondary);fill:var(--theme-color-fg-secondary);font-size:20px;line-height:24px;margin-left:16px}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-mode-edit-button[_ngcontent-ng-c1983993049]   .crumb-mode-edit[_ngcontent-ng-c1983993049]:hover{color:var(--theme-color-fg-primary);fill:var(--theme-color-fg-primary)}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-ellipses[_ngcontent-ng-c1983993049]{padding-top:4px}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-text-container[_ngcontent-ng-c1983993049]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:0 -8px;max-width:120px}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-text-container.crumb-first[_ngcontent-ng-c1983993049]{max-width:initial}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-text-container[_ngcontent-ng-c1983993049]   a[_ngcontent-ng-c1983993049]{text-decoration:none}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-text-container[_ngcontent-ng-c1983993049]   .crumb-text[_ngcontent-ng-c1983993049]{color:var(--theme-color-fg-secondary);line-height:24px;padding:8px;text-decoration:none}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-text-container[_ngcontent-ng-c1983993049]   .crumb-text[_ngcontent-ng-c1983993049]:hover{color:var(--theme-color-primary);text-decoration:underline}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-text-container[_ngcontent-ng-c1983993049]   .crumb-text.active[_ngcontent-ng-c1983993049]{color:var(--theme-color-fg-primary)}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-text-container[_ngcontent-ng-c1983993049]   .crumb-text.active[_ngcontent-ng-c1983993049]:hover{color:var(--theme-color-fg-primary);text-decoration:none}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-text-container[_ngcontent-ng-c1983993049]   .crumb-home[_ngcontent-ng-c1983993049]{color:var(--theme-color-fg-secondary);fill:var(--theme-color-fg-secondary);margin:0 8px}[_nghost-ng-c1983993049]   .crumbs[_ngcontent-ng-c1983993049]   .crumb[_ngcontent-ng-c1983993049]   .crumb-text-container[_ngcontent-ng-c1983993049]   .crumb-home[_ngcontent-ng-c1983993049]:hover{color:var(--theme-color-fg-primary);fill:var(--theme-color-fg-primary)}</style><style>.menu-item[_ngcontent-ng-c1555326914]{white-space:normal}.menu-item[_ngcontent-ng-c1555326914]   .subtext[_ngcontent-ng-c1555326914]{font-size:12px;line-height:16px;color:var(--theme-color-fg-secondary)}.menu-button[_ngcontent-ng-c1555326914]   .menu-button-content[_ngcontent-ng-c1555326914]{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.menu-button[_ngcontent-ng-c1555326914]   .menu-button-content[_ngcontent-ng-c1555326914]   .cloud-icon[_ngcontent-ng-c1555326914]{font-size:20px;font-weight:700;line-height:24px;margin:4px}.menu-button[_ngcontent-ng-c1555326914]   .menu-button-content[_ngcontent-ng-c1555326914]   .dropdown-icon[_ngcontent-ng-c1555326914]{margin:8px 0 8px 8px}</style><style>.mat-mdc-tab-link{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab-link:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab-link:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab-link.mdc-tab{flex-grow:0}.mat-mdc-tab-link:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab-link:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab-link.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab-link.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab-link.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab-link .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab-link .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab-link:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab-link.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab-link.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab-link .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header.mat-mdc-tab-nav-bar-stretch-tabs .mat-mdc-tab-link{flex-grow:1}.mat-mdc-tab-link::before{margin:5px}@media(max-width: 599px){.mat-mdc-tab-link{min-width:72px}}
</style><style>[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]{color:var(--theme-color-fg-secondary);display:flex;font-size:14px;font-weight:500;padding:4px}[_nghost-ng-c1983772300]   .promo-banner.canvas-banner[_ngcontent-ng-c1983772300]{margin-bottom:32px;margin-top:32px}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .flex-promo-body-wrapper[_ngcontent-ng-c1983772300]{display:flex;flex-grow:1}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]{align-items:center;display:flex;flex-grow:1;justify-content:center}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]   .icon[_ngcontent-ng-c1983772300]{flex-shrink:0;margin-right:12px}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]   img[_ngcontent-ng-c1983772300]{height:40px;width:40px}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]     fire-banner-message{margin-block-end:0px;margin-block-start:0px;padding:8px 0}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]     fire-banner-action>*, [_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]   .dismiss-button[_ngcontent-ng-c1983772300]{margin-left:12px}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-close[_ngcontent-ng-c1983772300]{align-items:center;display:flex;justify-content:center}@media only screen and (max-width: 599px){[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]{position:relative}[_nghost-ng-c1983772300]   .promo-banner.feature-bar-banner[_ngcontent-ng-c1983772300]{margin:0;padding-left:4px}[_nghost-ng-c1983772300]   .promo-banner.feature-bar-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]{padding-bottom:12px}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]{display:block;padding:12px 12px 0px}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]   .icon[_ngcontent-ng-c1983772300]{left:20px;position:absolute}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]   .dismiss-button[_ngcontent-ng-c1983772300]{margin-left:0px}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]   img[_ngcontent-ng-c1983772300]{height:32px;width:32px}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]     fire-banner-message{display:block;margin-bottom:4px;margin-left:48px;padding:0}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-body[_ngcontent-ng-c1983772300]     fire-banner-action>*{margin-left:48px;padding:0px}[_nghost-ng-c1983772300]   .promo-banner[_ngcontent-ng-c1983772300]   .promo-close[_ngcontent-ng-c1983772300]{align-items:stretch;padding-top:2px}}</style><style>[_nghost-ng-c1486745291]{font-size:13px;line-height:20px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:var(--theme-color-fg-secondary);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}[_nghost-ng-c1486745291]   mat-icon[_ngcontent-ng-c1486745291]{font-size:16px;line-height:24px;padding-right:4px}</style><meta http-equiv="origin-trial" content="AymqwRC7u88Y4JPvfIF2F37QKylC04248hLCdJAsh8xgOfe/dVJPV3XS3wLFca1ZMVOtnBfVjaCMTVudWM//5g4AAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjk1MTY3OTk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><style>@-webkit-keyframes _ngcontent-ng-c3801496787_addedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-success-faint-fill)}74%{background-color:var(--theme-color-success-faint-fill)}to{background-color:transparent}}@keyframes _ngcontent-ng-c3801496787_addedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-success-faint-fill)}74%{background-color:var(--theme-color-success-faint-fill)}to{background-color:transparent}}@-webkit-keyframes _ngcontent-ng-c3801496787_modifiedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-caution-faint-fill)}74%{background-color:var(--theme-color-caution-faint-fill)}to{background-color:transparent}}@keyframes _ngcontent-ng-c3801496787_modifiedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-caution-faint-fill)}74%{background-color:var(--theme-color-caution-faint-fill)}to{background-color:transparent}}@-webkit-keyframes _ngcontent-ng-c3801496787_removedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-error-faint-fill)}74%{background-color:var(--theme-color-error-faint-fill)}to{background-color:transparent}}@keyframes _ngcontent-ng-c3801496787_removedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-error-faint-fill)}74%{background-color:var(--theme-color-error-faint-fill)}to{background-color:transparent}}.panel-list-item[_ngcontent-ng-c3801496787]{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-webkit-flex:0 1 100%;-moz-box-flex:0;-ms-flex:0 1 100%;flex:0 1 100%;height:100%;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:0 8px 0 12px}.panel-list-item[_ngcontent-ng-c3801496787]:hover{background-color:var(--theme-color-bg-hover)}@media (hover:hover){.panel-list-item[_ngcontent-ng-c3801496787]:not(:hover):not(:focus-within):not(:active)   button.item-actions-button[_ngcontent-ng-c3801496787]:not(:hover):not(:focus-within):not(:active){border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}}.panel-list-item[_ngcontent-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;min-width:0}.panel-list-item[_ngcontent-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]   .item-actions-button-container[_ngcontent-ng-c3801496787]{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-box-flex:0;-webkit-flex:0 0 32px;-moz-box-flex:0;-ms-flex:0 0 32px;flex:0 0 32px}.panel-list-item[_ngcontent-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]   .item-actions-button-container[_ngcontent-ng-c3801496787]   button.item-actions-button[_ngcontent-ng-c3801496787]{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:var(--theme-color-fg-secondary);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;height:100%;width:100%}.panel-list-item[_ngcontent-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]   .item-actions-button-container[_ngcontent-ng-c3801496787]   button.item-actions-button[_ngcontent-ng-c3801496787]:hover{color:var(--theme-color-fg-primary)}.panel-list-item[_ngcontent-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]   .item-actions-button-container[_ngcontent-ng-c3801496787]   button.item-actions-button[_ngcontent-ng-c3801496787]   mat-icon[_ngcontent-ng-c3801496787]{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;font-size:20px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.panel-list-item[_ngcontent-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]   .item-display-container[_ngcontent-ng-c3801496787]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-width:0}.panel-list-item[_ngcontent-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]   .item-display-container[_ngcontent-ng-c3801496787]   .item-label-button[_ngcontent-ng-c3801496787]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--theme-color-fg-secondary);cursor:pointer;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;font-family:Roboto Mono,monospace}.panel-list-item[_ngcontent-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]   .item-display-container[_ngcontent-ng-c3801496787]   .item-label-button.italicize[_ngcontent-ng-c3801496787]{font-style:italic}[_nghost-ng-c3801496787]{display:block}.is-selected[_nghost-ng-c3801496787]{background-color:var(--theme-color-bg-hover)}.is-selected[_nghost-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]   .item-display-container[_ngcontent-ng-c3801496787]   button.item-label-button[_ngcontent-ng-c3801496787]{color:var(--theme-color-fg-primary)}.is-selected[_nghost-ng-c3801496787]   .is-selected-icon[_ngcontent-ng-c3801496787]{color:var(--theme-color-fg-secondary);opacity:1;-webkit-transition:opacity .15s cubic-bezier(.4,0,.2,1);transition:opacity .15s cubic-bezier(.4,0,.2,1)}[_nghost-ng-c3801496787]   .is-selected-icon[_ngcontent-ng-c3801496787]{opacity:0;-webkit-transition:opacity .15s cubic-bezier(.4,0,.2,1);transition:opacity .15s cubic-bezier(.4,0,.2,1)}.has-filter-value[_nghost-ng-c3801496787]   .filter-value[_ngcontent-ng-c3801496787]{font-size:12px;line-height:16px;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--theme-color-fg-primary)}.has-filter-value[_nghost-ng-c3801496787]   .item-label-button[_ngcontent-ng-c3801496787]{font-size:10px;line-height:12px}.fs-animate-changes[_ngcontent-ng-c3801496787]{height:100%}.fs-animate-changes.fs-record-added[_ngcontent-ng-c3801496787]   .panel-list-item[_ngcontent-ng-c3801496787]{-webkit-animation:_ngcontent-ng-c3801496787_addedAnimation .567s cubic-bezier(.4,0,.2,1);animation:_ngcontent-ng-c3801496787_addedAnimation .567s cubic-bezier(.4,0,.2,1)}.fs-animate-changes.fs-record-added[_ngcontent-ng-c3801496787]   .panel-list-item[_ngcontent-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]   .item-display-container[_ngcontent-ng-c3801496787]   button.item-label-button[_ngcontent-ng-c3801496787]{color:var(--theme-color-success-ink);font-weight:500}.fs-animate-changes.fs-record-modified[_ngcontent-ng-c3801496787]   .panel-list-item[_ngcontent-ng-c3801496787]{-webkit-animation:_ngcontent-ng-c3801496787_modifiedAnimation .567s cubic-bezier(.4,0,.2,1);animation:_ngcontent-ng-c3801496787_modifiedAnimation .567s cubic-bezier(.4,0,.2,1)}.fs-animate-changes.fs-record-modified[_ngcontent-ng-c3801496787]   .panel-list-item[_ngcontent-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]   .item-display-container[_ngcontent-ng-c3801496787]   button.item-label-button[_ngcontent-ng-c3801496787]{color:var(--theme-color-caution-ink)}.fs-animate-changes.fs-record-removed[_ngcontent-ng-c3801496787]   .panel-list-item[_ngcontent-ng-c3801496787]{-webkit-animation:_ngcontent-ng-c3801496787_removedAnimation .567s cubic-bezier(.4,0,.2,1);animation:_ngcontent-ng-c3801496787_removedAnimation .567s cubic-bezier(.4,0,.2,1)}.fs-animate-changes.fs-record-removed[_ngcontent-ng-c3801496787]   .panel-list-item[_ngcontent-ng-c3801496787]   .left-container[_ngcontent-ng-c3801496787]   .item-display-container[_ngcontent-ng-c3801496787]   button.item-label-button[_ngcontent-ng-c3801496787]{color:var(--theme-color-error-ink);font-weight:500}</style><style>fs-animate-changes { display: block; }</style><style>@-webkit-keyframes _ngcontent-ng-c2673988096_addedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-success-faint-fill)}74%{background-color:var(--theme-color-success-faint-fill)}to{background-color:transparent}}@keyframes _ngcontent-ng-c2673988096_addedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-success-faint-fill)}74%{background-color:var(--theme-color-success-faint-fill)}to{background-color:transparent}}@-webkit-keyframes _ngcontent-ng-c2673988096_modifiedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-caution-faint-fill)}74%{background-color:var(--theme-color-caution-faint-fill)}to{background-color:transparent}}@keyframes _ngcontent-ng-c2673988096_modifiedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-caution-faint-fill)}74%{background-color:var(--theme-color-caution-faint-fill)}to{background-color:transparent}}@-webkit-keyframes _ngcontent-ng-c2673988096_removedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-error-faint-fill)}74%{background-color:var(--theme-color-error-faint-fill)}to{background-color:transparent}}@keyframes _ngcontent-ng-c2673988096_removedAnimation{0%{background-color:transparent}26%{background-color:var(--theme-color-error-faint-fill)}74%{background-color:var(--theme-color-error-faint-fill)}to{background-color:transparent}}  f7e-inline-editor.f7e-panel-viewer-fields-inline-editor{display:block;position:relative}  f7e-inline-editor.f7e-panel-viewer-fields-inline-editor mat-card{overflow:auto}f7e-panel[_ngcontent-ng-c2673988096]{border-top:1px solid var(--theme-color-fg-default-border);height:100%}f7e-panel[_ngcontent-ng-c2673988096]   .scroll-container[_ngcontent-ng-c2673988096]{height:100%;overflow-x:auto;overflow-y:auto}  fs-animate-change-classes:not(.is-first-load).fs-record-added f7e-data-tree{-webkit-animation:_ngcontent-ng-c2673988096_addedAnimation .567s cubic-bezier(.4,0,.2,1)!important;animation:_ngcontent-ng-c2673988096_addedAnimation .567s cubic-bezier(.4,0,.2,1)!important;color:var(--theme-color-success-ink)!important;font-weight:500!important}  fs-animate-change-classes:not(.is-first-load).fs-record-added f7e-data-tree .database-key-value .database-key,   fs-animate-change-classes:not(.is-first-load).fs-record-added f7e-data-tree .database-key-value .database-leaf-value{color:var(--theme-color-success-ink)!important}  fs-animate-change-classes:not(.is-first-load).fs-record-modified f7e-data-tree{-webkit-animation:_ngcontent-ng-c2673988096_modifiedAnimation .567s cubic-bezier(.4,0,.2,1)!important;animation:_ngcontent-ng-c2673988096_modifiedAnimation .567s cubic-bezier(.4,0,.2,1)!important}  fs-animate-change-classes:not(.is-first-load).fs-record-modified f7e-data-tree .database-key-value .database-key,   fs-animate-change-classes:not(.is-first-load).fs-record-modified f7e-data-tree .database-key-value .database-leaf-value{color:var(--theme-color-caution-ink)!important}  fs-animate-change-classes:not(.is-first-load).fs-record-removed f7e-data-tree{-webkit-animation:_ngcontent-ng-c2673988096_removedAnimation .567s cubic-bezier(.4,0,.2,1)!important;animation:_ngcontent-ng-c2673988096_removedAnimation .567s cubic-bezier(.4,0,.2,1)!important;color:var(--theme-color-error-ink)!important;font-weight:500!important}  fs-animate-change-classes:not(.is-first-load).fs-record-removed f7e-data-tree .database-key-value .database-key,   fs-animate-change-classes:not(.is-first-load).fs-record-removed f7e-data-tree .database-key-value .database-leaf-value{color:var(--theme-color-error-ink)!important}</style><style>f7e-data-tree{display:block}f7e-data-tree .node{width:100%}f7e-data-tree .database-children{box-sizing:border-box;display:none;width:100%}f7e-data-tree .database-children .database-node-click-target{padding-left:36px}f7e-data-tree .database-children .database-children .database-node-click-target{padding-left:60px}f7e-data-tree .database-children .database-children .database-children .database-node-click-target{padding-left:84px}f7e-data-tree .database-expand-collapse-wrapper .database-expand-collapse-button{cursor:pointer;height:20px;width:24px;z-index:1}f7e-data-tree .database-expand-collapse-wrapper .database-expand-collapse-button .material-icons{color:var(--theme-color-fg-default-border);font-size:24px;height:20px;line-height:20px;width:24px}f7e-data-tree .database-node{font-size:14px;line-height:20px;min-height:32px}f7e-data-tree .database-node:not(.state-expanded) .database-key::after{content:":"}f7e-data-tree .database-node:not(.state-expanded).expandable-type .database-key-value,f7e-data-tree .database-node:not(.state-expanded).expandable-type .database-leaf-value{color:var(--theme-color-fg-secondary);user-select:none}f7e-data-tree .database-node:not(.expandable-type) .database-children,f7e-data-tree .database-node:not(.expandable-type) .database-expand-collapse-button{display:none}f7e-data-tree .database-node.expandable-type>.database-node-click-target>.database-leaf-value{display:none}f7e-data-tree .database-node.is-within-array>.database-node-click-target .database-key{background-color:var(--theme-color-button-outline);height:20px;line-height:20px;border-radius:2px;margin-right:8px;min-width:16px;padding:0 4px;text-align:center}f7e-data-tree .database-node.is-within-array>.database-node-click-target .database-key::after{content:""}f7e-data-tree .database-node.type-null>.database-node-click-target .database-leaf-value{color:var(--theme-color-fg-disabled);font-style:italic}f7e-data-tree .database-node-click-target{align-items:center;box-sizing:border-box;cursor:pointer;display:flex;min-height:32px;padding:0 16px 0 12px;position:relative;user-select:text;width:100%}f7e-data-tree .database-node-click-target:hover,f7e-data-tree .database-node-click-target:focus{background-color:var(--theme-color-bg-hover)}@media(hover: hover){f7e-data-tree .database-node-click-target:not(:hover):not(:focus-within):not(:active) .database-buttons:not(:hover):not(:focus-within):not(:active){border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}f7e-data-tree .database-node-click-target:not(:hover):not(:focus-within):not(:active) .database-buttons:not(:hover):not(:focus-within):not(:active){margin:0}}f7e-data-tree .database-node-click-target .database-key-value{align-items:flex-start;display:flex;flex:1 1 auto;justify-content:flex-start;min-width:0;padding:6px 0}f7e-data-tree .database-node-click-target .database-key-value .database-expand-collapse-wrapper{align-items:center;display:flex;justify-content:center;min-width:24px;padding-right:8px;width:24px}f7e-data-tree .database-node-click-target .database-key-value .database-key{color:var(--theme-color-fg-secondary);display:inline-block;flex:0 0 auto;font-family:"Roboto Mono",monospace;margin-right:8px;min-width:0;pointer-events:none}f7e-data-tree .database-node-click-target .database-key-value .database-leaf-value{font-size:14px;line-height:20px;color:var(--theme-color-fg-primary);display:inline-block;flex:0 1 auto;min-width:0;pointer-events:none;text-wrap:wrap}f7e-data-tree .database-node-click-target .database-buttons{align-items:flex-start;background-image:linear-gradient(to right, transparent 0, var(--theme-color-bg-hover) 12px);box-sizing:border-box;color:var(--theme-color-fg-secondary);display:flex;height:100%;padding-left:16px;position:absolute;right:0;top:0}f7e-data-tree .database-node-click-target .database-buttons .container{height:32px;display:flex;align-items:center}f7e-data-tree .database-node-click-target .database-buttons .container .database-type{color:var(--theme-color-fg-tertiary);display:inline-block}f7e-data-tree .database-node-click-target .database-buttons .container button.a11y-unstyled{color:var(--theme-color-fg-secondary);display:flex;justify-content:center;width:40px}f7e-data-tree .database-node-click-target .database-buttons .container button.a11y-unstyled:hover,f7e-data-tree .database-node-click-target .database-buttons .container button.a11y-unstyled:focus{color:var(--theme-color-fg-primary)}f7e-data-tree .database-expand-collapse-button:focus,f7e-data-tree .database-node:focus:focus,f7e-data-tree .database-node-click-target:focus{border:0;outline:0}f7e-data-tree .state-expanded>.database-children{display:block}f7e-data-tree .f7e-inline-editor-expand-placeholder{height:160px}
</style></head><body class="default-theme-container fire-scheme-dark"><script nonce="">(window.gtmDataLayer=window.gtmDataLayer||[]).push({'gtm.start':new Date().getTime(),event:'gtm.js'});</script><script async="" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/gtm.js" nonce=""></script><style nonce="">#bootanim-logo {align-items: center; bottom: 0; display: flex; flex-direction: column; justify-content: center; left: 0; opacity: 1; position: absolute; right: 0; top: 0; transform: translateZ(0); z-index: 999;}#bootanim-logo.fire-scheme-light {background-color: #f6f7f9;}#bootanim-logo.fire-scheme-dark {background-color: #031525;}#bootanim-logo.fire-scheme-default {background-color: #f6f7f9; @media (prefers-color-scheme: dark) {background-color: #031525;}}#bootanim-logo.is-destroying {opacity: 0; visibility: hidden;}#bootanim-logo--filmstrip {--fs-frames: 51; --fs-width: 90px; display: flex; height: 130px; width: var(--fs-width); overflow: hidden;}#bootanim-logo--filmstrip img {height: 100%; width: calc(var(--fs-width) * var(--fs-frames));}#bootanim-logo.is-loaded #bootanim-logo--filmstrip img {animation: bootanim-logo--filmstrip .85s steps(calc(var(--fs-frames) - 1)) 0s; animation-fill-mode: forwards;}@keyframes bootanim-logo--filmstrip {from {transform: translate3d(0, 0, 0);}to {transform: translate3d(calc(-1 * var(--fs-width) * (var(--fs-frames) - 1)), 0, 0);}}#bootanim-logo--spinner {margin-top: 0; opacity: 0;}#bootanim-logo.is-loaded #bootanim-logo--spinner {animation: bootanim-logo--spinner-fade .6s ease 1.5s, bootanim-logo--spinner-rotate 1s linear infinite; animation-fill-mode: forwards;}@keyframes bootanim-logo--spinner-fade {from {opacity: 0;}to {opacity: 1;}}@keyframes bootanim-logo--spinner-rotate {from {transform: translateZ(0) rotate(0deg);}to {transform: translateZ(0) rotate(360deg);}}</style><script nonce="">document.querySelector('#bootanim-logo--filmstrip img').addEventListener('load', () => {document.querySelector('#bootanim-logo').classList.add('is-loaded');});</script><script type="text/javascript" nonce="">this.gbar_=this.gbar_||{};(function(_){var window=this;
try{
_.Kd=function(a,b,c){if(!a.j)if(c instanceof Array)for(var d of c)_.Kd(a,b,d);else{d=(0,_.y)(a.B,a,b);const e=a.v+c;a.v++;b.dataset.eqid=e;a.C[e]=d;b&&b.addEventListener?b.addEventListener(c,d,!1):b&&b.attachEvent?b.attachEvent("on"+c,d):a.o.log(Error("s`"+b))}};
}catch(e){_._DumpException(e)}
try{
_.Ld=function(){if(!_.q.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const c=()=>{};_.q.addEventListener("test",c,b);_.q.removeEventListener("test",c,b)}catch(c){}return a}();
}catch(e){_._DumpException(e)}
try{
var Md=document.querySelector(".gb_l .gb_d"),Nd=document.querySelector("#gb.gb_Uc");Md&&!Nd&&_.Kd(_.wd,Md,"click");
}catch(e){_._DumpException(e)}
try{
var Pd,Sd;_.Od=function(a){const b=a.length;if(0<b){const c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c}return[]};Pd=function(a){return a};_.Qd=function(a){var b=null,c=_.q.trustedTypes;if(!c||!c.createPolicy)return b;try{b=c.createPolicy(a,{createHTML:Pd,createScript:Pd,createScriptURL:Pd})}catch(d){_.q.console&&_.q.console.error(d.message)}return b};_.Rd=function(a,b){return 0==a.lastIndexOf(b,0)};_.Td=function(){void 0===Sd&&(Sd=_.Qd("ogb-qtm#html"));return Sd};try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){};_.Ud={};_.Vd=class{constructor(a){this.i=a;this.Cb=!0}ob(){return this.i}toString(){return this.i.toString()}};_.Wd=new _.Vd("",_.Ud);_.Xd=RegExp("^[-+,.\"'%_!#/ a-zA-Z0-9\\[\\]]+$");_.Yd=RegExp("\\b(url\\([ \t\n]*)('[ -&(-\\[\\]-~]*'|\"[ !#-\\[\\]-~]*\"|[!#-&*-\\[\\]-~]*)([ \t\n]*\\))","g");_.Zd=RegExp("\\b(calc|cubic-bezier|fit-content|hsl|hsla|linear-gradient|matrix|minmax|radial-gradient|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?|steps|var)\\([-+*/0-9a-zA-Z.%#\\[\\], ]+\\)","g");var $d;$d={};_.be=function(a){return a instanceof _.ae&&a.constructor===_.ae?a.i:"type_error:SafeHtml"};_.ce=function(a){const b=_.Td();a=b?b.createHTML(a):a;return new _.ae(a,$d)};_.ae=class{constructor(a){this.i=a;this.Cb=!0}ob(){return this.i.toString()}toString(){return this.i.toString()}};_.de=new _.ae(_.q.trustedTypes&&_.q.trustedTypes.emptyHTML||"",$d);_.ee=_.ce("<br>");var ge;_.fe=function(a){let b=!1,c;return function(){b||(c=a(),b=!0);return c}}(function(){var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);b=a.firstChild.firstChild;a.innerHTML=_.be(_.de);return!b.parentElement});ge=/^[\w+/_-]+[=]{0,2}$/;
_.he=function(a){a=(a||_.q).document;return a.querySelector?(a=a.querySelector('style[nonce],link[rel="stylesheet"][nonce]'))&&(a=a.nonce||a.getAttribute("nonce"))&&ge.test(a)?a:"":""};_.ie=function(a,b){this.width=a;this.height=b};_.l=_.ie.prototype;_.l.aspectRatio=function(){return this.width/this.height};_.l.Ib=function(){return!(this.width*this.height)};_.l.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};_.l.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};_.l.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};_.S=function(a,b){var c=b||document;if(c.getElementsByClassName)a=c.getElementsByClassName(a)[0];else{c=document;var d=b||c;a=d.querySelectorAll&&d.querySelector&&a?d.querySelector(a?"."+a:""):_.je(c,a,b)[0]||null}return a||null};
_.je=function(a,b,c){var d;a=c||a;if(a.querySelectorAll&&a.querySelector&&b)return a.querySelectorAll(b?"."+b:"");if(b&&a.getElementsByClassName){var e=a.getElementsByClassName(b);return e}e=a.getElementsByTagName("*");if(b){var f={};for(c=d=0;a=e[c];c++){var g=a.className;"function"==typeof g.split&&_.ta(g.split(/\s+/),b)&&(f[d++]=a)}f.length=d;return f}return e};_.le=function(a){return _.ke(document,a)};
_.ke=function(a,b){b=String(b);"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)};_.me=function(a){for(var b;b=a.firstChild;)a.removeChild(b)};_.ne=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document};
}catch(e){_._DumpException(e)}
try{
_.oe=function(a){return _.tb(a)&&1==a.nodeType};_.pe=function(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else _.me(a),a.appendChild(_.ne(a).createTextNode(String(b)))};var qe;_.re=function(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")};_.se=function(a,b,c){Array.isArray(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(qe||(qe={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=qe,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};var we;_.ve=function(a,b,c,d,e,f){if(_.Nb&&e)return _.te(a);if(e&&!d)return!1;if(!_.Lb){"number"===typeof b&&(b=_.ue(b));var g=17==b||18==b||_.Nb&&91==b;if((!c||_.Nb)&&g||_.Nb&&16==b&&(d||f))return!1}if((_.Mb||_.Jb)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(_.C&&d&&b==a)return!1;switch(a){case 13:return _.Lb?f||e?!1:!(c&&d):!0;case 27:return!(_.Mb||_.Jb||_.Lb)}return _.Lb&&(d||e||f)?!1:_.te(a)};
_.te=function(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(_.Mb||_.Jb)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:case 58:return!0;case 173:case 171:return _.Lb;default:return!1}};_.ue=function(a){if(_.Lb)a=we(a);else if(_.Nb&&_.Mb)switch(a){case 93:a=91}return a};
we=function(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};
}catch(e){_._DumpException(e)}
try{
var xe,ye,ze;xe=function(a){return"string"==typeof a.className?a.className:a.getAttribute&&a.getAttribute("class")||""};ye=function(a){return a.classList?a.classList:xe(a).match(/\S+/g)||[]};ze=function(a,b){"string"==typeof a.className?a.className=b:a.setAttribute&&a.setAttribute("class",b)};_.T=function(a,b){return a.classList?a.classList.contains(b):_.ta(ye(a),b)};_.Ae=function(a,b){if(a.classList)a.classList.add(b);else if(!_.T(a,b)){var c=xe(a);ze(a,c+(0<c.length?" "+b:b))}};
_.Be=function(a,b){if(a.classList)Array.prototype.forEach.call(b,function(e){_.Ae(a,e)});else{var c={};Array.prototype.forEach.call(ye(a),function(e){c[e]=!0});Array.prototype.forEach.call(b,function(e){c[e]=!0});b="";for(var d in c)b+=0<b.length?" "+d:d;ze(a,b)}};_.Ce=function(a,b){a.classList?a.classList.remove(b):_.T(a,b)&&ze(a,Array.prototype.filter.call(ye(a),function(c){return c!=b}).join(" "))};
_.De=function(a,b){a.classList?Array.prototype.forEach.call(b,function(c){_.Ce(a,c)}):ze(a,Array.prototype.filter.call(ye(a),function(c){return!_.ta(b,c)}).join(" "))};
}catch(e){_._DumpException(e)}
try{
var Je,Le;_.Ee=function(a){if(null==a)return a;if("string"===typeof a){if(!a)return;a=+a}if("number"===typeof a)return Number.isFinite(a)?a|0:void 0};_.Fe=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}};_.Ge=function(a,b){return _.Ee(_.D(a,b))};_.He=function(a,b){if(void 0!==a.va||void 0!==a.i)throw Error("v");a.i=b;_.md(a)};_.Ie=class extends _.R{constructor(a){super(a)}};Je=class extends _.Ad{};
_.Ke=function(a,b){if(b in a.i)return a.i[b];throw new Je;};Le=0;_.Me=function(a){return Object.prototype.hasOwnProperty.call(a,_.ub)&&a[_.ub]||(a[_.ub]=++Le)};_.Ne=function(a){return _.Ke(_.xd.i(),a)};
}catch(e){_._DumpException(e)}
try{
var Qe;_.Oe=function(a,b){b=_.sa(a,b);let c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c};_.Pe=function(a,b,c){for(const d in a)b.call(c,a[d],d,a)};Qe=function(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1};_.Re=function(a,b){try{return _.Hb(a[b]),!0}catch(c){}return!1};_.Te=function(a,b){this.type="function"==typeof _.Se&&a instanceof _.Se?String(a):a;this.currentTarget=this.target=b;this.defaultPrevented=this.i=!1};_.Te.prototype.stopPropagation=function(){this.i=!0};_.Te.prototype.preventDefault=function(){this.defaultPrevented=!0};_.Ue=function(a,b){_.Te.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.timeStamp=0;this.Ua=null;a&&this.init(a,b)};_.B(_.Ue,_.Te);var Ve={2:"touch",3:"pen",4:"mouse"};
_.Ue.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;(b=a.relatedTarget)?_.Lb&&(_.Re(b,"nodeName")||(b=null)):"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.offsetX=_.Mb||void 0!==
a.offsetX?a.offsetX:a.layerX,this.offsetY=_.Mb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===
typeof a.pointerType?a.pointerType:Ve[a.pointerType]||"";this.state=a.state;this.timeStamp=a.timeStamp;this.Ua=a;a.defaultPrevented&&_.Ue.W.preventDefault.call(this)};_.Ue.prototype.stopPropagation=function(){_.Ue.W.stopPropagation.call(this);this.Ua.stopPropagation?this.Ua.stopPropagation():this.Ua.cancelBubble=!0};_.Ue.prototype.preventDefault=function(){_.Ue.W.preventDefault.call(this);var a=this.Ua;a.preventDefault?a.preventDefault():a.returnValue=!1};_.We="closure_listenable_"+(1E6*Math.random()|0);_.Xe=function(a){return!(!a||!a[_.We])};var Ye=0;var Ze;Ze=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.Jd=e;this.key=++Ye;this.xd=this.Cd=!1};_.$e=function(a){a.xd=!0;a.listener=null;a.proxy=null;a.src=null;a.Jd=null};_.af=function(a){this.src=a;this.i={};this.j=0};_.af.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.i[f];a||(a=this.i[f]=[],this.j++);var g=bf(a,b,d,e);-1<g?(b=a[g],c||(b.Cd=!1)):(b=new Ze(b,this.src,f,!!d,e),b.Cd=c,a.push(b));return b};_.af.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.i))return!1;var e=this.i[a];b=bf(e,b,c,d);return-1<b?(_.$e(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.i[a],this.j--),!0):!1};
_.cf=function(a,b){var c=b.type;if(!(c in a.i))return!1;var d=_.Oe(a.i[c],b);d&&(_.$e(b),0==a.i[c].length&&(delete a.i[c],a.j--));return d};_.af.prototype.Hd=function(a,b){a=this.i[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};_.af.prototype.md=function(a,b,c,d){a=this.i[a.toString()];var e=-1;a&&(e=bf(a,b,c,d));return-1<e?a[e]:null};
_.af.prototype.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return Qe(this.i,function(f){for(var g=0;g<f.length;++g)if(!(c&&f[g].type!=d||e&&f[g].capture!=b))return!0;return!1})};var bf=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.xd&&f.listener==b&&f.capture==!!c&&f.Jd==d)return e}return-1};var df,ef,ff,jf,lf,mf,nf,qf;df="closure_lm_"+(1E6*Math.random()|0);ef={};ff=0;_.U=function(a,b,c,d,e){if(d&&d.once)return _.gf(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)_.U(a,b[f],c,d,e);return null}c=_.hf(c);return _.Xe(a)?a.listen(b,c,_.tb(d)?!!d.capture:!!d,e):jf(a,b,c,!1,d,e)};
jf=function(a,b,c,d,e,f){if(!b)throw Error("y");var g=_.tb(e)?!!e.capture:!!e,h=_.kf(a);h||(a[df]=h=new _.af(a));c=h.add(b,c,d,g,f);if(c.proxy)return c;d=lf();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)_.Ld||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(mf(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("z");ff++;return c};
lf=function(){const a=nf,b=function(c){return a.call(b.src,b.listener,c)};return b};_.gf=function(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)_.gf(a,b[f],c,d,e);return null}c=_.hf(c);return _.Xe(a)?a.Ka(b,c,_.tb(d)?!!d.capture:!!d,e):jf(a,b,c,!0,d,e)};_.of=function(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)_.of(a,b[f],c,d,e);else d=_.tb(d)?!!d.capture:!!d,c=_.hf(c),_.Xe(a)?a.Fa(b,c,d,e):a&&(a=_.kf(a))&&(b=a.md(b,c,d,e))&&_.pf(b)};
_.pf=function(a){if("number"===typeof a||!a||a.xd)return!1;var b=a.src;if(_.Xe(b))return b.Ee(a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(mf(c),d):b.addListener&&b.removeListener&&b.removeListener(d);ff--;(c=_.kf(b))?(_.cf(c,a),0==c.j&&(c.src=null,b[df]=null)):_.$e(a);return!0};mf=function(a){return a in ef?ef[a]:ef[a]="on"+a};
nf=function(a,b){if(a.xd)a=!0;else{b=new _.Ue(b,this);var c=a.listener,d=a.Jd||a.src;a.Cd&&_.pf(a);a=c.call(d,b)}return a};_.kf=function(a){a=a[df];return a instanceof _.af?a:null};qf="__closure_events_fn_"+(1E9*Math.random()>>>0);_.hf=function(a){if("function"===typeof a)return a;a[qf]||(a[qf]=function(b){return a.handleEvent(b)});return a[qf]};
}catch(e){_._DumpException(e)}
try{
var sf,tf,uf;_.rf=function(a,b){return Array.prototype.some.call(a,b,void 0)};sf=function(){};tf=function(a,b){a.v(b);100>a.j&&(a.j++,b.next=a.i,a.i=b)};uf=class{constructor(a,b){this.o=a;this.v=b;this.j=0;this.i=null}get(){let a;0<this.j?(this.j--,a=this.i,this.i=a.next,a.next=null):a=this.o();return a}};var vf,wf=function(){var a=_.q.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!_.t("Presto")&&(a=function(){var e=_.le("IFRAME");e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=(0,_.y)(function(k){if(("*"==h||k.origin==h)&&k.data==g)this.port1.onmessage()},
this);f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!_.ja()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.Ne;c.Ne=null;e()}};return function(e){d.next={Ne:e};d=d.next;b.port2.postMessage(0)}}return function(e){_.q.setTimeout(e,0)}};var yf=class{constructor(){this.j=this.i=null}add(a,b){const c=xf.get();c.set(a,b);this.j?this.j.next=c:this.i=c;this.j=c}remove(){let a=null;this.i&&(a=this.i,this.i=this.i.next,this.i||(this.j=null),a.next=null);return a}},xf=new uf(()=>new zf,a=>a.reset()),zf=class{constructor(){this.next=this.scope=this.i=null}set(a,b){this.i=a;this.scope=b;this.next=null}reset(){this.next=this.scope=this.i=null}};var Af,Bf=!1,Cf=new yf,Ef=(a,b)=>{Af||Df();Bf||(Af(),Bf=!0);Cf.add(a,b)},Df=()=>{if(_.q.Promise&&_.q.Promise.resolve){const a=_.q.Promise.resolve(void 0);Af=()=>{a.then(Ff)}}else Af=()=>{var a=Ff;"function"!==typeof _.q.setImmediate||_.q.Window&&_.q.Window.prototype&&(_.ha()||!_.t("Edge"))&&_.q.Window.prototype.setImmediate==_.q.setImmediate?(vf||(vf=wf()),vf(a)):_.q.setImmediate(a)}},Ff=()=>{let a;for(;a=Cf.remove();){try{a.i.call(a.scope)}catch(b){_.ba(b)}tf(xf,a)}Bf=!1};_.Gf=function(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};var Jf,Qf,Vf,Uf,Wf;_.If=function(a){this.i=0;this.B=void 0;this.v=this.j=this.o=null;this.A=this.C=!1;if(a!=sf)try{var b=this;a.call(void 0,function(c){Hf(b,2,c)},function(c){Hf(b,3,c)})}catch(c){Hf(this,3,c)}};Jf=function(){this.next=this.o=this.j=this.v=this.i=null;this.A=!1};Jf.prototype.reset=function(){this.o=this.j=this.v=this.i=null;this.A=!1};var Kf=new uf(function(){return new Jf},function(a){a.reset()}),Lf=function(a,b,c){var d=Kf.get();d.v=a;d.j=b;d.o=c;return d};
_.If.prototype.then=function(a,b,c){return Mf(this,"function"===typeof a?a:null,"function"===typeof b?b:null,c)};_.If.prototype.$goog_Thenable=!0;_.If.prototype.D=function(a,b){return Mf(this,null,a,b)};_.If.prototype.catch=_.If.prototype.D;_.If.prototype.cancel=function(a){if(0==this.i){var b=new _.Nf(a);Ef(function(){Of(this,b)},this)}};
var Of=function(a,b){if(0==a.i)if(a.o){var c=a.o;if(c.j){for(var d=0,e=null,f=null,g=c.j;g&&(g.A||(d++,g.i==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.i&&1==d?Of(c,b):(f?(d=f,d.next==c.v&&(c.v=d),d.next=d.next.next):Pf(c),Qf(c,e,3,b)))}a.o=null}else Hf(a,3,b)},Sf=function(a,b){a.j||2!=a.i&&3!=a.i||Rf(a);a.v?a.v.next=b:a.j=b;a.v=b},Mf=function(a,b,c,d){var e=Lf(null,null,null);e.i=new _.If(function(f,g){e.v=b?function(h){try{var k=b.call(d,h);f(k)}catch(m){g(m)}}:f;e.j=c?function(h){try{var k=
c.call(d,h);void 0===k&&h instanceof _.Nf?g(h):f(k)}catch(m){g(m)}}:g});e.i.o=a;Sf(a,e);return e.i};_.If.prototype.G=function(a){this.i=0;Hf(this,2,a)};_.If.prototype.J=function(a){this.i=0;Hf(this,3,a)};
var Hf=function(a,b,c){if(0==a.i){a===c&&(b=3,c=new TypeError("A"));a.i=1;a:{var d=c,e=a.G,f=a.J;if(d instanceof _.If){Sf(d,Lf(e||sf,f||null,a));var g=!0}else if(_.Gf(d))d.then(e,f,a),g=!0;else{if(_.tb(d))try{var h=d.then;if("function"===typeof h){Tf(d,h,e,f,a);g=!0;break a}}catch(k){f.call(a,k);g=!0;break a}g=!1}}g||(a.B=c,a.i=b,a.o=null,Rf(a),3!=b||c instanceof _.Nf||Uf(a,c))}},Tf=function(a,b,c,d,e){var f=!1,g=function(k){f||(f=!0,c.call(e,k))},h=function(k){f||(f=!0,d.call(e,k))};try{b.call(a,
g,h)}catch(k){h(k)}},Rf=function(a){a.C||(a.C=!0,Ef(a.H,a))},Pf=function(a){var b=null;a.j&&(b=a.j,a.j=b.next,b.next=null);a.j||(a.v=null);return b};_.If.prototype.H=function(){for(var a;a=Pf(this);)Qf(this,a,this.i,this.B);this.C=!1};Qf=function(a,b,c,d){if(3==c&&b.j&&!b.A)for(;a&&a.A;a=a.o)a.A=!1;if(b.i)b.i.o=null,Vf(b,c,d);else try{b.A?b.v.call(b.o):Vf(b,c,d)}catch(e){Wf.call(null,e)}tf(Kf,b)};Vf=function(a,b,c){2==b?a.v.call(a.o,c):a.j&&a.j.call(a.o,c)};
Uf=function(a,b){a.A=!0;Ef(function(){a.A&&Wf.call(null,b)})};Wf=_.ba;_.Nf=function(a){_.aa.call(this,a)};_.B(_.Nf,_.aa);_.Nf.prototype.name="cancel";
}catch(e){_._DumpException(e)}
try{
var bg,eg,kg,og;_.Xf=function(a){a&&"function"==typeof a.qa&&a.qa()};_.Yf=function(a){var b=_.sb(a);return"array"==b||"object"==b&&"number"==typeof a.length};_.Zf=function(a,b,c){return void 0!==_.sc(a,b,c,!1)};_.V=function(a,b,c=0){return _.gb(_.Ge(a,b),c)};_.$f=function(a,b){b=_.Fe(_.Xf,b);a.Ga?b():(a.oa||(a.oa=[]),a.oa.push(b))};_.ag=function(a){var b=0,c;for(c in a.i){for(var d=a.i[c],e=0;e<d.length;e++)++b,_.$e(d[e]);delete a.i[c];a.j--}};_.cg=function(a){return/^[\s\xa0]*$/.test(a)};
_.dg=function(a,b){return"string"===typeof b?a.getElementById(b):b};eg={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
_.fg=function(a,b){_.Pe(b,function(c,d){c&&"object"==typeof c&&c.Cb&&(c=c.ob());"style"==d?a.style.cssText=c:"class"==d?a.className=c:"for"==d?a.htmlFor=c:eg.hasOwnProperty(d)?a.setAttribute(eg[d],c):_.Rd(d,"aria-")||_.Rd(d,"data-")?a.setAttribute(d,c):a[d]=c})};_.gg=function(a){return"CSS1Compat"==a.compatMode};_.hg=function(a){a=a.document;a=_.gg(a)?a.documentElement:a.body;return new _.ie(a.clientWidth,a.clientHeight)};_.ig=function(a){return a.parentWindow||a.defaultView};
_.jg=function(a){return a?_.ig(a):window};kg=function(a,b,c){function d(h){h&&b.appendChild("string"===typeof h?a.createTextNode(h):h)}for(var e=2;e<c.length;e++){var f=c[e];if(!_.Yf(f)||_.tb(f)&&0<f.nodeType)d(f);else{a:{if(f&&"number"==typeof f.length){if(_.tb(f)){var g="function"==typeof f.item||"string"==typeof f.item;break a}if("function"===typeof f){g="function"==typeof f.item;break a}}g=!1}_.Gb(g?_.Od(f):f,d)}}};
_.lg=function(a,b){var c=b[1],d=_.ke(a,String(b[0]));c&&("string"===typeof c?d.className=c:Array.isArray(c)?d.className=c.join(" "):_.fg(d,c));2<b.length&&kg(a,d,b);return d};_.mg=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};_.ng=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};
og=function(a){this.i=a||_.q.document||document};_.l=og.prototype;_.l.F=function(a){return _.dg(this.i,a)};_.l.rb=function(a,b,c){return _.lg(this.i,arguments)};_.l.appendChild=function(a,b){a.appendChild(b)};_.l.Fe=_.me;_.l.Yf=_.mg;_.l.Xf=_.ng;_.pg=function(a){return a?new og(_.ne(a)):bg||(bg=new og)};_.W=function(){_.Ec.call(this);this.nb=new _.af(this);this.og=this;this.wd=null};_.B(_.W,_.Ec);_.W.prototype[_.We]=!0;_.l=_.W.prototype;_.l.Gg=function(){return this.wd};
_.l.Fc=function(a){this.wd=a};_.l.addEventListener=function(a,b,c,d){_.U(this,a,b,c,d)};_.l.removeEventListener=function(a,b,c,d){_.of(this,a,b,c,d)};
_.l.dispatchEvent=function(a){var b,c=this.wd;if(c)for(b=[];c;c=c.wd)b.push(c);c=this.og;var d=a.type||a;if("string"===typeof a)a=new _.Te(a,c);else if(a instanceof _.Te)a.target=a.target||c;else{var e=a;a=new _.Te(d,c);_.nb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.i&&0<=f;f--){var g=a.currentTarget=b[f];e=qg(g,d,!0,a)&&e}a.i||(g=a.currentTarget=c,e=qg(g,d,!0,a)&&e,a.i||(e=qg(g,d,!1,a)&&e));if(b)for(f=0;!a.i&&f<b.length;f++)g=a.currentTarget=b[f],e=qg(g,d,!1,a)&&e;return e};
_.l.O=function(){_.W.W.O.call(this);this.nb&&_.ag(this.nb);this.wd=null};_.l.listen=function(a,b,c,d){return this.nb.add(String(a),b,!1,c,d)};_.l.Ka=function(a,b,c,d){return this.nb.add(String(a),b,!0,c,d)};_.l.Fa=function(a,b,c,d){this.nb.remove(String(a),b,c,d)};_.l.Ee=function(a){return _.cf(this.nb,a)};
var qg=function(a,b,c,d){b=a.nb.i[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.xd&&g.capture==c){var h=g.listener,k=g.Jd||g.src;g.Cd&&a.Ee(g);e=!1!==h.call(k,d)&&e}}return e&&!d.defaultPrevented};_.W.prototype.Hd=function(a,b){return this.nb.Hd(String(a),b)};_.W.prototype.md=function(a,b,c,d){return this.nb.md(String(a),b,c,d)};_.W.prototype.hasListener=function(a,b){return this.nb.hasListener(void 0!==a?String(a):void 0,b)};_.rg=function(a,b,c){if("function"===typeof a)c&&(a=(0,_.y)(a,c));else if(a&&"function"==typeof a.handleEvent)a=(0,_.y)(a.handleEvent,a);else throw Error("B");return 2147483647<Number(b)?-1:_.q.setTimeout(a,b||0)};_.sg=function(a){_.q.clearTimeout(a)};
}catch(e){_._DumpException(e)}
try{
_.tg=function(a,b,c){return Array.prototype.filter.call(a,b,c)};_.ug=function(a){_.Ec.call(this);this.L=a;this.J={}};_.B(_.ug,_.Ec);var vg=[];_.ug.prototype.listen=function(a,b,c,d){return wg(this,a,b,c,d)};_.ug.prototype.o=function(a,b,c,d,e){return wg(this,a,b,c,d,e)};var wg=function(a,b,c,d,e,f){Array.isArray(c)||(c&&(vg[0]=c.toString()),c=vg);for(var g=0;g<c.length;g++){var h=_.U(b,c[g],d||a.handleEvent,e||!1,f||a.L||a);if(!h)break;a.J[h.key]=h}return a};
_.ug.prototype.Ka=function(a,b,c,d){return xg(this,a,b,c,d)};var xg=function(a,b,c,d,e,f){if(Array.isArray(c))for(var g=0;g<c.length;g++)xg(a,b,c[g],d,e,f);else{b=_.gf(b,c,d||a.handleEvent,e,f||a.L||a);if(!b)return a;a.J[b.key]=b}return a};
_.ug.prototype.Fa=function(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)this.Fa(a,b[f],c,d,e);else c=c||this.handleEvent,d=_.tb(d)?!!d.capture:!!d,e=e||this.L||this,c=_.hf(c),d=!!d,b=_.Xe(a)?a.md(b,c,d,e):a?(a=_.kf(a))?a.md(b,c,d,e):null:null,b&&(_.pf(b),delete this.J[b.key])};_.yg=function(a){_.Pe(a.J,function(b,c){this.J.hasOwnProperty(c)&&_.pf(b)},a);a.J={}};_.ug.prototype.O=function(){_.ug.W.O.call(this);_.yg(this)};_.ug.prototype.handleEvent=function(){throw Error("C");};
}catch(e){_._DumpException(e)}
try{
var Bg;_.zg=function(a){return new _.ie(a.width,a.height)};_.Ag=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};Bg=function(a){return String(a).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()})};_.Cg=function(a){return a.replace(RegExp("(^|[\\s]+)([a-z])","g"),function(b,c,d){return c+d.toUpperCase()})};_.Dg=function(){return _.Mb?"Webkit":_.Lb?"Moz":_.C?"ms":null};var Fg,Eg;_.X=function(a,b,c){if("string"===typeof b)(b=Eg(a,b))&&(a.style[b]=c);else for(var d in b){c=a;var e=b[d],f=Eg(c,d);f&&(c.style[f]=e)}};Fg={};Eg=function(a,b){var c=Fg[b];if(!c){var d=Bg(b);c=d;void 0===a.style[d]&&(d=_.Dg()+_.Cg(d),void 0!==a.style[d]&&(c=d));Fg[b]=c}return c};_.Gg=function(a,b){var c=a.style[Bg(b)];return"undefined"!==typeof c?c:a.style[Eg(a,b)]||""};
_.Hg=function(a,b){var c=_.ne(a);return c.defaultView&&c.defaultView.getComputedStyle&&(a=c.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""};_.Ig=function(a,b){return _.Hg(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]};_.Jg=function(a){try{return a.getBoundingClientRect()}catch(b){return{left:0,top:0,right:0,bottom:0}}};
_.Lg=function(a){var b=_.Kg;if("none"!=_.Ig(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a};_.Kg=function(a){var b=a.offsetWidth,c=a.offsetHeight,d=_.Mb&&!b&&!c;return(void 0===b||d)&&a.getBoundingClientRect?(a=_.Jg(a),new _.ie(a.right-a.left,a.bottom-a.top)):new _.ie(b,c)};_.Mg=function(a,b){a.style.display=b?"":"none"};
_.Ng=_.Lb?"MozUserSelect":_.Mb||_.Jb?"WebkitUserSelect":null;
}catch(e){_._DumpException(e)}
try{
var Og,Qg;Og=function(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};_.Pg=function(a,b,c,d){Array.prototype.splice.apply(a,Og(arguments,1))};Qg=function(a,b){return null!==a&&b in a?a[b]:void 0};_.Rg=function(){};_.Rg.xc=void 0;_.Rg.i=function(){return _.Rg.xc?_.Rg.xc:_.Rg.xc=new _.Rg};_.Rg.prototype.i=0;_.Sg=function(a){return":"+(a.i++).toString(36)};var Tg;_.Ug=function(a){_.W.call(this);this.o=a||_.pg();this.Y=Tg;this.T=null;this.Da=!1;this.i=null;this.J=void 0;this.H=this.A=this.j=this.C=null;this.ya=!1};_.B(_.Ug,_.W);_.Ug.prototype.Sa=_.Rg.i();Tg=null;_.Vg=function(a){return a.T||(a.T=_.Sg(a.Sa))};_.Ug.prototype.F=function(){return this.i};var Wg=function(a,b){if(a==b)throw Error("E");var c;if(c=b&&a.j&&a.T){c=a.j;var d=a.T;c=c.H&&d?Qg(c.H,d)||null:null}if(c&&a.j!=b)throw Error("E");a.j=b;_.Ug.W.Fc.call(a,b)};
_.Ug.prototype.Fc=function(a){if(this.j&&this.j!=a)throw Error("F");_.Ug.W.Fc.call(this,a)};_.Ug.prototype.kc=function(){this.i=_.ke(this.o.i,"DIV")};_.Ug.prototype.render=function(a){Xg(this,a)};var Xg=function(a,b,c){if(a.Da)throw Error("G");a.i||a.kc();b?b.insertBefore(a.i,c||null):a.o.i.body.appendChild(a.i);a.j&&!a.j.Da||a.Oa()};_.l=_.Ug.prototype;_.l.jd=function(a){this.i=a};_.l.Oa=function(){this.Da=!0;_.Yg(this,function(a){!a.Da&&a.F()&&a.Oa()})};
_.l.Ab=function(){_.Yg(this,function(a){a.Da&&a.Ab()});this.J&&_.yg(this.J);this.Da=!1};_.l.O=function(){this.Da&&this.Ab();this.J&&(this.J.qa(),delete this.J);_.Yg(this,function(a){a.qa()});!this.ya&&this.i&&_.mg(this.i);this.j=this.C=this.i=this.H=this.A=null;_.Ug.W.O.call(this)};
_.l.tc=function(a,b,c){if(a.Da&&(c||!this.Da))throw Error("G");if(0>b||b>_.Zg(this))throw Error("I");this.H&&this.A||(this.H={},this.A=[]);if(a.j==this){var d=_.Vg(a);this.H[d]=a;_.Oe(this.A,a)}else{d=this.H;var e=_.Vg(a);if(null!==d&&e in d)throw Error("u`"+e);d[e]=a}Wg(a,this);_.Pg(this.A,b,0,a);a.Da&&this.Da&&a.j==this?(c=this.i,(c.childNodes[b]||null)!=a.F()&&(a.F().parentElement==c&&c.removeChild(a.F()),b=c.childNodes[b]||null,c.insertBefore(a.F(),b))):c?(this.i||this.kc(),b=_.$g(this,b+1),Xg(a,
this.i,b?b.i:null)):this.Da&&!a.Da&&a.i&&a.i.parentNode&&1==a.i.parentNode.nodeType&&a.Oa()};_.Zg=function(a){return a.A?a.A.length:0};_.$g=function(a,b){return a.A?a.A[b]||null:null};_.Yg=function(a,b,c){a.A&&a.A.forEach(b,c)};_.Ug.prototype.Tc=function(a,b){if(a){var c="string"===typeof a?a:_.Vg(a);a=this.H&&c?Qg(this.H,c)||null:null;if(c&&a){var d=this.H;c in d&&delete d[c];_.Oe(this.A,a);b&&(a.Ab(),a.i&&_.mg(a.i));Wg(a,null)}}if(!a)throw Error("J");return a};
}catch(e){_._DumpException(e)}
try{
_.ah=function(a){if(a instanceof _.Mc)return a;a="object"==typeof a&&a.Cb?a.ob():String(a);a:{var b=a;if(_.Tc){try{var c=new URL(b)}catch(d){b="https:";break a}b=c.protocol}else b:{c=document.createElement("a");try{c.href=b}catch(d){b=void 0;break b}b=c.protocol;b=":"===b||""===b?"https:":b}}"javascript:"===b&&(a="about:invalid#zClosurez");return _.Qc(a)};_.ch=function(a,b,c){_.bh.listen(b,c,void 0,a.L||a,a)};_.dh=function(a,b){b=b instanceof _.Mc?b:_.ah(b);a.href=_.Nc(b)};
_.eh=function(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):_.je(document,a,b)};_.fh=function(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null};_.gh=function(a,b){return b?_.fh(a,function(c){return!b||"string"===typeof c.className&&_.ta(c.className.split(/\s+/),b)}):null};var hh,ih;hh=function(){};_.bh=new hh;ih=["click","keydown","keyup"];hh.prototype.listen=function(a,b,c,d,e){var f=function(g){var h=_.hf(b),k=_.oe(g.target)?g.target.getAttribute("role")||null:null;"click"!=g.type||0!=g.Ua.button||_.Nb&&g.ctrlKey?13!=g.keyCode&&3!=g.keyCode||"keyup"==g.type?32!=g.keyCode||"button"!=k&&"tab"!=k&&"radio"!=k||("keyup"==g.type&&h.call(d,g),g.preventDefault()):(g.type="keypress",h.call(d,g)):h.call(d,g)};f.ub=b;f.eh=d;e?e.listen(a,ih,f,c):_.U(a,ih,f,c)};
hh.prototype.Fa=function(a,b,c,d,e){for(var f,g=0;f=ih[g];g++){var h=a;var k=f;var m=!!c;k=_.Xe(h)?h.Hd(k,m):h?(h=_.kf(h))?h.Hd(k,m):[]:[];for(h=0;m=k[h];h++){var n=m.listener;if(n.ub==b&&n.eh==d){e?e.Fa(a,f,m.listener,c,d):_.of(a,f,m.listener,c,d);break}}}};
}catch(e){_._DumpException(e)}
try{
var jh;jh=function(a,b,c){if(a.j)return null;if(c instanceof Array){var d=null;for(var e of c)(c=jh(a,b,e))&&(d=c);return d}d=null;a.i&&a.i.type==c&&a.A==b&&(d=a.i,a.i=null);if(e=b.dataset.eqid)delete b.dataset.eqid,(e=a.C[e])?b.removeEventListener?b.removeEventListener(c,e,!1):b.detachEvent&&b.detachEvent("on"+c,e):a.o.log(Error("t`"+b));return d};_.kh=function(a,b,c){return Array.prototype.map.call(a,b,c)};_.lh=function(a,b,c){return function(){try{return b.apply(c,arguments)}catch(d){a.log(d)}}};_.nh=function(a,b,c,d,e,f){d=_.lh(a,d,f);a=_.U(b,c,d,e,f);_.mh(b,c);return a};_.mh=function(a,b){if(a instanceof Element&&(b=jh(_.Ne("eq"),a,b||[])))if(_.C&&b instanceof MouseEvent&&a.dispatchEvent){var c=document.createEvent("MouseEvent");c.initMouseEvent(b.type,!0,!0,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget);a.dispatchEvent(c)}else a.dispatchEvent&&a.dispatchEvent(b)};
}catch(e){_._DumpException(e)}
try{
var oh;oh=function(a){return Array.isArray(a)?_.kh(a,oh):"string"===typeof a?a:a?a.toString():a};
_.ph=class extends _.ug{constructor(a,b){super(b);this.B=a;this.ua=b||this}listen(a,b,c,d){if(c){if("function"!=typeof c)throw new TypeError("K");c=_.lh(this.B,c,this.ua);c=super.listen(a,b,c,d);_.mh(a,oh(b));return c}return super.listen(a,b,c,d)}o(a,b,c,d,e){if(c){if("function"!=typeof c)throw new TypeError("K");c=_.lh(this.B,c,e||this.ua);c=super.o(a,b,c,d,e);_.mh(a,oh(b));return c}return super.o(a,b,c,d,e)}Ka(a,b,c,d){if(c){if("function"!=typeof c)throw new TypeError("K");c=_.lh(this.B,c,this.ua);
c=super.Ka(a,b,c,d);_.mh(a,oh(b));return c}return super.Ka(a,b,c,d)}};_.qh=class extends _.ph{constructor(a,b){super(b);this.j=a}F(){return this.j}O(){this.j=null;super.O()}};
}catch(e){_._DumpException(e)}
try{
_.rh=class extends _.qh{constructor(a){super(a,_.Gc)}};
}catch(e){_._DumpException(e)}
try{
var uh,vh;_.Y=function(a,b,c){c?_.Ae(a,b):_.Ce(a,b)};_.sh=function(a,b,c){return _.lg(document,arguments)};_.th=function(a){return void 0!=a.children?a.children:Array.prototype.filter.call(a.childNodes,function(b){return 1==b.nodeType})};uh={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};vh={IMG:" ",BR:"\n"};
_.wh=function(a,b,c){if(!(a.nodeName in uh))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in vh)b.push(vh[a.nodeName]);else for(a=a.firstChild;a;)_.wh(a,b,c),a=a.nextSibling};_.xh=!_.C&&!_.ma();
}catch(e){_._DumpException(e)}
try{
_.yh=function(a){return null==a?"":String(a)};
}catch(e){_._DumpException(e)}
try{
_.zh=function(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b};_.Ah=function(a){if(a.o)return a.o;for(const b in a.i)if(a.i[b].ta()&&a.i[b].C())return a.i[b];return null};_.Bh=function(a,b){a.i[b.K()]=b};var Ch=new class extends _.Ec{constructor(){var a=_.Gc;super();this.C=a;this.o=null;this.j={};this.B={};this.i={};this.v=null}A(a){this.i[a]&&(_.Ah(this)&&_.Ah(this).K()==a||this.i[a].P(!0))}Xa(a){this.v=a;for(const b in this.i)this.i[b].ta()&&this.i[b].Xa(a)}uc(a){return a in this.i?this.i[a]:null}};_.zd("dd",Ch);
}catch(e){_._DumpException(e)}
try{
var Eh,Oh,Ph,Rh,Th,Uh,Vh,Wh,Fh,Xh,Gh,Dh,Zh,$h,ai,bi,ci,di,ei,gi,hi,ii,ji,ki,li,mi,ni,oi,pi,qi,ri,si,ti,ui,vi,wi;Eh=function(a){return null!=_.fh(a,function(b){return 1==b.nodeType&&"true"==Dh(b,"hidden")})};_.Hh=function(a){return a?Fh(a,function(b){return 1==b.nodeType&&Gh(b)&&!Eh(b)}):[]};_.Ih=function(a,b){a&&b&&_.dh(a,a.href.replace(/([?&](continue|followup)=)[^&]*/g,"$1"+encodeURIComponent(b)))};
_.Nh=function(){_.A("gbar.I",_.Jh);_.Jh.prototype.ia=_.Jh.prototype.Z;_.Jh.prototype.ib=_.Jh.prototype.F;_.Jh.prototype.ic=_.Jh.prototype.ab;_.A("gbar.J",_.Kh);_.Kh.prototype.ja=_.Kh.prototype.ha;_.Kh.prototype.jb=_.Kh.prototype.ma;_.A("gbar.K",_.Lh);_.A("gbar.L",_.Mh);_.Mh.prototype.la=_.Mh.prototype.j};Oh=function(a,b){b.xa=b.type;b.xb=b.target;return a.call(this,b)};
Ph=function(a,b,c){a=_.S("gb_Kc",a.F());if(""!=b||""!=c)_.T(a,"gb_Ma")?""!=_.Gg(a,"background-image")&&(b=""!=c?c:b,_.X(a,"background-image","url('"+b+"')"),a=_.S("gb_Jc",a),null!==a&&"IMG"==a.tagName&&(a.src=b)):"IMG"==a.tagName&&(a.src=""!=b?b:c,b!=c&&(c=""!=c?c+" 2x ":"",""!=b&&(c=c+(""==c?"":",")+(b+" 1x")),a.setAttribute("srcset",c)))};_.Qh=function(a,b){return _.S(a,b)};Rh=function(a,b,c){_.Ec.call(this);this.ub=a;this.o=b||0;this.i=c;this.j=(0,_.y)(this.Zf,this)};_.B(Rh,_.Ec);_.l=Rh.prototype;
_.l.Uc=0;_.l.O=function(){Rh.W.O.call(this);this.stop();delete this.ub;delete this.i};_.l.start=function(a){this.stop();this.Uc=_.rg(this.j,void 0!==a?a:this.o)};_.l.stop=function(){this.isActive()&&_.sg(this.Uc);this.Uc=0};_.l.isActive=function(){return 0!=this.Uc};_.l.Zf=function(){this.Uc=0;this.ub&&this.ub.call(this.i)};_.Sh=function(a,b){b&&_.Ah(a)&&b!=_.Ah(a)&&_.Ah(a).P(!1);a.o=b};Th=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};
Uh=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)};Vh=function(a,b,c,d){if(null!=a)for(a=a.firstChild;a;){if(b(a)&&(c.push(a),d)||Vh(a,b,c,d))return!0;a=a.nextSibling}return!1};Wh=function(a,b){var c=[];return Vh(a,b,c,!0)?c[0]:void 0};Fh=function(a,b){var c=[];Vh(a,b,c,!1);return c};Xh=function(a){a=a.tabIndex;return"number"===typeof a&&0<=a&&32768>a};
Gh=function(a){var b;if((b="A"==a.tagName&&a.hasAttribute("href")||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!a.hasAttribute("tabindex")||Xh(a)):a.hasAttribute("tabindex")&&Xh(a))&&_.C){var c;"function"!==typeof a.getBoundingClientRect||_.C&&null==a.parentElement?c={height:a.offsetHeight,width:a.offsetWidth}:c=a.getBoundingClientRect();a=null!=c&&0<c.height&&0<c.width}else a=b;return a};
_.Yh=function(a){var b=[];_.wh(a,b,!0);a=b.join("");a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");a=a.replace(/ +/g," ");" "!=a&&(a=a.replace(/^\s*/,""));return a};Dh=function(a,b){a=a.getAttribute("aria-"+b);return null==a||void 0==a?"":String(a)};Zh=function(a){a.j||(a.j=_.U(a.i,"keydown",a.o,!1,a))};$h=function(a){a.j&&(_.pf(a.j),a.j=null)};ai=function(a){$h(a);_.Y(a.i,"gb_T",!1)};
bi=class{constructor(a){this.i=a;this.j=null}o(a){9!=a.keyCode||_.T(this.i,"gb_T")||(_.Y(this.i,"gb_T",!0),$h(this))}};_.Jh=class extends _.W{constructor(a,b){super();this.C=a;b&&(this.C.id=b)}F(){return this.C}Z(){return this.C.id}ab(){let a=this.C.id;a||(a="gb$"+_.Sg(_.Rg.i()),this.C.id=a);return a}O(){_.mg(this.C);super.O()}};_.Jh.prototype.H=function(){return this.F()};ci=function(a){return Wh(a,function(b){return _.oe(b)&&Gh(b)})};di=function(a){(a=ci(a))&&a.focus()};
ei={Xh:"gb_Oa",ti:"gb_sd",Bh:"gb_Xc"};_.fi=function(a,b,c){if(_.xh&&a.dataset)a.dataset[b]=c;else{if(/-[a-z]/.test(b))throw Error("x");a.setAttribute("data-"+Th(b),c)}};gi=function(a){if(/-[a-z]/.test("item"))return null;if(_.xh&&a.dataset){if(_.na()&&!("item"in a.dataset))return null;a=a.dataset.item;return void 0===a?null:a}return a.getAttribute("data-"+Th("item"))};
hi=function(a,b){return/-[a-z]/.test(b)?!1:_.xh&&a.dataset?b in a.dataset:a.hasAttribute?a.hasAttribute("data-"+Th(b)):!!a.getAttribute("data-"+Th(b))};ii=function(){var a=_.le("LI");_.Ae(a,"gb_5c");_.re(a,"menuitem");return a};
ji=class extends _.Jh{constructor(a,b){b||(b=ii(),a.H().appendChild(b));super(b);this.D=new _.ug(this);_.ch(this.D,this.F(),this.L)}G(a){a?_.fi(this.F(),"item",a):(a=this.F(),!/-[a-z]/.test("item")&&(_.xh&&a.dataset?hi(a,"item")&&delete a.dataset.item:a.removeAttribute("data-"+Th("item"))));return this}j(){return gi(this.F())}J(a){_.Y(this.F(),"gb_Wa",a);return this}focus(){di(this.F())}L(){this.dispatchEvent("click")}};
ki=class extends ji{constructor(a,b){if(!b){b=ii();_.Ae(b,"gb_ad");var c=_.sh("A","gb_7c");c.tabIndex=0;b.appendChild(c);var d=_.sh("SPAN","gb_8c");c.appendChild(d);a.H().appendChild(b)}super(a,b);this.A=_.Qh("gb_7c",this.F());this.v=_.S("gb_9c",this.A);this.i=null;this.o=_.S("gb_8c",this.A)}j(){return super.j()||this.B()}B(){return _.Yh(this.o)}K(a){_.pe(this.o,a);return this}N(a){if(!this.v)if(this.v=_.sh("IMG","gb_9c"),this.v.setAttribute("alt",""),this.i)Uh(this.v,this.i),this.i=null;else{var b=
this.o;b.parentNode&&b.parentNode.insertBefore(this.v,b)}this.v.src=a;return this}M(a){if(!(a instanceof Element&&"svg"==a.tagName.toLowerCase()))return this;if(this.v)Uh(a,this.v),this.v=null;else if(this.i)Uh(a,this.i);else{var b=this.o;b.parentNode&&b.parentNode.insertBefore(a,b)}(b=a.getAttribute("class"))?a.setAttribute("class",b+" gb_9c"):a.setAttribute("class","gb_9c");this.i=a;return this}focus(){this.A.focus()}};
_.Kh=class extends _.Jh{constructor(a){super(a);this.B=[];this.L={}}ha(a){let b=this.L[a];if(b)return b;const c=document.getElementById(a);if(c)for(let d=0,e=this.B.length;d<e;++d)if(b=this.B[d],b.F()==c)return this.L[a]=b;return null}v(a){a.Fc(this);this.B.push(a);const b=a.C.id;b&&(this.L[b]=a)}ma(){for(let a=0,b=this.B.length;a<b;a++)this.B[a].qa();this.L={};this.B=[]}};
li=class extends _.Kh{constructor(a,b){if(!b){b=_.le("UL");_.Ae(b,"gb_2c");var c=_.sh("SPAN","gb_6c");b.appendChild(c)}super(b);this.j=a;a=this.F().getElementsByClassName("gb_5c");for(b=0;b<a.length;b++)c=a[b],_.T(c,"gb_ad")?this.v(new ki(this,c)):this.v(new ji(this,c));this.i=_.S("gb_6c",this.F())}v(a){super.v(a);var b=this.j,c=a.F();c=c.id||(c.id="gbm"+_.Sg(_.Rg.i()));b.P[c]=a}o(){return null!=this.i?_.Yh(this.i):null}A(a){return null!=this.i?(_.pe(this.i,a),this):null}D(){var a=new ji(this);this.v(a);
return a}G(){var a=new ki(this);this.v(a);return a}};mi=function(a){return a instanceof HTMLElement&&hi(a,"ogobm")};ni="click mousedown scroll touchstart wheel keydown".split(" ");oi=class{constructor(a,b){this.i=a;this.j=b}};
pi=function(a){_.ch(a.j,a.F(),a.wa);a.F().addEventListener("keydown",function(c){32==c.keyCode&&c.preventDefault()});_.ch(a.j,a.o,a.Ya);a.j.listen(a.i,"keydown",a.ya);a.j.listen(a.i,"keyup",a.hb);const b=new Map;b.set("close","cbc");b.set("back","bbc");b.forEach((c,d)=>{_.ch(a.j,a.K.get(d),function(){this.dispatchEvent(c)})});if(_.T(a.i,"gb_Oa")||_.T(a.i,"gb_sd"))a.j.listen(window,"resize",a.V),a.V();_.T(a.i,"gb_Sc")||a.j.Ka(window,"touchstart",()=>{_.X(a.i,"overflow-y","auto")})};
qi=function(a){a.j.Fa(document.body,ni,a.S,!1,a);a.j.Fa(document.body,"focusin",a.T)};ri=function(a){a.D||(a.D=_.le("DIV"),_.Ae(a.D,"gb_0c"),a.o.appendChild(a.D),a.J=_.le("DIV"),_.Ae(a.J,"gb_1c"),a.o.appendChild(a.J))};si=function(a,b){const c=new li(a);var d=c.F();b.appendChild(d);a.v(c);return c};ti=function(a,b){(a=a.K.get(b))&&_.Ce(a,"gb_p")};ui=function(a){a.K.forEach(b=>{_.Ae(b,"gb_p")})};vi=function(a){return!_.T(a.i,"gb_Wc")||_.T(a.i,"gb_Oa")||_.T(a.i,"gb_sd")};
wi=class extends _.Kh{constructor(a,b,c,d,e){const f=a.get("menu");super(f);this.i=b;this.Y=f;this.K=a;this.ta=a.get("back");this.G=_.S("gb_Nc");this.M=c;this.o=_.S("gb_Zc",this.i);this.N=new bi(this.o);this.D=_.S("gb_0c",this.o);this.J=_.S("gb_1c",this.o);this.P={};this.R=[];this.U=d||!1;this.X=e||!1;this.j=new _.ug(this);pi(this);a=this.o.getElementsByClassName("gb_2c");for(b=0;b<a.length;b++)this.v(new li(this,a[b]))}O(){super.O();qi(this)}H(){return this.o}ua(){return _.S("gb_4d",this.i)}Sa(){ri(this);
return si(this,this.D)}Ra(){ri(this);return si(this,this.J)}Ba(a){_.Y(this.i,"gb_Wc",1==a);this.dispatchEvent("msc")}getStyle(){return vi(this)?0:1}lb(a){this.G||(this.G=_.S("gb_Nc"));this.G&&a&&_.pe(this.G,a)}isVisible(a){return(a=this.K.get(a))?!_.T(a,"gb_p"):!1}open(a){this.M||(a&&_.X(this.i,"transition","none"),this.dispatchEvent("beforeshow"),_.Ae(this.i,"gb_Ja"),_.se(this.F(),"expanded",!0),di(this.o),Zh(this.N),this.dispatchEvent("open"),this.j.o(document.body,ni,this.S,!0,this),this.j.listen(document.body,
"focusin",this.T),a&&_.rg(function(){_.X(this.i,"transition","")},0,this))}kb(a){this.M&&_.se(this.F(),"expanded",a)}close(a){this.M||(a&&_.X(this.i,"transition","none"),_.Ce(this.i,"gb_Ja"),_.se(this.F(),"expanded",!1),document.activeElement==this.F()&&this.F().blur(),ai(this.N),this.dispatchEvent("close"),qi(this),a&&_.rg(function(){_.X(this.i,"transition","")},0,this))}A(){return _.T(this.i,"gb_Ja")}V(){const a=window.visualViewport?window.visualViewport.height:window.innerHeight;a&&_.X(this.i,
"height",`calc(${a}px - 100%)`)}wa(){this.dispatchEvent("mbc");if(!this.M){if(this.A()){this.close();var a=!0}else this.open(),a=!1;a&&this.F().focus()}}hb(a){9===a.keyCode&&this.A()&&(a=this.N,_.Y(a.i,"gb_T",!0),$h(a))}ya(a){a:{if(36==a.keyCode||35==a.keyCode){var b=_.Hh(this.i);if(0<b.length){var c=b[b.length-1];36==a.keyCode&&(c=!vi(this)&&1<b.length?b[1]:b[0]);c.focus();a.preventDefault();break a}}27!=a.keyCode||this.U&&!vi(this)||(this.close(),null!=this.Y&&this.Y.focus())}9===a.keyCode&&this.A()&&
vi(this)&&(b=a.target,c=_.Hh(this.i),0<c.length&&(b==c[0]&&a.shiftKey?(c[c.length-1].focus(),a.preventDefault()):b!=c[c.length-1]||a.shiftKey||(c[0].focus(),a.preventDefault())))}Ya(a){if(a.target instanceof Node){a:{a=a.target;for(var b=this.o;a&&a!==b;){var c=a.id;if(c in this.P){a=this.P[c];break a}a=a.parentNode}a=null}if(a){b=a.j();c=this.R.length;for(let d=0;d<c;++d)a=this.R[d],a.i.call(a.j,b);this.U&&!vi(this)||this.close()}}}S(a){this.A()&&a.target instanceof Node&&!(!vi(this)||this.X&&_.fh(a.target,
mi))&&("keydown"==a.type?27==a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.close(),this.F().focus()):_.gh(a.target,"gb_3")||_.gh(a.target,"gb_Lc")||_.ng(this.i,a.target)||("touchstart"==a.type&&(a.preventDefault(),a.stopPropagation()),this.close()))}T(){this.A()&&(!vi(this)||"IFRAME"!=document.activeElement.tagName&&(this.X&&_.fh(document.activeElement,mi)||_.gh(document.activeElement,"gb_Rc")||_.gh(document.activeElement,"gb_3")||di(this.o)))}Ja(a,b){this.R.push(new oi(a,b))}};
_.Lh=class extends _.Jh{constructor(a){super(a);_.bh.listen(a,this.i,!1,this)}i(a){this.dispatchEvent("click")||a.preventDefault()}};var xi=class{constructor(){this.i=null}qd(){return this.i}};var yi=class{constructor(a,b,c){this.i=a;this.j=b;this.o=c||_.q}};var zi=class{constructor(a){this.i=[];this.v=a||this}j(a,b,c){this.A(a,b,c);this.i.push(new yi(a,b,c))}A(a,b,c){c=c||_.q;for(var d=0,e=this.i.length;d<e;d++){var f=this.i[d];if(f.i==a&&f.j==b&&f.o==c){this.i.splice(d,1);break}}}o(a){a.i=this.v;for(var b=0,c=this.i.length;b<c;b++){var d=this.i[b];"catc"==d.i&&d.j.call(d.o,a)}}};var Bi=function(a,b){_.W.call(this);this.i=a;this.o=Ai(this.i);this.B=b||100;this.v=_.U(a,"resize",this.A,!1,this)};_.B(Bi,_.W);Bi.prototype.O=function(){_.pf(this.v);Bi.W.O.call(this)};Bi.prototype.A=function(){this.j||(this.j=new Rh(this.C,this.B,this),_.$f(this,this.j));this.j.start()};
Bi.prototype.C=function(){if(!this.i.isDisposed()){var a=this.o,b=Ai(this.i);this.o=b;if(a){var c=!1;a.width!=b.width&&(this.dispatchEvent("b"),c=!0);a.height!=b.height&&(this.dispatchEvent("a"),c=!0);c&&this.dispatchEvent("resize")}else this.dispatchEvent("a"),this.dispatchEvent("b"),this.dispatchEvent("resize")}};var Ci=function(a){_.W.call(this);this.j=a||window;this.o=_.U(this.j,"resize",this.v,!1,this);this.i=_.hg(this.j||window)};_.B(Ci,_.W);var Ei=function(){var a=window,b=_.Me(a);return Di[b]=Di[b]||new Ci(a)},Di={},Ai=function(a){return a.i?_.zg(a.i):null};Ci.prototype.O=function(){Ci.W.O.call(this);this.o&&(_.pf(this.o),this.o=null);this.i=this.j=null};Ci.prototype.v=function(){var a=_.hg(this.j||window);_.Ag(a,this.i)||(this.i=a,this.dispatchEvent("resize"))};var Fi=function(a,b){for(var c=0,d=b.length-1,e=b[0];c<d;){if(a<=e.max)return e.id;e=b[++c]}return b[d].id},Gi=class{constructor(a,b){this.v=new zi(this);this.D=a;this.C=b;this.i=Fi(a.offsetWidth,this.C);this.H=new Bi(Ei(),10);_.U(this.H,"b",function(){window.requestAnimationFrame?window.requestAnimationFrame((0,_.y)(this.B,this)):this.B()},!1,this)}B(){var a=Fi(this.D.offsetWidth,this.C);a!=this.i&&(this.i=a,this.o(new xi))}j(a,b,c){this.v.j(a,b,c)}A(a,b){this.v.A(a,b)}o(a){this.v.o(a)}};_.Mh=class extends _.Jh{constructor(a){super(a);_.U(a,"click",this.i,!1,this)}j(){var a=this.F().getAttribute("aria-pressed");return(null==a?a:"boolean"===typeof a?a:"true"==a)||!1}i(a){a=a.currentTarget;var b=Dh(a,"pressed");_.cg(_.yh(b))||"true"==b||"false"==b?_.se(a,"pressed","true"==b?"false":"true"):a.removeAttribute("aria-pressed");this.dispatchEvent("click")}};var Hi,Ii,Ji,Ki,Ti,Qi,Ui,Vi,Ri,Li,Mi,Ni,Pi,Si,Xi,Zi,Yi,$i,dj,cj,aj,bj;Hi=function(a,b){if(a=_.S(b?"gb_de":"gb_ee",a.o)){var c=a.offsetWidth;_.Gb(a.children,function(d){_.T(d,"gb_p")&&(c-=d.offsetWidth)});return c}return 0};Ii=function(a,b){null==a.C?a.N.log(Error("S")):a.Z?a.N.log(Error("T")):a.lb=0>b?0:b};Ji=function(a,b,c){var d=320,e=_.lb(_.Ge(a.j,29),0);0<e&&(d=e);e=d+2*Math.max(b,c);b=d+b+c;return e!=b&&a.Z?[{id:1,max:b},{id:2,max:e},{id:3}]:[{id:1,max:b},{id:3}]};
Ki=function(a){var b=_.qd.i();a.A||_.He(b.i,Error("N"));_.w(_.F(a.j,7))||_.He(b.D,Error("O"));_.w(_.F(a.j,12))||_.He(b.C,Error("P"));_.w(_.F(a.j,13))||_.He(b.B,Error("Q"))};
Ti=function(a,b){!a.i&&a.A&&Li(a);a.i&&!a.R&&a.J("default");a.i&&a.mc&&a.J("none");Mi(a);if(a.nc)a.L=!0;else if(a.oc)a.L=!1;else if(a.ha)a.L=!0;else if(a.Y)a.L=!1;else{var c=_.w(_.F(a.j,5),!1),d=_.w(_.F(a.j,7),!1);a.L=!("gb_Oa"===b&&(c||d))}c="gb_Oa"==b;d="gb_sd"==b;a.Vb&&a.V&&_.Y(a.V,"gb_p",c||d);var e=Ni(a,b);a.i&&e?_.Oi(a)||null==a.S||(e=_.S("gb_3c"),a.S.parentNode!=e&&e.insertBefore(a.S,e.childNodes[0]||null),_.Ae(a.B,"gb_zd"),a.ua(),a.dispatchEvent("upi")):_.Oi(a)&&a.A&&null!=a.S&&(e=a.ye,e.insertBefore(a.S,
e.childNodes[0]||null),_.Ce(a.B,"gb_zd"),a.ua(),a.dispatchEvent("upo"));_.J(a.j,44)&&!a.ha&&!_.J(a.j,10)&&1<Pi(a).length&&a.V&&a.B&&(_.Y(a.V,"gb_p",c),_.Y(a.B,"gb_zd",c));if(a.H&&!a.ha){e=a.H.F();var f=!a.Y;_.Y(e,"gb_p",!f);f&&Qi(a,a.L)}a.i&&(a.i.isVisible("menu")||a.i.isVisible("back"))&&!vi(a.i)&&(a.hb=a.i.A());e=_.zh(ei);_.De(a.o,e);_.Ae(a.o,b);if(a.Z&&null!=a.D)if("gb_Xc"!=b)_.X(a.D,"min-width",""),_.X(a.B,"min-width","");else{f=_.Lg(a.D).width;var g=_.Lg(a.B).width;f=Math.max(f,g);_.X(a.D,"min-width",
f+"px");_.X(a.B,"min-width",f+"px")}c?a.U||(a.U=!0,Ri(a,a.U)):(a.U=!1,a.Ba());null!=a.C&&(_.Y(a.C,"gb_Te",!c&&!d),_.Y(a.C,"gb_Se",c||d));a.i&&(c=a.i.i,_.De(c,e),_.Ae(c,b),vi(a.i)?_.S("gb_Dd").appendChild(c):a.o.appendChild(c),a.i.isVisible("menu")||a.i.isVisible("back"))&&(b=!vi(a.i),c=a.i.A(),b&&!c&&a.hb?a.i.open():!b&&c&&a.i.close());Si(a)};Qi=function(a,b){const c=_.S("gb_Kc",a.H.F());_.Y(c,"gb_p",!b);a=_.S("gb_ld",a.H.F());null!=a&&_.Y(a,"gb_3d",!b)};
Ui=function(a){a=a.ma[0];return a.classList.contains("gb_Mc")?1:a.classList.contains("gb_Jd")?2:0};Vi=function(a,b){if(a.H){if(2==b){b=_.x(_.I(a.j,24),"");var c=_.x(_.I(a.j,27),"")}else 1==b?(b=_.x(_.I(a.j,23),""),c=_.x(_.I(a.j,26),"")):(b=_.x(_.I(a.j,22),""),c=_.x(_.I(a.j,25),""));""==b&&""==c||Ph(a.H,b,c)}};_.Wi=function(a,b,c){a.i&&(vi(a.i)&&(c=b=!1),a=document.body,_.Y(a,"gb_8d",b),_.Y(a,"gb_7d",c))};
Ri=function(a,b){if(_.J(a.j,7)&&(!a.U||b)){if(a.Z){var c=_.S("gb_de",a.o);if(c){var d=_.S("gb_ee",a.o),e="gb_Xc"!=a.G.i||b?"":a.Wc+"px";_.X(c,"min-width",e);_.X(d,"min-width",e)}}_.T(a.C,"gb_Ce")!=b&&(_.Y(a.C,"gb_Ce",b),b?a.dispatchEvent("sfi"):a.dispatchEvent("sfu"),_.Y(_.S("gb_Vd",a.C),"gb_Ce",b),b&&a.ya())}};
Li=function(a){var b=_.S("gb_Rc");if(b){var c=new Map;c.set("menu",_.S("gb_Lc",a.o));c.set("back",_.S("gb_Oc"));c.set("close",_.S("gb_Pc"));var d=!1;c.forEach(e=>{e||(a.N.log(Error("L")),d=!0)});if(!d){a.i=new wi(c,b,_.w(_.F(a.j,16),!1),_.w(_.F(a.j,9),!1),_.w(_.F(a.j,33),!1));a.i.listen("open",a.Tb,!1,a);a.i.listen("close",a.Sb,!1,a);a.i.listen("msc",a.Ub,!1,a);switch(_.D(a.j,32)){case 1:a.J("back");break;case 2:a.J("close");break;case 3:a.J("none");break;default:a.J("default")}_.Nh();_.A("gbar.C",
wi);wi.prototype.ca=wi.prototype.H;wi.prototype.cb=wi.prototype.Sa;wi.prototype.cc=wi.prototype.Ja;wi.prototype.cd=wi.prototype.Ba;wi.prototype.ce=wi.prototype.Ra;wi.prototype.cf=wi.prototype.open;wi.prototype.cg=wi.prototype.close;wi.prototype.ch=wi.prototype.getStyle;wi.prototype.ck=wi.prototype.A;wi.prototype.cl=wi.prototype.kb;wi.prototype.cm=wi.prototype.ua;wi.prototype.cn=wi.prototype.lb;_.A("gbar.D",li);li.prototype.da=li.prototype.D;li.prototype.db=li.prototype.G;li.prototype.dc=li.prototype.o;
li.prototype.dd=li.prototype.A;_.A("gbar.E",ji);ji.prototype.ea=ji.prototype.F;ji.prototype.eb=ji.prototype.J;ji.prototype.ec=ji.prototype.G;ji.prototype.ed=ji.prototype.j;_.A("gbar.F",ki);ki.prototype.fa=ki.prototype.K;ki.prototype.fb=ki.prototype.N;ki.prototype.fc=ki.prototype.M;ki.prototype.fd=ki.prototype.B;ki.prototype.ed=ki.prototype.j;_.qd.i().i.resolve(a.i)}}else a.N.log(Error("M"))};Mi=function(a){null!=a.D&&("gb_Oa"==a.G.i?_.X(a.D,"min-width",""):null!=a.lb&&_.X(a.D,"min-width",a.lb+"px"))};
Ni=function(a,b){var c=_.w(_.F(a.j,5),!1),d=_.w(_.F(a.j,2),!1);return!(_.w(_.F(a.j,10),!1)||a.ha||_.w(_.F(a.j,44),!1))&&d&&("gb_Oa"==b||"gb_sd"==b&&(c||a.Y))};Pi=function(a){var b=_.S("gb_de",a.o),c=_.S("gb_ee",a.o),d=[];b&&_.Gb(b.children,function(e){d.push(e)});_.w(_.F(a.j,7),!1)&&(a=_.S("gb_Ce",a.C))&&(a=_.S("gb_Ee",a),a.i=!0,d.push(a));c&&_.Gb(c.children,function(e){d.push(e)});return d};Si=function(a){var b=a.o.offsetHeight+"px";a.Ya!=b&&(a.Ya=b,a.Eb&&(a.Eb.style.height=b),a.dispatchEvent("resize"))};
Xi=function(a){return function(){a.click()}};Zi=function(a,b,c){b=_.tg(b,function(f){return _.T(f,"gb_ge")?(Yi(this,f),!1):!0},a);for(var d=0;d<b.length;d++){var e=b[d];d>=c?Yi(a,e):_.Ce(e,"gb_p")}};
Yi=function(a,b){_.Ae(b,"gb_p");var c=_.le("LI");_.Be(c,["gb_oe","gb_5c","gb_ad"]);c.tabIndex=0;_.ch(a.P,c,Xi(b));var d=_.sh("A","gb_7c");c.appendChild(d);var e=_.sh("SPAN","gb_8c");d.appendChild(e);d=b.i?b.getAttribute("aria-label"):b.title;_.pe(e,d);d=!1;_.T(b,"gb_9d")&&(d=!0);var f,g=b.children[0];d?f=g.children[0].children[0].src:b.i?f="https://www.gstatic.com/images/icons/material/system/1x/search_black_24dp.png":f=g.src;a.v=_.sh("IMG");_.Be(a.v,["gb_9c","gb_pe"]);a.v.src=f;e.parentNode&&e.parentNode.insertBefore(a.v,
e);a.T.appendChild(c)};_.Oi=function(a){return!!a.i&&_.T(a.B,"gb_zd")};$i=function(a,b){_.De(a,["gb_Jd","gb_Mc"]);1==b?_.Ae(a,"gb_Mc"):2==b&&_.Ae(a,"gb_Jd")};
dj=class extends _.W{constructor(a,b,c,d){super();this.o=a;_.Ce(this.o,"gb_md");this.j=b;this.N=c;this.Ya="";this.Eb=d;this.H=this.i=null;this.hb=this.R=this.L=!1;this.ha=_.w(_.F(this.j,16),!1);this.P=new _.ug(this);this.Ra=_.S("gb_bd",this.o);this.V=_.S("gb_l",this.o);this.Y=_.w(_.F(b,6),!1);this.Yc=_.S("gb_fd",this.Ra);this.A=_.S("gb_od",this.o);this.M=_.S("gb_vd",this.o);(this.wa=_.w(_.F(this.j,21),!1))&&this.A&&(this.Ja=_.S("gb_me",this.o),this.vd=_.S("gb_qe",this.o),this.T=_.S("gb_ne",this.o));
this.B=_.S("gb_yd",this.o);this.S=_.S("gb_4c",this.o);this.ye=_.S("gb_Sd",this.o);this.D=_.S("gb_dd",this.o);this.C=_.S("gb_xd",this.o);this.ma=Array.prototype.slice.call(_.eh("gb_id",this.o));this.U=!1;this.nc=_.w(_.F(this.j,19),!1);this.mc=_.w(_.F(this.j,20),!1);this.Vb=_.w(_.F(this.j,45),!1);this.oc=_.w(_.F(this.j,46),!1);a=Hi(this,!0);b=Hi(this,!1);this.Wc=Math.max(a,b);this.Z=_.F(this.j,15);c=_.lb(_.Ge(this.j,30),0);0!=c&&Ii(this,c);a=Ji(this,a,b);this.G=new Gi(document.body,aj);this.Ob=_.x(_.I(this.j,
37));this.Nb=_.x(_.I(this.j,38));_.T(this.o,"gb_f");this.td=_.w(_.F(this.j,39));this.wa&&this.A&&(this.kb=new Gi(this.o,bj),this.kb.j("catc",this.ya,this),this.ya(),_.ch(this.P,this.Ja,function(){var e=this.vd,f=!_.T(e,"gb_p");_.Y(e,"gb_p",f)}));this.rc=_.w(_.F(this.j,1),!1);this.qc=_.w(_.F(this.j,40),!1);Ki(this);Ti(this,this.G.i);this.G.j("catc",this.Rb,this);_.J(this.j,8)&&document.addEventListener("scroll",(0,_.y)(function(){_.Y(this.o,"gb_qd",0<window.scrollY)},this));null!=this.C&&_.J(this.j,
7)&&(this.ta=new Gi(this.C,a),this.ta.j("catc",this.Ba,this),this.Ba());this.K=null;if(this.X=_.S("gb_Ba",this.o))this.K=_.S("gb_Ma",this.X),this.P.o(this.K,"error",this.Qb,!1,this)}Qb(){null!=this.K&&(this.K.src="https://www.gstatic.com/images/icons/material/system/1x/broken_image_grey600_18dp.png",this.K.srcset="https://www.gstatic.com/images/icons/material/system/1x/broken_image_grey600_18dp.png 1x, https://www.gstatic.com/images/icons/material/system/2x/broken_image_grey600_18dp.png 2x",_.X(this.K,
"width","auto"),_.Ae(this.K.parentElement,"gb_La"))}F(){return this.o}oe(a){this.H=a;Qi(this,this.L);a=Ui(this);0!=a&&Vi(this,a)}re(a,b){this.H&&Ph(this.H,a,b)}Xa(a){this.wb(a||this.td?1:0);_.T(this.F(),"gb_Id")||this.Sa(a?this.Ob:this.Nb);_.Y(this.F(),"gb_j",a);const b=_.S("gb_Ld");null!=b&&_.Y(b,"gb_j",a);this.i&&this.qc&&_.Y(this.i.i,"gb_Vc",a);this.X&&_.Y(this.X,"gb_j",a);_.Ne("dd").Xa(a)}ue(a){this.Ra&&(_.pe(this.Yc,a||""),_.Y(this.Ra,"gb_p",!a),this.Y=!!a,Ti(this,this.G.i))}Mb(){return _.S("gb_4d",
this.A)}Ba(){if(null!=this.ta){var a=this.ta.i;3==a?Ri(this,!1):1==a?Ri(this,!0):Ri(this,"gb_Xc"==this.G.i)}}ya(){if(this.wa&&this.A){var a=Pi(this),b=!1;a=_.tg(a,function(f){b=b||_.T(f,"gb_ge");return _.T(f,"gb_ie")||_.T(f,"gb_9d")||_.T(f,"gb_Ee")});var c=this.kb.i.Od,d=!1;if(a.length>c||b)d=!0,c--;var e=a.length-c;if(d!=!_.T(this.Ja,"gb_p")||e!=this.T.children){_.Y(this.Ja,"gb_p",!d);if(d)for(;this.T.firstChild;)this.T.removeChild(this.T.firstChild);Zi(this,a,c);d?this.P.o(document.body,cj,this.ab,
!0,this):this.P.Fa(document.body,cj,this.ab,!1,this)}}}ab(a){!_.T(this.vd,"gb_p")&&a.target instanceof Node&&("keydown"==a.type?27==a.keyCode&&(a.preventDefault(),a.stopPropagation(),_.Ae(this.vd,"gb_p"),this.F().focus()):_.ng(this.vd,a.target)||("touchstart"==a.type&&(a.preventDefault(),a.stopPropagation()),_.Ae(this.vd,"gb_p")))}Rb(){Ti(this,this.G.i);this.i&&_.Wi(this,this.i.A(),!1);this.dispatchEvent("ffc")}Tb(){_.Wi(this,!0,!0)}Sb(){_.Wi(this,!1,!0)}Ub(){var a=vi(this.i),b=this.i.i;a?_.S("gb_Dd").appendChild(b):
this.o.appendChild(b)}J(a){var b=!1;switch(a){case "back":this.R=!0;ui(this.i);ti(this.i,"back");b=!0;break;case "close":this.R=!0;ui(this.i);ti(this.i,"close");b=!0;break;case "default":this.R=!1;Ni(this,this.G.i)||this.rc?(this.i&&!this.i.isVisible("menu")&&(ui(this.i),ti(this.i,"menu")),b=!0):(this.i&&this.i.isVisible("back")&&ui(this.i),this.i&&this.i.isVisible("menu")?(a=this.i,a.close(),_.Ae(a.F(),"gb_p"),!_.T(a.ta,"gb_p")&&_.Ce(a.F(),"gb_Qc")):(a=_.S("gb_Lc",this.o))&&_.Ae(a,"gb_p"),b=!1);
break;case "none":this.R=!0,ui(this.i),b=!1}null!=this.D&&_.Y(this.D,"gb_ed",b)}Lb(){return this.o.offsetHeight}Xc(){this.M&&Si(this)}Pb(){if(!this.M){var a=_.le("DIV");_.Be(a,["gb_vd","gb_id"]);$i(a,Ui(this));a.style.backgroundColor=this.o.style.backgroundColor;this.ma.push(a);var b=this.A;b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling);this.M=a}return this.M}Zc(){_.mg(this.M);this.M=null;Si(this)}wb(a){2==a&&(a=0);for(var b=0;b<this.ma.length;b++)$i(this.ma[b],a);Vi(this,a)}Sa(a){this.o.style.backgroundColor=
a}Kb(){return this.o.style.backgroundColor}ua(){var a=_.Ne("dd");_.Ah(a)&&_.Ah(a).P(!1);_.Sh(a,null)}ie(a){Ii(this,a-8-10);Mi(this)}te(a){_.Y(_.S("gb_Dc",this.A),"gb_p",!a)}hd(a){a&&(_.Ih(_.S("gb_Ld"),a),_.qd.i().j.then(b=>void b.Rd(a)))}};cj="click mousedown scroll touchstart wheel keydown".split(" ");aj=[{id:"gb_Oa",max:599},{id:"gb_sd",max:1023},{id:"gb_Xc"}];
bj=[{id:{id:"oneProductControl",Od:1},max:320},{id:{id:"twoProductControl",Od:2},max:360},{id:{id:"threeProductControl",Od:3},max:410},{id:{id:"unlimitedProductControl",Od:Number.MAX_SAFE_INTEGER}}];var ej;_.W.prototype.za=_.Fe(function(a,b,c,d,e){return a.call(this,b,_.Fe(Oh,c),d,e)},_.W.prototype.listen);_.W.prototype.zb=_.W.prototype.Gg;var fj=_.S("gb_Na");
if(null==fj)ej=null;else{var gj=_.G(_.rd,_.Ie,6)||new _.Ie,hj=new dj(fj,gj,_.Gc,_.S("gb_rd"));_.A("gbar.P",dj);dj.prototype.pa=dj.prototype.Lb;dj.prototype.pb=dj.prototype.ue;dj.prototype.pc=dj.prototype.wb;dj.prototype.pd=dj.prototype.Sa;dj.prototype.pe=dj.prototype.Pb;dj.prototype.pf=dj.prototype.Xc;dj.prototype.pg=dj.prototype.Zc;dj.prototype.ph=dj.prototype.Mb;dj.prototype.pi=dj.prototype.ua;dj.prototype.pj=dj.prototype.ie;dj.prototype.pk=dj.prototype.te;dj.prototype.pl=dj.prototype.hd;dj.prototype.pm=
dj.prototype.J;dj.prototype.pn=dj.prototype.Kb;dj.prototype.po=dj.prototype.re;dj.prototype.pp=dj.prototype.Xa;_.qd.i().v.resolve(hj);ej=hj}_.ij=ej;
}catch(e){_._DumpException(e)}
try{
_.jj=function(a,b){return _.M(a,36,b)};
}catch(e){_._DumpException(e)}
try{
var kj=document.querySelector(".gb_b .gb_d"),lj=document.querySelector("#gb.gb_Uc");kj&&!lj&&_.Kd(_.wd,kj,"click");
}catch(e){_._DumpException(e)}
try{
_.qd.i().v.then(function(a){if(a){var b=_.S("gb_Dc",a.A);b&&(b=new _.rh(b),a.oe(b))}});
}catch(e){_._DumpException(e)}
})(this.gbar_);
// Google Inc.
</script><fireconsole-app-root ng-version="0.0.0-PLACEHOLDER"><fireconsole-home _nghost-ng-c3472819065="" class="has-feature-bar"><a _ngcontent-ng-c3472819065="" href="#main" data-test-id="a11y-skip-link" firea11yskiplink="" _nghost-ng-c3826656167="">Skip to main content<!----></a><fire-navbar _ngcontent-ng-c3472819065="" _nghost-ng-c3000866330="" class="ng-tns-c3000866330-4 ng-star-inserted"><div _ngcontent-ng-c3000866330="" class="mobile-backdrop ng-tns-c3000866330-4 ng-trigger ng-trigger-fadeIn ng-star-inserted"></div><!----><nav _ngcontent-ng-c3000866330="" aria-label="Firebase Console products" class="navbar ng-tns-c3000866330-4 ng-trigger ng-trigger-preventInitialTransitions ng-star-inserted"><h2 _ngcontent-ng-c3000866330="" class="firebase-logo-lockup nav-section ng-tns-c3000866330-4"><a _ngcontent-ng-c3000866330="" aria-label="Firebase console (Go to project list)" class="fire-router-link-host ng-tns-c3000866330-4" href="#" style="cursor: pointer;"><fire-logo-lockup _ngcontent-ng-c3000866330="" class="ng-tns-c3000866330-4" _nghost-ng-c3178529595=""><img _ngcontent-ng-c3178529595="" fire-logo="" alt="" class="firebase-logo-mark ng-star-inserted" aria-hidden="true" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/firebase_28dp.png" style="height: 28px;"><!----><!----><img _ngcontent-ng-c3178529595="" fireschemeimage="" alt="Firebase logo" class="firebase-logo-text ng-star-inserted" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/Firebase-Logotype-Dark.svg" style=""><!----><!----></fire-logo-lockup></a></h2><div _ngcontent-ng-c3000866330="" class="nav-groups-container ng-tns-c3000866330-4"><div _ngcontent-ng-c3000866330="" class="ng-tns-c3000866330-4"><div _ngcontent-ng-c3000866330="" class="overview-and-settings nav-section ng-tns-c3000866330-4"><fire-navbar-item _ngcontent-ng-c3000866330="" focusable="true" class="overview-link ng-tns-c3000866330-4 ng-star-inserted" _nghost-ng-c167461095="" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link" role="link" tabindex="0" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_overview</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Project Overview</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><!----><div _ngcontent-ng-c3000866330="" class="expanded-nav-project-settings-menu ng-tns-c3000866330-4"><button _ngcontent-ng-c3000866330="" mat-icon-button="" aria-label="Project settings" class="mat-mdc-menu-trigger project-settings-button mdc-icon-button mat-mdc-icon-button ng-tns-c3000866330-4 ng-trigger ng-trigger-fadeIn mat-unthemed mat-mdc-button-base ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered="" aria-haspopup="menu" aria-expanded="false" style=""><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><i _ngcontent-ng-c3000866330="" aria-hidden="true" class="gmp-icons">gmp_nav20_settings</i><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><!----></div><!----><mat-menu _ngcontent-ng-c3000866330="" ngskiphydration="" class="ng-star-inserted" style=""><!----></mat-menu></div><div _ngcontent-ng-c3000866330="" class="nav-group ng-tns-c3000866330-4 ng-star-inserted" style=""><div _ngcontent-ng-c3000866330="" aria-labelledby="navbar-project-shortcuts" class="group-nav-links project-shortcuts ng-tns-c3000866330-4" role="group"><div _ngcontent-ng-c3000866330="" id="navbar-project-shortcuts" class="section-header project-shortcuts-header ng-tns-c3000866330-4 ng-star-inserted"> Project shortcuts </div><!----><div _ngcontent-ng-c3000866330="" cdkdroplist="" cdkdroplistlockaxis="y" cdkdroplistorientation="vertical" class="cdk-drop-list project-shortcuts-container ng-tns-c3000866330-4 ng-trigger ng-trigger-listAnimation" id="cdk-drop-list-0"><fire-navbar-item _ngcontent-ng-c3000866330="" cdkdrag="" cdkdragboundary=".project-shortcuts-container" class="cdk-drag ng-tns-c3000866330-4 ng-star-inserted" _nghost-ng-c167461095="" style=""><mat-icon _ngcontent-ng-c3000866330="" role="img" cdkdraghandle="" fire-navbar-item-left="" class="mat-icon notranslate cdk-drag-handle action-button drag-icon ng-tns-c3000866330-4 material-icons mat-ligature-font mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font" style="touch-action: none; user-select: none;"> drag_indicator </mat-icon><!----><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link is-selected" tabindex="0" href="#" aria-current="page" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_firestore</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Firestore Database</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----><button _ngcontent-ng-c3000866330="" mat-icon-button="" fire-navbar-item-right="" mattooltip="Hide shortcut" mattooltipposition="above" class="mat-mdc-tooltip-trigger action-button remove-quicklink-button quicklink-action mdc-icon-button mat-mdc-icon-button ng-tns-c3000866330-4 mat-unthemed mat-mdc-button-base ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered="" aria-label="Hide shortcut for Firestore Database" aria-describedby="cdk-describedby-message-ng-1-9" cdk-describedby-host="ng-1"><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><mat-icon _ngcontent-ng-c3000866330="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font"> visibility </mat-icon><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><!----></fire-navbar-item><!----><!----></div></div></div><!----><!----><!----><!----><!----><!----><!----><!----><!----><div _ngcontent-ng-c3000866330="" id="product-categories-tree-label" class="section-header product-categories-header ng-tns-c3000866330-4 ng-star-inserted" style=""> Product categories </div><!----><div _ngcontent-ng-c3000866330="" tabindex="0" aria-labelledby="product-categories-tree-label" class="ng-tns-c3000866330-4" role="tree"><div _ngcontent-ng-c3000866330="" class="nav-group is-expandable ng-tns-c3000866330-4 is-collapsed ng-star-inserted" id="nav-group-container-Build" style=""><div _ngcontent-ng-c3000866330="" firefocusmanageritem="" tabindex="-1" class="group-header ng-tns-c3000866330-4 ng-trigger ng-trigger-fadeIn ng-star-inserted" role="treeitem" aria-expanded="false" aria-labelledby="nav-group-Build"><div _ngcontent-ng-c3000866330="" class="group-header-label ng-tns-c3000866330-4 ng-star-inserted" style=""><div _ngcontent-ng-c3000866330="" class="group-title ng-tns-c3000866330-4" id="nav-group-Build"> Build </div><mat-icon _ngcontent-ng-c3000866330="" role="img" aria-hidden="true" class="mat-icon notranslate navgroup-toggle ng-tns-c3000866330-4 material-icons mat-ligature-font mat-icon-no-color" data-mat-icon-type="font"> keyboard_arrow_up </mat-icon></div><!----><div _ngcontent-ng-c3000866330="" class="group-nav-links ng-tns-c3000866330-4 is-collapsed ng-trigger ng-trigger-expandCollapse" role="group" style="height: 0px;"><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_auth</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Authentication</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_app_check</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">App Check</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown is-selected" role="treeitem" tabindex="-1" href="#" aria-current="page" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_firestore</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Firestore Database</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_database</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Realtime Database</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_mods</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Extensions</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_storage</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Storage</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_hosting</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Hosting</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_functions</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Functions</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_ml2</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Machine Learning</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_remote_config</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Remote Config</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><!----></div></div><!----></div><!----><!----><div _ngcontent-ng-c3000866330="" class="nav-group is-expandable ng-tns-c3000866330-4 is-collapsed ng-star-inserted" id="nav-group-container-Release &amp; Monitor" style=""><div _ngcontent-ng-c3000866330="" firefocusmanageritem="" tabindex="-1" class="group-header ng-tns-c3000866330-4 ng-trigger ng-trigger-fadeIn ng-star-inserted" role="treeitem" aria-expanded="false" aria-labelledby="nav-group-Release &amp; Monitor"><div _ngcontent-ng-c3000866330="" class="group-header-label ng-tns-c3000866330-4 ng-star-inserted" style=""><div _ngcontent-ng-c3000866330="" class="group-title ng-tns-c3000866330-4" id="nav-group-Release &amp; Monitor"> Release &amp; Monitor </div><mat-icon _ngcontent-ng-c3000866330="" role="img" aria-hidden="true" class="mat-icon notranslate navgroup-toggle ng-tns-c3000866330-4 material-icons mat-ligature-font mat-icon-no-color" data-mat-icon-type="font"> keyboard_arrow_up </mat-icon></div><!----><div _ngcontent-ng-c3000866330="" class="group-nav-links ng-tns-c3000866330-4 is-collapsed ng-trigger ng-trigger-expandCollapse" role="group" style="height: 0px;"><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_crashlytics</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Crashlytics</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_performance</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Performance</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_test_lab</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Test Lab</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_app_distro</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">App Distribution</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_remote_config</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Remote Config</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><!----></div></div><!----></div><!----><!----><div _ngcontent-ng-c3000866330="" class="nav-group is-expandable ng-tns-c3000866330-4 is-collapsed ng-star-inserted" id="nav-group-container-Analytics" style=""><div _ngcontent-ng-c3000866330="" firefocusmanageritem="" tabindex="-1" class="group-header ng-tns-c3000866330-4 ng-trigger ng-trigger-fadeIn ng-star-inserted" role="treeitem" aria-expanded="false" aria-labelledby="nav-group-Analytics"><div _ngcontent-ng-c3000866330="" class="group-header-label ng-tns-c3000866330-4 ng-star-inserted" style=""><div _ngcontent-ng-c3000866330="" class="group-title ng-tns-c3000866330-4" id="nav-group-Analytics"> Analytics </div><mat-icon _ngcontent-ng-c3000866330="" role="img" aria-hidden="true" class="mat-icon notranslate navgroup-toggle ng-tns-c3000866330-4 material-icons mat-ligature-font mat-icon-no-color" data-mat-icon-type="font"> keyboard_arrow_up </mat-icon></div><!----><div _ngcontent-ng-c3000866330="" class="group-nav-links ng-tns-c3000866330-4 is-collapsed ng-trigger ng-trigger-expandCollapse" role="group" style="height: 0px;"><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_analytics</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Dashboard</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_ga_streamview</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Realtime Analytics</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_ga_events</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Events</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_ga_conversions</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Conversions</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_ga_audience</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Audiences</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_ga_user_properties</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Custom Definitions</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_ga_latest_release</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Latest Release</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_ga_debugview</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">DebugView</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><!----></div></div><!----></div><!----><!----><div _ngcontent-ng-c3000866330="" class="nav-group is-expandable ng-tns-c3000866330-4 is-collapsed ng-star-inserted" id="nav-group-container-Engage" style=""><div _ngcontent-ng-c3000866330="" firefocusmanageritem="" tabindex="-1" class="group-header ng-tns-c3000866330-4 ng-trigger ng-trigger-fadeIn ng-star-inserted" role="treeitem" aria-expanded="false" aria-labelledby="nav-group-Engage"><div _ngcontent-ng-c3000866330="" class="group-header-label ng-tns-c3000866330-4 ng-star-inserted" style=""><div _ngcontent-ng-c3000866330="" class="group-title ng-tns-c3000866330-4" id="nav-group-Engage"> Engage </div><mat-icon _ngcontent-ng-c3000866330="" role="img" aria-hidden="true" class="mat-icon notranslate navgroup-toggle ng-tns-c3000866330-4 material-icons mat-ligature-font mat-icon-no-color" data-mat-icon-type="font"> keyboard_arrow_up </mat-icon></div><!----><div _ngcontent-ng-c3000866330="" class="group-nav-links ng-tns-c3000866330-4 is-collapsed ng-trigger ng-trigger-expandCollapse" role="group" style="height: 0px;"><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_experiments</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">A/B Testing</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_cloud_messaging</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Messaging</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_remote_config</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Remote Config</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_durable_links</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Dynamic Links</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_admob</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">AdMob</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_crashlytics</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Crashlytics</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><fire-navbar-item _ngcontent-ng-c3000866330="" firefocusmanageritem="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" disabled="true" aria-hidden="true" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger is-quick-link-dropdown" role="treeitem" tabindex="-1" href="#" style="cursor: pointer;"><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><i _ngcontent-ng-c167461095="" aria-hidden="true" class="gmp-icons ng-star-inserted">gmp_nav20_auth</i><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">Authentication</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><!----></div></div><!----></div><!----><!----><!----></div><div _ngcontent-ng-c3000866330="" class="all-products nav-section ng-tns-c3000866330-4"><fire-navbar-item _ngcontent-ng-c3000866330="" _nghost-ng-c167461095="" class="ng-tns-c3000866330-4 ng-star-inserted" style=""><a _ngcontent-ng-c167461095="" mattooltipposition="right" class="mat-mdc-tooltip-trigger fire-router-link-host nav-item fire-popover-trigger" role="link" tabindex="0" href="#" style="cursor: pointer;"><mat-icon _ngcontent-ng-c167461095="" role="img" aria-hidden="true" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color ng-star-inserted" data-mat-icon-type="font">apps</mat-icon><!----><div _ngcontent-ng-c167461095="" class="link-container fire-popover-trigger"><!----><!----></div><!----><!----><div _ngcontent-ng-c167461095="" class="link-name">All products</div><!----><fire-cdk-popover _ngcontent-ng-c167461095="" class="new-announcement" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></a><!----></fire-navbar-item><!----><!----></div></div><mat-card _ngcontent-ng-c3000866330="" role="region" aria-labelledby="quicklink-promo-header" class="mat-mdc-card mdc-card quicklink-promo-card nav-section ng-tns-c3000866330-4 ng-star-inserted"><h2 _ngcontent-ng-c3000866330="" id="quicklink-promo-header" class="quicklink-promo-header"> Customize your nav! </h2><div _ngcontent-ng-c3000866330="" class="quicklink-promo-content"> You can now focus your console experience by customizing your navigation </div><div _ngcontent-ng-c3000866330="" class="quick-link-promo-actions"><button _ngcontent-ng-c3000866330="" aria-label="Learn more about project shortcuts" mat-button="" color="primary" aria-haspopup="dialog" class="ng-tns-c3000866330-4 mdc-button mat-mdc-button mat-primary mat-mdc-button-base" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><span class="mdc-button__label"> Learn more </span><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><button _ngcontent-ng-c3000866330="" mat-button="" color="primary" aria-label="Got it (Dismiss project shortcuts announcement)" class="ng-tns-c3000866330-4 mdc-button mat-mdc-button mat-primary mat-mdc-button-base" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><span class="mdc-button__label"> Got it </span><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button></div></mat-card><!----><!----><!----></div><!----><!----><!----><div _ngcontent-ng-c3000866330="" class="billing-info nav-section ng-tns-c3000866330-4 ng-star-inserted" style=""><billing-widget _ngcontent-ng-c3000866330="" role="group" aria-labelledby="billing-widget-title" class="ng-tns-c3000866330-4" _nghost-ng-c1885288088=""><div _ngcontent-ng-c1885288088="" class="billing-plan ng-star-inserted"><div _ngcontent-ng-c1885288088="" id="billing-widget-title" title="Billing plan name" class="billing-plan-title"><span _ngcontent-ng-c1885288088="" class="cdk-visually-hidden">Billing plan:</span> Spark </div><div _ngcontent-ng-c1885288088="" title="Billing plan description" class="billing-plan-desc"> No-cost $0/month </div></div><div _ngcontent-ng-c1885288088="" mattooltip="You cannot modify this plan because you are not an owner of this project" class="mat-mdc-tooltip-trigger mat-mdc-tooltip-disabled ng-star-inserted" aria-describedby="cdk-describedby-message-ng-1-8" cdk-describedby-host="ng-1"><button _ngcontent-ng-c1885288088="" mat-button="" color="secondary" aria-haspopup="dialog" class="billing-plan-button mdc-button mat-mdc-button mat-secondary mat-mdc-button-base" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" aria-label="Upgrade billing plan"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><span class="mdc-button__label"> Upgrade </span><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button></div><!----><!----><!----></billing-widget></div><!----><button _ngcontent-ng-c3000866330="" aria-label="expand or collapse navigation bar" class="navbar-toggle nav-section ng-tns-c3000866330-4" aria-expanded="true"><mat-icon _ngcontent-ng-c3000866330="" role="img" class="mat-icon notranslate ng-tns-c3000866330-4 material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">chevron_left</mat-icon></button></nav><!----><!----><!----></fire-navbar><!----><header _ngcontent-ng-c3472819065=""><fire-appbar-banner _ngcontent-ng-c3472819065="" _nghost-ng-c1370041029=""><div _ngcontent-ng-c1370041029="" class="app-bar-banner-container"><!----></div></fire-appbar-banner><fire-global-banner-notice _ngcontent-ng-c3472819065="" _nghost-ng-c1530799140=""><!----></fire-global-banner-notice><fire-appbar _ngcontent-ng-c3472819065="" id="fire-appbar" _nghost-ng-c3813161071="" class="ng-star-inserted"><div _ngcontent-ng-c3813161071="" class="app-bar fire-theme-container canvas-theme-container" style="background: transparent;"><div _ngcontent-ng-c3813161071="" class="left"><!----><button _ngcontent-ng-c3813161071="" mat-icon-button="" aria-label="Open navigation menu" class="mobile-navbar-toggle mdc-icon-button mat-mdc-icon-button mat-unthemed mat-mdc-button-base ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered=""><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><mat-icon _ngcontent-ng-c3813161071="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">menu</mat-icon><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><fire-project-picker _nghost-ng-c1538455252="" class="ng-star-inserted"><button _ngcontent-ng-c1538455252="" data-fire-popup-overlay-trigger="" data-test-id="project-picker" class="project-picker fire-popup-overlay-trigger ng-star-inserted" aria-label="BVS-menyer (Open select project menu)" role="button" aria-expanded="false"> BVS-menyer <!----><fire-cdk-popover _ngcontent-ng-c1538455252="" _nghost-ng-c2054357091=""><!----></fire-cdk-popover><mat-icon _ngcontent-ng-c1538455252="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">arrow_drop_down</mat-icon></button><!----><fire-popup-overlay _ngcontent-ng-c1538455252="" _nghost-ng-c2005413936="" class="ng-star-inserted"><!----></fire-popup-overlay><!----><!----><!----></fire-project-picker><!----><!----><!----></div><div _ngcontent-ng-c3813161071="" class="middle"><fire-appbar-crumbs _ngcontent-ng-c3813161071="" _nghost-ng-c971995913=""><div _ngcontent-ng-c971995913="" class="container"><!----><span _ngcontent-ng-c971995913="" class="crumb page-crumb ng-star-inserted"><a _ngcontent-ng-c971995913="" href="#">Cloud Firestore</a></span><!----></div></fire-appbar-crumbs><div _ngcontent-ng-c3813161071="" class="flex"></div></div><div _ngcontent-ng-c3813161071="" class="right"><fire-theme-switcher _ngcontent-ng-c3813161071="" _nghost-ng-c2821149511=""><mat-menu _ngcontent-ng-c2821149511="" ngskiphydration="" class="ng-tns-c1638460095-1 ng-star-inserted"><!----></mat-menu><button _ngcontent-ng-c2821149511="" mat-icon-button="" class="mat-mdc-menu-trigger mdc-icon-button mat-mdc-icon-button mat-unthemed mat-mdc-button-base ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered="" aria-label="Current theme: Dark, adjust theme" aria-haspopup="menu" aria-expanded="false"><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><mat-icon _ngcontent-ng-c2821149511="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">light_mode</mat-icon><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><!----></fire-theme-switcher><!----><button _ngcontent-ng-c3813161071="" mat-icon-button="" aria-label="Open Firebase help menu" mattooltip="Help" class="mat-mdc-menu-trigger mat-mdc-tooltip-trigger help-button mdc-icon-button mat-mdc-icon-button mat-unthemed mat-mdc-button-base" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered="" aria-haspopup="menu" aria-expanded="false" aria-describedby="cdk-describedby-message-ng-1-2" cdk-describedby-host="ng-1"><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><mat-icon _ngcontent-ng-c3813161071="" role="img" aria-hidden="true" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" data-mat-icon-type="font">help</mat-icon><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><a _ngcontent-ng-c3813161071="" mat-icon-button="" aria-label="Navigate to the Firebase documentation site (Opens in a new tab)" mattooltip="Go to docs" class="mat-mdc-tooltip-trigger app-bar-link mdc-icon-button mat-mdc-icon-button mat-unthemed mat-mdc-button-base c5e-simple-link c5e-external-link" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" href="https://firebase.google.com/docs?hl=en&amp;authuser=0" target="_blank" rel="noopener" aria-disabled="false" aria-describedby="cdk-describedby-message-ng-1-3" cdk-describedby-host="ng-1"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><mat-icon _ngcontent-ng-c3813161071="" role="img" aria-hidden="true" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" data-mat-icon-type="font">sticky_note_2</mat-icon><span class="mdc-button__label"></span><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></a><!----><div _ngcontent-ng-c3813161071=""><fire-alerts _nghost-ng-c2145145361="" class="ng-tns-c2145145361-2 ng-star-inserted"><button _ngcontent-ng-c2145145361="" type="button" mat-icon-button="" aria-label="Open alerts" aria-haspopup="true" class="mat-focus-indicator fb-alerts-appbar-bell ng-tns-c2145145361-2 mat-icon-button mat-button-base" aria-describedby="cdk-describedby-message-ng-5-6" cdk-describedby-host="ng-5" aria-expanded="false"><span class="mat-button-wrapper"><i _ngcontent-ng-c2145145361="" mattooltip="Firebase alerts  No alerts" mattooltipposition="below" class="mat-mdc-tooltip-trigger material-icons ng-tns-c2145145361-2 ng-star-inserted" aria-describedby="cdk-describedby-message-ng-5-7" cdk-describedby-host="ng-5"> notifications </i><!----><!----><!----></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></button></fire-alerts><!----></div><button _ngcontent-ng-c3813161071="" mat-icon-button="" aria-label="More options" class="mat-mdc-menu-trigger mobile-overflow-menu mdc-icon-button mat-mdc-icon-button mat-unthemed mat-mdc-button-base ng-star-inserted" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered="" aria-haspopup="menu" aria-expanded="false"><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><mat-icon _ngcontent-ng-c3813161071="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">more_vert</mat-icon><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><mat-menu _ngcontent-ng-c3813161071="" ngskiphydration="" class="ng-tns-c1638460095-6 ng-star-inserted"><!----></mat-menu><!----><!----><!----><!----><fire-profile _ngcontent-ng-c3813161071="" _nghost-ng-c1544726166="" class="non-fallback"><div _ngcontent-ng-c1544726166="" class="fire-profile-login-area"><!----></div><div id="ogc-parts" class="fire-profile-onegoogle-visible"><div class="gb_Na gb_f gb_eb gb_Xc" id="gb"><div class="gb_yd gb_cb gb_nd" ng-non-bindable="" data-ogsr-up="" style="padding:0;height:auto;display:block"><div class="gb_Sd" style="display:block"><div class="gb_4c"></div><div class="gb_b gb_u gb_Zf gb_H"><div class="gb_g gb_bb gb_Zf gb_H"><a class="gb_d gb_Da gb_H" aria-label="Google Account: Linnea moen  
(linmoen05@gmail.com)" href="https://accounts.google.com/SignOutOptions?hl=en&amp;continue=https://console.firebase.google.com/project/bvs-menyer/firestore/data/~2Fmeny&amp;ec=GBRAiAM" tabindex="0" role="button"><img class="gb_n gbii" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/unnamed_002.jpg" srcset="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/unnamed_002.jpg 1x, Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/unnamed.jpg 2x" alt="" aria-hidden="true" data-noaft=""></a></div></div></div><div style="overflow: hidden; position: absolute; top: 0px; visibility: hidden; width: 436px; z-index: 991; height: 0px; margin-top: 57px; right: 0px; margin-right: 4px;"></div></div></div></div></fire-profile></div></div><mat-menu _ngcontent-ng-c3813161071="" ngskiphydration="" class="ng-star-inserted"><!----></mat-menu></fire-appbar><!----></header><main _ngcontent-ng-c3472819065="" id="main" class="content c5e-nav-expanded fire-theme-container canvas-theme-container"><fire-router-outlet _ngcontent-ng-c3472819065="" _nghost-ng-c1623725741=""><router-outlet _ngcontent-ng-c1623725741="" class="ng-star-inserted"></router-outlet><firestore-base _nghost-ng-c3929152427="" class="ng-star-inserted"><fire-feature-bar _ngcontent-ng-c3929152427="" role="region" _nghost-ng-c3129867821="" aria-label="Product header" class="refresh-enabled ng-star-inserted"><div _ngcontent-ng-c3129867821="" class="feature-bar-page-margins"><div _ngcontent-ng-c3129867821="" class="feature-bar-crumbs"></div><div _ngcontent-ng-c3129867821="" class="feature-bar-content"><!----><div _ngcontent-ng-c3129867821="" class="feature-bar-primary-row"><div _ngcontent-ng-c3129867821="" class="feature-title-lockup stretch-across"><fire-feature-bar-title _ngcontent-ng-c3929152427="" _nghost-ng-c1802497841=""><h1 _ngcontent-ng-c1802497841="" class="fire-feature-bar-title"> Cloud Firestore <!----></h1><div _ngcontent-ng-c1802497841="" class="feature-title-badge"></div></fire-feature-bar-title></div><div _ngcontent-ng-c3129867821="" class="feature-app-selector"></div></div><div _ngcontent-ng-c3129867821="" class="feature-bar-tabs-info"><fire-feature-bar-tabs _ngcontent-ng-c3929152427="" _nghost-ng-c3508157461=""><div _ngcontent-ng-c3508157461=""><nav _ngcontent-ng-c3508157461="" mat-tab-nav-bar="" mat-stretch-tabs="false" color="primary" class="mat-mdc-tab-nav-bar mat-mdc-tab-header mat-primary" aria-label="Product features" role="tablist"><button aria-hidden="true" type="button" mat-ripple="" tabindex="-1" class="mat-ripple mat-mdc-tab-header-pagination mat-mdc-tab-header-pagination-before mat-mdc-tab-header-pagination-disabled" disabled="disabled"><div class="mat-mdc-tab-header-pagination-chevron"></div></button><div class="mat-mdc-tab-link-container"><div class="mat-mdc-tab-list" style="transform: translateX(0px);"><div class="mat-mdc-tab-links"><a _ngcontent-ng-c3508157461="" mat-tab-link="" role="tab" class="mdc-tab mat-mdc-tab-link mat-mdc-focus-indicator fire-router-link-host mat-tab-label mdc-tab--active mdc-tab-indicator--active ng-star-inserted" aria-label="Selected Tab: Data" href="https://console.firebase.google.com/project/bvs-menyer/firestore/data/~2Fmeny~2FUIzZxfrWbXjQKImOZnLn" aria-disabled="false" aria-selected="true" id="mat-tab-link-2" tabindex="0" style="cursor: pointer;"><span class="mdc-tab__ripple"></span><div mat-ripple="" class="mat-ripple mat-mdc-tab-ripple"></div><span class="mdc-tab__content"><span class="mdc-tab__text-label"><!----> Data <!----><!----></span><span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span></span></span></a><a _ngcontent-ng-c3508157461="" mat-tab-link="" role="tab" class="mdc-tab mat-mdc-tab-link mat-mdc-focus-indicator fire-router-link-host mat-tab-label ng-star-inserted" aria-label="" href="https://console.firebase.google.com/project/bvs-menyer/firestore/rules" aria-disabled="false" aria-selected="false" id="mat-tab-link-3" tabindex="-1" style="cursor: pointer;"><span class="mdc-tab__ripple"></span><div mat-ripple="" class="mat-ripple mat-mdc-tab-ripple"></div><span class="mdc-tab__content"><span class="mdc-tab__text-label"><!----> Rules <!----><!----></span><span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span></span></span></a><a _ngcontent-ng-c3508157461="" mat-tab-link="" role="tab" class="mdc-tab mat-mdc-tab-link mat-mdc-focus-indicator fire-router-link-host mat-tab-label ng-star-inserted" aria-label="" href="#" aria-disabled="false" aria-selected="false" id="mat-tab-link-4" tabindex="-1" style="cursor: pointer;"><span class="mdc-tab__ripple"></span><div mat-ripple="" class="mat-ripple mat-mdc-tab-ripple"></div><span class="mdc-tab__content"><span class="mdc-tab__text-label"><!----> Indexes <!----><!----></span><span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span></span></span></a><a _ngcontent-ng-c3508157461="" mat-tab-link="" role="tab" class="mdc-tab mat-mdc-tab-link mat-mdc-focus-indicator fire-router-link-host mat-tab-label ng-star-inserted" aria-label="" href="#" aria-disabled="false" aria-selected="false" id="mat-tab-link-0" tabindex="-1" style="cursor: pointer;"><span class="mdc-tab__ripple"></span><div mat-ripple="" class="mat-ripple mat-mdc-tab-ripple"></div><span class="mdc-tab__content"><span class="mdc-tab__text-label"><!----> Usage <!----><!----></span><span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span></span></span></a><a _ngcontent-ng-c3508157461="" mat-tab-link="" role="tab" class="mdc-tab mat-mdc-tab-link mat-mdc-focus-indicator fire-router-link-host mat-tab-label with-divider ng-star-inserted" aria-label="" href="#" aria-disabled="false" aria-selected="false" id="mat-tab-link-1" tabindex="-1" style="cursor: pointer;"><span class="mdc-tab__ripple"></span><div mat-ripple="" class="mat-ripple mat-mdc-tab-ripple"></div><span class="mdc-tab__content"><span class="mdc-tab__text-label"><i _ngcontent-ng-c3929152427="" aria-hidden="true" class="gmp-icons extension-icon ng-star-inserted">gmp_nav20_mods</i><!----><!----> Extensions <!----><!----></span><span class="mdc-tab-indicator"><span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span></span></span></a><!----></div></div></div><button aria-hidden="true" type="button" mat-ripple="" tabindex="-1" class="mat-ripple mat-mdc-tab-header-pagination mat-mdc-tab-header-pagination-after mat-mdc-tab-header-pagination-disabled" disabled="disabled"><div class="mat-mdc-tab-header-pagination-chevron"></div></button></nav></div></fire-feature-bar-tabs></div></div></div><fire-global-banner-notice _ngcontent-ng-c3129867821="" _nghost-ng-c1530799140="" class="ng-star-inserted"><!----></fire-global-banner-notice><!----></fire-feature-bar><router-outlet _ngcontent-ng-c3929152427="" class="ng-star-inserted"></router-outlet><f7e-data _nghost-ng-c2063330280="" class="ng-star-inserted"><div _ngcontent-ng-c2063330280="" mat-single-grid="" class="firebase-database"><div _ngcontent-ng-c2063330280="" mat-cell="16"><fire-budget-setup-banner _ngcontent-ng-c2063330280=""><!----></fire-budget-setup-banner><app-check-firestore-promo-banner _ngcontent-ng-c2063330280=""><app-check-promo-banner _nghost-ng-c916398655=""><fire-banner _ngcontent-ng-c916398655="" icon="security" _nghost-ng-c1983772300="" class="ng-star-inserted"><div _ngcontent-ng-c1983772300="" class="promo-banner top-banner ng-star-inserted"><div _ngcontent-ng-c1983772300="" class="flex-promo-body-wrapper"><span _ngcontent-ng-c1983772300="" class="promo-body"><mat-icon _ngcontent-ng-c1983772300="" role="img" aria-hidden="true" class="mat-icon notranslate icon material-icons mat-icon-no-color ng-star-inserted" data-mat-icon-type="font" data-mat-icon-namespace="material-icons"> security </mat-icon><!----><!----><fire-banner-message _ngcontent-ng-c916398655=""><span _ngcontent-ng-c916398655=""> Protect your Cloud Firestore resources from abuse, such as billing fraud or phishing </span></fire-banner-message><fire-banner-action _ngcontent-ng-c916398655=""><a _ngcontent-ng-c916398655="" mat-button="" color="primary" class="fire-router-link-host mdc-button mat-mdc-button mat-primary mat-mdc-button-base" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" href="#" aria-disabled="false" style="cursor: pointer;"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><span class="mdc-button__label"> Configure App Check </span><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></a></fire-banner-action><!----></span></div><div _ngcontent-ng-c1983772300="" class="promo-close ng-star-inserted"><button _ngcontent-ng-c1983772300="" mat-icon-button="" aria-label="Dismiss promotional banner" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" class="mdc-icon-button mat-mdc-icon-button mat-unthemed mat-mdc-button-base" mat-ripple-loader-centered=""><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span><mat-icon _ngcontent-ng-c1983772300="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">close</mat-icon><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button></div><!----></div><!----></fire-banner><!----><!----></app-check-promo-banner></app-check-firestore-promo-banner></div><div _ngcontent-ng-c2063330280="" mat-cell="16" class="viewer-container"><fire-canvas-bar _ngcontent-ng-c2063330280="" _nghost-ng-c2723133300=""><div _ngcontent-ng-c2723133300="" class="fire-canvas-bar-container"><div _ngcontent-ng-c2063330280="" fire-canvas-bar-left="" class="database-selector"><deprecated-f7e-database-selector _ngcontent-ng-c2063330280="" _nghost-ng-c625103111="" class="ng-star-inserted"><!----></deprecated-f7e-database-selector><!----><!----></div><span _ngcontent-ng-c2063330280="" fire-canvas-bar-right=""><mat-button-toggle-group _ngcontent-ng-c2063330280="" role="group" color="tertiary" aria-label="Choose how to view your data" class="mat-button-toggle-group ng-star-inserted" aria-disabled="false"><mat-button-toggle _ngcontent-ng-c2063330280="" role="presentation" color="tertiary" class="mat-button-toggle mat-button-toggle-checked" id="mat-button-toggle-1"><button type="button" class="mat-button-toggle-button mat-focus-indicator" id="mat-button-toggle-1-button" tabindex="0" aria-pressed="true" name="mat-button-toggle-group-0"><span class="mat-button-toggle-label-content"> Panel view </span></button><span class="mat-button-toggle-focus-overlay"></span><span matripple="" class="mat-ripple mat-button-toggle-ripple"></span></mat-button-toggle><mat-button-toggle _ngcontent-ng-c2063330280="" role="presentation" color="tertiary" class="mat-button-toggle fire-popover-trigger" id="mat-button-toggle-2"><button type="button" class="mat-button-toggle-button mat-focus-indicator" id="mat-button-toggle-2-button" tabindex="0" aria-pressed="false" name="mat-button-toggle-group-0"><span class="mat-button-toggle-label-content"> Query builder </span></button><span class="mat-button-toggle-focus-overlay"></span><span matripple="" class="mat-ripple mat-button-toggle-ripple"></span></mat-button-toggle><!----></mat-button-toggle-group><!----><!----></span></div></fire-canvas-bar><!----><f7e-data-panel-viewer _ngcontent-ng-c2063330280="" _nghost-ng-c2839825373="" class="ng-star-inserted"><fire-card _ngcontent-ng-c2839825373="" data-test-id="data-panel-viewer" class="data-panel-viewer" _nghost-ng-c2950830782=""><mat-card _ngcontent-ng-c2950830782="" class="mat-mdc-card mdc-card" style="--__--card-header-color: var(--theme-color-data-viz-undefined);"><f7e-data-panel-viewer-card-action-bar _ngcontent-ng-c2839825373="" _nghost-ng-c2594595131="" class="ng-star-inserted"><fire-card-action-bar _ngcontent-ng-c2594595131=""><div class="fire-card-action-bar on-grey-theme-container"><fire-breadcrumbs _ngcontent-ng-c2594595131="" _nghost-ng-c1983993049="" class="fire-theme-container structure-theme-container ng-star-inserted"><div _ngcontent-ng-c1983993049="" class="crumbs">
  <div _ngcontent-ng-c1983993049="" class="before-edit-button">
    
    <div _ngcontent-ng-c1983993049="" class="crumb crumb-infocus left-crumbs ng-star-inserted">
      <div _ngcontent-ng-c1983993049="" class="crumb-text-container crumb-first">
        <a _ngcontent-ng-c1983993049="" class="fire-router-link-host crumb-link" href="#" style="cursor: pointer;">
          <!---->
          <span _ngcontent-ng-c1983993049="" class="ng-star-inserted"><mat-icon _ngcontent-ng-c1983993049="" role="img" class="mat-icon notranslate crumb-home material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">home</mat-icon></span><!---->
        </a>
      </div>
      <div _ngcontent-ng-c1983993049="" class="crumb-caret-container ng-star-inserted">
        <mat-icon _ngcontent-ng-c1983993049="" role="img" class="mat-icon notranslate crumb-caret material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">keyboard_arrow_right</mat-icon>
      </div><!---->
    </div><!---->

    
    <!---->

    
    <div _ngcontent-ng-c1983993049="" class="crumb crumb-infocus right-crumbs ng-star-inserted">
      <div _ngcontent-ng-c1983993049="" class="crumb-text-container">
        <a _ngcontent-ng-c1983993049="" class="fire-router-link-host crumb-text crumb-link" href="#" style="cursor: pointer;">
          meny</a>
      </div>
      <div _ngcontent-ng-c1983993049="" class="crumb-caret-container ng-star-inserted">
        <mat-icon _ngcontent-ng-c1983993049="" role="img" class="mat-icon notranslate crumb-caret material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">keyboard_arrow_right</mat-icon>
      </div><!---->
    </div><div _ngcontent-ng-c1983993049="" class="crumb crumb-infocus right-crumbs ng-star-inserted">
      <div _ngcontent-ng-c1983993049="" class="crumb-text-container">
        <a _ngcontent-ng-c1983993049="" class="fire-router-link-host crumb-text crumb-link active" href="#" style="cursor: pointer;">
          UIzZxfrWbXjQKImOZnLn</a>
      </div>
      <!---->
    </div><!---->
  </div>
  <div _ngcontent-ng-c1983993049="" class="edit-button-container">
    
    <div _ngcontent-ng-c1983993049="" class="crumb">
      <button _ngcontent-ng-c1983993049="" mat-icon-button="" aria-label="Edit path" class="crumb-mode-edit-button mdc-icon-button mat-mdc-icon-button mat-unthemed mat-mdc-button-base" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" mat-ripple-loader-centered=""><span class="mat-mdc-button-persistent-ripple mdc-icon-button__ripple"></span>
        <mat-icon _ngcontent-ng-c1983993049="" role="img" class="mat-icon notranslate crumb-mode-edit material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">mode_edit</mat-icon>
      <span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button>
    </div>
  </div>
</div>
</fire-breadcrumbs><firestore-link-out-menu _ngcontent-ng-c2594595131="" _nghost-ng-c1555326914="" class="fire-popover-trigger ng-star-inserted"><button _ngcontent-ng-c1555326914="" mat-button="" color="primary" aria-label="Link out menu to features in Google Cloud" class="mat-mdc-menu-trigger menu-button mdc-button mat-mdc-button mat-primary mat-mdc-button-base" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple" aria-haspopup="menu" aria-expanded="false"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><span class="mdc-button__label"><div _ngcontent-ng-c1555326914="" class="menu-button-content"><mat-icon _ngcontent-ng-c1555326914="" role="img" class="mat-icon notranslate cloud-icon material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">filter_drama</mat-icon><span _ngcontent-ng-c1555326914="">More in Google Cloud</span><mat-icon _ngcontent-ng-c1555326914="" role="img" class="mat-icon notranslate dropdown-icon material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">keyboard_arrow_down</mat-icon></div></span><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button><!----><mat-menu _ngcontent-ng-c1555326914="" ngskiphydration="" yposition="below" xposition="before" class="ng-tns-c1638460095-9 ng-star-inserted"><!----></mat-menu><!----><!----><!----><!----></firestore-link-out-menu><!----><!----><!----><!----><!----></div></fire-card-action-bar><fire-cdk-popover _ngcontent-ng-c2594595131="" coachmark="" class="link-out-to-cloud-popover" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></f7e-data-panel-viewer-card-action-bar><div _ngcontent-ng-c2839825373="" class="panels-container ng-star-inserted" style="transform: translateX(0%);"><div _ngcontent-ng-c2839825373="" class="panel-container ng-star-inserted"><f7e-collection-list-fields-panel _ngcontent-ng-c2839825373="" data-test-id="f7e-collection-list-fields-panel" class="panel ng-star-inserted" _nghost-ng-c839795402=""><f7e-panel _ngcontent-ng-c839795402="" class="collection-list-panel ng-star-inserted" _nghost-ng-c349134881=""><f7e-panel-header _ngcontent-ng-c839795402="" _nghost-ng-c3083767199=""><div _ngcontent-ng-c3083767199="" firethemestructure="" class="panel-header fire-theme-container structure-theme-container ng-star-inserted"><div _ngcontent-ng-c3083767199="" class="left-container"><div _ngcontent-ng-c3083767199="" class="icon-container"><mat-icon _ngcontent-ng-c3083767199="" role="img" fontset="gmp" fonticon="gmp_firestore" mattooltip="Database" mattooltipposition="above" class="mat-icon notranslate mat-mdc-tooltip-trigger gmp-icons mat-ligature-font mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font" data-mat-icon-name="gmp_firestore" data-mat-icon-namespace="gmp" aria-describedby="cdk-describedby-message-ng-1-10" cdk-describedby-host="ng-1"></mat-icon><!----><!----><!----><!----></div><span _ngcontent-ng-c3083767199="" data-test-id="panel-header-label" class="label"> (default) </span></div><div _ngcontent-ng-c3083767199="" class="right-container"><mat-menu _ngcontent-ng-c839795402="" ngskiphydration="" class="ng-tns-c1638460095-7 ng-star-inserted"><!----></mat-menu><!----></div></div><!----><!----></f7e-panel-header><f7e-panel-add-data-button _ngcontent-ng-c839795402="" data-test-id="start-collection-button" _nghost-ng-c571952681="" class="ng-star-inserted"><button _ngcontent-ng-c571952681="" mat-button="" color="primary" class="add-data-button mdc-button mat-mdc-button mat-primary mat-mdc-button-base" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><mat-icon _ngcontent-ng-c571952681="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">add</mat-icon><span class="mdc-button__label"><span _ngcontent-ng-c571952681="" class="add-data-label"> Start collection </span></span><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button></f7e-panel-add-data-button><!----><div _ngcontent-ng-c839795402="" cdkvirtualscrollingelement="" class="cdk-virtual-scrollable ng-star-inserted"><cdk-virtual-scroll-viewport _ngcontent-ng-c839795402="" class="cdk-virtual-scroll-viewport virtual-scroll-viewport cdk-virtual-scroll-orientation-vertical"><div class="cdk-virtual-scroll-content-wrapper" style="transform: translateY(0px);"><f7e-panel-list-item _ngcontent-ng-c839795402="" data-test-id="f7e-panel-list-item" _nghost-ng-c3801496787="" style="height: 32px;" class="is-selected ng-star-inserted"><div _ngcontent-ng-c3801496787="" data-test-id="panel-list-item" class="panel-list-item ng-star-inserted"><div _ngcontent-ng-c3801496787="" class="left-container"><div _ngcontent-ng-c3801496787="" data-test-id="item-actions-button-container" class="item-actions-button-container ng-star-inserted"><button _ngcontent-ng-c3801496787="" class="mat-mdc-menu-trigger item-actions-button a11y-unstyled" aria-label="actions for meny" aria-haspopup="menu" aria-expanded="false"><mat-icon _ngcontent-ng-c3801496787="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">more_vert</mat-icon></button><!----></div><!----><div _ngcontent-ng-c3801496787="" class="item-display-container"><!----><button _ngcontent-ng-c3801496787="" class="item-label-button a11y-unstyled"> meny </button></div></div><mat-icon _ngcontent-ng-c3801496787="" role="img" class="mat-icon notranslate is-selected-icon material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">chevron_right</mat-icon></div><!----><!----></f7e-panel-list-item><!----></div><div class="cdk-virtual-scroll-spacer" style="height: 32px;"></div></cdk-virtual-scroll-viewport><!----></div><!----><!----><!----><!----></f7e-panel><!----><!----><!----></f7e-collection-list-fields-panel><!----><!----></div><!----><div _ngcontent-ng-c2839825373="" class="panel-container ng-star-inserted"><f7e-document-list-panel _ngcontent-ng-c2839825373="" data-test-id="f7e-document-list-panel" class="panel ng-star-inserted" _nghost-ng-c3900027245=""><f7e-panel _ngcontent-ng-c3900027245="" _nghost-ng-c349134881="" class="ng-star-inserted"><f7e-panel-header _ngcontent-ng-c3900027245="" _nghost-ng-c3083767199=""><div _ngcontent-ng-c3083767199="" firethemestructure="" class="panel-header fire-theme-container structure-theme-container ng-star-inserted"><div _ngcontent-ng-c3083767199="" class="left-container"><div _ngcontent-ng-c3083767199="" class="icon-container"><!----><mat-icon _ngcontent-ng-c3083767199="" role="img" mattooltip="Subcollection" mattooltipposition="above" class="mat-icon notranslate mat-mdc-tooltip-trigger icon material-icons mat-ligature-font mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font" aria-describedby="cdk-describedby-message-ng-1-11" cdk-describedby-host="ng-1"> collections_bookmark</mat-icon><!----><!----><!----></div><span _ngcontent-ng-c3083767199="" data-test-id="panel-header-label" class="label"> meny </span></div><div _ngcontent-ng-c3083767199="" class="right-container"><f7e-document-filter _ngcontent-ng-c3900027245="" _nghost-ng-c1517643677="">
<button _ngcontent-ng-c1517643677="" cdk-overlay-origin="" aria-label="open document filter" data-test-id="document-filter-trigger-button" class="f7e-picker-trigger-menu mat-icon-button">
  <div _ngcontent-ng-c1517643677="" class="query-menu"></div>
  <!---->
</button>

<!---->
</f7e-document-filter><mat-menu _ngcontent-ng-c3900027245="" ngskiphydration="" class="ng-tns-c1638460095-8 ng-star-inserted"><!----></mat-menu><button _ngcontent-ng-c3083767199="" class="mat-mdc-menu-trigger panel-actions-button mat-icon-button ng-star-inserted" aria-label="actions for document" aria-haspopup="menu" aria-expanded="false"><mat-icon _ngcontent-ng-c3083767199="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">more_vert</mat-icon></button><!----><!----></div></div><!----><!----></f7e-panel-header><f7e-panel-add-data-button _ngcontent-ng-c3900027245="" data-test-id="add-document-button" _nghost-ng-c571952681="" class="ng-star-inserted"><button _ngcontent-ng-c571952681="" mat-button="" color="primary" class="add-data-button mdc-button mat-mdc-button mat-primary mat-mdc-button-base" mat-ripple-loader-class-name="mat-mdc-button-ripple"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><mat-icon _ngcontent-ng-c571952681="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">add</mat-icon><span class="mdc-button__label"><span _ngcontent-ng-c571952681="" class="add-data-label"> Add document </span></span><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span><span class="mat-ripple mat-mdc-button-ripple"></span></button></f7e-panel-add-data-button><!----><div _ngcontent-ng-c3900027245="" cdkvirtualscrollingelement="" class="cdk-virtual-scrollable ng-star-inserted"><cdk-virtual-scroll-viewport _ngcontent-ng-c3900027245="" class="cdk-virtual-scroll-viewport virtual-scroll-viewport cdk-virtual-scroll-orientation-vertical"><div class="cdk-virtual-scroll-content-wrapper" style="transform: translateY(0px);"><f7e-panel-list-item _ngcontent-ng-c3900027245="" data-test-id="f7e-panel-list-item" _nghost-ng-c3801496787="" style="height: 32px;" class="is-selected ng-star-inserted"><fs-animate-changes _ngcontent-ng-c3801496787="" class="fs-animate-changes ng-tns-c2963013344-13 ng-trigger ng-trigger-changes ng-star-inserted"><div _ngcontent-ng-c3801496787="" data-test-id="panel-list-item" class="panel-list-item ng-star-inserted" style=""><div _ngcontent-ng-c3801496787="" class="left-container"><div _ngcontent-ng-c3801496787="" data-test-id="item-actions-button-container" class="item-actions-button-container ng-star-inserted"><button _ngcontent-ng-c3801496787="" class="mat-mdc-menu-trigger item-actions-button a11y-unstyled" aria-label="actions for UIzZxfrWbXjQKImOZnLn" aria-haspopup="menu" aria-expanded="false"><mat-icon _ngcontent-ng-c3801496787="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">more_vert</mat-icon></button><!----></div><!----><div _ngcontent-ng-c3801496787="" class="item-display-container"><!----><button _ngcontent-ng-c3801496787="" class="item-label-button a11y-unstyled"> UIzZxfrWbXjQKImOZnLn </button></div></div><mat-icon _ngcontent-ng-c3801496787="" role="img" class="mat-icon notranslate is-selected-icon material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">chevron_right</mat-icon></div><!----></fs-animate-changes><!----><!----><!----></f7e-panel-list-item><f7e-panel-list-item _ngcontent-ng-c3900027245="" data-test-id="f7e-panel-list-item" _nghost-ng-c3801496787="" style="height: 32px;" class="ng-star-inserted"><fs-animate-changes _ngcontent-ng-c3801496787="" class="fs-animate-changes ng-tns-c2963013344-14 ng-trigger ng-trigger-changes ng-star-inserted"><div _ngcontent-ng-c3801496787="" data-test-id="panel-list-item" class="panel-list-item ng-star-inserted" style=""><div _ngcontent-ng-c3801496787="" class="left-container"><div _ngcontent-ng-c3801496787="" data-test-id="item-actions-button-container" class="item-actions-button-container ng-star-inserted"><button _ngcontent-ng-c3801496787="" class="mat-mdc-menu-trigger item-actions-button a11y-unstyled" aria-label="actions for tj8Ve3CpbwEmMw09HS71" aria-haspopup="menu" aria-expanded="false"><mat-icon _ngcontent-ng-c3801496787="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">more_vert</mat-icon></button><!----></div><!----><div _ngcontent-ng-c3801496787="" class="item-display-container"><!----><button _ngcontent-ng-c3801496787="" class="item-label-button a11y-unstyled"> tj8Ve3CpbwEmMw09HS71 </button></div></div><mat-icon _ngcontent-ng-c3801496787="" role="img" class="mat-icon notranslate is-selected-icon material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">chevron_right</mat-icon></div><!----></fs-animate-changes><!----><!----><!----></f7e-panel-list-item><!----></div><div class="cdk-virtual-scroll-spacer" style="height: 64px;"></div></cdk-virtual-scroll-viewport><!----></div><!----><!----><!----><!----><!----><!----></f7e-panel><!----><!----></f7e-document-list-panel><!----><!----></div><!----><div _ngcontent-ng-c2839825373="" class="panel-container ng-star-inserted"><f7e-collection-list-fields-panel _ngcontent-ng-c2839825373="" data-test-id="f7e-collection-list-fields-panel" class="panel ng-star-inserted collection-list-is-empty" _nghost-ng-c839795402=""><f7e-panel _ngcontent-ng-c839795402="" class="collection-list-panel ng-star-inserted" _nghost-ng-c349134881=""><f7e-panel-header _ngcontent-ng-c839795402="" _nghost-ng-c3083767199=""><div _ngcontent-ng-c3083767199="" firethemestructure="" class="panel-header fire-theme-container structure-theme-container ng-star-inserted"><div _ngcontent-ng-c3083767199="" class="left-container"><div _ngcontent-ng-c3083767199="" class="icon-container"><!----><!----><mat-icon _ngcontent-ng-c3083767199="" role="img" mattooltip="Document" mattooltipposition="above" class="mat-icon notranslate mat-mdc-tooltip-trigger icon material-icons mat-ligature-font mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font" aria-describedby="cdk-describedby-message-ng-1-12" cdk-describedby-host="ng-1"> drive_document</mat-icon><!----><!----></div><span _ngcontent-ng-c3083767199="" data-test-id="panel-header-label" class="label"> UIzZxfrWbXjQKImOZnLn </span></div><div _ngcontent-ng-c3083767199="" class="right-container"><mat-menu _ngcontent-ng-c839795402="" ngskiphydration="" class="ng-tns-c1638460095-15 ng-star-inserted"><!----></mat-menu><button _ngcontent-ng-c3083767199="" class="mat-mdc-menu-trigger panel-actions-button mat-icon-button ng-star-inserted" aria-label="" aria-haspopup="menu" aria-expanded="false"><mat-icon _ngcontent-ng-c3083767199="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">more_vert</mat-icon></button><!----><!----></div></div><!----><!----></f7e-panel-header><f7e-panel-add-data-button _ngcontent-ng-c839795402="" data-test-id="start-collection-button" _nghost-ng-c571952681="" class="ng-star-inserted"><button _ngcontent-ng-c571952681="" mat-button="" color="primary" class="add-data-button mdc-button mat-mdc-button mat-primary mat-mdc-button-base" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><mat-icon _ngcontent-ng-c571952681="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">add</mat-icon><span class="mdc-button__label"><span _ngcontent-ng-c571952681="" class="add-data-label"> Start collection </span></span><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button></f7e-panel-add-data-button><!----><div _ngcontent-ng-c839795402="" cdkvirtualscrollingelement="" class="cdk-virtual-scrollable ng-star-inserted"><cdk-virtual-scroll-viewport _ngcontent-ng-c839795402="" class="cdk-virtual-scroll-viewport virtual-scroll-viewport cdk-virtual-scroll-orientation-vertical"><div class="cdk-virtual-scroll-content-wrapper" style="transform: translateY(0px);"><!----></div><div class="cdk-virtual-scroll-spacer"></div></cdk-virtual-scroll-viewport><!----></div><!----><!----><!----><!----></f7e-panel><f7e-fields-subpanel _ngcontent-ng-c839795402="" data-test-id="f7e-fields-subpanel" _nghost-ng-c2673988096="" class="ng-star-inserted"><f7e-panel _ngcontent-ng-c2673988096="" _nghost-ng-c349134881="" class="ng-star-inserted"><f7e-panel-add-data-button _ngcontent-ng-c2673988096="" data-test-id="add-field-button" _nghost-ng-c571952681="" class="ng-star-inserted"><button _ngcontent-ng-c571952681="" mat-button="" color="primary" class="add-data-button mdc-button mat-mdc-button mat-primary mat-mdc-button-base" mat-ripple-loader-uninitialized="" mat-ripple-loader-class-name="mat-mdc-button-ripple"><span class="mat-mdc-button-persistent-ripple mdc-button__ripple"></span><mat-icon _ngcontent-ng-c571952681="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">add</mat-icon><span class="mdc-button__label"><span _ngcontent-ng-c571952681="" class="add-data-label"> Add field </span></span><span class="mat-mdc-focus-indicator"></span><span class="mat-mdc-button-touch-target"></span></button></f7e-panel-add-data-button><!----><!----><div _ngcontent-ng-c2673988096="" cdk-overlay-origin="" class="ng-star-inserted"></div><!----><div _ngcontent-ng-c2673988096="" class="scroll-container ng-star-inserted"><fs-animate-change-classes _ngcontent-ng-c2673988096="" class="is-first-load ng-star-inserted"><f7e-data-tree _ngcontent-ng-c2673988096=""><div class="database-node type-string">

  <button cdk-overlay-origin="" data-test-id="field-node-click-target" class="database-node-click-target a11y-unstyled">
    <div class="database-key-value">
      <div class="database-expand-collapse-wrapper">
        <div class="database-expand-collapse-button">
          <!---->
          <mat-icon role="img" class="mat-icon notranslate material-icons f7e-expander-icon mat-ligature-font mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">
            arrow_drop_down</mat-icon><!---->
        </div>
      </div>

      <span class="database-key">fredag</span>
      <span class="database-leaf-value ng-star-inserted">"pizza"</span><!---->
    </div>

    <div class="database-buttons">
      <div class="container">
        <div class="database-type">
          <!---->
          <span class="ng-star-inserted">
            (string)
          </span><!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
        </div>
        
          <button disableripple="true" mattooltip="Edit field" class="mat-mdc-tooltip-trigger edit-button a11y-unstyled ng-star-inserted" aria-describedby="cdk-describedby-message-ng-1-14" cdk-describedby-host="ng-1"><mat-icon role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">edit</mat-icon></button><!----><!---->
          <!---->
        <!----><!---->
        <button disableripple="true" mattooltip="Delete field" class="mat-mdc-tooltip-trigger delete-icon delete-button a11y-unstyled ng-star-inserted" aria-describedby="cdk-describedby-message-ng-1-13" cdk-describedby-host="ng-1"><mat-icon role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">delete</mat-icon></button><!----><!---->
      </div>
    </div>
  </button>

  <!---->

  <!---->
</div>
</f7e-data-tree></fs-animate-change-classes><!----><fs-animate-change-classes _ngcontent-ng-c2673988096="" class="is-first-load ng-star-inserted"><f7e-data-tree _ngcontent-ng-c2673988096=""><div class="database-node type-string">

  <button cdk-overlay-origin="" data-test-id="field-node-click-target" class="database-node-click-target a11y-unstyled">
    <div class="database-key-value">
      <div class="database-expand-collapse-wrapper">
        <div class="database-expand-collapse-button">
          <!---->
          <mat-icon role="img" class="mat-icon notranslate material-icons f7e-expander-icon mat-ligature-font mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">
            arrow_drop_down</mat-icon><!---->
        </div>
      </div>

      <span class="database-key">mandag</span>
      <span class="database-leaf-value ng-star-inserted">"fiskesuppe"</span><!---->
    </div>

    <div class="database-buttons">
      <div class="container">
        <div class="database-type">
          <!---->
          <span class="ng-star-inserted">
            (string)
          </span><!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
        </div>
        
          <button disableripple="true" mattooltip="Edit field" class="mat-mdc-tooltip-trigger edit-button a11y-unstyled ng-star-inserted" aria-describedby="cdk-describedby-message-ng-1-14" cdk-describedby-host="ng-1"><mat-icon role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">edit</mat-icon></button><!----><!---->
          <!---->
        <!----><!---->
        <button disableripple="true" mattooltip="Delete field" class="mat-mdc-tooltip-trigger delete-icon delete-button a11y-unstyled ng-star-inserted" aria-describedby="cdk-describedby-message-ng-1-13" cdk-describedby-host="ng-1"><mat-icon role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">delete</mat-icon></button><!----><!---->
      </div>
    </div>
  </button>

  <!---->

  <!---->
</div>
</f7e-data-tree></fs-animate-change-classes><!----><fs-animate-change-classes _ngcontent-ng-c2673988096="" class="is-first-load ng-star-inserted"><f7e-data-tree _ngcontent-ng-c2673988096=""><div class="database-node type-string">

  <button cdk-overlay-origin="" data-test-id="field-node-click-target" class="database-node-click-target a11y-unstyled">
    <div class="database-key-value">
      <div class="database-expand-collapse-wrapper">
        <div class="database-expand-collapse-button">
          <!---->
          <mat-icon role="img" class="mat-icon notranslate material-icons f7e-expander-icon mat-ligature-font mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">
            arrow_drop_down</mat-icon><!---->
        </div>
      </div>

      <span class="database-key">onsdag</span>
      <span class="database-leaf-value ng-star-inserted">"salat"</span><!---->
    </div>

    <div class="database-buttons">
      <div class="container">
        <div class="database-type">
          <!---->
          <span class="ng-star-inserted">
            (string)
          </span><!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
        </div>
        
          <button disableripple="true" mattooltip="Edit field" class="mat-mdc-tooltip-trigger edit-button a11y-unstyled ng-star-inserted" aria-describedby="cdk-describedby-message-ng-1-14" cdk-describedby-host="ng-1"><mat-icon role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">edit</mat-icon></button><!----><!---->
          <!---->
        <!----><!---->
        <button disableripple="true" mattooltip="Delete field" class="mat-mdc-tooltip-trigger delete-icon delete-button a11y-unstyled ng-star-inserted" aria-describedby="cdk-describedby-message-ng-1-13" cdk-describedby-host="ng-1"><mat-icon role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">delete</mat-icon></button><!----><!---->
      </div>
    </div>
  </button>

  <!---->

  <!---->
</div>
</f7e-data-tree></fs-animate-change-classes><!----><fs-animate-change-classes _ngcontent-ng-c2673988096="" class="is-first-load ng-star-inserted"><f7e-data-tree _ngcontent-ng-c2673988096=""><div class="database-node type-string">

  <button cdk-overlay-origin="" data-test-id="field-node-click-target" class="database-node-click-target a11y-unstyled">
    <div class="database-key-value">
      <div class="database-expand-collapse-wrapper">
        <div class="database-expand-collapse-button">
          <!---->
          <mat-icon role="img" class="mat-icon notranslate material-icons f7e-expander-icon mat-ligature-font mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">
            arrow_drop_down</mat-icon><!---->
        </div>
      </div>

      <span class="database-key">tirsdag</span>
      <span class="database-leaf-value ng-star-inserted">"Thomasen"</span><!---->
    </div>

    <div class="database-buttons">
      <div class="container">
        <div class="database-type">
          <!---->
          <span class="ng-star-inserted">
            (string)
          </span><!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
        </div>
        
          <button disableripple="true" mattooltip="Edit field" class="mat-mdc-tooltip-trigger edit-button a11y-unstyled ng-star-inserted" aria-describedby="cdk-describedby-message-ng-1-14" cdk-describedby-host="ng-1"><mat-icon role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">edit</mat-icon></button><!----><!---->
          <!---->
        <!----><!---->
        <button disableripple="true" mattooltip="Delete field" class="mat-mdc-tooltip-trigger delete-icon delete-button a11y-unstyled ng-star-inserted" aria-describedby="cdk-describedby-message-ng-1-13" cdk-describedby-host="ng-1"><mat-icon role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">delete</mat-icon></button><!----><!---->
      </div>
    </div>
  </button>

  <!---->

  <!---->
</div>
</f7e-data-tree></fs-animate-change-classes><!----><fs-animate-change-classes _ngcontent-ng-c2673988096="" class="is-first-load ng-star-inserted"><f7e-data-tree _ngcontent-ng-c2673988096=""><div class="database-node type-string">

  <button cdk-overlay-origin="" data-test-id="field-node-click-target" class="database-node-click-target a11y-unstyled">
    <div class="database-key-value">
      <div class="database-expand-collapse-wrapper">
        <div class="database-expand-collapse-button">
          <!---->
          <mat-icon role="img" class="mat-icon notranslate material-icons f7e-expander-icon mat-ligature-font mat-icon-no-color ng-star-inserted" aria-hidden="true" data-mat-icon-type="font">
            arrow_drop_down</mat-icon><!---->
        </div>
      </div>

      <span class="database-key">torsdag</span>
      <span class="database-leaf-value ng-star-inserted">"tacobaguett"</span><!---->
    </div>

    <div class="database-buttons">
      <div class="container">
        <div class="database-type">
          <!---->
          <span class="ng-star-inserted">
            (string)
          </span><!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
          <!---->
        </div>
        
          <button disableripple="true" mattooltip="Edit field" class="mat-mdc-tooltip-trigger edit-button a11y-unstyled ng-star-inserted" aria-describedby="cdk-describedby-message-ng-1-14" cdk-describedby-host="ng-1"><mat-icon role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">edit</mat-icon></button><!----><!---->
          <!---->
        <!----><!---->
        <button disableripple="true" mattooltip="Delete field" class="mat-mdc-tooltip-trigger delete-icon delete-button a11y-unstyled ng-star-inserted" aria-describedby="cdk-describedby-message-ng-1-13" cdk-describedby-host="ng-1"><mat-icon role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">delete</mat-icon></button><!----><!---->
      </div>
    </div>
  </button>

  <!---->

  <!---->
</div>
</f7e-data-tree></fs-animate-change-classes><!----><!----></div><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></f7e-panel><!----><!----></f7e-fields-subpanel><!----><!----><!----></f7e-collection-list-fields-panel><!----><!----></div><!----><!----><!----></div><!----><!----><!----><!----></mat-card></fire-card><fire-hats-next-survey _ngcontent-ng-c2839825373=""></fire-hats-next-survey></f7e-data-panel-viewer><!----><!----><!----><!----><fire-database-location _ngcontent-ng-c2063330280="" _nghost-ng-c1486745291="" class="ng-star-inserted"><mat-icon _ngcontent-ng-c1486745291="" role="img" class="mat-icon notranslate material-icons mat-ligature-font mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font">place</mat-icon><span _ngcontent-ng-c1486745291="" class="selected-location"> Database location: eur3
</span></fire-database-location><!----></div></div><fire-cdk-popover _ngcontent-ng-c2063330280="" coachmark="" class="query-view-promo-popover" _nghost-ng-c2054357091=""><!----></fire-cdk-popover></f7e-data><!----><!----><!----><!----><!----><!----></firestore-base><!----><!----><!----></fire-router-outlet><!----></main></fireconsole-home></fireconsole-app-root><script nonce="">Error.stackTraceLimit = 100;</script><script id="base-js" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/m=b" async="" nonce=""></script><script nonce="">var _F_cssRowKey = 'fireconsole.ngh.7q85tAhReV4.L.F4.O';var _F_combinedSignature = 'AON9Punc1HWxR0_b1E6XLhp2KnmSRHb9kA';</script><div><div ng-non-bindable=""><div class="gb_Nc">Main menu</div></div></div><script type="text/javascript" nonce="">this.gbar_=this.gbar_||{};(function(_){var window=this;
try{
if(_.ij){var mj;if(mj=_.I(_.ij.j,3))for(var nj=_.eh(mj),oj=0;oj<nj.length;oj++)_.fi(nj[oj],"ogpc","");_.Wi(_.ij,!!_.ij.i&&_.ij.i.A(),!1)};
}catch(e){_._DumpException(e)}
try{
/*

 SPDX-License-Identifier: Apache-2.0
*/
var qj=function(a){return new _.pj(b=>b.substr(0,a.length+1).toLowerCase()===a+":")};_.pj=class{constructor(a){this.Qg=a}};_.rj=[qj("data"),qj("http"),qj("https"),qj("mailto"),qj("ftp"),new _.pj(a=>/^[^:]*([/?#]|$)/.test(a))];_.sj="function"===typeof URL;
}catch(e){_._DumpException(e)}
try{
var tj;tj={};_.uj=class{constructor(a){this.i=a}toString(){return this.i+""}};_.uj.prototype.Cb=!0;_.uj.prototype.ob=function(){return this.i.toString()};_.vj=function(a){return a instanceof _.uj&&a.constructor===_.uj?a.i:"type_error:TrustedResourceUrl"};_.wj=function(a){const b=_.Td();a=b?b.createScriptURL(a):a;return new _.uj(a,tj)};
}catch(e){_._DumpException(e)}
try{
_.xj=function(a){var b;let c;const d=null==(c=(b=(a.ownerDocument&&a.ownerDocument.defaultView||window).document).querySelector)?void 0:c.call(b,"script[nonce]");(b=d?d.nonce||d.getAttribute("nonce")||"":"")&&a.setAttribute("nonce",b)};_.yj=function(a){if(!a)return null;a=_.I(a,4);var b;null===a||void 0===a?b=null:b=_.wj(a);return b};_.zj=class extends _.R{constructor(a){super(a)}};_.Aj=function(a,b){return(b||document).getElementsByTagName(String(a))};
}catch(e){_._DumpException(e)}
try{
var Cj=function(a,b,c){a<b?Bj(a+1,b):_.Gc.log(Error("W`"+a+"`"+b),{url:c})},Bj=function(a,b){if(Dj){const c=_.le("SCRIPT");c.async=!0;c.type="text/javascript";c.charset="UTF-8";c.src=_.vj(Dj);_.xj(c);c.onerror=_.Fe(Cj,a,b,c.src);_.Aj("HEAD")[0].appendChild(c)}},Ej=class extends _.R{constructor(a){super(a)}};var Fj=_.G(_.rd,Ej,17)||new Ej,Gj,Dj=(Gj=_.G(Fj,_.zj,1))?_.yj(Gj):null,Hj,Ij=(Hj=_.G(Fj,_.zj,2))?_.yj(Hj):null,Jj=function(){Bj(1,2);if(Ij){const b=_.le("LINK");b.setAttribute("type","text/css");b.rel="stylesheet";b.href=_.vj(Ij).toString();var a=_.he(b.ownerDocument&&b.ownerDocument.defaultView);a&&b.setAttribute("nonce",a);(a=_.he())&&b.setAttribute("nonce",a);_.Aj("HEAD")[0].appendChild(b)}};(function(){const a=_.sd();if(_.F(a,18))Jj();else{const b=_.Ge(a,19)||0;window.addEventListener("load",()=>{window.setTimeout(Jj,b)})}})();
}catch(e){_._DumpException(e)}
})(this.gbar_);
// Google Inc.
</script><div class="gb_q" ng-non-bindable=""><div class="gb_Cc"><div>Google Account</div><div class="gb_Cb">Linnea moen</div><div>linmoen05@gmail.com</div></div></div><script nonce="">(function(){var r,aa=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a},ca=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");
},u=ca(this),v=function(a,b){if(b)a:{var c=u;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}};
v("Symbol",function(a){if(a)return a;var b=function(f,g){this.Wa=f;ba(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.Wa};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e});
v("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=u[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return da(aa(this))}})}return a});
var da=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a},w=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(b)return b.call(a);if("number"==typeof a.length)return{next:aa(a)};throw Error(String(a)+" is not an iterable or ArrayLike");},ea=function(a){if(!(a instanceof Array)){a=w(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a},x=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},fa="function"==typeof Object.assign?
Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)x(d,e)&&(a[e]=d[e])}return a};v("Object.assign",function(a){return a||fa});var ha="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},ia;
if("function"==typeof Object.setPrototypeOf)ia=Object.setPrototypeOf;else{var ja;a:{var ka={a:!0},la={};try{la.__proto__=ka;ja=la.a;break a}catch(a){}ja=!1}ia=ja?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ma=ia;
v("Promise",function(a){function b(){this.G=null}function c(g){return g instanceof e?g:new e(function(h){h(g)})}if(a)return a;b.prototype.Fa=function(g){if(null==this.G){this.G=[];var h=this;this.Ga(function(){h.ib()})}this.G.push(g)};var d=u.setTimeout;b.prototype.Ga=function(g){d(g,0)};b.prototype.ib=function(){for(;this.G&&this.G.length;){var g=this.G;this.G=[];for(var h=0;h<g.length;++h){var k=g[h];g[h]=null;try{k()}catch(l){this.eb(l)}}}this.G=null};b.prototype.eb=function(g){this.Ga(function(){throw g;
})};var e=function(g){this.T=0;this.da=void 0;this.R=[];this.Na=!1;var h=this.sa();try{g(h.resolve,h.reject)}catch(k){h.reject(k)}};e.prototype.sa=function(){function g(l){return function(n){k||(k=!0,l.call(h,n))}}var h=this,k=!1;return{resolve:g(this.rb),reject:g(this.za)}};e.prototype.rb=function(g){if(g===this)this.za(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof e)this.tb(g);else{a:switch(typeof g){case "object":var h=null!=g;break a;case "function":h=!0;break a;default:h=
!1}h?this.qb(g):this.Ia(g)}};e.prototype.qb=function(g){var h=void 0;try{h=g.then}catch(k){this.za(k);return}"function"==typeof h?this.ub(h,g):this.Ia(g)};e.prototype.za=function(g){this.Sa(2,g)};e.prototype.Ia=function(g){this.Sa(1,g)};e.prototype.Sa=function(g,h){if(0!=this.T)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.T);this.T=g;this.da=h;2===this.T&&this.sb();this.jb()};e.prototype.sb=function(){var g=this;d(function(){if(g.nb()){var h=u.console;"undefined"!==
typeof h&&h.error(g.da)}},1)};e.prototype.nb=function(){if(this.Na)return!1;var g=u.CustomEvent,h=u.Event,k=u.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof g?g=new g("unhandledrejection",{cancelable:!0}):"function"===typeof h?g=new h("unhandledrejection",{cancelable:!0}):(g=u.document.createEvent("CustomEvent"),g.initCustomEvent("unhandledrejection",!1,!0,g));g.promise=this;g.reason=this.da;return k(g)};e.prototype.jb=function(){if(null!=this.R){for(var g=0;g<this.R.length;++g)f.Fa(this.R[g]);
this.R=null}};var f=new b;e.prototype.tb=function(g){var h=this.sa();g.ga(h.resolve,h.reject)};e.prototype.ub=function(g,h){var k=this.sa();try{g.call(h,k.resolve,k.reject)}catch(l){k.reject(l)}};e.prototype.then=function(g,h){function k(q,m){return"function"==typeof q?function(t){try{l(q(t))}catch(y){n(y)}}:m}var l,n,p=new e(function(q,m){l=q;n=m});this.ga(k(g,l),k(h,n));return p};e.prototype.catch=function(g){return this.then(void 0,g)};e.prototype.ga=function(g,h){function k(){switch(l.T){case 1:g(l.da);
break;case 2:h(l.da);break;default:throw Error("Unexpected state: "+l.T);}}var l=this;null==this.R?f.Fa(k):this.R.push(k);this.Na=!0};e.resolve=c;e.reject=function(g){return new e(function(h,k){k(g)})};e.race=function(g){return new e(function(h,k){for(var l=w(g),n=l.next();!n.done;n=l.next())c(n.value).ga(h,k)})};e.all=function(g){var h=w(g),k=h.next();return k.done?c([]):new e(function(l,n){function p(t){return function(y){q[t]=y;m--;0==m&&l(q)}}var q=[],m=0;do q.push(void 0),m++,c(k.value).ga(p(q.length-
1),n),k=h.next();while(!k.done)})};return e});v("Array.prototype.find",function(a){return a?a:function(b,c){a:{var d=this;d instanceof String&&(d=String(d));for(var e=d.length,f=0;f<e;f++){var g=d[f];if(b.call(c,g,f,d)){b=g;break a}}b=void 0}return b}});
v("WeakMap",function(a){function b(){}function c(k){var l=typeof k;return"object"===l&&null!==k||"function"===l}function d(k){if(!x(k,f)){var l=new b;ba(k,f,{value:l})}}function e(k){var l=Object[k];l&&(Object[k]=function(n){if(n instanceof b)return n;Object.isExtensible(n)&&d(n);return l(n)})}if(function(){if(!a||!Object.seal)return!1;try{var k=Object.seal({}),l=Object.seal({}),n=new a([[k,2],[l,3]]);if(2!=n.get(k)||3!=n.get(l))return!1;n.delete(k);n.set(l,4);return!n.has(k)&&4==n.get(l)}catch(p){return!1}}())return a;
var f="$jscomp_hidden_"+Math.random();e("freeze");e("preventExtensions");e("seal");var g=0,h=function(k){this.aa=(g+=Math.random()+1).toString();if(k){k=w(k);for(var l;!(l=k.next()).done;)l=l.value,this.set(l[0],l[1])}};h.prototype.set=function(k,l){if(!c(k))throw Error("Invalid WeakMap key");d(k);if(!x(k,f))throw Error("WeakMap key fail: "+k);k[f][this.aa]=l;return this};h.prototype.get=function(k){return c(k)&&x(k,f)?k[f][this.aa]:void 0};h.prototype.has=function(k){return c(k)&&x(k,f)&&x(k[f],
this.aa)};h.prototype.delete=function(k){return c(k)&&x(k,f)&&x(k[f],this.aa)?delete k[f][this.aa]:!1};return h});
v("Map",function(a){if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),k=new a(w([[h,"s"]]));if("s"!=k.get(h)||1!=k.size||k.get({x:4})||k.set({x:4},"t")!=k||2!=k.size)return!1;var l=k.entries(),n=l.next();if(n.done||n.value[0]!=h||"s"!=n.value[1])return!1;n=l.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!l.next().done?!1:!0}catch(p){return!1}}())return a;var b=new WeakMap,c=function(h){this[0]={};this[1]=
f();this.size=0;if(h){h=w(h);for(var k;!(k=h.next()).done;)k=k.value,this.set(k[0],k[1])}};c.prototype.set=function(h,k){h=0===h?0:h;var l=d(this,h);l.list||(l.list=this[0][l.id]=[]);l.l?l.l.value=k:(l.l={next:this[1],D:this[1].D,head:this[1],key:h,value:k},l.list.push(l.l),this[1].D.next=l.l,this[1].D=l.l,this.size++);return this};c.prototype.delete=function(h){h=d(this,h);return h.l&&h.list?(h.list.splice(h.index,1),h.list.length||delete this[0][h.id],h.l.D.next=h.l.next,h.l.next.D=h.l.D,h.l.head=
null,this.size--,!0):!1};c.prototype.clear=function(){this[0]={};this[1]=this[1].D=f();this.size=0};c.prototype.has=function(h){return!!d(this,h).l};c.prototype.get=function(h){return(h=d(this,h).l)&&h.value};c.prototype.entries=function(){return e(this,function(h){return[h.key,h.value]})};c.prototype.keys=function(){return e(this,function(h){return h.key})};c.prototype.values=function(){return e(this,function(h){return h.value})};c.prototype.forEach=function(h,k){for(var l=this.entries(),n;!(n=l.next()).done;)n=
n.value,h.call(k,n[1],n[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var d=function(h,k){var l=k&&typeof k;"object"==l||"function"==l?b.has(k)?l=b.get(k):(l=""+ ++g,b.set(k,l)):l="p_"+k;var n=h[0][l];if(n&&x(h[0],l))for(h=0;h<n.length;h++){var p=n[h];if(k!==k&&p.key!==p.key||k===p.key)return{id:l,list:n,index:h,l:p}}return{id:l,list:n,index:-1,l:void 0}},e=function(h,k){var l=h[1];return da(function(){if(l){for(;l.head!=h[1];)l=l.D;for(;l.next!=l.head;)return l=l.next,{done:!1,value:k(l)};
l=null}return{done:!0,value:void 0}})},f=function(){var h={};return h.D=h.next=h.head=h},g=0;return c});v("Object.values",function(a){return a?a:function(b){var c=[],d;for(d in b)x(b,d)&&c.push(b[d]);return c}});v("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});
v("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});var na=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};
v("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==na(this,b,"includes").indexOf(b,c||0)}});var oa=function(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};v("Array.prototype.keys",function(a){return a?a:function(){return oa(this,function(b){return b})}});
v("Array.prototype.values",function(a){return a?a:function(){return oa(this,function(b,c){return c})}});v("Array.from",function(a){return a?a:function(b,c,d){c=null!=c?c:function(h){return h};var e=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof f){b=f.call(b);for(var g=0;!(f=b.next()).done;)e.push(c.call(d,f.value,g++))}else for(f=b.length,g=0;g<f;g++)e.push(c.call(d,b[g],g));return e}});
v("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=na(this,b,"startsWith");b+="";var e=d.length,f=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var g=0;g<f&&c<e;)if(d[c++]!=b[g++])return!1;return g>=f}});/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var pa=pa||{},z=this||self,qa=function(a,b){a:{var c=["CLOSURE_FLAGS"];for(var d=z,e=0;e<c.length;e++)if(d=d[c[e]],null==d){c=null;break a}c=d}a=c&&c[a];return null!=a?a:b},ra=function(a){var b=typeof a;b="object"!=b?b:a?Array.isArray(a)?"array":b:"null";return"array"==b||"object"==b&&"number"==typeof a.length},sa=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ta=function(a,b,c){return a.call.apply(a.bind,arguments)},va=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=
Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}},A=function(a,b,c){A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ta:va;return A.apply(null,arguments)},wa=function(a,b){function c(){}c.prototype=b.prototype;a.U=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Kb=function(d,e,f){for(var g=Array(arguments.length-
2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}};var xa=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};var ya=qa(610401301,!1),za=qa(572417392,!0);function Aa(){var a=z.navigator;return a&&(a=a.userAgent)?a:""}var Ba,Ca=z.navigator;Ba=Ca?Ca.userAgentData||null:null;function Da(a){return ya?Ba?Ba.brands.some(function(b){return(b=b.brand)&&-1!=b.indexOf(a)}):!1:!1}function B(a){return-1!=Aa().indexOf(a)};function C(){return ya?!!Ba&&0<Ba.brands.length:!1}function Ea(){return C()?Da("Chromium"):(B("Chrome")||B("CriOS"))&&!(C()?0:B("Edge"))||B("Silk")};var Fa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ga=Array.prototype.forEach?function(a,b){Array.prototype.forEach.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)e in d&&b.call(void 0,d[e],e,a)};
function Ha(a,b){b=Fa(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c};var Ia=function(a){Ia[" "](a);return a};Ia[" "]=function(){};var Ja=C()?!1:B("Trident")||B("MSIE"),Ka=B("Gecko")&&!(-1!=Aa().toLowerCase().indexOf("webkit")&&!B("Edge"))&&!(B("Trident")||B("MSIE"))&&!B("Edge"),La=-1!=Aa().toLowerCase().indexOf("webkit")&&!B("Edge");!B("Android")||Ea();Ea();B("Safari")&&(Ea()||(C()?0:B("Coast"))||(C()?0:B("Opera"))||(C()?0:B("Edge"))||(C()?Da("Microsoft Edge"):B("Edg/"))||C()&&Da("Opera"));var Ma={},Na=null;var Oa="undefined"!==typeof Uint8Array,Pa=!Ja&&"function"===typeof btoa;var Qa=!za,Sa=!za;var D;D="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():void 0;Math.max.apply(Math,ea(Object.values({Eb:1,Cb:2,Bb:4,Hb:8,Gb:16,Fb:32,wb:64,Jb:128,Ab:256,zb:512,Db:1024,xb:2048,Ib:4096,yb:8192})));var Ta=D?function(a,b){a[D]|=b}:function(a,b){void 0!==a.I?a.I|=b:Object.defineProperties(a,{I:{value:b,configurable:!0,writable:!0,enumerable:!1}})};function Ua(a){var b=E(a);1!==(b&1)&&(Object.isFrozen(a)&&(a=Array.prototype.slice.call(a)),G(a,b|1))}
var E=D?function(a){return a[D]|0}:function(a){return a.I|0},H=D?function(a){return a[D]}:function(a){return a.I},G=D?function(a,b){a[D]=b}:function(a,b){void 0!==a.I?a.I=b:Object.defineProperties(a,{I:{value:b,configurable:!0,writable:!0,enumerable:!1}})};function Va(){var a=[];Ta(a,1);return a}function Wa(a,b){G(b,(a|0)&-14591)}function Xa(a,b){G(b,(a|34)&-14557)}function Ya(a){a=a>>14&1023;return 0===a?536870912:a};var Za={},$a={};function ab(a){return!(!a||"object"!==typeof a||a.Mb!==$a)}function bb(a){return null!==a&&"object"===typeof a&&!Array.isArray(a)&&a.constructor===Object}var cb=!za;function db(a,b,c){if(!Array.isArray(a)||a.length)return!1;var d=E(a);if(d&1)return!0;if(!(b&&(Array.isArray(b)?b.includes(c):b.has(c))))return!1;G(a,d|1);return!0}var eb,fb=[];G(fb,55);eb=Object.freeze(fb);Object.freeze(new function(){});Object.freeze(new function(){});var gb;function hb(a,b){gb=b;a=new a(b);gb=void 0;return a}
function ib(a,b,c){null==a&&(a=gb);gb=void 0;if(null==a){var d=96;c?(a=[c],d|=512):a=[];b&&(d=d&-16760833|(b&1023)<<14)}else{if(!Array.isArray(a))throw Error();d=E(a);if(d&64)return a;d|=64;if(c&&(d|=512,c!==a[0]))throw Error();a:{c=d;if(d=a.length){var e=d-1;if(bb(a[e])){c|=256;b=e-(+!!(c&512)-1);if(1024<=b)throw Error();d=c&-16760833|(b&1023)<<14;break a}}if(b){b=Math.max(b,d-(+!!(c&512)-1));if(1024<b)throw Error();d=c&-16760833|(b&1023)<<14}else d=c}}G(a,d);return a};function jb(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "boolean":return a?1:0;case "object":if(a){if(Array.isArray(a))return cb||!db(a,void 0,9999)?a:void 0;if(Oa&&null!=a&&a instanceof Uint8Array){if(Pa){for(var b="",c=0,d=a.length-10240;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);a=btoa(b)}else{void 0===b&&(b=0);if(!Na){Na={};c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");
d=["+/=","+/","-_=","-_.","-_"];for(var e=0;5>e;e++){var f=c.concat(d[e].split(""));Ma[e]=f;for(var g=0;g<f.length;g++){var h=f[g];void 0===Na[h]&&(Na[h]=g)}}}b=Ma[b];c=Array(Math.floor(a.length/3));d=b[64]||"";for(e=f=0;f<a.length-2;f+=3){var k=a[f],l=a[f+1];h=a[f+2];g=b[k>>2];k=b[(k&3)<<4|l>>4];l=b[(l&15)<<2|h>>6];h=b[h&63];c[e++]=""+g+k+l+h}g=0;h=d;switch(a.length-f){case 2:g=a[f+1],h=b[(g&15)<<2]||d;case 1:a=a[f],c[e]=""+b[a>>2]+b[(a&3)<<4|g>>4]+h+d}a=c.join("")}return a}}}return a};function kb(a,b,c){a=Array.prototype.slice.call(a);var d=a.length,e=b&256?a[d-1]:void 0;d+=e?-1:0;for(b=b&512?1:0;b<d;b++)a[b]=c(a[b]);if(e){b=a[b]={};for(var f in e)b[f]=c(e[f])}return a}function lb(a,b,c,d,e,f){if(null!=a){if(Array.isArray(a))a=e&&0==a.length&&E(a)&1?void 0:f&&E(a)&2?a:mb(a,b,c,void 0!==d,e,f);else if(bb(a)){var g={},h;for(h in a)g[h]=lb(a[h],b,c,d,e,f);a=g}else a=b(a,d);return a}}
function mb(a,b,c,d,e,f){var g=d||c?E(a):0;d=d?!!(g&32):void 0;a=Array.prototype.slice.call(a);for(var h=0;h<a.length;h++)a[h]=lb(a[h],b,c,d,e,f);c&&c(g,a);return a}function nb(a){return a.xa===Za?a.toJSON():jb(a)};function ob(a,b,c){c=void 0===c?Xa:c;if(null!=a){if(Oa&&a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){var d=E(a);if(d&2)return a;b&&(b=0===d||!!(d&32)&&!(d&64||!(d&16)));return b?(G(a,(d|34)&-12293),a):mb(a,ob,d&4?Xa:c,!0,!1,!0)}a.xa===Za&&(c=a.B,d=H(c),a=d&2?a:hb(a.constructor,pb(c,d,!0)));return a}}function pb(a,b,c){var d=c||b&2?Xa:Wa,e=!!(b&32);a=kb(a,b,function(f){return ob(f,e,d)});Ta(a,32|(c?2:0));return a};var qb=function(a,b,c,d){if(-1===c)return null;if(c>=Ya(b)){if(b&256)return a[a.length-1][c]}else{var e=a.length;if(d&&b&256&&(d=a[e-1][c],null!=d))return d;b=c+(+!!(b&512)-1);if(b<e)return a[b]}};var I=function(a,b,c){this.B=ib(a,b,c)};r=I.prototype;r.toJSON=function(){var a=mb(this.B,nb,void 0,void 0,!1,!1);return rb(this,a,!0)};r.getExtension=function(a){var b=a.O?a.lb?a.Z(this,a.O,a.P,2,!0):a.Z(this,a.O,a.P,!0):a.lb?a.Z(this,a.P,2,!0):a.Z(this,a.P,a.defaultValue,!0);return a.Lb&&null==b?a.defaultValue:b};
r.hasExtension=function(a){if(a.O){var b=a.O;a=a.P;var c=this.B,d=H(c),e=qb(c,d,a,!0);if(null!=e&&"object"===typeof e&&e.xa===Za)b=e;else if(Array.isArray(e)){var f=E(e),g=f;0===g&&(g|=d&32);g|=d&2;g!==f&&G(e,g);b=new b(e)}else b=void 0;if(b!==e&&null!=b)a:{f=Ya(d);e=d;if(d&256)f=c[c.length-1];else{if(null==b)break a;f=c[f+(+!!(d&512)-1)]={};e|=256}f[a]=b;e!==d&&G(c,e)}a=void 0!==b}else a=a.O?a.Z(this,a.O,a.P,!0):a.Z(this,a.P,null,!0),a=void 0!==(null===a?void 0:a);return a};
r.clone=function(){var a=this.B;return hb(this.constructor,pb(a,H(a),!1))};r.xa=Za;r.toString=function(){return rb(this,this.B,!1).toString()};
function rb(a,b,c){var d=a.constructor.Nb,e=H(c?a.B:b),f=Ya(e),g=!1;if(d&&cb){if(!c){b=Array.prototype.slice.call(b);var h;if(b.length&&bb(h=b[b.length-1]))for(g=0;g<d.length;g++)if(d[g]>=f){Object.assign(b[b.length-1]={},h);break}g=!0}f=b;c=!c;h=H(a.B);a=Ya(h);h=+!!(h&512)-1;for(var k,l,n=0;n<d.length;n++)if(l=d[n],l<a){l+=h;var p=f[l];null==p?f[l]=c?eb:Va():c&&p!==eb&&Ua(p)}else k||(p=void 0,f.length&&bb(p=f[f.length-1])?k=p:f.push(k={})),p=k[l],null==k[l]?k[l]=c?eb:Va():c&&p!==eb&&Ua(p)}k=b.length;
if(!k)return b;var q;if(bb(f=b[k-1])){a:{var m=f;c={};a=!1;for(var t in m){h=m[t];if(Array.isArray(h)){n=h;if(!Sa&&db(h,d,+t)||!Qa&&ab(h)&&0===h.size)h=null;h!=n&&(a=!0)}null!=h?c[t]=h:a=!0}if(a){for(var y in c){m=c;break a}m=null}}m!=f&&(q=!0);k--}for(e=+!!(e&512)-1;0<k;k--){t=k-1;f=b[t];if(!(null==f||!Sa&&db(f,d,t-e)||!Qa&&ab(f)&&0===f.size))break;var F=!0}if(!q&&!F)return b;b=g?b:Array.prototype.slice.call(b,0,k);g&&(b.length=k);m&&b.push(m);return b};var J=function(a){this.B=ib(a)};J.prototype=ha(I.prototype);J.prototype.constructor=J;if(ma)ma(J,I);else for(var sb in I)if("prototype"!=sb)if(Object.defineProperties){var tb=Object.getOwnPropertyDescriptor(I,sb);tb&&Object.defineProperty(J,sb,tb)}else J[sb]=I[sb];J.U=I.prototype;var ub=function(a){if(!a)return"";if(/^about:(?:blank|srcdoc)$/.test(a))return window.origin||"";a.startsWith("blob:")&&(a=a.substring(5));a=a.split("#")[0].split("?")[0];a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);/^[\w\-]*:\/\//.test(a)||(a=window.location.href);var b=a.substring(a.indexOf("://")+3),c=b.indexOf("/");-1!=c&&(b=b.substring(0,c));c=a.substring(0,a.indexOf("://"));if(!c)throw Error("URI is missing protocol: "+a);if("http"!==c&&"https"!==c&&"chrome-extension"!==
c&&"moz-extension"!==c&&"file"!==c&&"android-app"!==c&&"chrome-search"!==c&&"chrome-untrusted"!==c&&"chrome"!==c&&"app"!==c&&"devtools"!==c)throw Error("Invalid URI scheme in origin: "+c);a="";var d=b.indexOf(":");if(-1!=d){var e=b.substring(d+1);b=b.substring(0,d);if("http"===c&&"80"!==e||"https"===c&&"443"!==e)a=":"+e}return c+"://"+b+a};var vb=function(a,b){return b("["+a.substring(4))};var wb=function(){var a;this.map=a=void 0===a?new Map:a};wb.prototype.set=function(a,b){this.map.set(a,b)};wb.prototype.get=function(a){var b=this.map.get(a);b&&this.map.delete(a);return b};wb.prototype.delete=function(a){this.map.delete(a)};var xb=/^\/u\/(\d+)\//,yb={isMultiloginSession:!1,sessionIndex:0};function zb(){function a(){e[0]=1732584193;e[1]=4023233417;e[2]=2562383102;e[3]=271733878;e[4]=3285377520;n=l=0}function b(p){for(var q=g,m=0;64>m;m+=4)q[m/4]=p[m]<<24|p[m+1]<<16|p[m+2]<<8|p[m+3];for(m=16;80>m;m++)p=q[m-3]^q[m-8]^q[m-14]^q[m-16],q[m]=(p<<1|p>>>31)&4294967295;p=e[0];var t=e[1],y=e[2],F=e[3],Ra=e[4];for(m=0;80>m;m++){if(40>m)if(20>m){var X=F^t&(y^F);var ua=1518500249}else X=t^y^F,ua=1859775393;else 60>m?(X=t&y|F&(t|y),ua=2400959708):(X=t^y^F,ua=3395469782);X=((p<<5|p>>>27)&4294967295)+
X+Ra+ua+q[m]&4294967295;Ra=F;F=y;y=(t<<30|t>>>2)&4294967295;t=p;p=X}e[0]=e[0]+p&4294967295;e[1]=e[1]+t&4294967295;e[2]=e[2]+y&4294967295;e[3]=e[3]+F&4294967295;e[4]=e[4]+Ra&4294967295}function c(p,q){if("string"===typeof p){p=unescape(encodeURIComponent(p));for(var m=[],t=0,y=p.length;t<y;++t)m.push(p.charCodeAt(t));p=m}q||(q=p.length);m=0;if(0==l)for(;m+64<q;)b(p.slice(m,m+64)),m+=64,n+=64;for(;m<q;)if(f[l++]=p[m++],n++,64==l)for(l=0,b(f);m+64<q;)b(p.slice(m,m+64)),m+=64,n+=64}function d(){var p=
[],q=8*n;56>l?c(h,56-l):c(h,64-(l-56));for(var m=63;56<=m;m--)f[m]=q&255,q>>>=8;b(f);for(m=q=0;5>m;m++)for(var t=24;0<=t;t-=8)p[q++]=e[m]>>t&255;return p}for(var e=[],f=[],g=[],h=[128],k=1;64>k;++k)h[k]=0;var l,n;a();return{reset:a,update:c,digest:d,hb:function(){for(var p=d(),q="",m=0;m<p.length;m++)q+="0123456789ABCDEF".charAt(Math.floor(p[m]/16))+"0123456789ABCDEF".charAt(p[m]%16);return q}}};var Bb=function(a,b,c){var d=String(z.location.href);return d&&a&&b?[b,Ab(ub(d),a,c||null)].join(" "):null},Ab=function(a,b,c){var d=[],e=[];if(1==(Array.isArray(c)?2:1))return e=[b,a],Ga(d,function(h){e.push(h)}),Cb(e.join(" "));var f=[],g=[];Ga(c,function(h){g.push(h.key);f.push(h.value)});c=Math.floor((new Date).getTime()/1E3);e=0==f.length?[c,b,a]:[f.join(":"),c,b,a];Ga(d,function(h){e.push(h)});a=Cb(e.join(" "));a=[c,a];0==g.length||a.push(g.join(""));return a.join("_")},Cb=function(a){var b=
zb();b.update(a);return b.hb().toLowerCase()};var Db={};function Eb(a,b,c){var d={},e;for(e in a)d[e]=b.call(c,a[e],e,a);return d}function Fb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}var Gb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Gb.length;f++)c=Gb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ib=function(){this.ia=document||{cookie:""}};r=Ib.prototype;r.isEnabled=function(){if(!z.navigator.cookieEnabled)return!1;if(!this.Ma())return!0;this.set("TESTCOOKIESENABLED","1",{Oa:60});if("1"!==this.get("TESTCOOKIESENABLED"))return!1;this.remove("TESTCOOKIESENABLED");return!0};
r.set=function(a,b,c){var d=!1;if("object"===typeof c){var e=c.Ob;d=c.Pb||!1;var f=c.domain||void 0;var g=c.path||void 0;var h=c.Oa}if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');void 0===h&&(h=-1);this.ia.cookie=a+"="+b+(f?";domain="+f:"")+(g?";path="+g:"")+(0>h?"":0==h?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(Date.now()+1E3*h)).toUTCString())+(d?";secure":"")+(null!=e?";samesite="+e:"")};
r.get=function(a,b){for(var c=a+"=",d=(this.ia.cookie||"").split(";"),e=0,f;e<d.length;e++){f=xa(d[e]);if(0==f.lastIndexOf(c,0))return f.slice(c.length);if(f==a)return""}return b};r.remove=function(a,b,c){var d=this.ha(a);this.set(a,"",{Oa:0,path:b,domain:c});return d};r.ja=function(){return Jb(this).keys};r.H=function(){return Jb(this).values};r.Ma=function(){return!this.ia.cookie};r.ha=function(a){return void 0!==this.get(a)};r.clear=function(){for(var a=Jb(this).keys,b=a.length-1;0<=b;b--)this.remove(a[b])};
var Jb=function(a){a=(a.ia.cookie||"").split(";");for(var b=[],c=[],d,e,f=0;f<a.length;f++)e=xa(a[f]),d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}};var Kb=function(a){return!!Db.FPA_SAMESITE_PHASE2_MOD||!(void 0===a||!a)},Lb=function(a,b,c,d){(a=z[a])||"undefined"===typeof document||(a=(new Ib).get(b));return a?Bb(a,c,d):null};var Mb=function(a,b){this.M=a;this.i=b},Nb=function(a){throw Error("Data "+a.M+" not defined.");};Mb.prototype.vb=function(a){if(null==this.i)return 0==arguments.length&&Nb(this),a;if("string"===typeof this.i)return this.i;throw new TypeError("Invalid string data <"+this.M+">: "+this.i+"-"+typeof this.i);};
var Pb=function(a){a=Ob(a);return null===a?"":a},Ob=function(a){if(null==a.i)return null;if("string"===typeof a.i)return a.i;throw new TypeError("Invalid string data <"+a.M+">: "+a.i+" (typeof "+typeof a.i+")");};Mb.prototype.toString=function(){var a=Ob(this);null===a&&Nb(this);return a};var Qb=function(a){if(null==a.i)throw Error("Data "+a.M+" not defined.");a=a.vb();return vb(a,function(b){if(null==b||""==b)b=new J;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error(void 0);Ta(b,32);b=hb(J,b)}return b})};
Mb.prototype.object=function(a){if(null==this.i){if(0==arguments.length)throw Error("Data "+this.M+" not defined.");return a}if(!ra(this.i)&&sa(this.i))return Eb(this.i,function(b,c){return new Mb(this.M+"."+c,b)},this);throw new TypeError("Invalid object data <"+this.M+">: "+this.i+"-"+typeof this.i);};function Rb(a,b){b=void 0===b?window:b;b=void 0===b?window:b;b=b.WIZ_global_data;return new Mb(a,b&&a in b?b[a]:null)};var Sb=function(){this.X=this.X;this.ma=this.ma};Sb.prototype.X=!1;Sb.prototype.W=function(){if(this.ma)for(;this.ma.length;)this.ma.shift()()};var K=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.ba=!1};K.prototype.stopPropagation=function(){this.ba=!0};K.prototype.preventDefault=function(){this.defaultPrevented=!0};var Tb=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{var c=function(){};z.addEventListener("test",c,b);z.removeEventListener("test",c,b)}catch(d){}return a}();var L=function(a,b){K.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.timeStamp=0;this.Y=null;if(a){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;
this.currentTarget=b;if(b=a.relatedTarget){if(Ka){a:{try{Ia(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.offsetX=La||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=La||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?
a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:Ub[a.pointerType]||"";this.state=a.state;this.timeStamp=a.timeStamp;this.Y=
a;a.defaultPrevented&&L.U.preventDefault.call(this)}};wa(L,K);var Ub={2:"touch",3:"pen",4:"mouse"};L.prototype.stopPropagation=function(){L.U.stopPropagation.call(this);this.Y.stopPropagation?this.Y.stopPropagation():this.Y.cancelBubble=!0};L.prototype.preventDefault=function(){L.U.preventDefault.call(this);var a=this.Y;a.preventDefault?a.preventDefault():a.returnValue=!1};var Vb="closure_listenable_"+(1E6*Math.random()|0);var Wb=0;var Xb=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.ka=e;this.key=++Wb;this.ca=this.fa=!1},Yb=function(a){a.ca=!0;a.listener=null;a.proxy=null;a.src=null;a.ka=null};var M=function(a){this.src=a;this.m={};this.ea=0};M.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.m[f];a||(a=this.m[f]=[],this.ea++);var g=Zb(a,b,d,e);-1<g?(b=a[g],c||(b.fa=!1)):(b=new Xb(b,this.src,f,!!d,e),b.fa=c,a.push(b));return b};M.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.m))return!1;var e=this.m[a];b=Zb(e,b,c,d);return-1<b?(Yb(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.m[a],this.ea--),!0):!1};
var $b=function(a,b){var c=b.type;c in a.m&&Ha(a.m[c],b)&&(Yb(b),0==a.m[c].length&&(delete a.m[c],a.ea--))};M.prototype.ua=function(a,b,c,d){a=this.m[a.toString()];var e=-1;a&&(e=Zb(a,b,c,d));return-1<e?a[e]:null};M.prototype.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return Fb(this.m,function(f){for(var g=0;g<f.length;++g)if(!(c&&f[g].type!=d||e&&f[g].capture!=b))return!0;return!1})};
var Zb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ca&&f.listener==b&&f.capture==!!c&&f.ka==d)return e}return-1};var ac="closure_lm_"+(1E6*Math.random()|0),bc={},cc=0,ec=function(a,b,c,d,e){if(d&&d.once)dc(a,b,c,d,e);else if(Array.isArray(b))for(var f=0;f<b.length;f++)ec(a,b[f],c,d,e);else c=fc(c),a&&a[Vb]?a.u.add(String(b),c,!1,sa(d)?!!d.capture:!!d,e):gc(a,b,c,!1,d,e)},gc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=sa(e)?!!e.capture:!!e,h=hc(a);h||(a[ac]=h=new M(a));c=h.add(b,c,d,g,f);if(!c.proxy){d=ic();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Tb||(e=g),void 0===e&&(e=
!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(jc(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");cc++}},ic=function(){var a=kc,b=function(c){return a.call(b.src,b.listener,c)};return b},dc=function(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)dc(a,b[f],c,d,e);else c=fc(c),a&&a[Vb]?a.u.add(String(b),c,!0,sa(d)?!!d.capture:!!d,e):gc(a,b,c,!0,d,e)},lc=function(a,
b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)lc(a,b[f],c,d,e);else d=sa(d)?!!d.capture:!!d,c=fc(c),a&&a[Vb]?a.u.remove(String(b),c,d,e):a&&(a=hc(a))&&(b=a.ua(b,c,d,e))&&mc(b)},mc=function(a){if("number"!==typeof a&&a&&!a.ca){var b=a.src;if(b&&b[Vb])$b(b.u,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(jc(c),d):b.addListener&&b.removeListener&&b.removeListener(d);cc--;(c=hc(b))?($b(c,a),0==c.ea&&(c.src=null,b[ac]=null)):
Yb(a)}}},jc=function(a){return a in bc?bc[a]:bc[a]="on"+a},kc=function(a,b){if(a.ca)a=!0;else{b=new L(b,this);var c=a.listener,d=a.ka||a.src;a.fa&&mc(a);a=c.call(d,b)}return a},hc=function(a){a=a[ac];return a instanceof M?a:null},nc="__closure_events_fn_"+(1E9*Math.random()>>>0),fc=function(a){if("function"===typeof a)return a;a[nc]||(a[nc]=function(b){return a.handleEvent(b)});return a[nc]};var N=function(){Sb.call(this);this.u=new M(this);this.cb=this;this.ya=null};wa(N,Sb);N.prototype[Vb]=!0;N.prototype.addEventListener=function(a,b,c,d){ec(this,a,b,c,d)};N.prototype.removeEventListener=function(a,b,c,d){lc(this,a,b,c,d)};
N.prototype.dispatchEvent=function(a){var b=this.ya;if(b){var c=[];for(var d=1;b;b=b.ya)c.push(b),++d}b=this.cb;d=a.type||a;if("string"===typeof a)a=new K(a,b);else if(a instanceof K)a.target=a.target||b;else{var e=a;a=new K(d,b);Hb(a,e)}e=!0;if(c)for(var f=c.length-1;!a.ba&&0<=f;f--){var g=a.currentTarget=c[f];e=oc(g,d,!0,a)&&e}a.ba||(g=a.currentTarget=b,e=oc(g,d,!0,a)&&e,a.ba||(e=oc(g,d,!1,a)&&e));if(c)for(f=0;!a.ba&&f<c.length;f++)g=a.currentTarget=c[f],e=oc(g,d,!1,a)&&e;return e};
N.prototype.W=function(){N.U.W.call(this);if(this.u){var a=this.u,b=0,c;for(c in a.m){for(var d=a.m[c],e=0;e<d.length;e++)++b,Yb(d[e]);delete a.m[c];a.ea--}}this.ya=null};var oc=function(a,b,c,d){b=a.u.m[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.ca&&g.capture==c){var h=g.listener,k=g.ka||g.src;g.fa&&$b(a.u,g);e=!1!==h.call(k,d)&&e}}return e&&!d.defaultPrevented};N.prototype.ua=function(a,b,c,d){return this.u.ua(String(a),b,c,d)};
N.prototype.hasListener=function(a,b){return this.u.hasListener(void 0!==a?String(a):void 0,b)};var pc=function(){};pc.prototype.Ha=null;var rc=function(a){var b;(b=a.Ha)||(b={},qc(a)&&(b[0]=!0,b[1]=!0),b=a.Ha=b);return b};var sc,tc=function(){};wa(tc,pc);var uc=function(a){return(a=qc(a))?new ActiveXObject(a):new XMLHttpRequest},qc=function(a){if(!a.Ka&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Ka=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Ka};sc=new tc;var vc=function(a,b,c){if("function"===typeof a)c&&(a=A(a,c));else if(a&&"function"==typeof a.handleEvent)a=A(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:z.setTimeout(a,b||0)};var wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$"),xc=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};var O=function(a){N.call(this);this.headers=new Map;this.qa=a||null;this.F=!1;this.pa=this.g=null;this.wa="";this.L=this.va=this.la=this.ta=!1;this.oa=0;this.na=null;this.Aa="";this.Da=this.pb=this.Ea=!1;this.ra=this.Ca=null};wa(O,N);var yc=/^https?$/i,zc=["POST","PUT"],Ac=[],Bc=function(a,b,c,d,e,f){var g=new O;Ac.push(g);b&&g.u.add("complete",b,!1,void 0,void 0);g.u.add("ready",g.gb,!0,void 0,void 0);e&&(g.oa=Math.max(0,e));f&&(g.Ea=f);g.send(a,c,void 0,d)};
O.prototype.gb=function(){this.X||(this.X=!0,this.W());Ha(Ac,this)};O.prototype.setTrustToken=function(a){this.Ca=a};O.prototype.setAttributionReporting=function(a){this.ra=a};
O.prototype.send=function(a,b,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.wa+"; newUri="+a);b=b?b.toUpperCase():"GET";this.wa=a;this.ta=!1;this.F=!0;this.g=this.qa?uc(this.qa):uc(sc);this.pa=this.qa?rc(this.qa):rc(sc);this.g.onreadystatechange=A(this.Ra,this);this.pb&&"onprogress"in this.g&&(this.g.onprogress=A(function(g){this.Qa(g,!0)},this),this.g.upload&&(this.g.upload.onprogress=A(this.Qa,this)));try{this.va=!0,this.g.open(b,String(a),!0),this.va=
!1}catch(g){Cc(this);return}a=c||"";c=new Map(this.headers);if(d)if(Object.getPrototypeOf(d)===Object.prototype)for(var e in d)c.set(e,d[e]);else if("function"===typeof d.keys&&"function"===typeof d.get){e=w(d.keys());for(var f=e.next();!f.done;f=e.next())f=f.value,c.set(f,d.get(f))}else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(c.keys()).find(function(g){return"content-type"==g.toLowerCase()});e=z.FormData&&a instanceof z.FormData;!(0<=Fa(zc,b))||d||e||c.set("Content-Type",
"application/x-www-form-urlencoded;charset=utf-8");b=w(c);for(d=b.next();!d.done;d=b.next())c=w(d.value),d=c.next().value,c=c.next().value,this.g.setRequestHeader(d,c);this.Aa&&(this.g.responseType=this.Aa);"withCredentials"in this.g&&this.g.withCredentials!==this.Ea&&(this.g.withCredentials=this.Ea);if("setTrustToken"in this.g&&this.Ca)try{this.g.setTrustToken(this.Ca)}catch(g){}if("setAttributionReporting"in this.g&&this.ra)try{this.g.setAttributionReporting(this.ra)}catch(g){}try{Dc(this),0<this.oa&&
((this.Da=Ec(this.g))?(this.g.timeout=this.oa,this.g.ontimeout=A(this.Ta,this)):this.na=vc(this.Ta,this.oa,this)),this.la=!0,this.g.send(a),this.la=!1}catch(g){Cc(this)}};var Ec=function(a){return Ja&&"number"===typeof a.timeout&&void 0!==a.ontimeout};O.prototype.Ta=function(){"undefined"!=typeof pa&&this.g&&(this.dispatchEvent("timeout"),this.abort(8))};var Cc=function(a){a.F=!1;a.g&&(a.L=!0,a.g.abort(),a.L=!1);Fc(a);Gc(a)},Fc=function(a){a.ta||(a.ta=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};
O.prototype.abort=function(){this.g&&this.F&&(this.F=!1,this.L=!0,this.g.abort(),this.L=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Gc(this))};O.prototype.W=function(){this.g&&(this.F&&(this.F=!1,this.L=!0,this.g.abort(),this.L=!1),Gc(this,!0));O.U.W.call(this)};O.prototype.Ra=function(){this.X||(this.va||this.la||this.L?Hc(this):this.ob())};O.prototype.ob=function(){Hc(this)};
var Hc=function(a){if(a.F&&"undefined"!=typeof pa&&(!a.pa[1]||4!=P(a)||2!=Ic(a)))if(a.la&&4==P(a))vc(a.Ra,0,a);else if(a.dispatchEvent("readystatechange"),4==P(a)){a.F=!1;try{var b=Ic(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.wa).match(wc)[1]||null;!f&&z.self&&z.self.location&&(f=z.self.location.protocol.slice(0,-1));e=!yc.test(f?f.toLowerCase():"")}d=e}d?(a.dispatchEvent("complete"),
a.dispatchEvent("success")):Fc(a)}finally{Gc(a)}}};O.prototype.Qa=function(a,b){this.dispatchEvent(Jc(a,"progress"));this.dispatchEvent(Jc(a,b?"downloadprogress":"uploadprogress"))};
var Jc=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},Gc=function(a,b){if(a.g){Dc(a);var c=a.g,d=a.pa[0]?function(){}:null;a.g=null;a.pa=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}},Dc=function(a){a.g&&a.Da&&(a.g.ontimeout=null);a.na&&(z.clearTimeout(a.na),a.na=null)};O.prototype.isActive=function(){return!!this.g};
var P=function(a){return a.g?a.g.readyState:0},Ic=function(a){try{return 2<P(a)?a.g.status:-1}catch(b){return-1}},Kc=function(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.Aa){case "":case "text":return a.g.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(b){return null}};O.prototype.getResponseHeader=function(a){if(this.g&&4==P(this))return a=this.g.getResponseHeader(a),null===a?void 0:a};
O.prototype.getAllResponseHeaders=function(){return this.g&&2<=P(this)?this.g.getAllResponseHeaders()||"":""};var Lc=function(a){if(a.H&&"function"==typeof a.H)return a.H();if("undefined"!==typeof Map&&a instanceof Map||"undefined"!==typeof Set&&a instanceof Set)return Array.from(a.values());if("string"===typeof a)return a.split("");if(ra(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}b=[];c=0;for(d in a)b[c++]=a[d];return b},Mc=function(a){if(a.ja&&"function"==typeof a.ja)return a.ja();if(!a.H||"function"!=typeof a.H){if("undefined"!==typeof Map&&a instanceof Map)return Array.from(a.keys());
if(!("undefined"!==typeof Set&&a instanceof Set)){if(ra(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}b=[];c=0;for(var d in a)b[c++]=d;return b}}},Nc=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ra(a)||"string"===typeof a)Array.prototype.forEach.call(a,b,c);else for(var d=Mc(a),e=Lc(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)};var Q=function(a){this.A=this.N=this.J="";this.S=null;this.K=this.C="";this.v=this.kb=!1;if(a instanceof Q){this.v=a.v;Oc(this,a.J);var b=a.N;R(this);this.N=b;b=a.A;R(this);this.A=b;Pc(this,a.S);S(this,a.C);Qc(this,a.s.clone());a=a.K;R(this);this.K=a}else a&&(b=String(a).match(wc))?(this.v=!1,Oc(this,b[1]||"",!0),a=b[2]||"",R(this),this.N=Rc(a),a=b[3]||"",R(this),this.A=Rc(a,!0),Pc(this,b[4]),S(this,b[5]||"",!0),Qc(this,b[6]||"",!0),a=b[7]||"",R(this),this.K=Rc(a)):(this.v=!1,this.s=new T(null,this.v))};
Q.prototype.toString=function(){var a=[],b=this.J;b&&a.push(Sc(b,Tc,!0),":");var c=this.A;if(c||"file"==b)a.push("//"),(b=this.N)&&a.push(Sc(b,Tc,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.S,null!=c&&a.push(":",String(c));if(c=this.C)this.A&&"/"!=c.charAt(0)&&a.push("/"),a.push(Sc(c,"/"==c.charAt(0)?Uc:Vc,!0));(c=this.s.toString())&&a.push("?",c);(c=this.K)&&a.push("#",Sc(c,Wc));return a.join("")};
Q.prototype.resolve=function(a){var b=this.clone(),c=!!a.J;c?Oc(b,a.J):c=!!a.N;if(c){var d=a.N;R(b);b.N=d}else c=!!a.A;c?(d=a.A,R(b),b.A=d):c=null!=a.S;d=a.C;if(c)Pc(b,a.S);else if(c=!!a.C){if("/"!=d.charAt(0))if(this.A&&!this.C)d="/"+d;else{var e=b.C.lastIndexOf("/");-1!=e&&(d=b.C.slice(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):".."==
h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?S(b,d):c=""!==a.s.toString();c?Qc(b,a.s.clone()):c=!!a.K;c&&(a=a.K,R(b),b.K=a);return b};Q.prototype.clone=function(){return new Q(this)};
var Oc=function(a,b,c){R(a);a.J=c?Rc(b,!0):b;a.J&&(a.J=a.J.replace(/:$/,""))},Pc=function(a,b){R(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.S=b}else a.S=null},S=function(a,b,c){R(a);a.C=c?Rc(b,!0):b;return a},Qc=function(a,b,c){R(a);b instanceof T?(a.s=b,a.s.Ba(a.v)):(c||(b=Sc(b,Xc)),a.s=new T(b,a.v))};Q.prototype.getQuery=function(){return this.s.toString()};var Yc=function(a,b,c){R(a);a.s.set(b,c);return a};
Q.prototype.removeParameter=function(a){R(this);this.s.remove(a);return this};var R=function(a){if(a.kb)throw Error("Tried to modify a read-only Uri");};Q.prototype.Ba=function(a){this.v=a;this.s&&this.s.Ba(a)};
var Rc=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},Sc=function(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,Zc),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},Zc=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},Tc=/[#\/\?@]/g,Vc=/[#\?:]/g,Uc=/[#\?]/g,Xc=/[#\?@]/g,Wc=/#/g,T=function(a,b){this.j=this.h=null;this.o=a||null;this.v=!!b},U=function(a){a.h||(a.h=new Map,a.j=0,a.o&&xc(a.o,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g,
" ")),c)}))};r=T.prototype;r.add=function(a,b){U(this);this.o=null;a=V(this,a);var c=this.h.get(a);c||this.h.set(a,c=[]);c.push(b);this.j+=1;return this};r.remove=function(a){U(this);a=V(this,a);return this.h.has(a)?(this.o=null,this.j-=this.h.get(a).length,this.h.delete(a)):!1};r.clear=function(){this.h=this.o=null;this.j=0};r.Ma=function(){U(this);return 0==this.j};r.ha=function(a){U(this);a=V(this,a);return this.h.has(a)};
r.forEach=function(a,b){U(this);this.h.forEach(function(c,d){c.forEach(function(e){a.call(b,e,d,this)},this)},this)};r.ja=function(){U(this);for(var a=Array.from(this.h.values()),b=Array.from(this.h.keys()),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};r.H=function(a){U(this);var b=[];if("string"===typeof a)this.ha(a)&&(b=b.concat(this.h.get(V(this,a))));else{a=Array.from(this.h.values());for(var c=0;c<a.length;c++)b=b.concat(a[c])}return b};
r.set=function(a,b){U(this);this.o=null;a=V(this,a);this.ha(a)&&(this.j-=this.h.get(a).length);this.h.set(a,[b]);this.j+=1;return this};r.get=function(a,b){if(!a)return b;a=this.H(a);return 0<a.length?String(a[0]):b};
r.toString=function(){if(this.o)return this.o;if(!this.h)return"";for(var a=[],b=Array.from(this.h.keys()),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.H(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.o=a.join("&")};r.clone=function(){var a=new T;a.o=this.o;this.h&&(a.h=new Map(this.h),a.j=this.j);return a};var V=function(a,b){b=String(b);a.v&&(b=b.toLowerCase());return b};
T.prototype.Ba=function(a){a&&!this.v&&(U(this),this.o=null,this.h.forEach(function(b,c){var d=c.toLowerCase();if(c!=d&&(this.remove(c),this.remove(d),0<b.length)){this.o=null;c=this.h;var e=c.set;d=V(this,d);var f=b.length;if(0<f){for(var g=Array(f),h=0;h<f;h++)g[h]=b[h];f=g}else f=[];e.call(c,d,f);this.j+=b.length}},this));this.v=a};T.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)Nc(arguments[b],function(c,d){this.add(d,c)},this)};function $c(a,b){return a.clone().removeParameter("key").removeParameter("alt").toString()+"::"+b.toLowerCase()}
var ad=function(a,b,c){b=void 0===b?z:b;if(void 0===c){var d=[];var e=void 0===e?!1:e;var f=ub(String(z.location.href));c=[];var g=e;g=void 0===g?!1:g;var h=z.__SAPISID||z.__APISID||z.__3PSAPISID||z.__OVERRIDE_SID;Kb(g)&&(h=h||z.__1PSAPISID);if(h)g=!0;else{if("undefined"!==typeof document){var k=new Ib;h=k.get("SAPISID")||k.get("APISID")||k.get("__Secure-3PAPISID")||k.get("SID")||k.get("OSID");Kb(g)&&(h=h||k.get("__Secure-1PAPISID"))}g=!!h}g&&(g=(f=0==f.indexOf("https:")||0==f.indexOf("chrome-extension:")||
0==f.indexOf("moz-extension:"))?z.__SAPISID:z.__APISID,g||"undefined"===typeof document||(g=new Ib,g=g.get(f?"SAPISID":"APISID")||g.get("__Secure-3PAPISID")),(g=g?Bb(g,f?"SAPISIDHASH":"APISIDHASH",d):null)&&c.push(g),f&&Kb(e)&&((e=Lb("__1PSAPISID","__Secure-1PAPISID","SAPISID1PHASH",d))&&c.push(e),(d=Lb("__3PSAPISID","__Secure-3PAPISID","SAPISID3PHASH",d))&&c.push(d)));c=0==c.length?null:c.join(" ")}this.Ua=a;this.global=b;this.fb=c;this.Va=new wb;this.ab=!0;this.bb=0;this.Xa="json";this.Za=new RegExp(/\/project\/(?:([^\/]+)\/?)?(?:[^\/]+)?(?:\/app)?(?:\/([^\/]+))?/g);
this.La=new Q(this.Ua.location.href);this.Ja=this.La.s.get("token");a=this.Ua.location.pathname.match(xb);null==a?a=yb:(a=Number(a[1]),a=isNaN(a)?yb:{isMultiloginSession:!0,sessionIndex:a});this.Pa=a;a=Rb("UHnZT",this.global);null!=a.i||(a=Rb("consoleXidFlags_",this.global));this.V=a.object();a=Rb("BUBEd",this.global);null!=a.i||(a=Rb("frontend_load_shedding_",this.global));this.mb=Qb(a);this.Ya=Pb(this.V.gUv1Gd)};ad.prototype.getXhr=function(a,b){return this.Va.get($c(a,b))};
ad.prototype.prewarmXhrs=function(){var a=this.mb.B;a=qb(a,H(a),2);a=null==a||"boolean"===typeof a?a:"number"===typeof a?!!a:void 0;if(null==a||!a){var b=this.Za.exec(this.La.C);a=Pb(this.V.eh49oe);var c=Pb(this.V.hCJqIc),d=Pb(this.V.d4OIzb),e=Pb(this.V.fMzMYb);a=[[W(this,S(new Q(a),"/v1alpha1/recent/FIREBASE_PROJECT")),"GET"]];if(b){var f=w(b);f.next();b=f.next().value;f=f.next().value;if(b&&"_"!==b){var g=W(this,S(new Q(d),"/v1beta1/projects/"+b));e=W(this,S(new Q(e),"/v1/projects/"+b));var h=W(this,
S(new Q(d),"/v1beta1/projects/"+b+"/analyticsDetails"));c=W(this,Yc(S(new Q(c),"/v1/projects/"+b+":byId"),"requestHeader.clientCapability","WEB_APP_CLIENT_CAPABILITY"));a=[].concat(ea(a),[[g,"GET"],[e,"GET"],[h,"GET"],[c,"GET"]]);f&&(d=S(new Q(d),"/v1beta1/projects/"+b+":searchApps"),c=f.match(/^([^:]+):(.*)$/),d=W(this,Yc(d,"filter",c?'platform = "'+c[1]+'" AND namespace = "'+c[2]+'"':"")),a.push([d,"GET"]))}}a=w(a);for(d=a.next();!d.done;d=a.next())c=w(d.value),d=c.next().value,c=c.next().value,
this.Va.set($c(d,c),bd(this,d,c))}};
var W=function(a,b){return Yc(Yc(b.clone(),"key",a.Ya),"alt",a.Xa)},bd=function(a,b,c){return new Promise(function(d){var e={Authorization:a.fb||""};if(a.Ja){var f={};e=Object.assign({},e,(f["x-goog-iam-authorization-token"]=a.Ja,f))}a.Pa.isMultiloginSession&&(e=Object.assign({},e,{"X-Goog-AuthUser":a.Pa.sessionIndex.toString()}));Bc(b.toString(),function(){var g=Kc(this),h=this.getAllResponseHeaders();try{var k=2<P(this)?this.g.statusText:""}catch(l){k=""}d({body:g,headers:h,status:Ic(this),statusText:k})},
c,e,a.bb,a.ab)})},cd=["__bootstrap_Fbc"],Y=z;cd[0]in Y||"undefined"==typeof Y.execScript||Y.execScript("var "+cd[0]);for(var Z;cd.length&&(Z=cd.shift());)cd.length||void 0===ad?Y=Y[Z]&&Y[Z]!==Object.prototype[Z]?Y[Z]:Y[Z]={}:Y[Z]=ad;}).call(this);
window['__bootstrap_instance'] = new __bootstrap_Fbc(window, window); window['__bootstrap_instance'].prewarmXhrs();</script><iframe src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/alternategtm.htm" id="alternate-iframe" style="display:none;"></iframe><div class="cdk-live-announcer-element cdk-visually-hidden" aria-atomic="true" aria-live="polite" id="cdk-live-announcer-0"></div><div style="visibility: hidden;" class="cdk-describedby-message-container cdk-visually-hidden"><div id="cdk-describedby-message-ng-1-2" role="tooltip">Help</div><div id="cdk-describedby-message-ng-1-3" role="tooltip">Go to docs</div><div id="cdk-describedby-message-ng-1-8" role="tooltip">You cannot modify this plan because you are not an owner of this project</div><div id="cdk-describedby-message-ng-1-9" role="tooltip">Hide shortcut</div><div id="cdk-describedby-message-ng-1-10" role="tooltip">Database</div><div id="cdk-describedby-message-ng-1-11" role="tooltip">Subcollection</div><div id="cdk-describedby-message-ng-1-12" role="tooltip">Document</div><div id="cdk-describedby-message-ng-1-13" role="tooltip">Delete field</div><div id="cdk-describedby-message-ng-1-14" role="tooltip">Edit field</div></div><div class="cdk-overlay-container"><div dir="ltr"><div id="cdk-overlay-0" class="cdk-overlay-pane critical-alerts-pane"><fb-critical-alerts class="ng-tns-c4231624096-3 ng-star-inserted"><div class="fb-critical-alerts ng-tns-c4231624096-3 ng-trigger ng-trigger-alertCards"><!----><fb-more-alerts-count class="ng-tns-c4231624096-3"><!---->
</fb-more-alerts-count></div><div class="ng-tns-c4231624096-3 ng-star-inserted"><!----></div><!----></fb-critical-alerts></div></div><div><div id="cdk-overlay-1" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-2" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-3" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-4" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-5" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-6" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-7" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-8" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-9" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-10" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-11" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-12" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-13" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-14" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-15" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-16" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-17" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-18" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-19" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-20" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-21" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-22" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-23" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-24" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-25" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-26" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-27" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-28" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-29" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-30" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-31" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-32" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-33" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-34" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-35" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-36" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-37" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-38" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-39" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-40" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-41" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-42" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-43" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-44" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-45" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-46" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-47" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-48" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-49" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-50" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-51" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-52" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-53" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-54" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-55" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-56" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-57" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-58" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-59" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-60" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-61" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-62" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-63" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-64" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-65" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-66" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-67" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-68" class="cdk-overlay-pane"></div></div><div><div id="cdk-overlay-69" class="cdk-overlay-pane"></div></div></div><div style="visibility: hidden;" class="cdk-describedby-message-container cdk-visually-hidden"><div id="cdk-describedby-message-ng-5-6">0 unread alerts</div><div id="cdk-describedby-message-ng-5-7" role="tooltip">Firebase alerts  No alerts</div></div><iframe id="apiproxyb3f8403c17d5ee084afb36cc24c18a2f1153179b0.1633152274" name="apiproxyb3f8403c17d5ee084afb36cc24c18a2f1153179b0.1633152274" style="width: 1px; height: 1px; position: absolute; top: -100px; display: none;" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/proxy.htm" tabindex="-1" aria-hidden="true"></iframe><iframe id="hfcr" style="display: none;" src="Filer_for_BVS-menyer%20-%20Cloud%20Firestore%20-%20Data%20-%20Firebase%20console/RotateCookiesPage.htm"></iframe></body></html>